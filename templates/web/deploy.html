{% extends "base.html" %}

{% block content %}
<h2>Phase 4: Deploy (Application Deployment)</h2>
<p class="lead">Project: <strong>{{ project }}</strong>. Deploying application artifacts to the new infrastructure.</p>

<div class="card mb-4">
    <div class="card-header">Deployment Status</div>
    <div class="card-body text-center">
        <div id="deploy-spinner" class="spinner-border text-primary" role="status"></div>
        <h4 id="deploy-msg" class="mt-3">Provisioning Infrastructure...</h4>
        <div id="deploy-result" style="display:none;" class="mt-4">
            <div class="alert alert-success">Deployment Successful!</div>
            <p>Your application is live at:</p>
            <a href="#" class="btn btn-lg btn-outline-primary">http://34.12.13.14</a>
        </div>
    </div>
</div>

<div class="d-flex justify-content-between">
    <a href="/guide/build?project={{ project }}" class="btn btn-secondary">Back</a>
    <a href="/" class="btn btn-primary">Finish</a>
</div>

{% endblock %}

{% block scripts %}
<script>
    setTimeout(() => {
        document.getElementById('deploy-msg').innerText = "Installing Dependencies...";
    }, 2000);
    setTimeout(() => {
        document.getElementById('deploy-msg').innerText = "Copying Application Artifacts...";
    }, 4000);
    setTimeout(() => {
        document.getElementById('deploy-msg').innerText = "Starting Services...";
    }, 6000);
    setTimeout(() => {
        document.getElementById('deploy-spinner').style.display = 'none';
        document.getElementById('deploy-msg').style.display = 'none';
        document.getElementById('deploy-result').style.display = 'block';
    }, 8000);
</script>
{% endblock %}
