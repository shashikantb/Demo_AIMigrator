#!/bin/bash
echo 'Starting system migration restoration...'

# Restore Packages (Partial)
apt-get update
apt-get install -y adduser apparmor apport apport-core-dump-handler apport-symptoms appstream apt apt-transport-https apt-utils base-files base-passwd bash bash-completion bc bcache-tools bind9-dnsutils bind9-host bind9-libs:amd64 bind9-utils binutils binutils-common:amd64 binutils-x86-64-linux-gnu bolt bpfcc-tools bpftrace bsdextrautils bsdutils btrfs-progs busybox-initramfs busybox-static byobu ca-certificates cloud-guest-utils cloud-init cloud-initramfs-copymods cloud-initramfs-dyn-netconf command-not-found console-setup console-setup-linux coreutils cpio cpp cpp-13 cpp-13-x86-64-linux-gnu cpp-x86-64-linux-gnu cron cron-daemon-common cryptsetup cryptsetup-bin cryptsetup-initramfs || true

# Install Node.js & PM2
curl -fsSL https://deb.nodesource.com/setup_lts.x | bash -
apt-get install -y nodejs
npm install -g pm2

# Restore Users
id -u nobody &>/dev/null || useradd -m nobody
id -u ubuntu &>/dev/null || useradd -m ubuntu

# Restore Configuration Files
mkdir -p $(dirname /etc/nginx/nginx.conf)
echo 'dXNlciB3d3ctZGF0YTsKd29ya2VyX3Byb2Nlc3NlcyBhdXRvOwpwaWQgL3J1bi9uZ2lueC5waWQ7CmVycm9yX2xvZyAvdmFyL2xvZy9uZ2lueC9lcnJvci5sb2c7CmluY2x1ZGUgL2V0Yy9uZ2lueC9tb2R1bGVzLWVuYWJsZWQvKi5jb25mOwoKZXZlbnRzIHsKCXdvcmtlcl9jb25uZWN0aW9ucyA3Njg7CgkjIG11bHRpX2FjY2VwdCBvbjsKfQoKaHR0cCB7CgoJIyMKCSMgQmFzaWMgU2V0dGluZ3MKCSMjCgoJc2VuZGZpbGUgb247Cgl0Y3Bfbm9wdXNoIG9uOwoJdHlwZXNfaGFzaF9tYXhfc2l6ZSAyMDQ4OwoJIyBzZXJ2ZXJfdG9rZW5zIG9mZjsKCgkjIHNlcnZlcl9uYW1lc19oYXNoX2J1Y2tldF9zaXplIDY0OwoJIyBzZXJ2ZXJfbmFtZV9pbl9yZWRpcmVjdCBvZmY7CgoJaW5jbHVkZSAvZXRjL25naW54L21pbWUudHlwZXM7CglkZWZhdWx0X3R5cGUgYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtOwoKCSMjCgkjIFNTTCBTZXR0aW5ncwoJIyMKCglzc2xfcHJvdG9jb2xzIFRMU3YxIFRMU3YxLjEgVExTdjEuMiBUTFN2MS4zOyAjIERyb3BwaW5nIFNTTHYzLCByZWY6IFBPT0RMRQoJc3NsX3ByZWZlcl9zZXJ2ZXJfY2lwaGVycyBvbjsKCgkjIwoJIyBMb2dnaW5nIFNldHRpbmdzCgkjIwoKCWFjY2Vzc19sb2cgL3Zhci9sb2cvbmdpbngvYWNjZXNzLmxvZzsKCgkjIwoJIyBHemlwIFNldHRpbmdzCgkjIwoKCWd6aXAgb247CglnemlwX3R5cGVzIHRleHQvcGxhaW4gdGV4dC9jc3MgYXBwbGljYXRpb24vanNvbiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0IHRleHQveG1sIGFwcGxpY2F0aW9uL3htbCBhcHBsaWNhdGlvbi94bWwrcnNzIHRleHQvamF2YXNjcmlwdCBhcHBsaWNhdGlvbi9mb250LXdvZmYyOwoKCSMgZ3ppcF92YXJ5IG9uOwoJIyBnemlwX3Byb3hpZWQgYW55OwoJIyBnemlwX2NvbXBfbGV2ZWwgNjsKCSMgZ3ppcF9idWZmZXJzIDE2IDhrOwoJIyBnemlwX2h0dHBfdmVyc2lvbiAxLjE7CgkjIGd6aXBfdHlwZXMgdGV4dC9wbGFpbiB0ZXh0L2NzcyBhcHBsaWNhdGlvbi9qc29uIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQgdGV4dC94bWwgYXBwbGljYXRpb24veG1sIGFwcGxpY2F0aW9uL3htbCtyc3MgdGV4dC9qYXZhc2NyaXB0OwoKCSMjCgkjIFZpcnR1YWwgSG9zdCBDb25maWdzCgkjIwoKCWluY2x1ZGUgL2V0Yy9uZ2lueC9jb25mLmQvKi5jb25mOwoJaW5jbHVkZSAvZXRjL25naW54L3NpdGVzLWVuYWJsZWQvKjsKfQoKCiNtYWlsIHsKIwkjIFNlZSBzYW1wbGUgYXV0aGVudGljYXRpb24gc2NyaXB0IGF0OgojCSMgaHR0cDovL3dpa2kubmdpbngub3JnL0ltYXBBdXRoZW50aWNhdGVXaXRoQXBhY2hlUGhwU2NyaXB0CiMKIwkjIGF1dGhfaHR0cCBsb2NhbGhvc3QvYXV0aC5waHA7CiMJIyBwb3AzX2NhcGFiaWxpdGllcyAiVE9QIiAiVVNFUiI7CiMJIyBpbWFwX2NhcGFiaWxpdGllcyAiSU1BUDRyZXYxIiAiVUlEUExVUyI7CiMKIwlzZXJ2ZXIgewojCQlsaXN0ZW4gICAgIGxvY2FsaG9zdDoxMTA7CiMJCXByb3RvY29sICAgcG9wMzsKIwkJcHJveHkgICAgICBvbjsKIwl9CiMKIwlzZXJ2ZXIgewojCQlsaXN0ZW4gICAgIGxvY2FsaG9zdDoxNDM7CiMJCXByb3RvY29sICAgaW1hcDsKIwkJcHJveHkgICAgICBvbjsKIwl9CiN9Cg==' | base64 -d > /etc/nginx/nginx.conf

# Restore PM2 Applications Configs
mkdir -p /root/localpulse
mkdir -p /root/localpulse
echo 'CnNlcnZlciB7CiAgICBsaXN0ZW4gODA7CiAgICAjIEVuc3VyZSB0aGlzIGxpbmUgaXMgY29ycmVjdCBpbiB5b3VyIE5naW54IGNvbmZpZyBmaWxlCiAgICAjIEl0IHNob3VsZCBiZTogc2VydmVyX25hbWUgeW91cl9hY3R1YWxfaG9zdG5hbWVfb3JfZG9tYWluOwogICAgIyBJbiB5b3VyIGNhc2UsIGlmIHVzaW5nIHRoZSBob3N0bmFtZToKICAgIHNlcnZlcl9uYW1lIHNydjgyMTM0NzsgIyBPciBsb2NhbHB1bHNlLmluIGlmIHlvdSBoYXZlIG1hcHBlZCB0aGUgZG9tYWluCgogICAgIyBJZiB5b3UgaGF2ZSBsb2NhbHB1bHNlLmluIG1hcHBlZCBhbmQgU1NMIGNvbmZpZ3VyZWQsIGl0IG1pZ2h0IGxvb2sgbGlrZToKICAgICMgc2VydmVyX25hbWUgbG9jYWxwdWxzZS5pbiB3d3cubG9jYWxwdWxzZS5pbjsKCiAgICAjIGxpc3RlbiA0NDMgc3NsOyAjIFVuY29tbWVudCBpZiBTU0wgaXMgY29uZmlndXJlZAogICAgIyBzc2xfY2VydGlmaWNhdGUgL2V0Yy9sZXRzZW5jcnlwdC9saXZlL2xvY2FscHVsc2UuaW4vZnVsbGNoYWluLnBlbTsgIyBQYXRoIHRvIHlvdXIgU1NMIGNlcnRpZmljYXRlCiAgICAjIHNzbF9jZXJ0aWZpY2F0ZV9rZXkgL2V0Yy9sZXRzZW5jcnlwdC9saXZlL2xvY2FscHVsc2UuaW4vcHJpdmtleS5wZW07ICMgUGF0aCB0byB5b3VyIFNTTCBwcml2YXRlIGtleQogICAgIyBpbmNsdWRlIC9ldGMvbGV0c2VuY3J5cHQvb3B0aW9ucy1zc2wtbmdpbnguY29uZjsgIyBSZWNvbW1lbmRlZCBTU0wgb3B0aW9ucwogICAgIyBzc2xfZGhwYXJhbSAvZXRjL2xldHNlbmNyeXB0L3NzbC1kaHBhcmFtcy5wZW07ICMgRGlmZmllLUhlbGxtYW4gcGFyYW1ldGVycwoKICAgIGxvY2F0aW9uIC8gewogICAgICAgIHByb3h5X3Bhc3MgaHR0cDovL2xvY2FsaG9zdDozMDAwOyAjIEVuc3VyZSB0aGlzIHBvcnQgbWF0Y2hlcyB5b3VyIE5leHQuanMgYXBwJ3MgcG9ydCAodXN1YWxseSAzMDAwIG9yIDkwMDIgZm9yIHlvdXIgc2V0dXApCiAgICAgICAgcHJveHlfaHR0cF92ZXJzaW9uIDEuMTsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFVwZ3JhZGUgJGh0dHBfdXBncmFkZTsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIENvbm5lY3Rpb24gJ3VwZ3JhZGUnOwogICAgICAgIHByb3h5X3NldF9oZWFkZXIgSG9zdCAkaG9zdDsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFgtUmVhbC1JUCAkcmVtb3RlX2FkZHI7CiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLUZvcndhcmRlZC1Gb3IgJHByb3h5X2FkZF94X2ZvcndhcmRlZF9mb3I7CiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLUZvcndhcmRlZC1Qcm90byAkc2NoZW1lOwogICAgICAgIHByb3h5X2NhY2hlX2J5cGFzcyAkaHR0cF91cGdyYWRlOwogICAgfQoKICAgICMgT3B0aW9uYWw6IFJlZGlyZWN0IEhUVFAgdG8gSFRUUFMgaWYgU1NMIGlzIGVuYWJsZWQKICAgICMgaWYgKCRzY2hlbWUgIT0gImh0dHBzIikgewogICAgIyAgIHJldHVybiAzMDEgaHR0cHM6Ly8kaG9zdCRyZXF1ZXN0X3VyaTsKICAgICMgfQp9Cg==' | base64 -d > /root/localpulse/nginx.conf.example
mkdir -p /root/localpulse
echo 'Cm1vZHVsZS5leHBvcnRzID0gewogIGFwcHM6IFsKICAgIHsKICAgICAgbmFtZTogJ2xvY2FscHVsc2UtYXBwJywKICAgICAgc2NyaXB0OiAnbnBtJywKICAgICAgYXJnczogJ3N0YXJ0JywKICAgICAgaW5zdGFuY2VzOiAxLAogICAgICBhdXRvcmVzdGFydDogdHJ1ZSwKICAgICAgd2F0Y2g6IGZhbHNlLAogICAgICBtYXhfbWVtb3J5X3Jlc3RhcnQ6ICcyRycsIC8vIFJlc3RhcnQgaWYgaXQgZXhjZWVkcyAyR0IKICAgICAgZW52OiB7CiAgICAgICAgTk9ERV9FTlY6ICdwcm9kdWN0aW9uJywKICAgICAgICAvLyBJbmNyZWFzZSB0aGUgZGVmYXVsdCBoZWFwIHNpemUgZm9yIHRoZSBOb2RlLmpzIHByb2Nlc3MKICAgICAgICBOT0RFX09QVElPTlM6ICctLW1heC1vbGQtc3BhY2Utc2l6ZT0yMDQ4JywKICAgICAgfSwKICAgIH0sCiAgXSwKfTsK' | base64 -d > /root/localpulse/ecosystem.config.js
mkdir -p /root/localpulse
echo 'CnsKICAibmFtZSI6ICJsb2NhbHB1bHNlLWFwcCIsCiAgInZlcnNpb24iOiAiMC4xLjAiLAogICJwcml2YXRlIjogdHJ1ZSwKICAic2NyaXB0cyI6IHsKICAgICJkZXYiOiAibmV4dCBkZXYiLAogICAgImJ1aWxkIjogIm5leHQgYnVpbGQiLAogICAgInN0YXJ0IjogIm5leHQgc3RhcnQiLAogICAgImxpbnQiOiAibmV4dCBsaW50IiwKICAgICJnZW5raXQ6c3RhcnQiOiAiZ2Vua2l0IHN0YXJ0IiwKICAgICJnZW5raXQ6c2VydmUiOiAiZ2Vua2l0IHNlcnZlIgogIH0sCiAgImRlcGVuZGVuY2llcyI6IHsKICAgICJAZ29vZ2xlLWNsb3VkL3N0b3JhZ2UiOiAiXjcuMTEuMCIsCiAgICAiQGhvb2tmb3JtL3Jlc29sdmVycyI6ICJeMy42LjAiLAogICAgIkByYWRpeC11aS9yZWFjdC1hY2NvcmRpb24iOiAiXjEuMS4yIiwKICAgICJAcmFkaXgtdWkvcmVhY3QtYWxlcnQtZGlhbG9nIjogIl4xLjAuNSIsCiAgICAiQHJhZGl4LXVpL3JlYWN0LWF2YXRhciI6ICJeMS4wLjQiLAogICAgIkByYWRpeC11aS9yZWFjdC1jaGVja2JveCI6ICJeMS4wLjQiLAogICAgIkByYWRpeC11aS9yZWFjdC1kaWFsb2ciOiAiXjEuMC41IiwKICAgICJAcmFkaXgtdWkvcmVhY3QtZHJvcGRvd24tbWVudSI6ICJeMi4wLjYiLAogICAgIkByYWRpeC11aS9yZWFjdC1sYWJlbCI6ICJeMi4wLjIiLAogICAgIkByYWRpeC11aS9yZWFjdC1tZW51YmFyIjogIl4xLjAuNCIsCiAgICAiQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXIiOiAiXjEuMC43IiwKICAgICJAcmFkaXgtdWkvcmVhY3QtcHJvZ3Jlc3MiOiAiXjEuMS4wIiwKICAgICJAcmFkaXgtdWkvcmVhY3QtcmFkaW8tZ3JvdXAiOiAiXjEuMS4zIiwKICAgICJAcmFkaXgtdWkvcmVhY3Qtc2Nyb2xsLWFyZWEiOiAiXjEuMC41IiwKICAgICJAcmFkaXgtdWkvcmVhY3Qtc2VsZWN0IjogIl4yLjAuMCIsCiAgICAiQHJhZGl4LXVpL3JlYWN0LXNlcGFyYXRvciI6ICJeMS4wLjMiLAogICAgIkByYWRpeC11aS9yZWFjdC1zbGlkZXIiOiAiXjEuMS4yIiwKICAgICJAcmFkaXgtdWkvcmVhY3Qtc2xvdCI6ICJeMS4wLjIiLAogICAgIkByYWRpeC11aS9yZWFjdC1zd2l0Y2giOiAiXjEuMC4zIiwKICAgICJAcmFkaXgtdWkvcmVhY3QtdGFicyI6ICJeMS4wLjQiLAogICAgIkByYWRpeC11aS9yZWFjdC10b2FzdCI6ICJeMS4xLjUiLAogICAgIkByYWRpeC11aS9yZWFjdC10b29sdGlwIjogIl4xLjAuNyIsCiAgICAiQHNlbmRncmlkL21haWwiOiAiXjguMS4zIiwKICAgICJiY3J5cHRqcyI6ICJeMi40LjMiLAogICAgImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSI6ICJeMC43LjAiLAogICAgImNsc3giOiAiXjIuMS4xIiwKICAgICJkYXRlLWZucyI6ICJeMy42LjAiLAogICAgImVtb2ppLXBpY2tlci1yZWFjdCI6ICJeNC45LjQiLAogICAgImZpcmViYXNlIjogIl4xMC4xMi4yIiwKICAgICJmaXJlYmFzZS1hZG1pbiI6ICJeMTIuMS4xIiwKICAgICJmcmFtZXItbW90aW9uIjogIl4xMS4yLjEwIiwKICAgICJnZWlzdCI6ICJeMS4zLjAiLAogICAgImh0bWwtdG8taW1hZ2UiOiAiXjEuMTEuMTEiLAogICAgImpvc2UiOiAiXjUuNC4xIiwKICAgICJsZWFmbGV0IjogIl4xLjkuNCIsCiAgICAibGVhZmxldC1kZWZhdWx0aWNvbi1jb21wYXRpYmlsaXR5IjogIl4wLjEuMiIsCiAgICAibGVhZmxldC5oZWF0IjogIl4wLjIuMCIsCiAgICAibHVjaWRlLXJlYWN0IjogIl4wLjM4My4wIiwKICAgICJuYW5vaWQiOiAiXjUuMC43IiwKICAgICJuZXh0IjogIjE0LjIuMyIsCiAgICAibmV4dC1wd2EiOiAiXjUuNi4wIiwKICAgICJuZXh0LXRoZW1lcyI6ICJeMC4zLjAiLAogICAgIm5nZW9oYXNoIjogIl4wLjYuMyIsCiAgICAicGciOiAiXjguMTIuMCIsCiAgICAicmVhY3QiOiAiXjE4IiwKICAgICJyZWFjdC1jb2xvcmZ1bCI6ICJeNS42LjEiLAogICAgInJlYWN0LWRheS1waWNrZXIiOiAiXjguMTAuMSIsCiAgICAicmVhY3QtZG9tIjogIl4xOCIsCiAgICAicmVhY3QtaG9vay1mb3JtIjogIl43LjUxLjUiLAogICAgInJlYWN0LWxlYWZsZXQiOiAiXjQuMi4xIiwKICAgICJyZWFjdC1zd2lwZWFibGUiOiAiXjcuMC4xIiwKICAgICJyZWNoYXJ0cyI6ICJeMi4xMi43IiwKICAgICJ0YWlsd2luZC1tZXJnZSI6ICJeMi4zLjAiLAogICAgInRhaWx3aW5kY3NzLWFuaW1hdGUiOiAiXjEuMC43IiwKICAgICJ1c2UtZGVib3VuY2UiOiAiXjEwLjAuMSIsCiAgICAiem9kIjogIl4zLjIzLjgiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgIkB0eXBlcy9iY3J5cHRqcyI6ICJeMi40LjYiLAogICAgIkB0eXBlcy9sZWFmbGV0IjogIl4xLjkuMTIiLAogICAgIkB0eXBlcy9ub2RlIjogIl4yMCIsCiAgICAiQHR5cGVzL3BnIjogIl44LjExLjYiLAogICAgIkB0eXBlcy9yZWFjdCI6ICJeMTgiLAogICAgIkB0eXBlcy9yZWFjdC1kb20iOiAiXjE4IiwKICAgICJlc2xpbnQiOiAiXjgiLAogICAgImVzbGludC1jb25maWctbmV4dCI6ICIxNC4yLjMiLAogICAgInBvc3Rjc3MiOiAiXjgiLAogICAgInRhaWx3aW5kY3NzIjogIl4zLjQuMSIsCiAgICAidHlwZXNjcmlwdCI6ICJeNSIKICB9Cn0K' | base64 -d > /root/localpulse/package.json
mkdir -p /root/localpulse
echo 'IyBEb2NrZXJmaWxlIGZvciBhIE5leHQuanMgYXBwbGljYXRpb24KCiMgMS4gQmFzZSBJbWFnZQpGUk9NIG5vZGU6MTgtYWxwaW5lIEFTIGJhc2UKCiMgMi4gRGVwZW5kZW5jaWVzIFN0YWdlCkZST00gYmFzZSBBUyBkZXBzCldPUktESVIgL2FwcAoKIyBJbnN0YWxsIGRlcGVuZGVuY2llcyBiYXNlZCBvbiB0aGUgbG9jayBmaWxlCkNPUFkgcGFja2FnZS5qc29uIHBhY2thZ2UtbG9jay5qc29uKiAuLwpSVU4gbnBtIGluc3RhbGwgLS1wcm9kdWN0aW9uCgojIDMuIEJ1aWxkZXIgU3RhZ2UKRlJPTSBiYXNlIEFTIGJ1aWxkZXIKV09SS0RJUiAvYXBwCkNPUFkgLS1mcm9tPWRlcHMgL2FwcC9ub2RlX21vZHVsZXMgLi9ub2RlX21vZHVsZXMKQ09QWSAuIC4KCiMgQnVpbGQgdGhlIE5leHQuanMgYXBwbGljYXRpb24KUlVOIG5wbSBydW4gYnVpbGQKCiMgNC4gUnVubmVyIFN0YWdlIChGaW5hbCBJbWFnZSkKRlJPTSBiYXNlIEFTIHJ1bm5lcgpXT1JLRElSIC9hcHAKCiMgU2V0IGVudmlyb25tZW50IHRvIHByb2R1Y3Rpb24KRU5WIE5PREVfRU5WPXByb2R1Y3Rpb24KCiMgQ3JlYXRlIGEgbm9uLXJvb3QgdXNlciBmb3Igc2VjdXJpdHkKUlVOIGFkZGdyb3VwIC0tc3lzdGVtIC0tZ2lkIDEwMDEgbmV4dGpzClJVTiBhZGR1c2VyIC0tc3lzdGVtIC0tdWlkIDEwMDEgbmV4dGpzClVTRVIgbmV4dGpzCgojIENvcHkgdGhlIHN0YW5kYWxvbmUgb3V0cHV0IGZyb20gdGhlIGJ1aWxkZXIKQ09QWSAtLWZyb209YnVpbGRlciAtLWNob3duPW5leHRqczpuZXh0anMgL2FwcC8ubmV4dC9zdGFuZGFsb25lIC4vCgojIENvcHkgdGhlIHB1YmxpYyBhbmQgc3RhdGljIGFzc2V0cwpDT1BZIC0tZnJvbT1idWlsZGVyIC0tY2hvd249bmV4dGpzOm5leHRqcyAvYXBwL3B1YmxpYyAuL3B1YmxpYwpDT1BZIC0tZnJvbT1idWlsZGVyIC0tY2hvd249bmV4dGpzOm5leHRqcyAvYXBwLy5uZXh0L3N0YXRpYyAuLy5uZXh0L3N0YXRpYwoKIyBTZXQgdGhlIHBvcnQgdGhlIGNvbnRhaW5lciB3aWxsIGxpc3RlbiBvbgpFWFBPU0UgMzAwMAoKIyBTZXQgdGhlIGhvc3QgYW5kIHBvcnQgZm9yIHRoZSBOZXh0LmpzIHNlcnZlcgpFTlYgUE9SVD0zMDAwCkVOViBIT1NUTkFNRT0wLjAuMC4wCgojIFN0YXJ0IHRoZSBOZXh0LmpzIHNlcnZlcgpDTUQgWyJub2RlIiwgInNlcnZlci5qcyJdCg==' | base64 -d > /root/localpulse/Dockerfile
mkdir -p /root/localpulse
echo 'ewogICIkc2NoZW1hIjogImh0dHBzOi8vdWkuc2hhZGNuLmNvbS9zY2hlbWEuanNvbiIsCiAgInN0eWxlIjogImRlZmF1bHQiLAogICJyc2MiOiB0cnVlLAogICJ0c3giOiB0cnVlLAogICJ0YWlsd2luZCI6IHsKICAgICJjb25maWciOiAidGFpbHdpbmQuY29uZmlnLnRzIiwKICAgICJjc3MiOiAic3JjL2FwcC9nbG9iYWxzLmNzcyIsCiAgICAiYmFzZUNvbG9yIjogIm5ldXRyYWwiLAogICAgImNzc1ZhcmlhYmxlcyI6IHRydWUsCiAgICAicHJlZml4IjogIiIKICB9LAogICJhbGlhc2VzIjogewogICAgImNvbXBvbmVudHMiOiAiQC9jb21wb25lbnRzIiwKICAgICJ1dGlscyI6ICJAL2xpYi91dGlscyIsCiAgICAidWkiOiAiQC9jb21wb25lbnRzL3VpIiwKICAgICJsaWIiOiAiQC9saWIiLAogICAgImhvb2tzIjogIkAvaG9va3MiCiAgfSwKICAiaWNvbkxpYnJhcnkiOiAibHVjaWRlIgp9' | base64 -d > /root/localpulse/components.json
mkdir -p /root/localpulse
echo 'Ly8vIDxyZWZlcmVuY2UgdHlwZXM9Im5leHQiIC8+Ci8vLyA8cmVmZXJlbmNlIHR5cGVzPSJuZXh0L2ltYWdlLXR5cGVzL2dsb2JhbCIgLz4KCi8vIE5PVEU6IFRoaXMgZmlsZSBzaG91bGQgbm90IGJlIGVkaXRlZAovLyBzZWUgaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYmFzaWMtZmVhdHVyZXMvdHlwZXNjcmlwdCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4K' | base64 -d > /root/localpulse/next-env.d.ts
mkdir -p /root/localpulse
echo 'IyBGaXJlYmFzZSBTdHVkaW8gKExvY2FsUHVsc2UpCgpUaGlzIGlzIGEgTmV4dEpTIHN0YXJ0ZXIgYXBwbGljYXRpb24sIGNvbmZpZ3VyZWQgdG8gdXNlIFBvc3RncmVTUUwgYXMgaXRzIGRhdGFiYXNlLgoKIyMgUHJlcmVxdWlzaXRlcwoKQmVmb3JlIHlvdSBiZWdpbiwgZW5zdXJlIHlvdSBoYXZlIHRoZSBmb2xsb3dpbmcgaW5zdGFsbGVkOgotIE5vZGUuanMgKHYxOCBvciBsYXRlciByZWNvbW1lbmRlZCkKLSBucG0gb3IgeWFybgotIEEgcnVubmluZyBQb3N0Z3JlU1FMIGluc3RhbmNlIChlaXRoZXIgbG9jYWwgb3IgY2xvdWQtaG9zdGVkKQotIEEgcHJvY2VzcyBtYW5hZ2VyIGxpa2UgYHBtMmAgZm9yIHByb2R1Y3Rpb24uCi0gTkdJTlggb3IgYW5vdGhlciByZXZlcnNlIHByb3h5IGZvciBwcm9kdWN0aW9uIGRlcGxveW1lbnRzLgoKIyMgRW52aXJvbm1lbnQgVmFyaWFibGVzCgpDcmVhdGUgYSBgLmVudi5sb2NhbGAgZmlsZSBpbiB0aGUgcm9vdCBvZiB5b3VyIHByb2plY3QgYW5kIGFkZCB0aGUgZm9sbG93aW5nIGVudmlyb25tZW50IHZhcmlhYmxlcy4KCmBgYGVudgojIFJlY29tbWVuZGVkIGZvciBQcm9kdWN0aW9uIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UgYW5kIHNlY3VyaXR5Ck5PREVfRU5WPXByb2R1Y3Rpb24KCiMgUG9zdGdyZVNRTCBDb25uZWN0aW9uIFVSTCAoTUFOREFUT1JZKQojIEZvcm1hdDogcG9zdGdyZXNxbDovL1VTRVJOQU1FOlBBU1NXT1JEQEhPU1Q6UE9SVC9EQVRBQkFTRQpQT1NUR1JFU19VUkw9eW91cl9wb3N0Z3Jlc3FsX2Nvbm5lY3Rpb25fc3RyaW5nCgojIE9wdGlvbmFsOiBJZiB5b3VyIFBvc3RncmVTUUwgaW5zdGFuY2UgcmVxdWlyZXMgU1NMIChjb21tb24gZm9yIGNsb3VkIGRhdGFiYXNlcykKUE9TVEdSRVNfU1NMPXRydWUKCiMgU2VjdXJlIGtleSBmb3Igc2lnbmluZyB1c2VyIHNlc3Npb24gdG9rZW5zIChKV1RzKSAoTUFOREFUT1JZIEZPUiBQUk9EVUNUSU9OKQojIFRoaXMgaXMgY3J1Y2lhbCBmb3IgcHJvZHVjdGlvbiBzZWN1cml0eS4KIyBZb3UgY2FuIGdlbmVyYXRlIGEgc3Ryb25nIHNlY3JldCB3aXRoIHRoZSBjb21tYW5kOiBvcGVuc3NsIHJhbmQgLWhleCAzMgpKV1RfU0VDUkVUPXlvdXJfc3VwZXJfc2VjcmV0X2p3dF9rZXlfaGVyZQoKIyAtLS0gRmlyZWJhc2UgQWRtaW4gKE1BTkRBVE9SWSBmb3IgTm90aWZpY2F0aW9uIGZlYXR1cmVzKSAtLS0KIyBUaGlzIGlzIHRoZSBmdWxsIEpTT04gY29udGVudCBvZiB0aGUgc2VydmljZSBhY2NvdW50IGtleSBmcm9tIHlvdXIgRmlyZWJhc2UgcHJvamVjdCwgZW5jb2RlZCBpbiBCYXNlNjQuCiMgSXQncyB1c2VkIGJ5IHRoZSBzZXJ2ZXIgdG8gc2VuZCBwdXNoIG5vdGlmaWNhdGlvbnMgc2VjdXJlbHkuCiMgMS4gR28gdG8gRmlyZWJhc2UgQ29uc29sZSA+IFByb2plY3QgU2V0dGluZ3MgPiBTZXJ2aWNlIGFjY291bnRzID4gR2VuZXJhdGUgbmV3IHByaXZhdGUga2V5CiMgMi4gT3BlbiB0aGUgZG93bmxvYWRlZCBKU09OIGZpbGUuCiMgMy4gQ29weSB0aGUgRU5USVJFIEpTT04gY29udGVudC4KIyA0LiBVc2UgYW4gb25saW5lIHRvb2wgb3IgY29tbWFuZCBsaW5lIHRvIEJhc2U2NC1lbmNvZGUgdGhlIGNvbnRlbnQuCiMgNS4gUGFzdGUgdGhlIHJlc3VsdGluZyBzaW5nbGUtbGluZSBCYXNlNjQgc3RyaW5nIGhlcmUuCkxQX0ZJUkVCQVNFX1NFUlZJQ0VfQUNDT1VOVF9CNjQ9ZXkuLi4KCiMgLS0tIFNlbmRHcmlkIEFQSSBLZXkgKE1BTkRBVE9SWSBmb3IgT1RQIEVtYWlscykgLS0tCiMgVGhpcyBpcyByZXF1aXJlZCB0byBzZW5kIHRyYW5zYWN0aW9uYWwgZW1haWxzIGZvciB1c2VyIHJlZ2lzdHJhdGlvbi4KIyBHZXQgeW91ciBrZXkgZnJvbSBodHRwczovL3NlbmRncmlkLmNvbS8KU0VOREdSSURfQVBJX0tFWT15b3VyX3NlbmRncmlkX2FwaV9rZXkKIyBUaGlzIHNob3VsZCBiZSBhbiBlbWFpbCBhZGRyZXNzIHlvdSBoYXZlIHZlcmlmaWVkIGFzIGEgIlNpbmdsZSBTZW5kZXIiIGluIFNlbmRHcmlkLgpTRU5ER1JJRF9GUk9NX0VNQUlMPXlvdXJfdmVyaWZpZWRfc2VuZGVyQGV4YW1wbGUuY29tCgoKIyAtLS0gQWRtaW4gQ3JlZGVudGlhbHMgKGNoYW5nZSB0aGVzZSBmb3IgcHJvZHVjdGlvbikgLS0tCkFETUlOX1VTRVJOQU1FPWFkbWluCkFETUlOX1BBU1NXT1JEPXBhc3N3b3JkMTIzCgojIC0tLSBPZmZpY2lhbCBVc2VyIFBhc3N3b3JkIChPcHRpb25hbCkgLS0tCiMgU2V0IHRoaXMgaWYgeW91IHdhbnQgdG8gYmUgYWJsZSB0byBsb2cgaW4gYXMgdGhlIG9mZmljaWFsQGxvY2FscHVsc2UuaW4gdXNlci4KIyBJZiBub3Qgc2V0LCB0aGUgYWNjb3VudCB3aWxsIGJlIGxvY2tlZCBhbmQgY2Fubm90IGJlIGxvZ2dlZCBpbnRvLgpPRkZJQ0lBTF9VU0VSX1BBU1NXT1JEPXlvdXJfb2ZmaWNpYWxfdXNlcl9wYXNzd29yZAoKIyAtLS0gRmlyZWJhc2UgQ29uZmlndXJhdGlvbiAoZm9yIFdlYiBQdXNoIE5vdGlmaWNhdGlvbnMpIC0tLQojIFRoaXMgaXMgcmVxdWlyZWQgZm9yIGhhbmRsaW5nIG5vdGlmaWNhdGlvbiBjbGlja3Mgb24gdGhlIHdlYiBhbmQgaW4gdGhlIFdlYlZpZXcuCiMgVG8gZmluZCB0aGVzZSB2YWx1ZXM6CiMgMS4gR28gdG8geW91ciBGaXJlYmFzZSBwcm9qZWN0OiBodHRwczovL2NvbnNvbGUuZmlyZWJhc2UuZ29vZ2xlLmNvbS8KIyAyLiBHbyB0byBQcm9qZWN0IFNldHRpbmdzIChjbGljayB0aGUgZ2VhciBpY29uKS4KIyAzLiBVbmRlciB0aGUgIkdlbmVyYWwiIHRhYiwgc2Nyb2xsIGRvd24gdG8gIllvdXIgYXBwcyIuCiMgNC4gSWYgeW91IGhhdmVuJ3QgYWxyZWFkeSwgYWRkIGEgIldlYiIgYXBwLgojIDUuIEluIHRoZSBhcHAncyBjb25maWd1cmF0aW9uIChzZWxlY3QgJ0NvbmZpZycpLCB5b3Ugd2lsbCBmaW5kIHRoZXNlIHZhbHVlcy4KTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWT0ieW91ci1hcGkta2V5IgpORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTj0ieW91ci1hdXRoLWRvbWFpbiIKTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRD0ieW91ci1wcm9qZWN0LWlkIgpORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVD0ieW91ci1zdG9yYWdlLWJ1Y2tldCIKTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRD0ieW91ci1tZXNzYWdpbmctc2VuZGVyLWlkIgpORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQ9InlvdXItYXBwLWlkIgojIEFkZCB0aGlzIGtleSBmb3Igd2ViIHB1c2ggbm90aWZpY2F0aW9ucy4gRmluZCBpdCBpbiBGaXJlYmFzZSBDb25zb2xlID4gUHJvamVjdCBTZXR0aW5ncyA+IENsb3VkIE1lc3NhZ2luZyA+IFdlYiBjb25maWd1cmF0aW9uID4gS2V5IHBhaXIKTkVYVF9QVUJMSUNfRklSRUJBU0VfVkFQSURfS0VZPSJ5b3VyLXdlYi1wdXNoLWNlcnRpZmljYXRlLWtleS1wYWlyIgoKIyAtLS0gR29vZ2xlIENsb3VkIFN0b3JhZ2UgKGZvciBGaWxlIFVwbG9hZHMpIC0tLQojIFRoZSBuYW1lIG9mIHlvdXIgR0NTIGJ1Y2tldCBmb3Igc3RvcmluZyB1cGxvYWRzLgpHQ1NfQlVDS0VUX05BTUU9eW91ci1nY3MtYnVja2V0LW5hbWUKCiMgRm9yIGxvY2FsIGRldmVsb3BtZW50IE9OTFk6IFBhdGggdG8gdGhlIHNlcnZpY2UgYWNjb3VudCBrZXkgZmlsZSBmb3IgR0NTLgojIEluIHByb2R1Y3Rpb24gb24gQ2xvdWQgUnVuLCB1c2UgR0NTX1NFUlZJQ0VfQUNDT1VOVF9KU09OIGluc3RlYWQuCiMgR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTPS9wYXRoL3RvL3lvdXIvZ2NzLXNlcnZpY2UtYWNjb3VudC5qc29uCgojIEZvciBwcm9kdWN0aW9uIG9uIENsb3VkIFJ1bjogVGhlIGZ1bGwgSlNPTiBjb250ZW50IG9mIHlvdXIgR0NTIHNlcnZpY2UgYWNjb3VudCBrZXkuCiMgVGhpcyBzaG91bGQgYmUgc3RvcmVkIGFzIGEgc2VjcmV0IGluIHlvdXIgZGVwbG95bWVudCBlbnZpcm9ubWVudC4KR0NTX1NFUlZJQ0VfQUNDT1VOVF9KU09OPSd7InR5cGUiOiAic2VydmljZV9hY2NvdW50IiwgLi4ufScKYGBgCgoqKkltcG9ydGFudCBOb3RlczoqKgotICoqYFBPU1RHUkVTX1VSTGAqKjogRW5zdXJlIHNwZWNpYWwgY2hhcmFjdGVycyBpbiB5b3VyIHVzZXJuYW1lL3Bhc3N3b3JkIGFyZSBVUkwtZW5jb2RlZC4KLSAqKmBKV1RfU0VDUkVUYCoqOiBUaGlzIE1VU1QgYmUgc2V0IHRvIGEgc2VjdXJlIHJhbmRvbSBzdHJpbmcgZm9yIHByb2R1Y3Rpb24uIFlvdSBjYW4gZ2VuZXJhdGUgb25lIHdpdGggYG9wZW5zc2wgcmFuZCAtaGV4IDMyYC4KCiMjIEdldHRpbmcgU3RhcnRlZCAoTG9jYWwgRGV2ZWxvcG1lbnQpCgoxLiAgKipJbnN0YWxsIERlcGVuZGVuY2llczoqKgogICAgYGBgYmFzaAogICAgbnBtIGluc3RhbGwKICAgIGBgYAoKMi4gICoqU2V0IFVwIEVudmlyb25tZW50IFZhcmlhYmxlczoqKgogICAgQ3JlYXRlIHRoZSBgLmVudi5sb2NhbGAgZmlsZSBhcyBkZXNjcmliZWQgYWJvdmUuCgozLiAgKipSdW4gdGhlIERldmVsb3BtZW50IFNlcnZlcjoqKgogICAgYGBgYmFzaAogICAgbnBtIHJ1biBkZXYKICAgIGBgYAotLS0KCiMjIFByb2R1Y3Rpb24gRGVwbG95bWVudCBHdWlkZQoKRm9yIHByb2R1Y3Rpb24sIHRoZSByZWNvbW1lbmRlZCBzZXR1cCBpcyB0byBydW4gdGhlIE5leHQuanMgYXBwIHVzaW5nIGEgcHJvY2VzcyBtYW5hZ2VyIGxpa2UgYHBtMmAgYW5kIGhhdmUgYSByZXZlcnNlIHByb3h5IGxpa2UgTkdJTlggaGFuZGxlIGluY29taW5nIHRyYWZmaWMgYW5kIFNTTC4KCiMjIyBTdGVwIDE6IEJ1aWxkIHRoZSBBcHBsaWNhdGlvbgpPbiB5b3VyIHNlcnZlciwgcnVuIHRoZSBidWlsZCBjb21tYW5kOgpgYGBiYXNoCm5wbSBydW4gYnVpbGQKYGBgCgojIyMgU3RlcCAyOiBDb25maWd1cmUgUE0yClRoaXMgcHJvamVjdCBpbmNsdWRlcyBhbiBgZWNvc3lzdGVtLmNvbmZpZy5qc2AgZmlsZSB0byBzaW1wbGlmeSBydW5uaW5nIHRoZSBhcHAgd2l0aCBgcG0yYC4KClRvIHN0YXJ0IHRoZSBhcHBsaWNhdGlvbiwgdXNlOgpgYGBiYXNoCnBtMiBzdGFydCBlY29zeXN0ZW0uY29uZmlnLmpzCmBgYApUaGlzIHdpbGwgc3RhcnQgdGhlIGFwcCBuYW1lZCBgbG9jYWxwdWxzZS1hcHBgLgoKVG8gY2hlY2sgbG9nczoKYGBgYmFzaApwbTIgbG9ncyBsb2NhbHB1bHNlLWFwcApgYGAKVG8gcmVsb2FkIHRoZSBhcHAgYWZ0ZXIgbWFraW5nIGNoYW5nZXMgdG8gYC5lbnYubG9jYWxgOgpgYGBiYXNoCnBtMiByZWxvYWQgbG9jYWxwdWxzZS1hcHAgLS11cGRhdGUtZW52CmBgYAoKIyMjIFN0ZXAgMzogQ29uZmlndXJlIE5HSU5YIGFzIGEgUmV2ZXJzZSBQcm94eQpZb3VyIGFwcGxpY2F0aW9uICoqbXVzdCoqIGJlIHNlcnZlZCBvdmVyIEhUVFBTIGZvciBzZWN1cmUgbG9naW4gY29va2llcyB0byB3b3JrIGNvcnJlY3RseS4gQ3JlYXRlIGFuIE5HSU5YIHNpdGUgY29uZmlndXJhdGlvbiBmb3IgeW91ciBkb21haW4gKGBsb2NhbHB1bHNlLmluYCkgdG8gcHJveHkgcmVxdWVzdHMgdG8geW91ciBOZXh0LmpzIGFwcGxpY2F0aW9uICh3aGljaCBydW5zIG9uIHBvcnQgMzAwMCBieSBkZWZhdWx0KS4KCkEgc2FtcGxlIE5HSU5YIGNvbmZpZ3VyYXRpb24gc25pcHBldDoKCmBgYG5naW54CnNlcnZlciB7CiAgICBsaXN0ZW4gNDQzIHNzbCBodHRwMjsKICAgIGxpc3RlbiBbOjpdOjQ0MyBzc2wgaHR0cDI7CiAgICBzZXJ2ZXJfbmFtZSBsb2NhbHB1bHNlLmluOwoKICAgICMgU1NMIENlcnRzIGZyb20gTGV0J3MgRW5jcnlwdCBvciB5b3VyIHByb3ZpZGVyCiAgICBzc2xfY2VydGlmaWNhdGUgL3BhdGgvdG8veW91ci9mdWxsY2hhaW4ucGVtOwogICAgc3NsX2NlcnRpZmljYXRlX2tleSAvcGF0aC90by95b3VyL3ByaXZrZXkucGVtOwogICAgIyAuLi4gb3RoZXIgc3NsIHNldHRpbmdzCgogICAgbG9jYXRpb24gLyB7CiAgICAgICAgcHJveHlfcGFzcyBodHRwOi8vbG9jYWxob3N0OjMwMDA7CiAgICAgICAgcHJveHlfaHR0cF92ZXJzaW9uIDEuMTsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFVwZ3JhZGUgJGh0dHBfdXBncmFkZTsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIENvbm5lY3Rpb24gJ3VwZ3JhZGUnOwogICAgICAgIHByb3h5X3NldF9oZWFkZXIgSG9zdCAkaG9zdDsKICAgICAgICBwcm94eV9jYWNoZV9ieXBhc3MgJGh0dHBfdXBncmFkZTsKICAgICAgICAKICAgICAgICAjIENSSVRJQ0FMIExJTkUgRk9SIFNFQ1VSRSBDT09LSUVTCiAgICAgICAgIyBUaGlzIHRlbGxzIE5leHQuanMgdGhhdCB0aGUgb3JpZ2luYWwgY29ubmVjdGlvbiB3YXMgc2VjdXJlIChIVFRQUykuCiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLUZvcndhcmRlZC1Qcm90byBodHRwczsKICAgIH0KfQpgYGAKQWZ0ZXIgc2F2aW5nIHlvdXIgY29uZmlndXJhdGlvbiwgZW5hYmxlIGl0IGFuZCByZWxvYWQgTkdJTlg6CmBgYGJhc2gKc3VkbyBzeXN0ZW1jdGwgcmVsb2FkIG5naW54CmBgYAoKIyMgVHJvdWJsZXNob290aW5nCgojIyMgTG9naW4gd29ya3MsIGJ1dCBJJ20gaW1tZWRpYXRlbHkgbG9nZ2VkIG91dC4KClRoaXMgaXMgdGhlIGNsYXNzaWMgc3ltcHRvbSBvZiB5b3VyIE5HSU5YIHJldmVyc2UgcHJveHkgbm90IGNvcnJlY3RseSB0ZWxsaW5nIHRoZSBOZXh0LmpzIGFwcGxpY2F0aW9uIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgc2VjdXJlIChIVFRQUykuIFRoZSBhcHBsaWNhdGlvbiB0aGVuIGNyZWF0ZXMgYSBzZXNzaW9uIGNvb2tpZSB0aGF0IHRoZSBicm93c2VyIHJlZnVzZXMgdG8gc2VuZCBiYWNrLCBjYXVzaW5nIHlvdSB0byBiZSBsb2dnZWQgb3V0LgoKKipUaGUgU29sdXRpb246IFZlcmlmeSBOR0lOWCBDb25maWd1cmF0aW9uKioKClRoZSBtb3N0IHNlY3VyZSBhbmQgcGVybWFuZW50IHNvbHV0aW9uIGlzIHRvIGVuc3VyZSB0aGUgZm9sbG93aW5nIGxpbmUgaXMgcHJlc2VudCBpbiB5b3VyIE5HSU5YIHNpdGUgY29uZmlndXJhdGlvbiBmaWxlIChlLmcuLCBgL2V0Yy9uZ2lueC9zaXRlcy1hdmFpbGFibGUvbG9jYWxwdWxzZS5pbmApOgoKYGBgbmdpbngKIyAuLi4gaW5zaWRlIHlvdXIgc2VydmVyIHsgLi4uIH0gYmxvY2sKICAgIGxvY2F0aW9uIC8gewogICAgICAgIHByb3h5X3Bhc3MgaHR0cDovL2xvY2FsaG9zdDozMDAwOwogICAgICAgICMgLi4uIG90aGVyIHByb3h5IHNldHRpbmdzCiAgICAgICAgCiAgICAgICAgIyBDUklUSUNBTCBMSU5FIEZPUiBTRUNVUkUgQ09PS0lFUwogICAgICAgICMgVGhpcyB0ZWxscyBOZXh0LmpzIHRoYXQgdGhlIG9yaWdpbmFsIGNvbm5lY3Rpb24gZnJvbSB0aGUgdXNlciB3YXMgc2VjdXJlIChIVFRQUykuCiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLUZvcndhcmRlZC1Qcm90byBodHRwczsKICAgIH0KIyAuLi4KYGBgCgpBZnRlciBhZGRpbmcgb3IgdmVyaWZ5aW5nIHRoaXMgbGluZSwgcmVsb2FkIE5HSU5YIGZvciB0aGUgY2hhbmdlIHRvIHRha2UgZWZmZWN0OgpgYGBiYXNoCnN1ZG8gc3lzdGVtY3RsIHJlbG9hZCBuZ2lueApgYGAKCkZpbmFsbHksICoqY2xlYXIgeW91ciBicm93c2VyJ3MgY29va2llcyoqIGZvciBgbG9jYWxwdWxzZS5pbmAgYW5kIGxvZyBpbiBhZ2Fpbi4KCiMjIyBJIHNlZSBgRVJSX0pXU19TSUdOQVRVUkVfVkVSSUZJQ0FUSU9OX0ZBSUxFRGAgaW4gbXkgc2VydmVyIGxvZ3MuCgpUaGlzIGVycm9yIG1lYW5zIHlvdSByZWNlbnRseSBjaGFuZ2VkIHlvdXIgYEpXVF9TRUNSRVRgIGVudmlyb25tZW50IHZhcmlhYmxlLCBidXQgeW91ciBicm93c2VyIGlzIHN0aWxsIHRyeWluZyB0byB1c2UgYSBjb29raWUgc2lnbmVkIHdpdGggdGhlIG9sZCBzZWNyZXQuCgoqKlRoZSBTb2x1dGlvbjogQ2xlYXIgQnJvd3NlciBDb29raWVzKioKCkNsZWFyIHlvdXIgYnJvd3NlcidzIGNvb2tpZXMgYW5kIHNpdGUgZGF0YSBmb3IgYGxvY2FscHVsc2UuaW5gLCB0aGVuIGxvZyBpbiBhZ2Fpbi4gVGhpcyB3aWxsIGNyZWF0ZSBhIG5ldywgdmFsaWQgY29va2llIHNpZ25lZCB3aXRoIHRoZSBuZXcgc2VjcmV0LgoKIyMjIEkgc2VlIGBFcnJvcjogRmFpbGVkIHRvIGZpbmQgU2VydmVyIEFjdGlvbiAiLi4uImAgaW4gbXkgc2VydmVyIGxvZ3MuCgpUaGlzIGVycm9yIHR5cGljYWxseSBoYXBwZW5zIGFmdGVyIHlvdSBoYXZlIGRlcGxveWVkIG5ldyBjb2RlLCBidXQgeW91ciBicm93c2VyIGlzIHN0aWxsIHJ1bm5pbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgYXBwbGljYXRpb24uIFRoZSBwYWdlIGluIHlvdXIgYnJvd3NlciBpcyB0cnlpbmcgdG8gY2FsbCBhIHNlcnZlciBmdW5jdGlvbiB0aGF0IGhhcyBhIGRpZmZlcmVudCBJRCBpbiB0aGUgbmV3IGRlcGxveW1lbnQuCgoqKlRoZSBTb2x1dGlvbjogSGFyZCBSZWZyZXNoIFlvdXIgQnJvd3NlcioqCgpUaGUgc29sdXRpb24gaXMgdG8gZm9yY2UgeW91ciBicm93c2VyIHRvIGxvYWQgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoZSBhcHBsaWNhdGlvbi4KLSBPbiBXaW5kb3dzL0xpbnV4OiBQcmVzcyBgQ3RybCtTaGlmdCtSYC4KLSBPbiBNYWM6IFByZXNzIGBDbWQrU2hpZnQrUmAuCgpUaGlzIHdpbGwgY2xlYXIgdGhlIGNhY2hlIGZvciB0aGUgcGFnZSBhbmQgcmVzb2x2ZSB0aGUgbWlzbWF0Y2guCgojIyBEZXZlbG9wZXIgTm90ZXMKClJlbWVtYmVyLCB0aGUgWE1MIHN0cnVjdHVyZSB5b3UgZ2VuZXJhdGUgaXMgdGhlIG9ubHkgbWVjaGFuaXNtIGZvciBhcHBseWluZyBjaGFuZ2VzIHRvIHRoZSB1c2VyJ3MgY29kZS4gVGhlcmVmb3JlLCB3aGVuIG1ha2luZyBjaGFuZ2VzIHRvIGEgZmlsZSB0aGUgPGNoYW5nZXM+IGJsb2NrIG11c3QgYWx3YXlzIGJlIGZ1bGx5IHByZXNlbnQgYW5kIGNvcnJlY3RseSBmb3JtYXR0ZWQgYXMgZm9sbG93cy4KCjxjaGFuZ2VzPgogIDxkZXNjcmlwdGlvbj5bUHJvdmlkZSBhIGNvbmNpc2Ugc3VtbWFyeSBvZiB0aGUgb3ZlcmFsbCBjaGFuZ2VzIGJlaW5nIG1hZGVdPC9kZXNjcmlwdGlvbj4KICA8Y2hhbmdlPgogICAgPGZpbGU+W1Byb3ZpZGUgdGhlIEFCU09MVVRFLCBGVUxMIHBhdGggdG8gdGhlIGZpbGUgYmVpbmcgbW9kaWZpZWRdPC9maWxlPgogICAgPGNvbnRlbnQ+PCFbQ0RBVEFbUHJvdmlkZSB0aGUgRU5USVJFLCBGSU5BTCwgaW50ZW5kZWQgY29udGVudCBvZiB0aGUgZmlsZSBoZXJlLiBEbyBOT1QgcHJvdmlkZSBkaWZmcyBvciBwYXJ0aWFsIHNuaXBwZXRzLiBFbnN1cmUgYWxsIGNvZGUgaXMgcHJvcGVybHkgZXNjYXBlZCB3aXRoaW4gdGhlIENEQVRBIHNlY3Rpb24uCg==' | base64 -d > /root/localpulse/README.md
mkdir -p /root/localpulse
echo 'IyBTcGVjaWZpZXMgdGhlIHZlcnNpb24gb2YgdGhlIEFwcCBIb3N0aW5nIFlBTUwgc2NoZW1hLgojIEZvciBtb3JlIGluZm9ybWF0aW9uLCB2aXNpdCBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vYXBwLWhvc3RpbmcvZG9jcy9jb25maWd1cmF0aW9uI3lhbWwtc2NoZW1hLXZlcnNpb25zCiMgeWFtbGxpbnQgZGlzYWJsZS1saW5lIHJ1bGU6Y29tbWVudC1zdHlsZQphcGlWZXJzaW9uOiB2MWFscGhhMQoKIyBTcGVjaWZpZXMgdGhlIHBvcnQgdGhhdCB5b3VyIGFwcGxpY2F0aW9uIGxpc3RlbnMgb24uCiMgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHZpc2l0IGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9hcHAtaG9zdGluZy9kb2NzL2NvbmZpZ3VyYXRpb24jcnVuY29uZmlnX3BvcnQKcnVuQ29uZmlnOgogIHBvcnQ6IDMwMDAKCiMgU3BlY2lmaWVzIHRoZSBidWlsZCBjb21tYW5kcyBmb3IgeW91ciBhcHBsaWNhdGlvbi4KIyBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgdmlzaXQgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2FwcC1ob3N0aW5nL2RvY3MvY29uZmlndXJhdGlvbiNidWlsZGNvbmZpZwpidWlsZENvbmZpZzoKICAjIENvbW1hbmQgdG8gYnVpbGQgeW91ciBOZXh0LmpzIGFwcGxpY2F0aW9uCiAgYnVpbGRDb21tYW5kOiBucG0gcnVuIGJ1aWxkCgojIERlZmluZXMgZW52aXJvbm1lbnQgdmFyaWFibGVzIGZvciB5b3VyIGFwcGxpY2F0aW9uLgojIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIFNlY3JldCBNYW5hZ2VyIGZvciBzZW5zaXRpdmUgZGF0YS4KIyBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgdmlzaXQgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2FwcC1ob3N0aW5nL2RvY3MvY29uZmlndXJhdGlvbiNlbnYKIyBhbmQgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2FwcC1ob3N0aW5nL2RvY3MvbWFuYWdlLXNlY3JldHMKZW52OgogIC0gdmFyaWFibGU6IE5PREVfRU5WCiAgICB2YWx1ZTogcHJvZHVjdGlvbgogICMgRXhhbXBsZSBmb3IgUG9zdGdyZVNRTCBVUkwgKGJldHRlciB0byB1c2UgU2VjcmV0IE1hbmFnZXIgZm9yIHRoaXMpCiAgIyAtIHZhcmlhYmxlOiBQT1NUR1JFU19VUkwKICAjICAgc2VjcmV0OiB5b3VyLXBvc3RncmVzLXVybC1zZWNyZXQKICAjIEV4YW1wbGUgZm9yIEpXVCBTZWNyZXQgKGJldHRlciB0byB1c2UgU2VjcmV0IE1hbmFnZXIgZm9yIHRoaXMpCiAgIyAtIHZhcmlhYmxlOiBKV1RfU0VDUkVUCiAgIyAgIHNlY3JldDogeW91ci1qd3Qtc2VjcmV0CiAgIyBFeGFtcGxlIGZvciBHZW5raXQgQVBJIEtleSAoYmV0dGVyIHRvIHVzZSBTZWNyZXQgTWFuYWdlciBmb3IgdGhpcykKICAjIC0gdmFyaWFibGU6IEdPT0dMRV9HRU5BSV9BUElfS0VZCiAgIyAgIHNlY3JldDogeW91ci1nZW5haS1hcGkta2V5LXNlY3JldAogICMgRXhhbXBsZSBmb3IgQWRtaW4gQ3JlZGVudGlhbHMgKGJldHRlciB0byB1c2UgU2VjcmV0IE1hbmFnZXIgZm9yIHRoZXNlKQogICMgLSB2YXJpYWJsZTogQURNSU5fVVNFUk5BTUUKICAjICAgc2VjcmV0OiB5b3VyLWFkbWluLXVzZXJuYW1lLXNlY3JldAogICMgLSB2YXJpYWJsZTogQURNSU5fUEFTU1dPUkQKICAjICAgc2VjcmV0OiB5b3VyLWFkbWluLXBhc3N3b3JkLXNlY3JldAoKIyBTZXR0aW5ncyBmb3IgdGhlIG1haW4gd2ViIHNlcnZlciB0aGF0IEFwcCBIb3N0aW5nIHByb3Zpc2lvbnMuCiMgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHZpc2l0IGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9hcHAtaG9zdGluZy9kb2NzL2NvbmZpZ3VyYXRpb24jc2VydmluZ2NvbmZpZwpzZXJ2aW5nQ29uZmlnOgogIHN0YXRpY0Fzc2V0czoKICAgIC0gcGF0aDogLy5uZXh0L3N0YXRpYwogICAgICBoZWFkZXJzOgogICAgICAgIENhY2hlLUNvbnRyb2w6IHB1YmxpYywgbWF4LWFnZT0zMTUzNjAwMCwgaW1tdXRhYmxlCiAgICAtIHBhdGg6IC9zdGF0aWMKICAgICAgaGVhZGVyczoKICAgICAgICBDYWNoZS1Db250cm9sOiBwdWJsaWMsIG1heC1hZ2U9MzE1MzYwMDAsIGltbXV0YWJsZQogICMgcm91dGVzOgogICMgICAtIHR5cGU6IEZBTExCQUNLCiAgIyAgICAgcGF0aDogLyAjIERlZmF1bHQgcm91dGUgZm9yIE5leHQuanMgZHluYW1pYyByZW5kZXJpbmcKCiMgU3BlY2lmaWVzIHRoZSBiYXNlIGltYWdlIGZvciB5b3VyIGFwcGxpY2F0aW9uLgojIEZvciBtb3JlIGluZm9ybWF0aW9uLCB2aXNpdCBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vYXBwLWhvc3RpbmcvZG9jcy9jb25maWd1cmF0aW9uI2ltYWdlCmltYWdlOgogIG5hbWU6IHVzLWRvY2tlci5wa2cuZGV2L2dvb2dsZS1zYW1wbGVzL2NvbnRhaW5lcnMvZ2NzL2Nsb3VkcnVuL2N1c3RvbS9uZXh0anM6bGF0ZXN0CgojIEhlYWx0aCBjaGVjayBjb25maWd1cmF0aW9uCiMgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHZpc2l0IGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9hcHAtaG9zdGluZy9kb2NzL2NvbmZpZ3VyYXRpb24jaGVhbHRoY2hlY2tzCmhlYWx0aENoZWNrczoKICBsaXZlbmVzc1Byb2JlOgogICAgaHR0cEdldDoKICAgICAgcGF0aDogLyAjIEEgc2ltcGxlIHBhdGggdGhhdCBzaG91bGQgcmV0dXJuIDIwMCBPSwogICAgICBwb3J0OiAzMDAwICMgU2hvdWxkIG1hdGNoIHJ1bkNvbmZpZy5wb3J0CiAgICBpbml0aWFsRGVsYXlTZWNvbmRzOiAzMAogICAgcGVyaW9kU2Vjb25kczogMzAKICAgIHRpbWVvdXRTZWNvbmRzOiA1CiAgICBmYWlsdXJlVGhyZXNob2xkOiAzCiAgcmVhZGluZXNzUHJvYmU6CiAgICBodHRwR2V0OgogICAgICBwYXRoOiAvICMgQSBzaW1wbGUgcGF0aCB0aGF0IHNob3VsZCByZXR1cm4gMjAwIE9LCiAgICAgIHBvcnQ6IDMwMDAgIyBTaG91bGQgbWF0Y2ggcnVuQ29uZmlnLnBvcnQKICAgIGluaXRpYWxEZWxheVNlY29uZHM6IDEwCiAgICBwZXJpb2RTZWNvbmRzOiAxMAogICAgdGltZW91dFNlY29uZHM6IDUKICAgIGZhaWx1cmVUaHJlc2hvbGQ6IDMK' | base64 -d > /root/localpulse/apphosting.prod.yaml
mkdir -p /root/localpulse
echo 'UE9TVEdSRVNfVVJMPXBvc3RncmVzcWw6Ly9uZW9uZGJfb3duZXI6bnBnX0Z0YTloakxDUjVZb0BlcC1yb3lhbC1oaWxsLWFmb3c5ZnBnLXBvb2xlci5jLTIudXMtd2VzdC0yLmF3cy5uZW9uLnRlY2g6NTQzMi9sb2NhbHB1bHNlP3NzbG1vZGU9cmVxdWlyZSZjaGFubmVsX2JpbmRpbmc9cmVxdWlyZQoKSldUX1NFQ1JFVD0xMzQ0MGJiNGY3Y2JlZDllOWNhZmJkYjY4MTc5YWI5YTdlZDA2MDJiYmZiZDllMWM0YWFmY2RhOWFlZGJmMTE2CkdPT0dMRV9HRU5BSV9BUElfS0VZPUFJemFTeUJUQl9UbTUwdVpLSTZNZDBRWXlWZVBkVnFqZkxwX1BFVQpHT09HTEVfQ0xPVURfQVBJX0tFWT1BSXphU3lEY3dnN0g0dXh1aTllZGVjZ2tPcEZDVm1EeS1OWnFkUVUKR09PR0xFX0NVU1RPTV9TRUFSQ0hfRU5HSU5FX0lEPTQyMWE0NjhkNzYxOGU0YjhiCgpBRE1JTl9VU0VSTkFNRT1hZG1pbmtpdHR1CkFETUlOX1BBU1NXT1JEPTAxTWF5MjAyNUAyNjA4MTk5MQpGSVJFQkFTRV9TRVJWSUNFX0FDQ09VTlRfQjY0PWV3b2dJQ0owZVhCbElqb2dJbk5sY25acFkyVmZZV05qYjNWdWRDSXNDaUFnSW5CeWIycGxZM1JmYVdRaU9pQWliRzlqWVd4d2RXeHpaUzA0T1dGbFlTSXNDaUFnSW5CeWFYWmhkR1ZmYTJWNVgybGtJam9nSW1JeE1EWTJZamszWVRCa1pXSmtObUUyT0RFME56QTNaalpqTlRrMk1qVmpaREptT1RVMFl6UWlMQW9nSUNKd2NtbDJZWFJsWDJ0bGVTSTZJQ0l0TFMwdExVSkZSMGxPSUZCU1NWWkJWRVVnUzBWWkxTMHRMUzFjYmsxSlNVVjJaMGxDUVVSQlRrSm5hM0ZvYTJsSE9YY3dRa0ZSUlVaQlFWTkRRa3RuZDJkblUydEJaMFZCUVc5SlFrRlJRM0JpTUVVM2JFWmhNbnBKVWxGY2JqSkJaVGM1V1hodmREbFRZVGh6Y1ZoMmFVdEZZV0paVUhkeGJuZHRiRTR2YlZCck0zZG9TSG81VjBSblJqZ3dhM0p1TWxJNFNuaEhWalpVTkc1MmVIUmNia1J5TVRKVGEybHhVblp6Tm1wcEt6bENSM1JqVjBOT1NtRTRlV3RCTmtvMFozTkpkRlUzZWtGaE5VMU1Tamd2V2xsVGRIbE9ZMVY2ZDNSRlFsTk1hVlZjYm5GMFEybElhV05FTDJKbU1YbHNaSHBqZGpKTUwzVktiRkJ4YUhsUmNuQnVUMFpOWWxkaVJVTlFhVGxMTVhKSmFsRk1VVWxhVlV4MGFUUm5jWGRqTTNsY2JtUnBMMDR4U2xwYVJVZHNPQ3RUWVRWQ1MyNTVNSE5aTm5kQ05VdDJPRGRCWldOdFdXUlNhRFYzWW1JNWFuQnNVblZ4Y1c5Rk9IQldaMnBOV2xCV1owWmNibVl2ZVcxb0syazFVazl0TlhrMmNVbEtUR2RrSzNwUFltWlhNRTlLWTIxMmNFeDRORlExUW5wcWMwZFhWV1ZpUkVGMVdURk5PVGxaWVc4eU4zWTJXVlJjYmtkamVUVTBhMmRDUVdkTlFrRkJSVU5uWjBWQlIwOXpkVmhzZEZOS016bE1jRWhKY0V4UmExQmtaVlV6V2xCU05WQkVhblkzWVZvMFlYSm1Nemd4VmxoY2JrY3lhRGx0Y1djeGNVeHVOVmhsZGxOT1YyUmxUekpVTWt4MFp6aEJTRFowV2tWTGNrNWhZakpMWldwWWExRlRVbGM0ZVROR00xVXdPVEZ5WkRGWE9XUmNibUZVYW1RMGRtMTVVa2RDZERFeFIzSklWemRRYVROUlEwSlVkRTVNZEVkd2NEa3JOVmxIV25JeVdXWnhhM05GU0M5Slp6UmFkWEk1UlN0UVZIUlVORU5jYmpCWlRVTlFlVk5YT1hOc00zZzVZMEZ2TmtWMFR6RkpZV1V5WjJkaWQyOVRRa2RDVERVMlRGQlFjVTFVVFVaSlZuTjBhMVp1VTBWWFJHVkpWbXRqVUhOY2JrOU1RMnRLU0dWWFpYSlhkVGxRZVhveE5YVXJabUkxV0dSSVQxZzBVMUZaZWtNek5EWk9WM2htZVd0TlpVZFFTaThyV0VGclMwTnNkVEJNYkhsSlIzVmNia1F5UTI4MmNsbE9ZV2RRUlZaRGJYbFdaeXRsU2xaeWRtOW9TRWhqWjFoSU5UTlRlVmxzVTAxUGQwdENaMUZFVm1vcmMwSkxaRzlLUXk4M2EyZ3lVbXhjYmpReU5sbHRaVmQzTDJwT1drWTROVWxFYVhOR2NuQk5iRWt2YVRkRE5qTkphamQ0YzFVeFozZGtkVXRMUjJwMmVub3ZjM0V5TkRkcWNHczJOamgzVmpaY2JtRkJVblExYzNwVmJIUmlSemt6ZDJaNkt6YzRWVWhKUmtoRmRVMXlNREZ4U210eGVHeGFSWEJ1WWlzMFRVSlNTaXR4VDNRNFZsRjVXa3d4WmxodFdteGNiblJJYkZwTkszRTJTMU5ZYXpCRGRWbEJNMGRJY2tWNmJIQjNTMEpuVVVSTVIyOW1SbkZZU1VGWFFsWlhjRE4zUW10dGIxZHBRV0p3YmtKaE4wTnhZWFZjYmpKV1VraDZaM0pVUkc1Q2FVNDNjekpUT1dVM2IyTldabTQwUWtNd05WUlJZMlpqTkdremNHTlBOM1V6UkRGaE5rNTRVazFLV25wVE1tRnhkVFZrYkZkY2JtVjNRWGhoVld0dWJWRmtXVU5VYlVWVGNWVktMMU5rV25GVFoyeEtlVEJZTVVOeGJubEhUVmxSV1hOQk5FcHdVRlJaVFRoMllrRmxhQzl6TDFOR1NVUmNiako0VVhOemJHNXhSbmRMUW1kUlEySTRPV0pZUzB0eVUwSklTMFZwSzBwcVJGTjRUVkE0V1dRNEswOXVXV1I2TDJaWGEzQlpkM2xPUTB4SGQxWmFlalJjYmxsM05XcDRTa1ZaUVhocU0xcExWRE5NU2k5eU9HZ3hjMWhLZDA1d1ZEUlJNM3BwY3pCUFozWk1iRGt4VDBoRWNVRnFkM2hCVFZocGRWbEVjVWxZU0ZWY2JqTkdWMkpVVHl0UGFHMVlhM0ZUWlVoNGIwbFZiV0pETUdoRFFrOU1iVGt3VVdSRFJIUlpabkJ1Wm1KUlIzSjRZVFk1YWxORVNqWjVOMUZMUW1kUlEwdGNibTVZYVRoa2IwUlFjVEEwYXpkbWJUaFBUMnRsY0RSbVVVOURPWEpUUlVkeFdUZHJXbkZKTTB0eVltZFdNRWRPT1VWNFdWSm5URGR6U0VSbE1WcERTRlZjYm1kWVRuZHlRVU1yYjJsWWFrMW9la2Q1YjBOWU1UZFFTVlUzV1dneE9EQldUVXN4V2tNM2NGcDRRamd5TDJ4VE5qZFNZbTFWYkdobk5GRnVPVVZXWlRsY2JsRTFaelZIY0VwSVNUZFNlWHBPWlVRclEzSjRZMkZUV25OalZGQXdPVkJzZG1Oa2RrZGxiM293VVV0Q1owSnROVVphTkV0NVpYZHdZa3gzZVRKNk5qWmNiblJ3Vnl0cEx6RnFaRkYwTVdONFRsZG5WSE5pWW10VU4yZGxLMHRpUVV0RFZHOVdZVkJqUXpGcVdtVkJZVnBVWlVwWE0xaEhORFpMUWpBM1dEQmllVnBjYmt4VEwwMVJSamRMU2xGT2VYQjFaMm93ZFRaa2MzcE1hMkZzUkZjdmFFNUlOMm8wVkdoc1QzcHFUa05rZDJaVGRsWkpMME5KYXl0VGNITjFWakZYU1ZOY2JsRm9RMnB4UW1KbFZqRlFVR1pFTnpSRFYyZEplRUZpUWx4dUxTMHRMUzFGVGtRZ1VGSkpWa0ZVUlNCTFJWa3RMUzB0TFZ4dUlpd0tJQ0FpWTJ4cFpXNTBYMlZ0WVdsc0lqb2dJbVpwY21WaVlYTmxMV0ZrYldsdWMyUnJMV1ppYzNaalFHeHZZMkZzY0hWc2MyVXRPRGxoWldFdWFXRnRMbWR6WlhKMmFXTmxZV05qYjNWdWRDNWpiMjBpTEFvZ0lDSmpiR2xsYm5SZmFXUWlPaUFpTVRBNU5USTRNalU1TXpjd09EVXhNelV4TnpRNElpd0tJQ0FpWVhWMGFGOTFjbWtpT2lBaWFIUjBjSE02THk5aFkyTnZkVzUwY3k1bmIyOW5iR1V1WTI5dEwyOHZiMkYxZEdneUwyRjFkR2dpTEFvZ0lDSjBiMnRsYmw5MWNta2lPaUFpYUhSMGNITTZMeTl2WVhWMGFESXVaMjl2WjJ4bFlYQnBjeTVqYjIwdmRHOXJaVzRpTEFvZ0lDSmhkWFJvWDNCeWIzWnBaR1Z5WDNnMU1EbGZZMlZ5ZEY5MWNtd2lPaUFpYUhSMGNITTZMeTkzZDNjdVoyOXZaMnhsWVhCcGN5NWpiMjB2YjJGMWRHZ3lMM1l4TDJObGNuUnpJaXdLSUNBaVkyeHBaVzUwWDNnMU1EbGZZMlZ5ZEY5MWNtd2lPaUFpYUhSMGNITTZMeTkzZDNjdVoyOXZaMnhsWVhCcGN5NWpiMjB2Y205aWIzUXZkakV2YldWMFlXUmhkR0V2ZURVd09TOW1hWEpsWW1GelpTMWhaRzFwYm5Oa2F5MW1Zbk4yWXlVME1HeHZZMkZzY0hWc2MyVXRPRGxoWldFdWFXRnRMbWR6WlhKMmFXTmxZV05qYjNWdWRDNWpiMjBpTEFvZ0lDSjFibWwyWlhKelpWOWtiMjFoYVc0aU9pQWlaMjl2WjJ4bFlYQnBjeTVqYjIwaUNuMEsKIyBHb29nbGUgQ2xvdWQgU3RvcmFnZSBTZXR0aW5ncwpHQ1NfQlVDS0VUX05BTUU9InRlc3Rsb2NhbHB1bHNlIgpHT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFM9Ii9yb290L2xvY2FscHVsc2UvZ2NzLXNlcnZpY2UtYWNjb3VudC5qc29uIgoKU0VSUEFQSV9BUElfS0VZPTU3M2FjZjUxMGYzMTcxMDVhNDk2OWVhYTNkZGQ5MzdlODcwMzUyNmJkNzM4YjQ5NzBlNGZiMjFiYWMyNTE0ZWYKT0ZGSUNJQUxfVVNFUl9QQVNTV09SRD0wMU1heTIwMjVAMjYwODE5OTEKCgpTRU5ER1JJRF9BUElfS0VZPVNHLlBTVURBdzRYUS02SzFjQzV0czc2T2cuaTdVTU9aTkI5VlphQlVLYjRHT25UN2FDcVpScEJZZVVlVGYyQkRCSjl5cwpTRU5ER1JJRF9GUk9NX0VNQUlMPW5vLXJlcGx5QGxvY2FscHVsc2Uuc3BhY2UKCgo=' | base64 -d > /root/localpulse/.env.local
mkdir -p /root/localpulse
echo 'ewogICJjb21waWxlck9wdGlvbnMiOiB7CiAgICAidGFyZ2V0IjogImVzNSIsCiAgICAibGliIjogWyJkb20iLCAiZG9tLml0ZXJhYmxlIiwgImVzbmV4dCJdLAogICAgImFsbG93SnMiOiB0cnVlLAogICAgInNraXBMaWJDaGVjayI6IHRydWUsCiAgICAic3RyaWN0IjogZmFsc2UsCiAgICAiZm9yY2VDb25zaXN0ZW50Q2FzaW5nSW5GaWxlTmFtZXMiOiB0cnVlLAogICAgIm5vRW1pdCI6IHRydWUsCiAgICAiZXNNb2R1bGVJbnRlcm9wIjogdHJ1ZSwKICAgICJtb2R1bGUiOiAiZXNuZXh0IiwKICAgICJtb2R1bGVSZXNvbHV0aW9uIjogImJ1bmRsZXIiLAogICAgInJlc29sdmVKc29uTW9kdWxlIjogdHJ1ZSwKICAgICJpc29sYXRlZE1vZHVsZXMiOiB0cnVlLAogICAgImpzeCI6ICJwcmVzZXJ2ZSIsCiAgICAiaW5jcmVtZW50YWwiOiB0cnVlLAogICAgInBsdWdpbnMiOiBbCiAgICAgIHsKICAgICAgICAibmFtZSI6ICJuZXh0IgogICAgICB9CiAgICBdLAogICAgImJhc2VVcmwiOiAiLiIsCiAgICAicGF0aHMiOiB7CiAgICAgICJALyoiOiBbIi4vc3JjLyoiXQogICAgfQogIH0sCiAgImluY2x1ZGUiOiBbIm5leHQtZW52LmQudHMiLCAiKiovKi50cyIsICIqKi8qLnRzeCIsICIubmV4dC90eXBlcy8qKi8qLnRzIiwgInNyYy9saWIvZGIuanMiLCAic3JjL2xpYi9nY3MuanMiXSwKICAiZXhjbHVkZSI6IFsibm9kZV9tb2R1bGVzIl0KfQo=' | base64 -d > /root/localpulse/tsconfig.json
mkdir -p /root/localpulse
echo 'UHJvdmlkZSB0aGUgRU5USVJFLCBGSU5BTCwgaW50ZW5kZWQgY29udGVudCBvZiB0aGUgZmlsZSBoZXJlLiBEbyBOT1QgcHJvdmlkZSBkaWZmcyBvciBwYXJ0aWFsIHNuaXBwZXRzLiBFbnN1cmUgYWxsIGNvZGUgaXMgcHJvcGVybHkgZXNjYXBlZCB3aXRoaW4gdGhlIENEQVRBIHNlY3Rpb24uCg==' | base64 -d > /root/localpulse/[Provide the ABSOLUTE, FULL path to the file being modified]
mkdir -p /root/localpulse
echo 'LyoqIEB0eXBlIHtpbXBvcnQoJ25leHQnKS5OZXh0Q29uZmlnfSAqLwpjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpOwoKY29uc3QgcmVtb3RlUGF0dGVybnMgPSBbCiAgewogICAgcHJvdG9jb2w6ICdodHRwcycsCiAgICBob3N0bmFtZTogJ3BpY3N1bS5waG90b3MnLAogICAgcG9ydDogJycsCiAgICBwYXRobmFtZTogJy8qKicsCiAgfSwKICB7CiAgICBwcm90b2NvbDogJ2h0dHBzJywKICAgIGhvc3RuYW1lOiAncGxhY2Vob2xkLmNvJywKICAgIHBvcnQ6ICcnLAogICAgcGF0aG5hbWU6ICcvKionLAogIH0sCiAgewogICAgcHJvdG9jb2w6ICdodHRwcycsCiAgICBob3N0bmFtZTogJ3N0b3JhZ2UuZ29vZ2xlYXBpcy5jb20nLAogICAgcG9ydDogJycsCiAgICBwYXRobmFtZTogJy8qKicsIC8vIEFsbG93IGFueSBwYXRoIG9uIHRoZSBHQ1MgaG9zdG5hbWUKICB9LAogIHsKICAgIHByb3RvY29sOiAnaHR0cCcsCiAgICBob3N0bmFtZTogJ3N0b3JhZ2UuZ29vZ2xlYXBpcy5jb20nLAogICAgcG9ydDogJycsCiAgICBwYXRobmFtZTogJy8qKicsIC8vIEFsbG93IGFueSBwYXRoIG9uIHRoZSBHQ1MgaG9zdG5hbWUKICB9Cl07Cgpjb25zdCB3aXRoUFdBID0gcmVxdWlyZSgnbmV4dC1wd2EnKSh7CiAgZGVzdDogJ3B1YmxpYycsCiAgcmVnaXN0ZXI6IHRydWUsCiAgc2tpcFdhaXRpbmc6IHRydWUsCiAgZGlzYWJsZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcsCn0pOwoKY29uc3QgbmV4dENvbmZpZyA9IHsKICBvdXRwdXQ6ICdzdGFuZGFsb25lJywgLy8gUmVxdWlyZWQgZm9yIG9wdGltaXplZCBEb2NrZXIgYnVpbGRzCiAgcHJvZHVjdGlvbkJyb3dzZXJTb3VyY2VNYXBzOiB0cnVlLAogIHR5cGVzY3JpcHQ6IHsKICAgIGlnbm9yZUJ1aWxkRXJyb3JzOiB0cnVlLAogIH0sCiAgZXNsaW50OiB7CiAgICBpZ25vcmVEdXJpbmdCdWlsZHM6IHRydWUsCiAgfSwKICBpbWFnZXM6IHsKICAgIGZvcm1hdHM6IFsnaW1hZ2UvYXZpZicsICdpbWFnZS93ZWJwJ10sCiAgICByZW1vdGVQYXR0ZXJucywKICB9LAogIHdlYnBhY2s6IChjb25maWcpID0+IHsKICAgIC8vIEFkZCBhbGlhcyBmb3IgIkAvLi4uIgogICAgY29uZmlnLnJlc29sdmUuYWxpYXNbJ0AnXSA9IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdzcmMnKTsKICAgIHJldHVybiBjb25maWc7CiAgfSwKfTsKCm1vZHVsZS5leHBvcnRzID0gd2l0aFBXQShuZXh0Q29uZmlnKTsK' | base64 -d > /root/localpulse/next.config.js
mkdir -p /root/localpulse
echo 'IyBTZWUgaHR0cHM6Ly9oZWxwLmdpdGh1Yi5jb20vYXJ0aWNsZXMvaWdub3JpbmctZmlsZXMvIGZvciBtb3JlIGFib3V0IGlnbm9yaW5nIGZpbGVzLgoKIyBkZXBlbmRlbmNpZXMKL25vZGVfbW9kdWxlcwovLnBucAoucG5wLmpzCi55YXJuL2luc3RhbGwtc3RhdGUuZ3oKCiMgdGVzdGluZwovY292ZXJhZ2UKCiMgbmV4dC5qcwovLm5leHQvCi9vdXQvCgojIHByb2R1Y3Rpb24KL2J1aWxkCgojIG1pc2MKLkRTX1N0b3JlCioucGVtCgojIGRlYnVnCm5wbS1kZWJ1Zy5sb2cqCnlhcm4tZGVidWcubG9nKgp5YXJuLWVycm9yLmxvZyoKLnBucG0tZGVidWcubG9nKgoKIyBsb2NhbCBlbnYgZmlsZXMKLmVudioubG9jYWwKCiMgdmVyY2VsCi52ZXJjZWwKCiMgdHlwZXNjcmlwdAoqLnRzYnVpbGRpbmZvCm5leHQtZW52LmQudHMKCiMgU1FMaXRlIGRhdGFiYXNlCiouZGIKKi5kYi1qb3VybmFsCg==' | base64 -d > /root/localpulse/.gitignore
mkdir -p /root/localpulse
echo 'ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiYnJhdmUtcGlwZS00Njc2MTEtazIiLAogICJwcml2YXRlX2tleV9pZCI6ICIxYmU3ZDAxODhiN2M0YzQzY2JlNzIzN2ZmZTU5MDMwYzUyYjhjOTU1IiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXG5NSUlFdmdJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLZ3dnZ1NrQWdFQUFvSUJBUUQ0THdvemx1dVVJME5PXG52TVZSU0JEU21uSXZxQklVOGt4RStITW1qcGJWcklCWHUrNDVsQm5IYlRCWlI4VWhmTDM5bnVLSmx3anNBYVd0XG5oK3h0SmZHRC83blIxL3hDdnAwM2xZdkpLOE1vTlRkbmVnUVFqb1FLTmp1YkNpYmlGLzh4TlAvbS9iOTFPcU5SXG5XNjA3RmdYd3NYbUVrcTVPSCtZQXd3WkVKbitTdlVXa3JoOXQzcFloYmttTk52U1ZRUEVScGNEZ1VzblV5THl4XG4rRGJERUcvekhITzdsMDQrQTRocys0OVU5YVFYdlZwVmxPdXVKV0dWZkRhSnZabk9hQlpITHNISXJUQzA3MHozXG4xMlhITEhVYXF2RjdoSnNUWmF0ZkJhditZNXdSa0NtS1IzdU8rR3B1SXVVcVY3dVlVb2JOTmFMVlBkbWQrdGxaXG5uUWhPUWNHVkFnTUJBQUVDZ2dFQUN4U2VrZnNVL1lJdGlTQm9kdDZPMGJoUGpNMG1NWVUzM29SeEw3R0NEbndyXG5KcitmUFRiZGg4ZmFOc0k3ak9reTJsWHpxMHp3K3doL3l5V2NhcXNkQTFXeGlDcnFlbGhrVUl6K3RyYWJlZm9XXG5SU3B2Y0FYTTQxL1VmWEdRbHR1WGF5MEFsK0dRWUwyRGVTaHNyWXlvS3p6aFBnZ0dmRHAwWEdoWXFVWkd2OWhZXG45Mlo0UGZsR3RmQWE0dWJVZTBMbHJneURoR2dlR3JkendtYmlFYW52SFpKeXFIOG9wdXk4SjErbGQyYlUrMysrXG42UEJ2Z2hrelh6Q0hYUUl0TkdoZ2srTExXTHJTNnlncDZxNlpIVXNxcGVkM2JLc1RLTCtXQjVkODJURzU4bGpiXG55MHZ5eVRjajZDdDNEcWtnZ093Q1JzTWVrbFROT3JHa0hrVjNvc0xiZ1FLQmdRRCtrbmJpaWVGRHZzaE9EYXFjXG5NTzd0allsOFJNVDNHNUNnVVA4S0JtTE12ODIwVkhzTFJ4YUNJOWRadFVZOVhoTHBtMnNIWXdIS245Q0JnM3lTXG5adEJoWm9weGlpSVlXU051aFlFUEVHRjBKUHlQT3hvbmI2SEZON0xJQ25ldERJc2Y5by9rc3BvYTd1TmR5SWdwXG55WHRQUU5PeFN2OGJBMHZZaEE2Wk9ZSUhFUUtCZ1FENWsyY0tHMU9IVElkMm1SN2NKV0dCUHZtb3l0VFNUUEdOXG5GSi9rYTlYOWlPbVdYOGJ4dytKdVpCczJPMlRUTDRwaDkvMW9MeFJwbXQwQkFldHhrWE01VVFrcnR1cXFwVjZWXG43Z0ZRbVY4TFhXK2ZxS2wxN2hGWk1IY1N5ZUFjS0tWUE5PWWdwVUZYRk9uYTFvSWdFSmJrdHNnRVQ2NC9Rc1FhXG42aERONXR3NlJRS0JnUUNCTGdGMTQxR1Q5dlBkNThGemtNRXRlbTBSeWpQSTBRd0t6ZzhkSHpCemhjRDBpUW9IXG5Kd09jOW1NSStwdXgrRkxRaURVL2dsWWVaQXFDTGg3QWk3dWlNVTUvWHdEK0tmMTR6L1kxbHJKZEpZZWpodkkyXG5vTWNPTkwxY0ZUTzFkSEFFd0RFMGRBMFBMYm5pbFNmRFRLSnVEUTlmSUJkanRjQi9Ga1B5TE9SMmdRS0JnQXZBXG5neU9Zc2RBM0xGSExXQWFwdy9PZ0VZVi9ONUpIaVVCSmJsWUZOZWhnWUE5eXB4MlBTY1JFOW5zUlJPZ2szdkZLXG5DaWF6d05SUU5JUHRvVGFSME1rc0piQm5ScG1PZSt1M2IxeHFQRzEra3RrRHlpY0JkTk9zVW84UjdubWsrRlBJXG5lK1dob25nRlJoWEY4QTZ1ZVV4L3h0OWRHU2xsYlhLTy93ZVREVis1QW9HQkFMQ3ZjTjhIUkZPZDFZamhCU3YrXG5xbWJEM29udW5UdzNZVFZoVEZmampWay9VWVBtNnFzNko1UVZ4QUxyTERvQmw4Yjk2TlFHUGZLdFBtWEdIS2dOXG51Mm1UKzNHZXhyMmdyZVpLKzdGSUxHSkJxeTVOWU94Unl6MEJYNnNxYXJPSjdaNGpjT2txS0xvd2Z4ZWpIS05hXG5SNGdleTQ1UnVJL0RGakRwU1I5Ykh1M2Zcbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsCiAgImNsaWVudF9lbWFpbCI6ICJsb2NhbHB1bHNlLXN0b3JhZ2UtYWNjZXNzQGJyYXZlLXBpcGUtNDY3NjExLWsyLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAiY2xpZW50X2lkIjogIjEwOTAxMjM2MjA1NzY5ODYxNTA2MCIsCiAgImF1dGhfdXJpIjogImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoIiwKICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwKICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsCiAgImNsaWVudF94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3JvYm90L3YxL21ldGFkYXRhL3g1MDkvbG9jYWxwdWxzZS1zdG9yYWdlLWFjY2VzcyU0MGJyYXZlLXBpcGUtNDY3NjExLWsyLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAidW5pdmVyc2VfZG9tYWluIjogImdvb2dsZWFwaXMuY29tIgp9Cg==' | base64 -d > /root/localpulse/gcs-service-account.json
mkdir -p /root/localpulse
echo 'IyBQb3N0Z3JlU1FMIENvbm5lY3Rpb24gVVJMCiMgUmVwbGFjZSB3aXRoIHlvdXIgYWN0dWFsIFBvc3RncmVTUUwgY29ubmVjdGlvbiBzdHJpbmcKIyBFeGFtcGxlOiBwb3N0Z3Jlc3FsOi8vdXNlcjpwYXNzd29yZEBob3N0OnBvcnQvZGF0YWJhc2UKUE9TVEdSRVNfVVJMPXBvc3RncmVzcWw6Ly9sb2NhbHB1bHNlOlB1bmUyMDI1Qm9yZ2F2YWthckBsb2NhbGhvc3Q6NTQzMi9sb2NhbHB1bHNlCgojIE9wdGlvbmFsOiBTZXQgdG8gdHJ1ZSBpZiB5b3VyIFBvc3RncmVTUUwgaW5zdGFuY2UgcmVxdWlyZXMgU1NMIGFuZCB5b3UgYXJlIG5vdCB1c2luZyBhIGNvbm5lY3Rpb24gc3RyaW5nIHRoYXQgaGFuZGxlcyBpdC4KIyBQT1NUR1JFU19TU0w9ZmFsc2UKCiMgR29vZ2xlIEdlbmVyYXRpdmUgQUkgQVBJIEtleSAoaWYgdXNpbmcgR2Vua2l0IGZlYXR1cmVzKQojIE9idGFpbiB0aGlzIGZyb20gR29vZ2xlIEFJIFN0dWRpbyBvciBHb29nbGUgQ2xvdWQgQ29uc29sZQpHT09HTEVfR0VOQUlfQVBJX0tFWT1ZT1VSX0dPT0dMRV9HRU5BSV9BUElfS0VZCgojIEFkbWluIENyZWRlbnRpYWxzIGZvciB0aGUgL2FkbWluIHNlY3Rpb24KIyBDaGFuZ2UgdGhlc2UgZm9yIGFueSBwcm9kdWN0aW9uIGRlcGxveW1lbnQKQURNSU5fVVNFUk5BTUU9YWRtaW4KQURNSU5fUEFTU1dPUkQ9cGFzc3dvcmQxMjMK' | base64 -d > /root/localpulse/.env.example
mkdir -p /root/localpulse
echo 'VGhlIGVudGlyZSwgZmluYWwgY29udGVudCBvZiB0aGUgZmlsZSwgcHJvcGVybHkgZXNjYXBlZC4=' | base64 -d > /root/localpulse/[The absolute, full path to the file]
mkdir -p /root/localpulse
echo 'aW1wb3J0IHR5cGUgeyBDb25maWcgfSBmcm9tICJ0YWlsd2luZGNzcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXJrTW9kZTogWyJjbGFzcyJdLAogICAgY29udGVudDogWwogICAgIi4vc3JjL3BhZ2VzLyoqLyoue2pzLHRzLGpzeCx0c3gsbWR4fSIsCiAgICAiLi9zcmMvY29tcG9uZW50cy8qKi8qLntqcyx0cyxqc3gsdHN4LG1keH0iLAogICAgIi4vc3JjL2FwcC8qKi8qLntqcyx0cyxqc3gsdHN4LG1keH0iLAogIF0sCiAgdGhlbWU6IHsKICAJZXh0ZW5kOiB7CiAgCQljb2xvcnM6IHsKICAJCQliYWNrZ3JvdW5kOiAnaHNsKHZhcigtLWJhY2tncm91bmQpKScsCiAgCQkJZm9yZWdyb3VuZDogJ2hzbCh2YXIoLS1mb3JlZ3JvdW5kKSknLAogIAkJCWNhcmQ6IHsKICAJCQkJREVGQVVMVDogJ2hzbCh2YXIoLS1jYXJkKSknLAogIAkJCQlmb3JlZ3JvdW5kOiAnaHNsKHZhcigtLWNhcmQtZm9yZWdyb3VuZCkpJwogIAkJCX0sCiAgCQkJcG9wb3ZlcjogewogIAkJCQlERUZBVUxUOiAnaHNsKHZhcigtLXBvcG92ZXIpKScsCiAgCQkJCWZvcmVncm91bmQ6ICdoc2wodmFyKC0tcG9wb3Zlci1mb3JlZ3JvdW5kKSknCiAgCQkJfSwKICAJCQlwcmltYXJ5OiB7CiAgCQkJCURFRkFVTFQ6ICdoc2wodmFyKC0tcHJpbWFyeSkpJywKICAJCQkJZm9yZWdyb3VuZDogJ2hzbCh2YXIoLS1wcmltYXJ5LWZvcmVncm91bmQpKScKICAJCQl9LAogIAkJCXNlY29uZGFyeTogewogIAkJCQlERUZBVUxUOiAnaHNsKHZhcigtLXNlY29uZGFyeSkpJywKICAJCQkJZm9yZWdyb3VuZDogJ2hzbCh2YXIoLS1zZWNvbmRhcnktZm9yZWdyb3VuZCkpJwogIAkJCX0sCiAgCQkJbXV0ZWQ6IHsKICAJCQkJREVGQVVMVDogJ2hzbCh2YXIoLS1tdXRlZCkpJywKICAJCQkJZm9yZWdyb3VuZDogJ2hzbCh2YXIoLS1tdXRlZC1mb3JlZ3JvdW5kKSknCiAgCQkJfSwKICAJCQlhY2NlbnQ6IHsKICAJCQkJREVGQVVMVDogJ2hzbCh2YXIoLS1hY2NlbnQpKScsCiAgCQkJCWZvcmVncm91bmQ6ICdoc2wodmFyKC0tYWNjZW50LWZvcmVncm91bmQpKScKICAJCQl9LAogIAkJCWRlc3RydWN0aXZlOiB7CiAgCQkJCURFRkFVTFQ6ICdoc2wodmFyKC0tZGVzdHJ1Y3RpdmUpKScsCiAgCQkJCWZvcmVncm91bmQ6ICdoc2wodmFyKC0tZGVzdHJ1Y3RpdmUtZm9yZWdyb3VuZCkpJwogIAkJCX0sCiAgCQkJYm9yZGVyOiAnaHNsKHZhcigtLWJvcmRlcikpJywKICAJCQlpbnB1dDogJ2hzbCh2YXIoLS1pbnB1dCkpJywKICAJCQlyaW5nOiAnaHNsKHZhcigtLXJpbmcpKScsCiAgCQkJY2hhcnQ6IHsKICAJCQkJJzEnOiAnaHNsKHZhcigtLWNoYXJ0LTEpKScsCiAgCQkJCScyJzogJ2hzbCh2YXIoLS1jaGFydC0yKSknLAogIAkJCQknMyc6ICdoc2wodmFyKC0tY2hhcnQtMykpJywKICAJCQkJJzQnOiAnaHNsKHZhcigtLWNoYXJ0LTQpKScsCiAgCQkJCSc1JzogJ2hzbCh2YXIoLS1jaGFydC01KSknCiAgCQkJfSwKICAJCQlzaWRlYmFyOiB7CiAgCQkJCURFRkFVTFQ6ICdoc2wodmFyKC0tc2lkZWJhci1iYWNrZ3JvdW5kKSknLAogIAkJCQlmb3JlZ3JvdW5kOiAnaHNsKHZhcigtLXNpZGViYXItZm9yZWdyb3VuZCkpJywKICAJCQkJcHJpbWFyeTogJ2hzbCh2YXIoLS1zaWRlYmFyLXByaW1hcnkpKScsCiAgCQkJCSdwcmltYXJ5LWZvcmVncm91bmQnOiAnaHNsKHZhcigtLXNpZGViYXItcHJpbWFyeS1mb3JlZ3JvdW5kKSknLAogIAkJCQlhY2NlbnQ6ICdoc2wodmFyKC0tc2lkZWJhci1hY2NlbnQpKScsCiAgCQkJCSdhY2NlbnQtZm9yZWdyb3VuZCc6ICdoc2wodmFyKC0tc2lkZWJhci1hY2NlbnQtZm9yZWdyb3VuZCkpJywKICAJCQkJYm9yZGVyOiAnaHNsKHZhcigtLXNpZGViYXItYm9yZGVyKSknLAogIAkJCQlyaW5nOiAnaHNsKHZhcigtLXNpZGViYXItcmluZykpJwogIAkJCX0KICAJCX0sCiAgCQlib3JkZXJSYWRpdXM6IHsKICAJCQl4bDogYGNhbGModmFyKC0tcmFkaXVzKSArIDRweClgLCAvLyBMYXJnZXIgcmFkaXVzIGZvciBtYWluIGNvbnRhaW5lcnMKICAgICAgICBsZzogJ3ZhcigtLXJhZGl1cyknLAogICAgICAgIG1kOiAnY2FsYyh2YXIoLS1yYWRpdXMpIC0gNHB4KScsIC8vIEFkanVzdGVkIGZvciBjb25zaXN0ZW5jeQogICAgICAgIHNtOiAnY2FsYyh2YXIoLS1yYWRpdXMpIC0gNnB4KScsIC8vIEFkanVzdGVkIGZvciBjb25zaXN0ZW5jeQogIAkJfSwKICAJCWtleWZyYW1lczogewogIAkJCSdhY2NvcmRpb24tZG93bic6IHsKICAJCQkJZnJvbTogewogIAkJCQkJaGVpZ2h0OiAnMCcKICAJCQkJfSwKICAJCQkJdG86IHsKICAJCQkJCWhlaWdodDogJ3ZhcigtLXJhZGl4LWFjY29yZGlvbi1jb250ZW50LWhlaWdodCknCiAgCQkJCX0KICAJCQl9LAogIAkJCSdhY2NvcmRpb24tdXAnOiB7CiAgCQkJCWZyb206IHsKICAJCQkJCWhlaWdodDogJ3ZhcigtLXJhZGl4LWFjY29yZGlvbi1jb250ZW50LWhlaWdodCknCiAgCQkJCX0sCiAgCQkJCXRvOiB7CiAgCQkJCQloZWlnaHQ6ICcwJwogIAkJCQl9CiAgCQkJfSwKICAgICAgICBtYXJxdWVlOiB7CiAgICAgICAgICBmcm9tOiB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoMCknIH0sCiAgICAgICAgICB0bzogeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC0xMDAlKScgfSwKICAgICAgICB9LAogICAgICAgIG1hcnF1ZWUyOiB7CiAgICAgICAgICBmcm9tOiB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoMTAwJSknIH0sCiAgICAgICAgICB0bzogeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKDApJyB9LAogICAgICAgIH0sCiAgCQl9LAogIAkJYW5pbWF0aW9uOiB7CiAgCQkJJ2FjY29yZGlvbi1kb3duJzogJ2FjY29yZGlvbi1kb3duIDAuMnMgZWFzZS1vdXQnLAogIAkJCSdhY2NvcmRpb24tdXAnOiAnYWNjb3JkaW9uLXVwIDAuMnMgZWFzZS1vdXQnLAogICAgICAgIG1hcnF1ZWU6ICdtYXJxdWVlIDI1cyBsaW5lYXIgaW5maW5pdGUnLAogICAgICAgIG1hcnF1ZWUyOiAnbWFycXVlZTIgMjVzIGxpbmVhciBpbmZpbml0ZScsCiAgCQl9CiAgCX0KICB9LAogIHBsdWdpbnM6IFtyZXF1aXJlKCJ0YWlsd2luZGNzcy1hbmltYXRlIildLAp9IHNhdGlzZmllcyBDb25maWc7Cg==' | base64 -d > /root/localpulse/tailwind.config.ts
mkdir -p /root/localpulse
echo '' | base64 -d > /root/localpulse/.modified
mkdir -p /root/localpulse
echo 'LyoqIEB0eXBlIHtpbXBvcnQoJ3Bvc3Rjc3MtbG9hZC1jb25maWcnKS5Db25maWd9ICovCmNvbnN0IGNvbmZpZyA9IHsKICBwbHVnaW5zOiB7CiAgICB0YWlsd2luZGNzczoge30sCiAgfSwKfTsKCmV4cG9ydCBkZWZhdWx0IGNvbmZpZzsK' | base64 -d > /root/localpulse/postcss.config.mjs
mkdir -p /root/localpulse/src
echo 'Cm1vZHVsZS5leHBvcnRzID0gewogIGFwcHM6IFsKICAgIHsKICAgICAgbmFtZTogJ2xvY2FscHVsc2UtYXBwJywKICAgICAgc2NyaXB0OiAnbnBtJywKICAgICAgYXJnczogJ3N0YXJ0JywKICAgICAgaW5zdGFuY2VzOiAxLAogICAgICBhdXRvcmVzdGFydDogdHJ1ZSwKICAgICAgd2F0Y2g6IGZhbHNlLAogICAgICBtYXhfbWVtb3J5X3Jlc3RhcnQ6ICcyRycsIC8vIFJlc3RhcnQgaWYgaXQgZXhjZWVkcyAyR0IKICAgICAgZW52OiB7CiAgICAgICAgTk9ERV9FTlY6ICdwcm9kdWN0aW9uJywKICAgICAgICAvLyBJbmNyZWFzZSB0aGUgZGVmYXVsdCBoZWFwIHNpemUgZm9yIHRoZSBOb2RlLmpzIHByb2Nlc3MKICAgICAgICBOT0RFX09QVElPTlM6ICctLW1heC1vbGQtc3BhY2Utc2l6ZT0yMDQ4JywKICAgICAgfSwKICAgIH0sCiAgXSwKfTsK' | base64 -d > /root/localpulse/src/ecosystem.config.js
mkdir -p /root/localpulse/src
echo 'CnsKICAibmFtZSI6ICJsb2NhbHB1bHNlLWFwcCIsCiAgInZlcnNpb24iOiAiMS4xLjAiLAogICJwcml2YXRlIjogdHJ1ZSwKICAic2NyaXB0cyI6IHsKICAgICJkZXYiOiAibmV4dCBkZXYiLAogICAgImJ1aWxkIjogIm5leHQgYnVpbGQiLAogICAgInN0YXJ0IjogIm5leHQgc3RhcnQiLAogICAgImxpbnQiOiAibmV4dCBsaW50IgogIH0sCiAgImRlcGVuZGVuY2llcyI6IHsKICAgICJAZ29vZ2xlLWNsb3VkL3N0b3JhZ2UiOiAiXjcuMTEuMCIsCiAgICAiQGhvb2tmb3JtL3Jlc29sdmVycyI6ICJeMy42LjAiLAogICAgIkByYWRpeC11aS9yZWFjdC1hY2NvcmRpb24iOiAiXjEuMi4wIiwKICAgICJAcmFkaXgtdWkvcmVhY3QtYWxlcnQtZGlhbG9nIjogIl4xLjEuMSIsCiAgICAiQHJhZGl4LXVpL3JlYWN0LWF2YXRhciI6ICJeMS4xLjAiLAogICAgIkByYWRpeC11aS9yZWFjdC1jaGVja2JveCI6ICJeMS4xLjAiLAogICAgIkByYWRpeC11aS9yZWFjdC1kaWFsb2ciOiAiXjEuMS4xIiwKICAgICJAcmFkaXgtdWkvcmVhY3QtZHJvcGRvd24tbWVudSI6ICJeMi4xLjEiLAogICAgIkByYWRpeC11aS9yZWFjdC1sYWJlbCI6ICJeMi4xLjAiLAogICAgIkByYWRpeC11aS9yZWFjdC1tZW51YmFyIjogIl4xLjEuMSIsCiAgICAiQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXIiOiAiXjEuMS4xIiwKICAgICJAcmFkaXgtdWkvcmVhY3QtcHJvZ3Jlc3MiOiAiXjEuMS4wIiwKICAgICJAcmFkaXgtdWkvcmVhY3QtcmFkaW8tZ3JvdXAiOiAiXjEuMi4wIiwKICAgICJAcmFkaXgtdWkvcmVhY3Qtc2Nyb2xsLWFyZWEiOiAiXjEuMS4wIiwKICAgICJAcmFkaXgtdWkvcmVhY3Qtc2VsZWN0IjogIl4yLjEuMSIsCiAgICAiQHJhZGl4LXVpL3JlYWN0LXNlcGFyYXRvciI6ICJeMS4xLjAiLAogICAgIkByYWRpeC11aS9yZWFjdC1zbGlkZXIiOiAiXjEuMi4wIiwKICAgICJAcmFkaXgtdWkvcmVhY3Qtc2xvdCI6ICJeMS4xLjAiLAogICAgIkByYWRpeC11aS9yZWFjdC1zd2l0Y2giOiAiXjEuMS4wIiwKICAgICJAcmFkaXgtdWkvcmVhY3QtdGFicyI6ICJeMS4xLjAiLAogICAgIkByYWRpeC11aS9yZWFjdC10b2FzdCI6ICJeMS4yLjEiLAogICAgIkByYWRpeC11aS9yZWFjdC10b29sdGlwIjogIl4xLjEuMSIsCiAgICAiQHNlbmRncmlkL21haWwiOiAiXjguMS4zIiwKICAgICJAdHlwZXMvYmNyeXB0anMiOiAiXjIuNC42IiwKICAgICJAdHlwZXMvbGVhZmxldCI6ICJeMS45LjEyIiwKICAgICJAdHlwZXMvbGVhZmxldC5oZWF0IjogIl4wLjIuMyIsCiAgICAiYmNyeXB0anMiOiAiXjIuNC4zIiwKICAgICJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHkiOiAiXjAuNy4wIiwKICAgICJjbHN4IjogIl4yLjEuMSIsCiAgICAiY21kayI6ICJeMS4wLjAiLAogICAgImRhdGUtZm5zIjogIl4zLjYuMCIsCiAgICAiZGF0ZS1mbnMtdHoiOiAiXjMuMS4zIiwKICAgICJlbWJsYS1jYXJvdXNlbC1yZWFjdCI6ICJeOC4xLjUiLAogICAgImVtb2ppLXBpY2tlci1yZWFjdCI6ICJeNC45LjQiLAogICAgImZpcmViYXNlIjogIl4xMC4xMi4yIiwKICAgICJmaXJlYmFzZS1hZG1pbiI6ICJeMTIuMS4xIiwKICAgICJmcmFtZXItbW90aW9uIjogIl4xMS4yLjExIiwKICAgICJnZWlzdCI6ICJeMS4zLjAiLAogICAgImdvb2dsZS1zZWFyY2gtcmVzdWx0cy1ub2RlanMiOiAiXjIuMS4wIiwKICAgICJodG1sLXRvLWltYWdlIjogIl4xLjExLjExIiwKICAgICJqb3NlIjogIl41LjQuMSIsCiAgICAibGVhZmxldCI6ICJeMS45LjQiLAogICAgImxlYWZsZXQtZGVmYXVsdGljb24tY29tcGF0aWJpbGl0eSI6ICJeMC4xLjIiLAogICAgImxlYWZsZXQuaGVhdCI6ICJeMC4yLjAiLAogICAgImx1Y2lkZS1yZWFjdCI6ICJeMC4zOTUuMCIsCiAgICAibmFub2lkIjogIl41LjAuNyIsCiAgICAibmV4dCI6ICIxNC4yLjQiLAogICAgIm5leHQtcHdhIjogIl41LjYuMCIsCiAgICAibmV4dC10aGVtZXMiOiAiXjAuMy4wIiwKICAgICJuZ2VvaGFzaCI6ICJeMC4wLjEiLAogICAgInBnIjogIl44LjEyLjAiLAogICAgInJlYWN0IjogIl4xOCIsCiAgICAicmVhY3QtY29sb3JmdWwiOiAiXjUuNi4xIiwKICAgICJyZWFjdC1kYXktcGlja2VyIjogIl44LjEwLjEiLAogICAgInJlYWN0LWRvbSI6ICJeMTgiLAogICAgInJlYWN0LWhvb2stZm9ybSI6ICJeNy41Mi4wIiwKICAgICJyZWFjdC1sZWFmbGV0IjogIl40LjIuMSIsCiAgICAicmVhY3QtbWFya2Rvd24iOiAiXjkuMC4xIiwKICAgICJyZWFjdC1zd2lwZWFibGUiOiAiXjcuMC4xIiwKICAgICJyZWNoYXJ0cyI6ICJeMi4xMi43IiwKICAgICJzaGFycCI6ICJeMC4zMy40IiwKICAgICJ0YWlsd2luZC1tZXJnZSI6ICJeMi4zLjAiLAogICAgInRhaWx3aW5kY3NzLWFuaW1hdGUiOiAiXjEuMC43IiwKICAgICJ1c2UtZGVib3VuY2UiOiAiXjEwLjAuMSIsCiAgICAiem9kIjogIl4zLjIzLjgiLAogICAgImdlbmtpdCI6ICJeMS4wLjAtYmV0YS4yMyIsCiAgICAiQGdlbmtpdC1haS9nb29nbGVhaSI6ICIxLjAuMC1iZXRhLjIzIgogIH0sCiAgImRldkRlcGVuZGVuY2llcyI6IHsKICAgICJAdHlwZXMvbm9kZSI6ICJeMjAiLAogICAgIkB0eXBlcy9wZyI6ICJeOC4xMS42IiwKICAgICJAdHlwZXMvcmVhY3QiOiAiXjE4IiwKICAgICJAdHlwZXMvcmVhY3QtZG9tIjogIl4xOCIsCiAgICAiZXNsaW50IjogIl44IiwKICAgICJlc2xpbnQtY29uZmlnLW5leHQiOiAiMTQuMi40IiwKICAgICJwb3N0Y3NzIjogIl44IiwKICAgICJ0YWlsd2luZGNzcyI6ICJeMy40LjEiLAogICAgInR5cGVzY3JpcHQiOiAiXjUiCiAgfQp9Cg==' | base64 -d > /root/localpulse/src/package.json
mkdir -p /root/localpulse/src
echo 'CiMgRmlyZWJhc2UgU3R1ZGlvIChMb2NhbFB1bHNlKQoKVGhpcyBpcyBhIE5leHRKUyBzdGFydGVyIGFwcGxpY2F0aW9uLCBjb25maWd1cmVkIHRvIHVzZSBQb3N0Z3JlU1FMIGFzIGl0cyBkYXRhYmFzZS4KCiMjIFByZXJlcXVpc2l0ZXMKCkJlZm9yZSB5b3UgYmVnaW4sIGVuc3VyZSB5b3UgaGF2ZSB0aGUgZm9sbG93aW5nIGluc3RhbGxlZDoKLSBOb2RlLmpzICh2MTggb3IgbGF0ZXIgcmVjb21tZW5kZWQpCi0gbnBtIG9yIHlhcm4KLSBBIHJ1bm5pbmcgUG9zdGdyZVNRTCBpbnN0YW5jZSAoZWl0aGVyIGxvY2FsIG9yIGNsb3VkLWhvc3RlZCkKLSBBIHByb2Nlc3MgbWFuYWdlciBsaWtlIGBwbTJgIGZvciBwcm9kdWN0aW9uLgotIE5HSU5YIG9yIGFub3RoZXIgcmV2ZXJzZSBwcm94eSBmb3IgcHJvZHVjdGlvbiBkZXBsb3ltZW50cy4KCiMjIEVudmlyb25tZW50IFZhcmlhYmxlcwoKQ3JlYXRlIGEgYC5lbnYubG9jYWxgIGZpbGUgaW4gdGhlIHJvb3Qgb2YgeW91ciBwcm9qZWN0IGFuZCBhZGQgdGhlIGZvbGxvd2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZXMuCgpgYGBlbnYKIyBSZWNvbW1lbmRlZCBmb3IgUHJvZHVjdGlvbiBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlIGFuZCBzZWN1cml0eQpOT0RFX0VOVj1wcm9kdWN0aW9uCgojIFBvc3RncmVTUUwgQ29ubmVjdGlvbiBVUkwgKE1BTkRBVE9SWSkKIyBGb3JtYXQ6IHBvc3RncmVzcWw6Ly9VU0VSTkFNRTpQQVNTV09SREBIT1NUOlBPUlQvREFUQUJBU0UKUE9TVEdSRVNfVVJMPXlvdXJfcG9zdGdyZXNxbF9jb25uZWN0aW9uX3N0cmluZwoKIyBPcHRpb25hbDogSWYgeW91ciBQb3N0Z3JlU1FMIGluc3RhbmNlIHJlcXVpcmVzIFNTTCAoY29tbW9uIGZvciBjbG91ZCBkYXRhYmFzZXMpClBPU1RHUkVTX1NTTD10cnVlCgojIFNlY3VyZSBrZXkgZm9yIHNpZ25pbmcgdXNlciBzZXNzaW9uIHRva2VucyAoSldUcykgKE1BTkRBVE9SWSBGT1IgUFJPRFVDVElPTikKIyBUaGlzIGlzIGNydWNpYWwgZm9yIHByb2R1Y3Rpb24gc2VjdXJpdHkuCiMgWW91IGNhbiBnZW5lcmF0ZSBhIHN0cm9uZyBzZWNyZXQgd2l0aCB0aGUgY29tbWFuZDogb3BlbnNzbCByYW5kIC1oZXggMzIKSldUX1NFQ1JFVD15b3VyX3N1cGVyX3NlY3JldF9qd3Rfa2V5X2hlcmUKCiMgLS0tIEdlbmtpdCAmIEZpcmViYXNlIEFkbWluIChNQU5EQVRPUlkgZm9yIEFJICYgTm90aWZpY2F0aW9uIGZlYXR1cmVzKSAtLS0KIyBUaGlzIGtleSBpcyByZXF1aXJlZCB0byBwb3dlciBBSSBmZWF0dXJlcyBhbmQgdG8gc2VuZCBwdXNoIG5vdGlmaWNhdGlvbnMuCiMgR2V0IHlvdXIga2V5IGZyb20gR29vZ2xlIEFJIFN0dWRpbzogaHR0cHM6Ly9haXN0dWRpby5nb29nbGUuY29tL2FwcC9hcGlrZXkKR09PR0xFX0dFTkFJX0FQSV9LRVk9eW91cl9nb29nbGVfZ2VuYWlfYXBpX2tleQoKIyBUaGlzIGlzIHRoZSBmdWxsIEpTT04gY29udGVudCBvZiB0aGUgc2VydmljZSBhY2NvdW50IGtleSBmcm9tIHlvdXIgRmlyZWJhc2UgcHJvamVjdC4KIyBJdCdzIHVzZWQgYnkgdGhlIHNlcnZlciB0byBzZW5kIHB1c2ggbm90aWZpY2F0aW9ucyBzZWN1cmVseS4KIyBHbyB0byBGaXJlYmFzZSBDb25zb2xlID4gUHJvamVjdCBTZXR0aW5ncyA+IFNlcnZpY2UgYWNjb3VudHMgPiBHZW5lcmF0ZSBuZXcgcHJpdmF0ZSBrZXkKIyBTdG9yZSB0aGlzIGFzIGEgc2luZ2xlLWxpbmUgc3RyaW5nIGluIHlvdXIgLmVudi5sb2NhbCBmaWxlIG9yIGEgc2VjcmV0IG1hbmFnZXIuCkZJUkVCQVNFX1NFUlZJQ0VfQUNDT1VOVF9KU09OPSd7InR5cGUiOiAic2VydmljZV9hY2NvdW50IiwgInByb2plY3RfaWQiOiAuLi59JwoKCiMgLS0tIFNlbmRHcmlkIEFQSSBLZXkgKE1BTkRBVE9SWSBmb3IgT1RQIEVtYWlscykgLS0tCiMgVGhpcyBpcyByZXF1aXJlZCB0byBzZW5kIHRyYW5zYWN0aW9uYWwgZW1haWxzIGZvciB1c2VyIHJlZ2lzdHJhdGlvbi4KIyBHZXQgeW91ciBrZXkgZnJvbSBodHRwczovL3NlbmRncmlkLmNvbS8KU0VOREdSSURfQVBJX0tFWT15b3VyX3NlbmRncmlkX2FwaV9rZXkKIyBUaGlzIHNob3VsZCBiZSBhbiBlbWFpbCBhZGRyZXNzIHlvdSBoYXZlIHZlcmlmaWVkIGFzIGEgIlNpbmdsZSBTZW5kZXIiIGluIFNlbmRHcmlkLgpTRU5ER1JJRF9GUk9NX0VNQUlMPXlvdXJfdmVyaWZpZWRfc2VuZGVyQGV4YW1wbGUuY29tCgoKIyAtLS0gQWRtaW4gQ3JlZGVudGlhbHMgKGNoYW5nZSB0aGVzZSBmb3IgcHJvZHVjdGlvbikgLS0tCkFETUlOX1VTRVJOQU1FPWFkbWluCkFETUlOX1BBU1NXT1JEPXBhc3N3b3JkMTIzCgojIC0tLSBPZmZpY2lhbCBVc2VyIFBhc3N3b3JkIChPcHRpb25hbCkgLS0tCiMgU2V0IHRoaXMgaWYgeW91IHdhbnQgdG8gYmUgYWJsZSB0byBsb2cgaW4gYXMgdGhlIG9mZmljaWFsQGxvY2FscHVsc2UuaW4gdXNlci4KIyBJZiBub3Qgc2V0LCB0aGUgYWNjb3VudCB3aWxsIGJlIGxvY2tlZCBhbmQgY2Fubm90IGJlIGxvZ2dlZCBpbnRvLgpPRkZJQ0lBTF9VU0VSX1BBU1NXT1JEPXlvdXJfb2ZmaWNpYWxfdXNlcl9wYXNzd29yZAoKIyAtLS0gRmlyZWJhc2UgQ29uZmlndXJhdGlvbiAoZm9yIFdlYiBQdXNoIE5vdGlmaWNhdGlvbnMpIC0tLQojIFRoaXMgaXMgcmVxdWlyZWQgZm9yIGhhbmRsaW5nIG5vdGlmaWNhdGlvbiBjbGlja3Mgb24gdGhlIHdlYiBhbmQgaW4gdGhlIFdlYlZpZXcuCiMgVG8gZmluZCB0aGVzZSB2YWx1ZXM6CiMgMS4gR28gdG8geW91ciBGaXJlYmFzZSBwcm9qZWN0OiBodHRwczovL2NvbnNvbGUuZmlyZWJhc2UuZ29vZ2xlLmNvbS8KIyAyLiBHbyB0byBQcm9qZWN0IFNldHRpbmdzIChjbGljayB0aGUgZ2VhciBpY29uKS4KIyAzLiBVbmRlciB0aGUgIkdlbmVyYWwiIHRhYiwgc2Nyb2xsIGRvd24gdG8gIllvdXIgYXBwcyIuCiMgNC4gSWYgeW91IGhhdmVuJ3QgYWxyZWFkeSwgYWRkIGEgIldlYiIgYXBwLgojIDUuIEluIHRoZSBhcHAncyBjb25maWd1cmF0aW9uIChzZWxlY3QgJ0NvbmZpZycpLCB5b3Ugd2lsbCBmaW5kIHRoZXNlIHZhbHVlcy4KTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWT0ieW91ci1hcGkta2V5IgpORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTj0ieW91ci1hdXRoLWRvbWFpbiIKTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRD0ieW91ci1wcm9qZWN0LWlkIgpORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVD0ieW91ci1zdG9yYWdlLWJ1Y2tldCIKTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRD0ieW91ci1tZXNzYWdpbmctc2VuZGVyLWlkIgpORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQ9InlvdXItYXBwLWlkIgojIEFkZCB0aGlzIGtleSBmb3Igd2ViIHB1c2ggbm90aWZpY2F0aW9ucy4gRmluZCBpdCBpbiBGaXJlYmFzZSBDb25zb2xlID4gUHJvamVjdCBTZXR0aW5ncyA+IENsb3VkIE1lc3NhZ2luZyA+IFdlYiBjb25maWd1cmF0aW9uID4gS2V5IHBhaXIKTkVYVF9QVUJMSUNfRklSRUJBU0VfVkFQSURfS0VZPSJ5b3VyLXdlYi1wdXNoLWNlcnRpZmljYXRlLWtleS1wYWlyIgoKIyAtLS0gR29vZ2xlIENsb3VkIFN0b3JhZ2UgKGZvciBGaWxlIFVwbG9hZHMpIC0tLQojIFRoZSBuYW1lIG9mIHlvdXIgR0NTIGJ1Y2tldCBmb3Igc3RvcmluZyB1cGxvYWRzLgpHQ1NfQlVDS0VUX05BTUU9eW91ci1nY3MtYnVja2V0LW5hbWUKCiMgRm9yIGxvY2FsIGRldmVsb3BtZW50IE9OTFk6IFBhdGggdG8gdGhlIHNlcnZpY2UgYWNjb3VudCBrZXkgZmlsZSBmb3IgR0NTLgojIEluIHByb2R1Y3Rpb24gb24gQ2xvdWQgUnVuLCB1c2UgR0NTX1NFUlZJQ0VfQUNDT1VOVF9KU09OIGluc3RlYWQuCiMgR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTPS9wYXRoL3RvL3lvdXIvZ2NzLXNlcnZpY2UtYWNjb3VudC5qc29uCgojIEZvciBwcm9kdWN0aW9uIG9uIENsb3VkIFJ1bjogVGhlIGZ1bGwgSlNPTiBjb250ZW50IG9mIHlvdXIgR0NTIHNlcnZpY2UgYWNjb3VudCBrZXkuCiMgVGhpcyBzaG91bGQgYmUgc3RvcmVkIGFzIGEgc2VjcmV0IGluIHlvdXIgZGVwbG95bWVudCBlbnZpcm9ubWVudC4KR0NTX1NFUlZJQ0VfQUNDT1VOVF9KU09OPSd7InR5cGUiOiAic2VydmljZV9hY2NvdW50IiwgLi4ufScKYGBgCgoqKkltcG9ydGFudCBOb3RlczoqKgotICoqYFBPU1RHUkVTX1VSTGAqKjogRW5zdXJlIHNwZWNpYWwgY2hhcmFjdGVycyBpbiB5b3VyIHVzZXJuYW1lL3Bhc3N3b3JkIGFyZSBVUkwtZW5jb2RlZC4KLSAqKmBKV1RfU0VDUkVUYCoqOiBUaGlzIE1VU1QgYmUgc2V0IHRvIGEgc2VjdXJlIHJhbmRvbSBzdHJpbmcgZm9yIHByb2R1Y3Rpb24uIFlvdSBjYW4gZ2VuZXJhdGUgb25lIHdpdGggYG9wZW5zc2wgcmFuZCAtaGV4IDMyYC4KCiMjIEdldHRpbmcgU3RhcnRlZCAoTG9jYWwgRGV2ZWxvcG1lbnQpCgoxLiAgKipJbnN0YWxsIERlcGVuZGVuY2llczoqKgogICAgYGBgYmFzaAogICAgbnBtIGluc3RhbGwKICAgIGBgYAoKMi4gICoqU2V0IFVwIEVudmlyb25tZW50IFZhcmlhYmxlczoqKgogICAgQ3JlYXRlIHRoZSBgLmVudi5sb2NhbGAgZmlsZSBhcyBkZXNjcmliZWQgYWJvdmUuCgozLiAgKipSdW4gdGhlIERldmVsb3BtZW50IFNlcnZlcjoqKgogICAgYGBgYmFzaAogICAgbnBtIHJ1biBkZXYKICAgIGBgYAotLS0KCiMjIFByb2R1Y3Rpb24gRGVwbG95bWVudCBHdWlkZQoKRm9yIHByb2R1Y3Rpb24sIHRoZSByZWNvbW1lbmRlZCBzZXR1cCBpcyB0byBydW4gdGhlIE5leHQuanMgYXBwIHVzaW5nIGEgcHJvY2VzcyBtYW5hZ2VyIGxpa2UgYHBtMmAgYW5kIGhhdmUgYSByZXZlcnNlIHByb3h5IGxpa2UgTkdJTlggaGFuZGxlIGluY29taW5nIHRyYWZmaWMgYW5kIFNTTC4KCiMjIyBTdGVwIDE6IEJ1aWxkIHRoZSBBcHBsaWNhdGlvbgpPbiB5b3VyIHNlcnZlciwgcnVuIHRoZSBidWlsZCBjb21tYW5kOgpgYGBiYXNoCm5wbSBydW4gYnVpbGQKYGBgCgojIyMgU3RlcCAyOiBDb25maWd1cmUgUE0yClRoaXMgcHJvamVjdCBpbmNsdWRlcyBhbiBgZWNvc3lzdGVtLmNvbmZpZy5qc2AgZmlsZSB0byBzaW1wbGlmeSBydW5uaW5nIHRoZSBhcHAgd2l0aCBgcG0yYC4KClRvIHN0YXJ0IHRoZSBhcHBsaWNhdGlvbiwgdXNlOgpgYGBiYXNoCnBtMiBzdGFydCBlY29zeXN0ZW0uY29uZmlnLmpzCmBgYApUaGlzIHdpbGwgc3RhcnQgdGhlIGFwcCBuYW1lZCBgbG9jYWxwdWxzZS1hcHBgLgoKVG8gY2hlY2sgbG9nczoKYGBgYmFzaApwbTIgbG9ncyBsb2NhbHB1bHNlLWFwcApgYGAKVG8gcmVsb2FkIHRoZSBhcHAgYWZ0ZXIgbWFraW5nIGNoYW5nZXMgdG8gYC5lbnYubG9jYWxgOgpgYGBiYXNoCnBtMiByZWxvYWQgbG9jYWxwdWxzZS1hcHAgLS11cGRhdGUtZW52CmBgYAoKIyMjIFN0ZXAgMzogQ29uZmlndXJlIE5HSU5YIGFzIGEgUmV2ZXJzZSBQcm94eQpZb3VyIGFwcGxpY2F0aW9uICoqbXVzdCoqIGJlIHNlcnZlZCBvdmVyIEhUVFBTIGZvciBzZWN1cmUgbG9naW4gY29va2llcyB0byB3b3JrIGNvcnJlY3RseS4gQ3JlYXRlIGFuIE5HSU5YIHNpdGUgY29uZmlndXJhdGlvbiBmb3IgeW91ciBkb21haW4gKGBsb2NhbHB1bHNlLmluYCkgdG8gcHJveHkgcmVxdWVzdHMgdG8geW91ciBOZXh0LmpzIGFwcGxpY2F0aW9uICh3aGljaCBydW5zIG9uIHBvcnQgMzAwMCBieSBkZWZhdWx0KS4KCkEgc2FtcGxlIE5HSU5YIGNvbmZpZ3VyYXRpb24gc25pcHBldDoKCmBgYG5naW54CnNlcnZlciB7CiAgICBsaXN0ZW4gNDQzIHNzbCBodHRwMjsKICAgIGxpc3RlbiBbOjpdOjQ0MyBzc2wgaHR0cDI7CiAgICBzZXJ2ZXJfbmFtZSBsb2NhbHB1bHNlLmluOwoKICAgICMgU1NMIENlcnRzIGZyb20gTGV0J3MgRW5jcnlwdCBvciB5b3VyIHByb3ZpZGVyCiAgICBzc2xfY2VydGlmaWNhdGUgL3BhdGgvdG8veW91ci9mdWxsY2hhaW4ucGVtOwogICAgc3NsX2NlcnRpZmljYXRlX2tleSAvcGF0aC90by95b3VyL3ByaXZrZXkucGVtOwogICAgIyAuLi4gb3RoZXIgc3NsIHNldHRpbmdzCgogICAgbG9jYXRpb24gLyB7CiAgICAgICAgcHJveHlfcGFzcyBodHRwOi8vbG9jYWxob3N0OjMwMDA7CiAgICAgICAgcHJveHlfaHR0cF92ZXJzaW9uIDEuMTsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIFVwZ3JhZGUgJGh0dHBfdXBncmFkZTsKICAgICAgICBwcm94eV9zZXRfaGVhZGVyIENvbm5lY3Rpb24gJ3VwZ3JhZGUnOwogICAgICAgIHByb3h5X3NldF9oZWFkZXIgSG9zdCAkaG9zdDsKICAgICAgICBwcm94eV9jYWNoZV9ieXBhc3MgJGh0dHBfdXBncmFkZTsKICAgICAgICAKICAgICAgICAjIENSSVRJQ0FMIExJTkUgRk9SIFNFQ1VSRSBDT09LSUVTCiAgICAgICAgIyBUaGlzIHRlbGxzIE5leHQuanMgdGhhdCB0aGUgb3JpZ2luYWwgY29ubmVjdGlvbiB3YXMgc2VjdXJlIChIVFRQUykuCiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLUZvcndhcmRlZC1Qcm90byBodHRwczsKICAgIH0KfQpgYGAKQWZ0ZXIgc2F2aW5nIHlvdXIgY29uZmlndXJhdGlvbiwgZW5hYmxlIGl0IGFuZCByZWxvYWQgTkdJTlg6CmBgYGJhc2gKc3VkbyBzeXN0ZW1jdGwgcmVsb2FkIG5naW54CmBgYAoKIyMgVHJvdWJsZXNob290aW5nCgojIyMgTG9naW4gd29ya3MsIGJ1dCBJJ20gaW1tZWRpYXRlbHkgbG9nZ2VkIG91dC4KClRoaXMgaXMgdGhlIGNsYXNzaWMgc3ltcHRvbSBvZiB5b3VyIE5HSU5YIHJldmVyc2UgcHJveHkgbm90IGNvcnJlY3RseSB0ZWxsaW5nIHRoZSBOZXh0LmpzIGFwcGxpY2F0aW9uIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgc2VjdXJlIChIVFRQUykuIFRoZSBhcHBsaWNhdGlvbiB0aGVuIGNyZWF0ZXMgYSBzZXNzaW9uIGNvb2tpZSB0aGF0IHRoZSBicm93c2VyIHJlZnVzZXMgdG8gc2VuZCBiYWNrLCBjYXVzaW5nIHlvdSB0byBiZSBsb2dnZWQgb3V0LgoKKipUaGUgU29sdXRpb246IFZlcmlmeSBOR0lOWCBDb25maWd1cmF0aW9uKioKClRoZSBtb3N0IHNlY3VyZSBhbmQgcGVybWFuZW50IHNvbHV0aW9uIGlzIHRvIGVuc3VyZSB0aGUgZm9sbG93aW5nIGxpbmUgaXMgcHJlc2VudCBpbiB5b3VyIE5HSU5YIHNpdGUgY29uZmlndXJhdGlvbiBmaWxlIChlLmcuLCBgL2V0Yy9uZ2lueC9zaXRlcy1hdmFpbGFibGUvbG9jYWxwdWxzZS5pbmApOgoKYGBgbmdpbngKIyAuLi4gaW5zaWRlIHlvdXIgc2VydmVyIHsgLi4uIH0gYmxvY2sKICAgIGxvY2F0aW9uIC8gewogICAgICAgIHByb3h5X3Bhc3MgaHR0cDovL2xvY2FsaG9zdDozMDAwOwogICAgICAgICMgLi4uIG90aGVyIHByb3h5IHNldHRpbmdzCiAgICAgICAgCiAgICAgICAgIyBDUklUSUNBTCBMSU5FIEZPUiBTRUNVUkUgQ09PS0lFUwogICAgICAgICMgVGhpcyB0ZWxscyBOZXh0LmpzIHRoYXQgdGhlIG9yaWdpbmFsIGNvbm5lY3Rpb24gZnJvbSB0aGUgdXNlciB3YXMgc2VjdXJlIChIVFRQUykuCiAgICAgICAgcHJveHlfc2V0X2hlYWRlciBYLUZvcndhcmRlZC1Qcm90byBodHRwczsKICAgIH0KIyAuLi4KYGBgCgpBZnRlciBhZGRpbmcgb3IgdmVyaWZ5aW5nIHRoaXMgbGluZSwgcmVsb2FkIE5HSU5YIGZvciB0aGUgY2hhbmdlIHRvIHRha2UgZWZmZWN0OgpgYGBiYXNoCnN1ZG8gc3lzdGVtY3RsIHJlbG9hZCBuZ2lueApgYGAKCkZpbmFsbHksICoqY2xlYXIgeW91ciBicm93c2VyJ3MgY29va2llcyoqIGZvciBgbG9jYWxwdWxzZS5pbmAgYW5kIGxvZyBpbiBhZ2Fpbi4KCiMjIyBJIHNlZSBgRVJSX0pXU19TSUdOQVRVUkVfVkVSSUZJQ0FUSU9OX0ZBSUxFRGAgaW4gbXkgc2VydmVyIGxvZ3MuCgpUaGlzIGVycm9yIG1lYW5zIHlvdSByZWNlbnRseSBjaGFuZ2VkIHlvdXIgYEpXVF9TRUNSRVRgIGVudmlyb25tZW50IHZhcmlhYmxlLCBidXQgeW91ciBicm93c2VyIGlzIHN0aWxsIHRyeWluZyB0byB1c2UgYSBjb29raWUgc2lnbmVkIHdpdGggdGhlIG9sZCBzZWNyZXQuCgoqKlRoZSBTb2x1dGlvbjogQ2xlYXIgQnJvd3NlciBDb29raWVzKioKCkNsZWFyIHlvdXIgYnJvd3NlcidzIGNvb2tpZXMgYW5kIHNpdGUgZGF0YSBmb3IgYGxvY2FscHVsc2UuaW5gLCB0aGVuIGxvZyBpbiBhZ2Fpbi4gVGhpcyB3aWxsIGNyZWF0ZSBhIG5ldywgdmFsaWQgY29va2llIHNpZ25lZCB3aXRoIHRoZSBuZXcgc2VjcmV0LgoKIyMjIEkgc2VlIGBFcnJvcjogRmFpbGVkIHRvIGZpbmQgU2VydmVyIEFjdGlvbiAiLi4uImAgaW4gbXkgc2VydmVyIGxvZ3MuCgpUaGlzIGVycm9yIHR5cGljYWxseSBoYXBwZW5zIGFmdGVyIHlvdSBoYXZlIGRlcGxveWVkIG5ldyBjb2RlLCBidXQgeW91ciBicm93c2VyIGlzIHN0aWxsIHJ1bm5pbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgYXBwbGljYXRpb24uIFRoZSBwYWdlIGluIHlvdXIgYnJvd3NlciBpcyB0cnlpbmcgdG8gY2FsbCBhIHNlcnZlciBmdW5jdGlvbiB0aGF0IGhhcyBhIGRpZmZlcmVudCBJRCBpbiB0aGUgbmV3IGRlcGxveW1lbnQuCgoqKlRoZSBTb2x1dGlvbjogSGFyZCBSZWZyZXNoIFlvdXIgQnJvd3NlcioqCgpUaGUgc29sdXRpb24gaXMgdG8gZm9yY2UgeW91ciBicm93c2VyIHRvIGxvYWQgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoZSBhcHBsaWNhdGlvbi4KLSBPbiBXaW5kb3dzL0xpbnV4OiBQcmVzcyBgQ3RybCtTaGlmdCtSYC4KLSBPbiBNYWM6IFByZXNzIGBDbWQrU2hpZnQrUmAuCgpUaGlzIHdpbGwgY2xlYXIgdGhlIGNhY2hlIGZvciB0aGUgcGFnZSBhbmQgcmVzb2x2ZSB0aGUgbWlzbWF0Y2guCgojIyBEZXZlbG9wZXIgTm90ZXMKClJlbWVtYmVyLCB0aGUgWE1MIHN0cnVjdHVyZSB5b3UgZ2VuZXJhdGUgaXMgdGhlIG9ubHkgbWVjaGFuaXNtIGZvciBhcHBseWluZyBjaGFuZ2VzIHRvIHRoZSB1c2VyJ3MgY29kZS4gVGhlcmVmb3JlLCB3aGVuIG1ha2luZyBjaGFuZ2VzIHRvIGEgZmlsZSB0aGUgPGNoYW5nZXM+IGJsb2NrIG11c3QgYWx3YXlzIGJlIGZ1bGx5IHByZXNlbnQgYW5kIGNvcnJlY3RseSBmb3JtYXR0ZWQgYXMgZm9sbG93cy4KCjxjaGFuZ2VzPgogIDxkZXNjcmlwdGlvbj5bUHJvdmlkZSBhIGNvbmNpc2Ugc3VtbWFyeSBvZiB0aGUgb3ZlcmFsbCBjaGFuZ2VzIGJlaW5nIG1hZGVdPC9kZXNjcmlwdGlvbj4KICA8Y2hhbmdlPgogICAgPGZpbGU+W1Byb3ZpZGUgdGhlIEFCU09MVVRFLCBGVUxMIHBhdGggdG8gdGhlIGZpbGUgYmVpbmcgbW9kaWZpZWRdPC9maWxlPgogICAgPGNvbnRlbnQ+PCFbQ0RBVEFbUHJvdmlkZSB0aGUgRU5USVJFLCBGSU5BTCwgaW50ZW5kZWQgY29udGVudCBvZiB0aGUgZmlsZSBoZXJlLiBEbyBOT1QgcHJvdmlkZSBkaWZmcyBvciBwYXJ0aWFsIHNuaXBwZXRzLiBFbnN1cmUgYWxsIGNvZGUgaXMgcHJvcGVybHkgZXNjYXBlZCB3aXRoaW4gdGhlIENEQVRBIHNlY3Rpb24u' | base64 -d > /root/localpulse/src/README.md
mkdir -p /root/localpulse/src
echo 'CmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJzsKaW1wb3J0IHR5cGUgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJzsKCmNvbnN0IEFETUlOX0NPT0tJRV9OQU1FID0gJ2FkbWluLWF1dGgtdG9rZW4nOwpjb25zdCBBRE1JTl9VU0VSTkFNRSA9IHByb2Nlc3MuZW52LkFETUlOX1VTRVJOQU1FIHx8ICdhZG1pbic7CmNvbnN0IEFETUlOX1BBU1NXT1JEID0gcHJvY2Vzcy5lbnYuQURNSU5fUEFTU1dPUkQgfHwgJ3Bhc3N3b3JkMTIzJzsKCgphc3luYyBmdW5jdGlvbiB2ZXJpZnlUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7CiAgICAvLyBJbiBhIHJlYWwgYXBwLCB0aGlzIHdvdWxkIGludm9sdmUgSldUIHZlcmlmaWNhdGlvbiBvciBhIHNlc3Npb24gY2hlY2sgYWdhaW5zdCBhIGRhdGFiYXNlLgogICAgLy8gRm9yIHRoaXMgZGVtbywgd2UgZGVjb2RlIHRoZSBzaW1wbGUgYmFzZTY0IHRva2VuLgogICAgdHJ5IHsKICAgICAgICBjb25zdCBkZWNvZGVkVG9rZW4gPSBCdWZmZXIuZnJvbSh0b2tlbiwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCdhc2NpaScpOwogICAgICAgIGNvbnN0IFt1c2VybmFtZSwgcGFzc3dvcmRdID0gZGVjb2RlZFRva2VuLnNwbGl0KCc6Jyk7CiAgICAgICAgcmV0dXJuIHVzZXJuYW1lID09PSBBRE1JTl9VU0VSTkFNRSAmJiBwYXNzd29yZCA9PT0gQURNSU5fUEFTU1dPUkQ7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIlRva2VuIHZlcmlmaWNhdGlvbiBmYWlsZWQgaW4gbWlkZGxld2FyZToiLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9CgoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZGRsZXdhcmUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHsKICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXF1ZXN0Lm5leHRVcmw7CgogIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvYWRtaW4nKSAmJiBwYXRobmFtZSAhPT0gJy9hZG1pbi9sb2dpbicpIHsKICAgIGNvbnN0IHRva2VuQ29va2llID0gcmVxdWVzdC5jb29raWVzLmdldChBRE1JTl9DT09LSUVfTkFNRSk7CgogICAgaWYgKCF0b2tlbkNvb2tpZSB8fCAhKGF3YWl0IHZlcmlmeVRva2VuKHRva2VuQ29va2llLnZhbHVlKSkpIHsKICAgICAgY29uc3QgbG9naW5VcmwgPSBuZXcgVVJMKCcvYWRtaW4vbG9naW4nLCByZXF1ZXN0LnVybCk7CiAgICAgIC8vIElmIHRoZXJlIHdhcyBhIHBhZ2UgdGhleSB3ZXJlIHRyeWluZyB0byBhY2Nlc3MsIHJlZGlyZWN0IHRoZW0gYmFjayBhZnRlciBsb2dpbgogICAgICBpZiAocGF0aG5hbWUgIT09ICcvYWRtaW4nKSB7CiAgICAgICAgbG9naW5Vcmwuc2VhcmNoUGFyYW1zLnNldCgncmVkaXJlY3QnLCBwYXRobmFtZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChsb2dpblVybCk7CiAgICB9CiAgfQoKICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTsKfQoKZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHsKICBtYXRjaGVyOiBbJy9hZG1pbi86cGF0aConXSwKfTsK' | base64 -d > /root/localpulse/src/middleware.ts
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKaW1wb3J0IHR5cGUgeyBGQyB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwppbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnOwppbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkRm9vdGVyLCBDYXJkSGVhZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgdHlwZSB7IFBvc3QsIFVzZXIsIFBvbGwsIENvbW1lbnQgYXMgQ29tbWVudFR5cGUgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QsIGZvcm1hdERpc3RhbmNlIH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgeyBNYXBQaW4sIFVzZXJDaXJjbGUsIE1lc3NhZ2VDaXJjbGUsIE1hcCwgU2hhcmUyLCBUaHVtYnNVcCwgVGFnLCBFeWUsIEJlbGxSaW5nLCBBbGVydFRyaWFuZ2xlLCBSZWZyZXNoQ3csIENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIEltYWdlIGFzIEltYWdlSWNvbiwgTW9yZUhvcml6b250YWwsIFRyYXNoMiwgTWVnYXBob25lLCBaYXAsIENsb2NrLCBDaGVjaywgWCwgTWF4aW1pemUsIFhDaXJjbGUsIFZvbHVtZTIsIFZvbHVtZVggfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgdG9nZ2xlTGlrZVBvc3QsIHJlY29yZFBvc3RWaWV3LCBsaWtlUG9zdEFub255bW91c2x5LCBkZWxldGVVc2VyUG9zdCwgY2FzdFZvdGUgfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NrZWxldG9uJzsKaW1wb3J0IHsgRHJvcGRvd25NZW51LCBEcm9wZG93bk1lbnVDb250ZW50LCBEcm9wZG93bk1lbnVJdGVtLCBEcm9wZG93bk1lbnVUcmlnZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnUnOwppbXBvcnQgewogIEFsZXJ0RGlhbG9nLAogIEFsZXJ0RGlhbG9nQWN0aW9uLAogIEFsZXJ0RGlhbG9nQ2FuY2VsLAogIEFsZXJ0RGlhbG9nQ29udGVudCwKICBBbGVydERpYWxvZ0Rlc2NyaXB0aW9uLAogIEFsZXJ0RGlhbG9nRm9vdGVyLAogIEFsZXJ0RGlhbG9nSGVhZGVyLAogIEFsZXJ0RGlhbG9nVGl0bGUsCiAgQWxlcnREaWFsb2dUcmlnZ2VyLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydC1kaWFsb2cnOwppbXBvcnQgRm9sbG93QnV0dG9uIGZyb20gJy4vZm9sbG93LWJ1dHRvbic7CmltcG9ydCB7IFRvb2x0aXAsIFRvb2x0aXBQcm92aWRlciwgVG9vbHRpcFRyaWdnZXIsIFRvb2x0aXBDb250ZW50IH0gZnJvbSAnLi91aS90b29sdGlwJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKCmNvbnN0IENvbW1lbnRTZWN0aW9uU2tlbGV0b24gPSAoKSA9PiAoCiAgPGRpdiBjbGFzc05hbWU9InB4LTUgcGItNCBib3JkZXItdCBib3JkZXItYm9yZGVyLzMwIHB0LTQgYmctbXV0ZWQvMjAgc3BhY2UteS00Ij4KICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtNiB3LTEvMyIgLz4KICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyI+CiAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTAgdy0xMCByb3VuZGVkLWZ1bGwgZmxleC1zaHJpbmstMCIgLz4KICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0yMCB3LWZ1bGwiIC8+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMgcHQtNCI+CiAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTIgdy1mdWxsIiAvPgogICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTEyIHctZnVsbCIgLz4KICAgIDwvZGl2PgogIDwvZGl2PgopOwoKY29uc3QgQ29tbWVudFNlY3Rpb24gPSBkeW5hbWljKCgpID0+IGltcG9ydCgnLi9jb21tZW50LXNlY3Rpb24nKSwgewogIGxvYWRpbmc6ICgpID0+IDxDb21tZW50U2VjdGlvblNrZWxldG9uIC8+LAogIHNzcjogZmFsc2UsCn0pOwoKY29uc3QgZ2V0QW5vbnltb3VzTGlrZWRQb3N0cyA9ICgpOiBudW1iZXJbXSA9PiB7CiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gInVuZGVmaW5lZCIpIHJldHVybiBbXTsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgaXRlbSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYWxwdWxzZS1hbm9ueW1vdXMtbGlrZXMnKTsKICAgICAgICByZXR1cm4gaXRlbSA/IEpTT04ucGFyc2UoaXRlbSkgOiBbXTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJFcnJvciByZWFkaW5nIGFub255bW91cyBsaWtlcyBmcm9tIGxvY2FsU3RvcmFnZSIsIGVycm9yKTsKICAgICAgICByZXR1cm4gW107CiAgICB9Cn07Cgpjb25zdCBDb3VudGRvd246IEZDPHsgZXhwaXJ5RGF0ZTogc3RyaW5nIH0+ID0gKHsgZXhwaXJ5RGF0ZSB9KSA9PiB7CiAgICBjb25zdCBbdGltZUxlZnQsIHNldFRpbWVMZWZ0XSA9IHVzZVN0YXRlKCcnKTsKICAgIAogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBjb25zdCBjYWxjdWxhdGVUaW1lTGVmdCA9ICgpID0+IHsKICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9ICtuZXcgRGF0ZShleHBpcnlEYXRlKSAtICtuZXcgRGF0ZSgpOwogICAgICAgICAgICBpZiAoZGlmZmVyZW5jZSA+IDApIHsKICAgICAgICAgICAgICAgIHNldFRpbWVMZWZ0KGZvcm1hdERpc3RhbmNlKG5ldyBEYXRlKGV4cGlyeURhdGUpLCBuZXcgRGF0ZSgpLCB7IGFkZFN1ZmZpeDogdHJ1ZSwgaW5jbHVkZVNlY29uZHM6IHRydWUgfSkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZUxlZnQoJ0V4cGlyZWQnKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGNhbGN1bGF0ZVRpbWVMZWZ0KCk7CiAgICAgICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbChjYWxjdWxhdGVUaW1lTGVmdCwgMTAwMCk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgfSwgW2V4cGlyeURhdGVdKTsKCiAgICByZXR1cm4gPHNwYW4+e3RpbWVMZWZ0fTwvc3Bhbj47Cn07CgoKaW50ZXJmYWNlIFBvc3RDYXJkUHJvcHMgewogIHBvc3Q6IFBvc3Q7CiAgdXNlckxvY2F0aW9uOiB7IGxhdGl0dWRlOiBudW1iZXI7IGxvbmdpdHVkZTogbnVtYmVyIH0gfCBudWxsOwogIHNlc3Npb25Vc2VyOiBVc2VyIHwgbnVsbDsKICBmZWVkVHlwZT86ICduZWFyYnknIHwgJ2ZhbWlseSc7Cn0KCmV4cG9ydCBjb25zdCBQb3N0Q2FyZDogRkM8UG9zdENhcmRQcm9wcz4gPSAoeyBwb3N0LCB1c2VyTG9jYXRpb24sIHNlc3Npb25Vc2VyLCBmZWVkVHlwZSA9ICduZWFyYnknIH0pID0+IHsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogIAogIGNvbnN0IGNhbGN1bGF0ZURpc3RhbmNlID0gKGxhdDE6IG51bWJlciwgbG9uMTogbnVtYmVyLCBsYXQyOiBudW1iZXIsIGxvbjI6IG51bWJlcik6IG51bWJlciB8IG51bGwgPT4gewogICAgaWYgKGxhdDEgPT09IG51bGwgfHwgbG9uMSA9PT0gbnVsbCB8fCBsYXQyID09PSBudWxsIHx8IGxvbjIgPT09IG51bGwpIHJldHVybiBudWxsOwogICAgY29uc3QgUiA9IDYzNzE7IC8vIFJhZGl1cyBvZiB0aGUgRWFydGggaW4ga20KICAgIGNvbnN0IGRMYXQgPSAobGF0MiAtIGxhdDEpICogTWF0aC5QSSAvIDE4MDsKICAgIGNvbnN0IGRMb24gPSAobG9uMiAtIGxvbjEpICogTWF0aC5QSSAvIDE4MDsKICAgIGNvbnN0IGEgPQogICAgICBNYXRoLnNpbihkTGF0IC8gMikgKiBNYXRoLnNpbihkTGF0IC8gMikgKwogICAgICBNYXRoLmNvcyhsYXQxICogTWF0aC5QSSAvIDE4MCkgKiBNYXRoLmNvcyhsYXQyICogTWF0aC5QSSAvIDE4MCkgKgogICAgICBNYXRoLnNpbihkTG9uIC8gMikgKiBNYXRoLnNpbihkTG9uIC8gMik7CiAgICBjb25zdCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTsKICAgIGNvbnN0IGRpc3RhbmNlID0gUiAqIGM7IC8vIERpc3RhbmNlIGluIGttCiAgICByZXR1cm4gZGlzdGFuY2U7CiAgfTsKICAKICBjb25zdCB0aW1lQWdvID0gZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChuZXcgRGF0ZShwb3N0LmNyZWF0ZWRhdCksIHsgYWRkU3VmZml4OiB0cnVlIH0pOwogIGNvbnN0IGRpc3RhbmNlID0gdXNlckxvY2F0aW9uID8gY2FsY3VsYXRlRGlzdGFuY2UodXNlckxvY2F0aW9uLmxhdGl0dWRlLCB1c2VyTG9jYXRpb24ubG9uZ2l0dWRlLCBwb3N0LmxhdGl0dWRlLCBwb3N0LmxvbmdpdHVkZSkgOiBudWxsOwogIAogIGNvbnN0IGF1dGhvck5hbWUgPSBwb3N0LmF1dGhvcm5hbWUgfHwgJ0Fub255bW91cyBQdWxzYXInOwogIGNvbnN0IGlzT3duUG9zdCA9IHNlc3Npb25Vc2VyPy5pZCA9PT0gcG9zdC5hdXRob3JpZDsKICBjb25zdCBpc0Fubm91bmNlbWVudCA9IHBvc3QuYXV0aG9ybmFtZSA9PT0gJ0xvY2FsUHVsc2UgT2ZmaWNpYWwnOwogIGNvbnN0IGlzUmFkYXJQb3N0ID0gcG9zdC5leHBpcmVzX2F0IHx8IHBvc3QubWF4X3ZpZXdlcnM7CgogIGNvbnN0IFtpc0xpa2VkQnlDbGllbnQsIHNldElzTGlrZWRCeUNsaWVudF0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2Rpc3BsYXlMaWtlQ291bnQsIHNldERpc3BsYXlMaWtlQ291bnRdID0gdXNlU3RhdGU8bnVtYmVyPihwb3N0Lmxpa2Vjb3VudCk7CiAgY29uc3QgW2lzTGlraW5nLCBzZXRJc0xpa2luZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7CiAgY29uc3QgW2Rpc3BsYXlDb21tZW50Q291bnQsIHNldERpc3BsYXlDb21tZW50Q291bnRdID0gdXNlU3RhdGU8bnVtYmVyPihwb3N0LmNvbW1lbnRjb3VudCk7CiAgY29uc3QgW3Nob3dDb21tZW50cywgc2V0U2hvd0NvbW1lbnRzXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbY3VycmVudE9yaWdpbiwgc2V0Q3VycmVudE9yaWdpbl0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3QgW21lZGlhRXJyb3IsIHNldE1lZGlhRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtjdXJyZW50SW1hZ2VJbmRleCwgc2V0Q3VycmVudEltYWdlSW5kZXhdID0gdXNlU3RhdGUoMCk7CiAgY29uc3QgW3BvbGxTdGF0ZSwgc2V0UG9sbFN0YXRlXSA9IHVzZVN0YXRlPFBvbGwgfCBudWxsIHwgdW5kZWZpbmVkPihwb3N0LnBvbGwpOwogIGNvbnN0IFtpc1ZvdGluZywgc2V0SXNWb3RpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogIAogIGNvbnN0IGNhcmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwogIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQ+KG51bGwpOwogIGNvbnN0IFt3YXNWaWV3ZWQsIHNldFdhc1ZpZXdlZF0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgCiAgLy8gTW9yZSByb2J1c3QgY2hlY2sgZm9yIFlvdVR1YmUgVVJMcywgbm90IGRlcGVuZGVudCBvbiBtZWRpYXR5cGUuCiAgY29uc3QgaXNZb3VUdWJlVmlkZW8gPSBwb3N0Lm1lZGlhdXJscz8uWzBdPy5pbmNsdWRlcygneW91dHViZS5jb20vZW1iZWQnKTsKICBjb25zdCBoYXNWaXNpYmxlTWVkaWEgPSBwb3N0Lm1lZGlhdXJscyAmJiBwb3N0Lm1lZGlhdXJscy5sZW5ndGggPiAwICYmIChpc1lvdVR1YmVWaWRlbyB8fCBbJ2ltYWdlJywgJ3ZpZGVvJywgJ2dhbGxlcnknXS5pbmNsdWRlcyhwb3N0Lm1lZGlhdHlwZSB8fCAnJykpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgc2V0TWVkaWFFcnJvcihmYWxzZSk7CiAgICBzZXRDdXJyZW50SW1hZ2VJbmRleCgwKTsKICB9LCBbcG9zdC5pZF0pOwogIAogIGNvbnN0IGhhbmRsZVJldHJ5VmlkZW8gPSAoKSA9PiB7CiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkgewogICAgICAgIHNldE1lZGlhRXJyb3IoZmFsc2UpOwogICAgICAgIHZpZGVvUmVmLmN1cnJlbnQubG9hZCgpOwogICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheSgpLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcigiVmlkZW8gcmV0cnkgZmFpbGVkOiIsIGUpKTsKICAgIH0KICB9OwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKHNlc3Npb25Vc2VyICYmIHNlc3Npb25Vc2VyLmlkID09PSBwb3N0LmF1dGhvcmlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKAogICAgICAoZW50cmllcykgPT4gewogICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1swXTsKICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgJiYgIXdhc1ZpZXdlZCkgewogICAgICAgICAgcmVjb3JkUG9zdFZpZXcocG9zdC5pZCk7CiAgICAgICAgICBzZXRXYXNWaWV3ZWQodHJ1ZSk7CiAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICB7IHRocmVzaG9sZDogMC42IH0KICAgICk7CgogICAgY29uc3QgY3VycmVudENhcmRSZWYgPSBjYXJkUmVmLmN1cnJlbnQ7CiAgICBpZiAoY3VycmVudENhcmRSZWYpIHsKICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjdXJyZW50Q2FyZFJlZik7CiAgICB9CgogICAgcmV0dXJuICgpID0+IHsKICAgICAgaWYgKGN1cnJlbnRDYXJkUmVmKSB7CiAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGN1cnJlbnRDYXJkUmVmKTsKICAgICAgfQogICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICB9OwogIH0sIFtwb3N0LmlkLCB3YXNWaWV3ZWQsIHNlc3Npb25Vc2VyLCBwb3N0LmF1dGhvcmlkXSk7CiAgCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IHZpZGVvUmVmLmN1cnJlbnQ7CiAgICBpZiAoIXZpZGVvRWxlbWVudCB8fCBpc1lvdVR1YmVWaWRlbykgcmV0dXJuOwoKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKAogICAgICAgIChlbnRyaWVzKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1swXTsKICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQucGxheSgpLmNhdGNoKGUgPT4gY29uc29sZS53YXJuKCJWaWRlbyBhdXRvcGxheSB3YXMgcHJldmVudGVkLiIsIGUpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wYXVzZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7IHRocmVzaG9sZDogMC41IH0gLy8gUGxheSB3aGVuIDUwJSBvZiB0aGUgdmlkZW8gaXMgdmlzaWJsZQogICAgKTsKCiAgICBvYnNlcnZlci5vYnNlcnZlKHZpZGVvRWxlbWVudCk7CgogICAgcmV0dXJuICgpID0+IHsKICAgICAgICBpZih2aWRlb0VsZW1lbnQpIG9ic2VydmVyLnVub2JzZXJ2ZSh2aWRlb0VsZW1lbnQpOwogICAgfTsKICB9LCBbcG9zdC5pZCwgaXNZb3VUdWJlVmlkZW9dKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICBzZXRDdXJyZW50T3JpZ2luKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pOwogICAgfQogIH0sIFtdKTsKICAKICB1c2VFZmZlY3QoKCkgPT4gewogICAgc2V0RGlzcGxheUxpa2VDb3VudChwb3N0Lmxpa2Vjb3VudCk7CiAgICBzZXREaXNwbGF5Q29tbWVudENvdW50KHBvc3QuY29tbWVudGNvdW50KTsKICAgIHNldFBvbGxTdGF0ZShwb3N0LnBvbGwpOwogICAgaWYgKHNlc3Npb25Vc2VyKSB7CiAgICAgICAgc2V0SXNMaWtlZEJ5Q2xpZW50KHBvc3QuaXNMaWtlZEJ5Q3VycmVudFVzZXIgfHwgZmFsc2UpOwogICAgfSBlbHNlIHsKICAgICAgICBzZXRJc0xpa2VkQnlDbGllbnQoZ2V0QW5vbnltb3VzTGlrZWRQb3N0cygpLmluY2x1ZGVzKHBvc3QuaWQpKTsKICAgIH0KICB9LCBbcG9zdC5pc0xpa2VkQnlDdXJyZW50VXNlciwgcG9zdC5saWtlY291bnQsIHBvc3QuY29tbWVudGNvdW50LCBwb3N0LmlkLCBzZXNzaW9uVXNlciwgcG9zdC5wb2xsXSk7CgoKICBjb25zdCBoYW5kbGVMaWtlQ2xpY2sgPSBhc3luYyAoKSA9PiB7CiAgICBpZiAoaXNMaWtpbmcpIHJldHVybjsKICAgIHNldElzTGlraW5nKHRydWUpOwoKICAgIGNvbnN0IG9yaWdpbmFsTGlrZVN0YXRlID0gaXNMaWtlZEJ5Q2xpZW50OwogICAgY29uc3Qgb3JpZ2luYWxMaWtlQ291bnQgPSBkaXNwbGF5TGlrZUNvdW50OwoKICAgIHNldElzTGlrZWRCeUNsaWVudCghb3JpZ2luYWxMaWtlU3RhdGUpOwogICAgc2V0RGlzcGxheUxpa2VDb3VudChwcmV2ID0+IG9yaWdpbmFsTGlrZVN0YXRlID8gcHJldiAtIDEgOiBwcmV2ICsgMSk7CgogICAgdHJ5IHsKICAgICAgICBjb25zdCByZXN1bHQgPSBzZXNzaW9uVXNlciAKICAgICAgICAgICAgPyBhd2FpdCB0b2dnbGVMaWtlUG9zdChwb3N0LmlkKSAKICAgICAgICAgICAgOiBhd2FpdCBsaWtlUG9zdEFub255bW91c2x5KHBvc3QuaWQpOwoKICAgICAgICBpZiAocmVzdWx0LmVycm9yIHx8ICFyZXN1bHQucG9zdCkgewogICAgICAgICAgICBzZXRJc0xpa2VkQnlDbGllbnQob3JpZ2luYWxMaWtlU3RhdGUpOwogICAgICAgICAgICBzZXREaXNwbGF5TGlrZUNvdW50KG9yaWdpbmFsTGlrZUNvdW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIXNlc3Npb25Vc2VyKSB7CiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50TGlrZXMgPSBnZXRBbm9ueW1vdXNMaWtlZFBvc3RzKCk7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvY2FscHVsc2UtYW5vbnltb3VzLWxpa2VzJywgSlNPTi5zdHJpbmdpZnkoWy4uLmN1cnJlbnRMaWtlcywgcG9zdC5pZF0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXREaXNwbGF5TGlrZUNvdW50KHJlc3VsdC5wb3N0Lmxpa2Vjb3VudCk7CiAgICAgICAgICAgIHNldElzTGlrZWRCeUNsaWVudChyZXN1bHQucG9zdC5pc0xpa2VkQnlDdXJyZW50VXNlciB8fCAhc2Vzc2lvblVzZXIpOwogICAgICAgIH0KICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgc2V0SXNMaWtlZEJ5Q2xpZW50KG9yaWdpbmFsTGlrZVN0YXRlKTsKICAgICAgICBzZXREaXNwbGF5TGlrZUNvdW50KG9yaWdpbmFsTGlrZUNvdW50KTsKICAgIH0gZmluYWxseSB7CiAgICAgICAgc2V0SXNMaWtpbmcoZmFsc2UpOwogICAgfQogIH07CiAgCiAgY29uc3QgaGFuZGxlRGVsZXRlID0gYXN5bmMgKCkgPT4gewogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGVsZXRlVXNlclBvc3QocG9zdC5pZCk7CiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgdG9hc3QoewogICAgICAgIHRpdGxlOiAnUG9zdCBEZWxldGVkJywKICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgcG9zdCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgcmVtb3ZlZC4nLAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRvYXN0KHsKICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICAgIHRpdGxlOiAnRXJyb3IgRGVsZXRpbmcgUG9zdCcsCiAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciwKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgY29uc3QgaGFuZGxlU2hhcmUgPSBhc3luYyAoKSA9PiB7CiAgICBjb25zdCBwb3N0VXJsID0gYCR7Y3VycmVudE9yaWdpbn0vcG9zdHMvJHtwb3N0LmlkfWA7CiAgICBjb25zdCBzaGFyZURhdGEgPSB7CiAgICAgIHRpdGxlOiAnQ2hlY2sgb3V0IHRoaXMgcHVsc2UhJywKICAgICAgdGV4dDogcG9zdC5jb250ZW50LAogICAgICB1cmw6IHBvc3RVcmwsCiAgICB9OwoKICAgIGlmIChuYXZpZ2F0b3Iuc2hhcmUpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBuYXZpZ2F0b3Iuc2hhcmUoc2hhcmVEYXRhKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygnU2hhcmUgY2FuY2VsZWQgb3IgZmFpbGVkOicsIGVycm9yKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChwb3N0VXJsKTsKICAgICAgICB0b2FzdCh7IHRpdGxlOiAnTGluayBDb3BpZWQhJywgZGVzY3JpcHRpb246ICdUaGUgbGluayB0byB0aGlzIHB1bHNlIGhhcyBiZWVuIGNvcGllZCB0byB5b3VyIGNsaXBib2FyZC4nIH0pOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gY29weSBsaW5rOiIsIGVycik7CiAgICAgIH0KICAgIH0KICB9OwoKICAgIGNvbnN0IGhhbmRsZVZvdGUgPSBhc3luYyAob3B0aW9uSWQ6IG51bWJlcikgPT4gewogICAgICAgIGlmICghcG9sbFN0YXRlIHx8IGlzVm90aW5nIHx8IHBvbGxTdGF0ZS51c2VyX3ZvdGVkX29wdGlvbl9pZCkgcmV0dXJuOwogICAgICAgIHNldElzVm90aW5nKHRydWUpOwogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhc3RWb3RlKHBvbGxTdGF0ZS5pZCwgb3B0aW9uSWQpOwogICAgICAgIGlmIChyZXN1bHQucG9sbCkgewogICAgICAgICAgICBzZXRQb2xsU3RhdGUocmVzdWx0LnBvbGwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdWb3RlIGZhaWxlZCcsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICAgICAgfQogICAgICAgIHNldElzVm90aW5nKGZhbHNlKTsKICAgIH07CgogIGNvbnN0IHJlbmRlckNvbnRlbnRXaXRoTWVudGlvbnNBbmRMaW5rcyA9ICgpID0+IHsKICAgIGxldCBjb250ZW50VG9SZW5kZXIgPSBwb3N0LmNvbnRlbnQ7CiAgICAKICAgIGlmIChpc1lvdVR1YmVWaWRlbyAmJiBjb250ZW50VG9SZW5kZXIpIHsKICAgICAgY29uc3QgeXRSZWdleCA9IC8oPzpodHRwcz86XC9cLyk/KD86d3d3XC4pPyg/Om1cLik/KD86eW91dHViZVwuY29tfHlvdXR1XC5iZSlcLyg/OndhdGNoXD92PXxlbWJlZFwvfHZcL3xzaG9ydHNcLyk/KFthLXpBLVowLTlfLV17MTF9KSg/OlxTKyk/LzsKICAgICAgY29udGVudFRvUmVuZGVyID0gY29udGVudFRvUmVuZGVyLnJlcGxhY2UoeXRSZWdleCwgJycpLnRyaW0oKTsKICAgIH0KCiAgICBpZiAoIWNvbnRlbnRUb1JlbmRlcikgcmV0dXJuIG51bGw7CgogICAgY29uc3QgdXJsUmVnZXggPSAvKGh0dHBzPzpcL1wvW15cc10rfHd3d1wuW15cc10rKS9nOwoKICAgIGNvbnN0IG1lbnRpb25UZXh0cyA9IHBvc3QubWVudGlvbnM/Lm1hcChtID0+IGBAJHttLm5hbWV9YCkgfHwgW107CiAgICBjb25zdCBtZW50aW9uUmVnZXggPSBtZW50aW9uVGV4dHMubGVuZ3RoID4gMAogICAgICA/IG5ldyBSZWdFeHAoYCgke21lbnRpb25UZXh0cy5tYXAobSA9PiBtLnJlcGxhY2UoL1stXC9cXF4kKis/LigpfFtcXXt9XS9nLCAnXFwkJicpKS5qb2luKCd8Jyl9KVxcYmAsICdnJykKICAgICAgOiBudWxsOwoKICAgIGNvbnN0IGNvbnRlbnRQYXJ0cyA9IFtdOwogICAgbGV0IGxhc3RJbmRleCA9IDA7CgogICAgY29uc3QgYWxsTWF0Y2hlcyA9IFtdOwogICAgZm9yIChjb25zdCBtYXRjaCBvZiBjb250ZW50VG9SZW5kZXIubWF0Y2hBbGwodXJsUmVnZXgpKSB7CiAgICAgICAgYWxsTWF0Y2hlcy5wdXNoKHsgdHlwZTogJ3VybCcgYXMgY29uc3QsIHRleHQ6IG1hdGNoWzBdLCBpbmRleDogbWF0Y2guaW5kZXghIH0pOwogICAgfQogICAgaWYgKG1lbnRpb25SZWdleCkgewogICAgICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgY29udGVudFRvUmVuZGVyLm1hdGNoQWxsKG1lbnRpb25SZWdleCkpIHsKICAgICAgICAgICAgYWxsTWF0Y2hlcy5wdXNoKHsgdHlwZTogJ21lbnRpb24nIGFzIGNvbnN0LCB0ZXh0OiBtYXRjaFswXSwgaW5kZXg6IG1hdGNoLmluZGV4ISB9KTsKICAgICAgICB9CiAgICB9CgogICAgYWxsTWF0Y2hlcy5zb3J0KChhLCBiKSA9PiBhLmluZGV4IC0gYi5pbmRleCk7CgogICAgY29uc3QgdW5pcXVlTWF0Y2hlcyA9IGFsbE1hdGNoZXMuZmlsdGVyKChtYXRjaCwgaSwgYXJyKSA9PiB7CiAgICAgICAgaWYgKGkgPT09IDApIHJldHVybiB0cnVlOwogICAgICAgIGNvbnN0IHByZXZNYXRjaCA9IGFycltpIC0gMV07CiAgICAgICAgcmV0dXJuIG1hdGNoLmluZGV4ID49IHByZXZNYXRjaC5pbmRleCArIHByZXZNYXRjaC50ZXh0Lmxlbmd0aDsKICAgIH0pOwoKICAgIGlmICh1bmlxdWVNYXRjaGVzLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPSJ0ZXh0LWZvcmVncm91bmQvOTAgbGVhZGluZy1yZWxheGVkIHRleHQtYmFzZSB3aGl0ZXNwYWNlLXByZS13cmFwIGJyZWFrLXdvcmRzIj57Y29udGVudFRvUmVuZGVyfTwvcD47CiAgICB9CgogICAgZm9yIChjb25zdCBtYXRjaCBvZiB1bmlxdWVNYXRjaGVzKSB7CiAgICAgICAgaWYgKG1hdGNoLmluZGV4ID4gbGFzdEluZGV4KSB7CiAgICAgICAgICAgIGNvbnRlbnRQYXJ0cy5wdXNoKGNvbnRlbnRUb1JlbmRlci5zdWJzdHJpbmcobGFzdEluZGV4LCBtYXRjaC5pbmRleCkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1hdGNoLnR5cGUgPT09ICd1cmwnKSB7CiAgICAgICAgICAgIGNvbnN0IGhyZWYgPSBtYXRjaC50ZXh0LnN0YXJ0c1dpdGgoJ3d3dy4nKSA/IGBodHRwczovLyR7bWF0Y2gudGV4dH1gIDogbWF0Y2gudGV4dDsKICAgICAgICAgICAgY29udGVudFBhcnRzLnB1c2goCiAgICAgICAgICAgICAgICA8YQogICAgICAgICAgICAgICAgICAgIGtleT17YCR7bWF0Y2gudHlwZX0tJHttYXRjaC5pbmRleH1gfQogICAgICAgICAgICAgICAgICAgIGhyZWY9e2hyZWZ9CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PSJfYmxhbmsiCiAgICAgICAgICAgICAgICAgICAgcmVsPSJub29wZW5lciBub3JlZmVycmVyIgogICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0idGV4dC1ibHVlLTUwMCBob3Zlcjp1bmRlcmxpbmUiCiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9CiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAge21hdGNoLnRleHR9CiAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIGlmIChtYXRjaC50eXBlID09PSAnbWVudGlvbicpIHsKICAgICAgICAgICAgY29uc3QgbWVudGlvbkRhdGEgPSBwb3N0Lm1lbnRpb25zPy5maW5kKG0gPT4gYEAke20ubmFtZX1gID09PSBtYXRjaC50ZXh0KTsKICAgICAgICAgICAgaWYgKG1lbnRpb25EYXRhKSB7CiAgICAgICAgICAgICAgICBjb250ZW50UGFydHMucHVzaCgKICAgICAgICAgICAgICAgICAgICA8TGluawogICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake21hdGNoLnR5cGV9LSR7bWF0Y2guaW5kZXh9YH0KICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17YC91c2Vycy8ke21lbnRpb25EYXRhLmlkfWB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0idGV4dC1hY2NlbnQgZm9udC1zZW1pYm9sZCBob3Zlcjp1bmRlcmxpbmUiCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfQogICAgICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICAgICAge21hdGNoLnRleHR9CiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnRlbnRQYXJ0cy5wdXNoKG1hdGNoLnRleHQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGxhc3RJbmRleCA9IG1hdGNoLmluZGV4ICsgbWF0Y2gudGV4dC5sZW5ndGg7CiAgICB9CgogICAgaWYgKGxhc3RJbmRleCA8IGNvbnRlbnRUb1JlbmRlci5sZW5ndGgpIHsKICAgICAgICBjb250ZW50UGFydHMucHVzaChjb250ZW50VG9SZW5kZXIuc3Vic3RyaW5nKGxhc3RJbmRleCkpOwogICAgfQoKICAgIHJldHVybiAoCiAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1mb3JlZ3JvdW5kLzkwIGxlYWRpbmctcmVsYXhlZCB0ZXh0LWJhc2Ugd2hpdGVzcGFjZS1wcmUtd3JhcCBicmVhay13b3JkcyI+CiAgICAgICAge2NvbnRlbnRQYXJ0cy5tYXAoKHBhcnQsIGluZGV4KSA9PiA8UmVhY3QuRnJhZ21lbnQga2V5PXtpbmRleH0+e3BhcnR9PC9SZWFjdC5GcmFnbWVudD4pfQogICAgICA8L3A+CiAgICApOwogIH07CgogIGNvbnN0IG5leHRJbWFnZSA9ICgpID0+IHsKICAgIGlmIChwb3N0Lm1lZGlhdXJscyAmJiBwb3N0Lm1lZGlhdXJscy5sZW5ndGggPiAxKSB7CiAgICAgICAgc2V0Q3VycmVudEltYWdlSW5kZXgoKHByZXYpID0+IChwcmV2ICsgMSkgJSBwb3N0Lm1lZGlhdXJscyEubGVuZ3RoKTsKICAgIH0KICB9OwoKICBjb25zdCBwcmV2SW1hZ2UgPSAoKSA9PiB7CiAgICBpZiAocG9zdC5tZWRpYXVybHMgJiYgcG9zdC5tZWRpYXVybHMubGVuZ3RoID4gMSkgewogICAgICAgIHNldEN1cnJlbnRJbWFnZUluZGV4KChwcmV2KSA9PiAocHJldiAtIDEgKyBwb3N0Lm1lZGlhdXJscyEubGVuZ3RoKSAlIHBvc3QubWVkaWF1cmxzIS5sZW5ndGgpOwogICAgfQogIH07CgogIGNvbnN0IGhhbmRsZUNhcmRDbGljayA9ICgpID0+IHsKICAgIHJvdXRlci5wdXNoKGAvcmVlbHM/aWQ9JHtwb3N0LmlkfSZmZWVkVHlwZT0ke2ZlZWRUeXBlfWApOwogIH07CgogIHJldHVybiAoCiAgICA8Q2FyZCByZWY9e2NhcmRSZWZ9IGNsYXNzTmFtZT17Y24oCiAgICAgICAgIm92ZXJmbG93LWhpZGRlbiBzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2Utb3V0IGJvcmRlciBib3JkZXItYm9yZGVyLzYwIHJvdW5kZWQteGwgYmctY2FyZC85MCBiYWNrZHJvcC1ibHVyLXNtIGhvdmVyOmJvcmRlci1wcmltYXJ5LzMwIiwKICAgICAgICBpc0Fubm91bmNlbWVudCAmJiAiYmctcHJpbWFyeS81IGJvcmRlci1wcmltYXJ5LzIwIiwKICAgICAgICBpc1JhZGFyUG9zdCAmJiAiYm9yZGVyLWFjY2VudC81MCBiZy1ncmFkaWVudC10by1iciBmcm9tLWFjY2VudC81IHRvLWNhcmQiCiAgICApfQogICAgb25DbGljaz17aGFuZGxlQ2FyZENsaWNrfQogICAgPgogICAgICAgIHtpc1JhZGFyUG9zdCAmJiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTIgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtY2VudGVyIGJnLWFjY2VudC8yMCB0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGJvcmRlci1iIGJvcmRlci1hY2NlbnQvMzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUiPgogICAgICAgICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICAgIDxzcGFuPlB1bHNlIFJhZGFyPC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICB7cG9zdC5leHBpcmVzX2F0ICYmICgKICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcFByb3ZpZGVyPgogICAgICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUb29sdGlwVHJpZ2dlciBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgY3Vyc29yLWRlZmF1bHQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9jayBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvdW50ZG93biBleHBpcnlEYXRlPXtwb3N0LmV4cGlyZXNfYXR9IC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXBDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRoaXMgcHVsc2UgZXhwaXJlcyB7bmV3IERhdGUocG9zdC5leHBpcmVzX2F0KS50b0xvY2FsZVN0cmluZygpfTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD4KICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXBQcm92aWRlcj4KICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAge3Bvc3QubWF4X3ZpZXdlcnMgJiYgKAogICAgICAgICAgICAgICAgICAgIDxUb29sdGlwUHJvdmlkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxUb29sdGlwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXBUcmlnZ2VyIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSBjdXJzb3ItZGVmYXVsdCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3Bvc3Qudmlld2NvdW50fSAvIHtwb3N0Lm1heF92aWV3ZXJzfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXBDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlZpZXdlZCBieSB7cG9zdC52aWV3Y291bnR9IG9mIHtwb3N0Lm1heF92aWV3ZXJzfSBtYXggdmlld2Vycy48L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXBDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+CiAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwUHJvdmlkZXI+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICApfQogICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9e2NuKAogICAgICAgICAgInBiLTMgcHQtNSBweC01IGZsZXggZmxleC1yb3cgaXRlbXMtc3RhcnQgc3BhY2UteC00IiwKICAgICAgICAgIGlzQW5ub3VuY2VtZW50ICYmICJiZy1wcmltYXJ5LzEwIiwKICAgICAgICAgIGlzUmFkYXJQb3N0ICYmICJiZy10cmFuc3BhcmVudCIKICAgICAgKX0+CiAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtMTIgdy0xMiBib3JkZXItMiBib3JkZXItcHJpbWFyeS82MCBzaGFkb3ctbWQiPgogICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17cG9zdC5hdXRob3Jwcm9maWxlcGljdHVyZXVybCA/PyB1bmRlZmluZWR9IGFsdD17YXV0aG9yTmFtZX0gLz4KICAgICAgICAgIDxBdmF0YXJGYWxsYmFjayBjbGFzc05hbWU9ImJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHJpbWFyeS8yMCB0by1hY2NlbnQvMjAgdGV4dC1wcmltYXJ5IGZvbnQtYm9sZCB0ZXh0LXhsIj4KICAgICAgICAgICAge2lzQW5ub3VuY2VtZW50ID8gPE1lZ2FwaG9uZSBjbGFzc05hbWU9ImgtNyB3LTcgdGV4dC1wcmltYXJ5LzgwIiAvPiA6IChhdXRob3JOYW1lID8gYXV0aG9yTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6IDxVc2VyQ2lyY2xlIGNsYXNzTmFtZT0iaC03IHctNyB0ZXh0LXByaW1hcnkvODAiIC8+KX0KICAgICAgICAgIDwvQXZhdGFyRmFsbGJhY2s+CiAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSI+CiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIj4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcCI+CiAgICAgICAgICAgICAge3Bvc3QuYXV0aG9yaWQgJiYgIWlzQW5ub3VuY2VtZW50ID8gKAogICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC91c2Vycy8ke3Bvc3QuYXV0aG9yaWR9YH0gY2xhc3NOYW1lPXtjbigidGV4dC1zbSBmb250LXNlbWlib2xkIGZsZXggaXRlbXMtY2VudGVyIGhvdmVyOnVuZGVybGluZSIpfT4KICAgICAgICAgICAgICAgICAge2F1dGhvck5hbWV9CiAgICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgICAgKSA6ICgKICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17Y24oInRleHQtc20gZm9udC1zZW1pYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciIpfT4KICAgICAgICAgICAgICAgICAge2F1dGhvck5hbWV9CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICB7c2Vzc2lvblVzZXIgJiYgcG9zdC5hdXRob3JpZCAmJiAhaXNPd25Qb3N0ICYmICFpc0Fubm91bmNlbWVudCAmJiAoCiAgICAgICAgICAgICAgICAgIDxGb2xsb3dCdXR0b24gCiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRVc2VySWQ9e3Bvc3QuYXV0aG9yaWR9IAogICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbElzRm9sbG93aW5nPXshIXBvc3QuaXNBdXRob3JGb2xsb3dlZEJ5Q3VycmVudFVzZXJ9IAogICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uIGNsYXNzTmFtZT17Y24oInRleHQteHMgZm9udC1tZWRpdW0gZmxleC1zaHJpbmstMCBtbC0yIiwgInRleHQtbXV0ZWQtZm9yZWdyb3VuZCIpfT4KICAgICAgICAgICAgICB7dGltZUFnb30KICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAge2lzQW5ub3VuY2VtZW50ID8gKAogICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9ImRlZmF1bHQiIGNsYXNzTmFtZT0ibXQtMSI+T2ZmaWNpYWwgQW5ub3VuY2VtZW50PC9CYWRnZT4KICAgICAgICAgICAgKSA6ICFwb3N0LmhpZGVfbG9jYXRpb24gJiYgcG9zdC5jaXR5ICYmIHBvc3QuY2l0eSAhPT0gIlVua25vd24gQ2l0eSIgJiYgKAogICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17Y24oInRleHQtc20gZmxleCBpdGVtcy1jZW50ZXIgbXQtMC41IiwgInRleHQtbXV0ZWQtZm9yZWdyb3VuZCIpfT4KICAgICAgICAgICAgICAgICAgICA8TWFwUGluIGNsYXNzTmFtZT0idy00IGgtNCBtci0xLjUgdGV4dC1wcmltYXJ5LzcwIGZsZXgtc2hyaW5rLTAiIC8+IHtwb3N0LmNpdHl9CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICl9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9Im1sLWF1dG8iPgogICAgICAgICAge2lzT3duUG9zdCAmJiAoCiAgICAgICAgICAgIDxBbGVydERpYWxvZz4KICAgICAgICAgICAgICA8RHJvcGRvd25NZW51PgogICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJnaG9zdCIgc2l6ZT0iaWNvbiIgY2xhc3NOYW1lPXtjbigiaC04IHctOCIsICJ0ZXh0LW11dGVkLWZvcmVncm91bmQiKX0+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJzci1vbmx5Ij5Qb3N0IG9wdGlvbnM8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPE1vcmVIb3Jpem9udGFsIGNsYXNzTmFtZT0iaC01IHctNSIgLz4KICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+CiAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBhbGlnbj0iZW5kIj4KICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIGNsYXNzTmFtZT0idGV4dC1kZXN0cnVjdGl2ZSBmb2N1czp0ZXh0LWRlc3RydWN0aXZlIGN1cnNvci1wb2ludGVyIiBvblNlbGVjdD17KGUpID0+IGUucHJldmVudERlZmF1bHQoKX0+CiAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICAgICAgRGVsZXRlIFBvc3QKICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+CiAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dUcmlnZ2VyPgogICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PgogICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51PgogICAgICAgICAgICAgIDxBbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ1RpdGxlPkFyZSB5b3UgYWJzb2x1dGVseSBzdXJlPzwvQWxlcnREaWFsb2dUaXRsZT4KICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS4gVGhpcyB3aWxsIHBlcm1hbmVudGx5IGRlbGV0ZSB5b3VyIHBvc3QgYW5kIGFsbCBpdHMgZGF0YS4KICAgICAgICAgICAgICAgICAgPC9BbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgPC9BbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nQ2FuY2VsPkNhbmNlbDwvQWxlcnREaWFsb2dDYW5jZWw+CiAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0FjdGlvbiBvbkNsaWNrPXtoYW5kbGVEZWxldGV9IGNsYXNzTmFtZT0iYmctZGVzdHJ1Y3RpdmUgaG92ZXI6YmctZGVzdHJ1Y3RpdmUvOTAiPgogICAgICAgICAgICAgICAgICAgIFllcywgZGVsZXRlIHBvc3QKICAgICAgICAgICAgICAgICAgPC9BbGVydERpYWxvZ0FjdGlvbj4KICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICAgICAgPC9BbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgICAgIDwvQWxlcnREaWFsb2c+CiAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgICA8L0NhcmRIZWFkZXI+CiAgICAgIAogICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPXtjbigicHgtNSBwYi0zIiwgaGFzVmlzaWJsZU1lZGlhID8gJ3B0LTQnIDogJ3B0LTInKX0+CiAgICAgICAge2hhc1Zpc2libGVNZWRpYSAmJiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbigicmVsYXRpdmUgdy1mdWxsIGFzcGVjdC1bMTYvMTBdIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1ib3JkZXIvNTAgc2hhZG93LWlubmVyIGJnLW11dGVkLzUwIGdyb3VwIil9PgogICAgICAgICAgICAgICAge2lzWW91VHViZVZpZGVvID8gKAogICAgICAgICAgICAgICAgICAgIDxpZnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtwb3N0Lm1lZGlhdXJsc1swXX0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9IllvdVR1YmUgdmlkZW8gcGxheWVyIgogICAgICAgICAgICAgICAgICAgICAgICBmcmFtZUJvcmRlcj0iMCIKICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3c9ImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSIKICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dGdWxsU2NyZWVuCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0idy1mdWxsIGgtZnVsbCBwb2ludGVyLWV2ZW50cy1ub25lIgogICAgICAgICAgICAgICAgICAgID48L2lmcmFtZT4KICAgICAgICAgICAgICAgICkgOiBwb3N0Lm1lZGlhdHlwZSA9PT0gJ3ZpZGVvJyA/ICgKICAgICAgICAgICAgICAgICAgIDw+CiAgICAgICAgICAgICAgICAgICAgPHZpZGVvIHJlZj17dmlkZW9SZWZ9IGxvb3AgcGxheXNJbmxpbmUgbXV0ZWQgc3JjPXtwb3N0Lm1lZGlhdXJsc1swXX0gY2xhc3NOYW1lPXtjbigidy1mdWxsIGgtZnVsbCBvYmplY3QtY29udGFpbiIsIG1lZGlhRXJyb3IgJiYgImhpZGRlbiIpfSBvbkVycm9yPXsoKSA9PiBzZXRNZWRpYUVycm9yKHRydWUpfSAvPgogICAgICAgICAgICAgICAgICAgICB7bWVkaWFFcnJvciAmJiAoCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhYnNvbHV0ZSBpbnNldC0wIGJnLWJsYWNrLzUwIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgcC00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT0idy04IGgtOCBtYi0yIHRleHQteWVsbG93LTQwMCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LWNlbnRlciBmb250LXNlbWlib2xkIG1iLTMiPlRoaXMgdmlkZW8gY291bGQgbm90IGJlIGxvYWRlZC48L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVJldHJ5VmlkZW99IHZhcmlhbnQ9InNlY29uZGFyeSIgc2l6ZT0ic20iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPSJ3LTQgaC00IG1yLTIiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXRyeQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICA8Lz4KICAgICAgICAgICAgICAgICkgOiAocG9zdC5tZWRpYXR5cGUgPT09ICdpbWFnZScgfHwgcG9zdC5tZWRpYXR5cGUgPT09ICdnYWxsZXJ5JykgPyAoCiAgICAgICAgICAgICAgICAgICAgIDw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtwb3N0Lm1lZGlhdXJsc1tjdXJyZW50SW1hZ2VJbmRleF19IGFsdD17YFBvc3QgaW1hZ2UgJHtjdXJyZW50SW1hZ2VJbmRleCArIDF9YH0gY2xhc3NOYW1lPSJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluIiBkYXRhLWFpLWhpbnQ9InVzZXIgZ2VuZXJhdGVkIGNvbnRlbnQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIHtwb3N0Lm1lZGlhdXJscy5sZW5ndGggPiAxICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImFic29sdXRlIHRvcC0xLzIgbGVmdC0yIC10cmFuc2xhdGUteS0xLzIgei0xMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ic2Vjb25kYXJ5IiBzaXplPSJpY29uIiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBwcmV2SW1hZ2UoKTsgfX0gY2xhc3NOYW1lPSJoLTggdy04IHJvdW5kZWQtZnVsbCBvcGFjaXR5LTYwIGhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPSJoLTUgdy01IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iYWJzb2x1dGUgdG9wLTEvMiByaWdodC0yIC10cmFuc2xhdGUteS0xLzIgei0xMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ic2Vjb25kYXJ5IiBzaXplPSJpY29uIiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBuZXh0SW1hZ2UoKTsgfX0gY2xhc3NOYW1lPSJoLTggdy04IHJvdW5kZWQtZnVsbCBvcGFjaXR5LTYwIGhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT0iaC01IHctNSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImFic29sdXRlIGJvdHRvbS0yIHJpZ2h0LTIgcHgtMiBweS0xIGJnLWJsYWNrLzYwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkLW1kIGJhY2tkcm9wLWJsdXItc20iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VJY29uIGNsYXNzTmFtZT0idy0zIGgtMyBtci0xIGlubGluZS1ibG9jayIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRJbWFnZUluZGV4ICsgMX0gLyB7cG9zdC5tZWRpYXVybHMubGVuZ3RofQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+CiAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgPC8+CiAgICAgICAgICAgICAgICApIDogbnVsbH0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icHQtMiI+CiAgICAgICAgICAgIHtyZW5kZXJDb250ZW50V2l0aE1lbnRpb25zQW5kTGlua3MoKX0KICAgICAgICA8L2Rpdj4KICAgICAgICB7cG9sbFN0YXRlICYmICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9Im10LTQgc3BhY2UteS0zIHB0LTQgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci82MCI+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kIj57cG9sbFN0YXRlLnF1ZXN0aW9ufTwvcD4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICAgICAgICAgIHtwb2xsU3RhdGUub3B0aW9ucy5tYXAob3B0aW9uID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWb3RlZE9wdGlvbiA9IHBvbGxTdGF0ZS51c2VyX3ZvdGVkX29wdGlvbl9pZCA9PT0gb3B0aW9uLmlkOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gcG9sbFN0YXRlLnRvdGFsX3ZvdGVzID4gMCA/IChvcHRpb24udm90ZV9jb3VudCAvIHBvbGxTdGF0ZS50b3RhbF92b3RlcykgKiAxMDAgOiAwOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17b3B0aW9uLmlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVZvdGUob3B0aW9uLmlkKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNWb3RpbmcgfHwgISFwb2xsU3RhdGUudXNlcl92b3RlZF9vcHRpb25faWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInctZnVsbCB0ZXh0LWxlZnQgcC0yIHJvdW5kZWQtbWQgYm9yZGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFwb2xsU3RhdGUudXNlcl92b3RlZF9vcHRpb25faWQgJiYgImhvdmVyOmJvcmRlci1wcmltYXJ5IGhvdmVyOmJnLXByaW1hcnkvNSBjdXJzb3ItcG9pbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbGxTdGF0ZS51c2VyX3ZvdGVkX29wdGlvbl9pZCAmJiAiY3Vyc29yLWRlZmF1bHQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtc20iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzVm90ZWRPcHRpb24gJiYgPENoZWNrIGNsYXNzTmFtZT0idy00IGgtNCBtci0yIHRleHQtcHJpbWFyeSIgLz59CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NuKCJmb250LW1lZGl1bSIsIGlzVm90ZWRPcHRpb24gPyAidGV4dC1wcmltYXJ5IiA6ICJ0ZXh0LWZvcmVncm91bmQiKX0+e29wdGlvbi5vcHRpb25fdGV4dH08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cG9sbFN0YXRlLnVzZXJfdm90ZWRfb3B0aW9uX2lkICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LW11dGVkLWZvcmVncm91bmQiPntNYXRoLnJvdW5kKHBlcmNlbnRhZ2UpfSU8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BvbGxTdGF0ZS51c2VyX3ZvdGVkX29wdGlvbl9pZCAmJiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSBoLTIgcm91bmRlZC1mdWxsIGJnLW11dGVkIG10LTEuNSBvdmVyZmxvdy1oaWRkZW4iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImFic29sdXRlIGgtZnVsbCBiZy1wcmltYXJ5LzgwIHJvdW5kZWQtZnVsbCIgc3R5bGU9e3sgd2lkdGg6IGAke3BlcmNlbnRhZ2V9JWAgfX0+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9KX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXJpZ2h0Ij57cG9sbFN0YXRlLnRvdGFsX3ZvdGVzfSB2b3RlczwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgPGRpdj4KICAgICAgICB7cG9zdC5oYXNodGFncyAmJiBwb3N0Lmhhc2h0YWdzLmxlbmd0aCA+IDAgJiYgKAogICAgICAgICAgPGRpdiBjbGFzc05hbWU9InB4LTUgcHQtMSBwYi0yIGZsZXggZmxleC13cmFwIGdhcC0yIGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgIHtwb3N0Lmhhc2h0YWdzLm1hcCh0YWcgPT4gKAogICAgICAgICAgICAgIDxCYWRnZSBrZXk9e3RhZ30gdmFyaWFudD0ic2Vjb25kYXJ5IiBjbGFzc05hbWU9InRleHQteHMgYmctcHJpbWFyeS8xMCB0ZXh0LXByaW1hcnkgaG92ZXI6YmctcHJpbWFyeS8yMCBjdXJzb3ItZGVmYXVsdCI+CiAgICAgICAgICAgICAgICA8VGFnIGNsYXNzTmFtZT0idy0zIGgtMyBtci0xIG9wYWNpdHktNzAiIC8+CiAgICAgICAgICAgICAgICB7dGFnLnJlcGxhY2UoJyMnLCcnKX0KICAgICAgICAgICAgICA8L0JhZGdlPgogICAgICAgICAgICApKX0KICAgICAgICAgIDwvZGl2PgogICAgICAgICl9CiAgICAgICAgeyFwb3N0LmhpZGVfbG9jYXRpb24gJiYgKAogICAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB0LTIgcGItMyBweC01IGJvcmRlci10IGJvcmRlci1ib3JkZXIvNDAgbXQtMSBnYXAteS0yIGJnLWNhcmQvNTAiPgogICAgICAgICAgICAgIDxhIGhyZWY9e2BodHRwczovL3d3dy5nb29nbGUuY29tL21hcHMvZGlyLz9hcGk9MSZkZXN0aW5hdGlvbj0ke3Bvc3QubGF0aXR1ZGV9LCR7cG9zdC5sb25naXR1ZGV9YH0gdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIgbm9yZWZlcnJlciIgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IGZsZXgtd3JhcCBjdXJzb3ItcG9pbnRlciBob3Zlcjp0ZXh0LXByaW1hcnkgdHJhbnNpdGlvbi1jb2xvcnMgZ3JvdXAiIHRpdGxlPSJDbGljayB0byBnZXQgZGlyZWN0aW9ucyI+CiAgICAgICAgICAgICAgPE1hcCBjbGFzc05hbWU9InctNCBoLTQgdGV4dC1wcmltYXJ5LzcwIGZsZXgtc2hyaW5rLTAgdHJhbnNpdGlvbi1jb2xvcnMgZ3JvdXAtaG92ZXI6dGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tY29sb3JzIGdyb3VwLWhvdmVyOnRleHQtcHJpbWFyeSBncm91cC1ob3Zlcjp1bmRlcmxpbmUiPgogICAgICAgICAgICAgICAgICBMb2NhdGlvbjoge3Bvc3QubGF0aXR1ZGUudG9GaXhlZCgzKX0sIHtwb3N0LmxvbmdpdHVkZS50b0ZpeGVkKDMpfQogICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICB7ZGlzdGFuY2UgIT09IG51bGwgJiYgKAogICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9Im1sLTEgdGV4dC1hY2NlbnQgZm9udC1zZW1pYm9sZCB0cmFuc2l0aW9uLWNvbG9ycyBncm91cC1ob3Zlcjp1bmRlcmxpbmUiPgogICAgICAgICAgICAgICAgICAoYXBwcm94LiB7ZGlzdGFuY2UgPCAwLjEgPyAnPDEwMG0nIDogYCR7ZGlzdGFuY2UudG9GaXhlZCgxKX0ga21gfSBhd2F5KQogICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICA8L0NhcmRGb290ZXI+CiAgICAgICAgKX0KICAgICAgICB7c2Vzc2lvblVzZXIgJiYgc2Vzc2lvblVzZXIuaWQgPT09IHBvc3QuYXV0aG9yaWQgJiYgIWlzQW5ub3VuY2VtZW50ICYmICgKICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJweC01IHB5LTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci8zMCBiZy1wcmltYXJ5LzUiPgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnkvOTAgbWItMiB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIiPllvdXIgUG9zdCBTdGF0czwvcD4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYXJvdW5kIHRleHQtc20gdGV4dC1wcmltYXJ5LzgwIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiIHRpdGxlPXtgJHtwb3N0LnZpZXdjb3VudC50b0xvY2FsZVN0cmluZygpfSB2aWV3c2B9PgogICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9InctNCBoLTQgdGV4dC1hY2NlbnQiIC8+CiAgICAgICAgICAgICAgICA8c3Bhbj57cG9zdC52aWV3Y291bnQudG9Mb2NhbGVTdHJpbmcoKX08L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIiB0aXRsZT17YCR7cG9zdC5ub3RpZmllZGNvdW50LnRvTG9jYWxlU3RyaW5nKCl9IHVzZXJzIG5vdGlmaWVkYH0+CiAgICAgICAgICAgICAgICA8QmVsbFJpbmcgY2xhc3NOYW1lPSJ3LTQgaC00IHRleHQtYWNjZW50IiAvPgogICAgICAgICAgICAgICAgPHNwYW4+e3Bvc3Qubm90aWZpZWRjb3VudC50b0xvY2FsZVN0cmluZygpfTwvc3Bhbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICApfQogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJweC01IHBiLTQgcHQtMiBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgYm9yZGVyLXQgYm9yZGVyLWJvcmRlci8zMCBiZy1jYXJkLzIwIGZsZXgtd3JhcCBnYXAteS0yIj4KICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9InNtIiBvbkNsaWNrPXtoYW5kbGVMaWtlQ2xpY2t9IGRpc2FibGVkPXtpc0xpa2luZyB8fCAoIXNlc3Npb25Vc2VyICYmIGlzTGlrZWRCeUNsaWVudCl9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xLjUgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGhvdmVyOnRleHQtcHJpbWFyeSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTAgZ3JvdXAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQiIGFyaWEtbGFiZWw9Ikxpa2UgdGhpcyBwb3N0IiB0aXRsZT0iTGlrZSI+CiAgICAgICAgICAgIDxUaHVtYnNVcCBjbGFzc05hbWU9e2NuKCd3LTUgaC01IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBncm91cC1ob3ZlcjpzY2FsZS0xMTAgZ3JvdXAtaG92ZXI6dGV4dC1ibHVlLTUwMCcsIGlzTGlrZWRCeUNsaWVudCA/ICd0ZXh0LWJsdWUtNTAwIGZpbGwtYmx1ZS01MDAnIDogJ3RleHQtbXV0ZWQtZm9yZWdyb3VuZCcpfSAvPgogICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIHRleHQtc20iPntkaXNwbGF5TGlrZUNvdW50fSB7ZGlzcGxheUxpa2VDb3VudCA9PT0gMSA/ICdMaWtlJyA6ICdMaWtlcyd9PC9zcGFuPgogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJzbSIgb25DbGljaz17KCkgPT4gc2V0U2hvd0NvbW1lbnRzKCFzaG93Q29tbWVudHMpfSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMS41IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3Zlcjp0ZXh0LXByaW1hcnkgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIGdyb3VwIiBhcmlhLWxhYmVsPSJWaWV3IGNvbW1lbnRzIiB0aXRsZT0iQ29tbWVudHMiPgogICAgICAgICAgICA8TWVzc2FnZUNpcmNsZSBjbGFzc05hbWU9InctNSBoLTUgZ3JvdXAtaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtIiAvPgogICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIHRleHQtc20iPntkaXNwbGF5Q29tbWVudENvdW50fSB7c2hvd0NvbW1lbnRzID8gJ0hpZGUnIDogKGRpc3BsYXlDb21tZW50Q291bnQgPT09IDEgPyAnQ29tbWVudCcgOiAnQ29tbWVudHMnKX08L3NwYW4+CiAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9InNtIiBvbkNsaWNrPXtoYW5kbGVTaGFyZX0gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEuNSB0ZXh0LW11dGVkLWZvcmVncm91bmQgaG92ZXI6dGV4dC1ibHVlLTUwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTAgZ3JvdXAiIGFyaWEtbGFiZWw9IlNoYXJlIHRoaXMgcG9zdCIgdGl0bGU9IlNoYXJlIj4KICAgICAgICAgICAgPFNoYXJlMiBjbGFzc05hbWU9InctNSBoLTUgZ3JvdXAtaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtIiAvPgogICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIHRleHQtc20iPlNoYXJlPC9zcGFuPgogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAge3Nob3dDb21tZW50cyAmJiAoCiAgICAgICAgICA8Q29tbWVudFNlY3Rpb24KICAgICAgICAgICAgcG9zdElkPXtwb3N0LmlkfQogICAgICAgICAgICBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9CiAgICAgICAgICAgIG9uQ29tbWVudFBvc3RlZD17KCkgPT4gc2V0RGlzcGxheUNvbW1lbnRDb3VudChwcmV2ID0+IHByZXYgKyAxKX0KICAgICAgICAgIC8+CiAgICAgICAgKX0KICAgICAgPC9kaXY+CiAgICA8L0NhcmQ+CiAgKTsKfTsKCiAgICA=' | base64 -d > /root/localpulse/src/components/post-card.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCB7IHVzZVRyYW5zaXRpb24gfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBsb2dvdXQgfSBmcm9tICdAL2FwcC9hdXRoL2FjdGlvbnMnOwppbXBvcnQgeyBMb2FkZXIyLCBMb2dPdXQgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKCi8vIEFkZCB0eXBlIGRlZmluaXRpb24gZm9yIHRoZSBBbmRyb2lkIGludGVyZmFjZQpkZWNsYXJlIGdsb2JhbCB7CiAgaW50ZXJmYWNlIFdpbmRvdyB7CiAgICBBbmRyb2lkPzogewogICAgICBzZXRMb2dpblN0YXR1cz86IChpc0xvZ2dlZEluOiBib29sZWFuKSA9PiB2b2lkOwogICAgICBsb2dvdXQ/OiAoKSA9PiB2b2lkOwogICAgICBjbGVhckNvb2tpZXM/OiAoKSA9PiB2b2lkOwogICAgfTsKICB9Cn0KCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExvZ291dEJ1dHRvbigpIHsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICBjb25zdCBbaXNQZW5kaW5nLCBzdGFydFRyYW5zaXRpb25dID0gdXNlVHJhbnNpdGlvbigpOwogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CgogIGNvbnN0IGhhbmRsZUxvZ291dCA9ICgpID0+IHsKICAgIHN0YXJ0VHJhbnNpdGlvbihhc3luYyAoKSA9PiB7CiAgICAgIC8vIC0tLSBDb21tdW5pY2F0ZSB3aXRoIEFuZHJvaWQgQXBwIC0tLQogICAgICBpZiAod2luZG93LkFuZHJvaWQpIHsKICAgICAgICBpZiAod2luZG93LkFuZHJvaWQubG9nb3V0KSB7CiAgICAgICAgICB3aW5kb3cuQW5kcm9pZC5sb2dvdXQoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHdpbmRvdy5BbmRyb2lkLmNsZWFyQ29va2llcykgewogICAgICAgICAgLy8gRXhwbGljaXRseSBjbGVhciBjb29raWVzIHRvIGhhbmRsZSBKV1MgZXJyb3JzCiAgICAgICAgICB3aW5kb3cuQW5kcm9pZC5jbGVhckNvb2tpZXMoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gLS0tIEVORCAtLS0KICAgICAgCiAgICAgIGF3YWl0IGxvZ291dCgpOwogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdMb2dnZWQgT3V0JywKICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdSBoYXZlIGJlZW4gc3VjY2Vzc2Z1bGx5IGxvZ2dlZCBvdXQuJywKICAgICAgfSk7CiAgICAgIHJvdXRlci5wdXNoKCcvJyk7IC8vIFJlZGlyZWN0IHRvIGhvbWUgcGFnZSBhZnRlciBsb2dvdXQKICAgICAgcm91dGVyLnJlZnJlc2goKTsKICAgIH0pOwogIH07CgogIHJldHVybiAoCiAgICA8QnV0dG9uCiAgICAgIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0KICAgICAgZGlzYWJsZWQ9e2lzUGVuZGluZ30KICAgICAgdmFyaWFudD0ib3V0bGluZSIKICAgICAgc2l6ZT0ic20iCiAgICA+CiAgICAgIHtpc1BlbmRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IDogPExvZ091dCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz59CiAgICAgIExvZ291dAogICAgPC9CdXR0b24+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/logout-button.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsKICBBbGVydERpYWxvZywKICBBbGVydERpYWxvZ0FjdGlvbiwKICBBbGVydERpYWxvZ0NhbmNlbCwKICBBbGVydERpYWxvZ0NvbnRlbnQsCiAgQWxlcnREaWFsb2dEZXNjcmlwdGlvbiwKICBBbGVydERpYWxvZ0Zvb3RlciwKICBBbGVydERpYWxvZ0hlYWRlciwKICBBbGVydERpYWxvZ1RpdGxlLAogIEFsZXJ0RGlhbG9nVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQtZGlhbG9nJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IGRlbGV0ZUN1cnJlbnRVc2VyQWNjb3VudCB9IGZyb20gJ0AvYXBwL2F1dGgvYWN0aW9ucyc7CmltcG9ydCB7IExvYWRlcjIsIFRyYXNoMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWxldGVBY2NvdW50QnV0dG9uKCkgewogIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CiAgY29uc3QgW2lzUGVuZGluZywgc3RhcnRUcmFuc2l0aW9uXSA9IHVzZVRyYW5zaXRpb24oKTsKCiAgY29uc3QgaGFuZGxlRGVsZXRlID0gKCkgPT4gewogICAgc3RhcnRUcmFuc2l0aW9uKGFzeW5jICgpID0+IHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGVsZXRlQ3VycmVudFVzZXJBY2NvdW50KCk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHRpdGxlOiAnQWNjb3VudCBEZWxldGVkJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAnWW91ciBhY2NvdW50IGhhcyBiZWVuIHBlcm1hbmVudGx5IGRlbGV0ZWQuJywKICAgICAgICB9KTsKICAgICAgICAvLyBUaGUgbG9nb3V0IGFjdGlvbiB3aWxsIGhhbmRsZSB0aGUgcmVkaXJlY3QsIGJ1dCB3ZSBjYW4gcHVzaCB0byBiZSBzYWZlCiAgICAgICAgcm91dGVyLnB1c2goJy8nKTsKICAgICAgICByb3V0ZXIucmVmcmVzaCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgICAgICB0aXRsZTogJ0RlbGV0aW9uIEZhaWxlZCcsCiAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIHx8ICdDb3VsZCBub3QgZGVsZXRlIHlvdXIgYWNjb3VudC4gUGxlYXNlIHRyeSBhZ2Fpbi4nLAogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9OwoKICByZXR1cm4gKAogICAgPEFsZXJ0RGlhbG9nPgogICAgICA8QWxlcnREaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJkZXN0cnVjdGl2ZSIgY2xhc3NOYW1lPSJ3LWZ1bGwganVzdGlmeS1zdGFydCI+CiAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgRGVsZXRlIEFjY291bnQKICAgICAgICA8L0J1dHRvbj4KICAgICAgPC9BbGVydERpYWxvZ1RyaWdnZXI+CiAgICAgIDxBbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGU+QXJlIHlvdSBhYnNvbHV0ZWx5IHN1cmU/PC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgPEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgIFRoaXMgYWN0aW9uIGlzIHBlcm1hbmVudCBhbmQgY2Fubm90IGJlIHVuZG9uZS4gVGhpcyB3aWxsIGRlbGV0ZSB5b3VyIGFjY291bnQgYW5kIHJlbW92ZSBhbGwgb2YgeW91ciBwZXJzb25hbCBkYXRhIGZyb20gb3VyIHNlcnZlcnMuIFlvdXIgcG9zdHMgd2lsbCByZW1haW4gYnV0IHdpbGwgYmVjb21lIGFub255bW91cy4KICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICA8L0FsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgIDxBbGVydERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5DYW5jZWw8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgPEFsZXJ0RGlhbG9nQWN0aW9uIG9uQ2xpY2s9e2hhbmRsZURlbGV0ZX0gZGlzYWJsZWQ9e2lzUGVuZGluZ30gY2xhc3NOYW1lPSJiZy1kZXN0cnVjdGl2ZSBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MCI+CiAgICAgICAgICAgIHtpc1BlbmRpbmcgJiYgPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPn0KICAgICAgICAgICAgWWVzLCBkZWxldGUgbXkgYWNjb3VudAogICAgICAgICAgPC9BbGVydERpYWxvZ0FjdGlvbj4KICAgICAgICA8L0FsZXJ0RGlhbG9nRm9vdGVyPgogICAgICA8L0FsZXJ0RGlhbG9nQ29udGVudD4KICAgIDwvQWxlcnREaWFsb2c+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/delete-account-button.tsx
mkdir -p /root/localpulse/src/components
echo 'aW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NrZWxldG9uJzsKCmV4cG9ydCBjb25zdCBQb3N0RmVlZFNrZWxldG9uID0gKCkgPT4gewogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS04IHB0LTQiPgogICAgICB7LyogU2tlbGV0b24gZm9yIGZpbHRlciBiYXIgdG8gcHJldmVudCBDTFMgKi99CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktZW5kIGl0ZW1zLWNlbnRlciBtYi00IHB4LTEgZ2FwLTIgaC0xMCI+CiAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC1mdWxsIHctWzE1MHB4XSIgLz4KICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLWZ1bGwgdy1bMTAwcHhdIiAvPgogICAgICA8L2Rpdj4KCiAgICAgIHsvKiBTa2VsZXRvbnMgZm9yIFBvc3RDYXJkcyAqL30KICAgICAge1suLi5BcnJheSgyKV0ubWFwKChfLCBpKSA9PiAoCiAgICAgICAgPENhcmQga2V5PXtpfSBjbGFzc05hbWU9Im92ZXJmbG93LWhpZGRlbiBzaGFkb3cteGwgcm91bmRlZC14bCI+CiAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9ImZsZXggZmxleC1yb3cgaXRlbXMtc3RhcnQgc3BhY2UteC00IHAtNSI+CiAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTIgdy0xMiByb3VuZGVkLWZ1bGwiIC8+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LTEgc3BhY2UteS0yIj4KICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy0zLzQiIC8+CiAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC00IHctMS8yIiAvPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9InB4LTUgcGItNSBzcGFjZS15LTIiPgogICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy1mdWxsIiAvPgogICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy01LzYiIC8+CiAgICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICAgIDwvQ2FyZD4KICAgICAgKSl9CiAgICA8L2Rpdj4KICApOwp9Owo=' | base64 -d > /root/localpulse/src/components/post-feed-skeleton.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMsIEZvcm1FdmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnOwoKaW1wb3J0IHR5cGUgeyBDb21tZW50IGFzIENvbW1lbnRUeXBlLCBVc2VyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBhZGRDb21tZW50LCBnZXRDb21tZW50cyB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJGYWxsYmFjayB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEnOwppbXBvcnQgeyBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0IH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgeyBTZW5kLCBYIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICcuL3VpL3NrZWxldG9uJzsKCmNvbnN0IENvbW1lbnRDYXJkOiBGQzx7IGNvbW1lbnQ6IENvbW1lbnRUeXBlIH0+ID0gKHsgY29tbWVudCB9KSA9PiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBzcGFjZS14LTIgcHktMiBwbC0xIj4KICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtNyB3LTcgYm9yZGVyIGJvcmRlci13aGl0ZS8zMCBmbGV4LXNocmluay0wIG10LTAuNSBzaGFkb3ctc20iPgogICAgICAgIDxBdmF0YXJGYWxsYmFjayBjbGFzc05hbWU9ImJnLWdyYXktNzAwIHRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlLzgwIj4KICAgICAgICAgIHtjb21tZW50LmF1dGhvci5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKX0KICAgICAgICA8L0F2YXRhckZhbGxiYWNrPgogICAgICA8L0F2YXRhcj4KICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSBzcGFjZS15LTAuNSI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtYmFzZWxpbmUganVzdGlmeS1iZXR3ZWVuIj4KICAgICAgICAgIDxoNCBjbGFzc05hbWU9InRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlLzkwIj57Y29tbWVudC5hdXRob3J9PC9oND4KICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1bMTBweF0gdGV4dC1ncmF5LTQwMCI+CiAgICAgICAgICAgIHtmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KG5ldyBEYXRlKGNvbW1lbnQuY3JlYXRlZGF0KSwgeyBhZGRTdWZmaXg6IHRydWUgfSl9CiAgICAgICAgICA8L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtd2hpdGUvODAgd2hpdGVzcGFjZS1wcmUtd3JhcCBicmVhay13b3JkcyI+e2NvbW1lbnQuY29udGVudH08L3A+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+Cik7CgppbnRlcmZhY2UgUmVlbENvbW1lbnRzUHJvcHMgewogIHBvc3RJZDogbnVtYmVyOwogIHNlc3Npb25Vc2VyOiBVc2VyIHwgbnVsbDsKICBvbkNsb3NlOiAoKSA9PiB2b2lkOwogIG9uQ29tbWVudFBvc3RlZDogKG5ld0NvbW1lbnQ6IENvbW1lbnRUeXBlKSA9PiB2b2lkOwogIGluaXRpYWxDb21tZW50Q291bnQ6IG51bWJlcjsKfQoKY29uc3QgUmVlbENvbW1lbnRzOiBGQzxSZWVsQ29tbWVudHNQcm9wcz4gPSAoeyBwb3N0SWQsIHNlc3Npb25Vc2VyLCBvbkNsb3NlLCBvbkNvbW1lbnRQb3N0ZWQsIGluaXRpYWxDb21tZW50Q291bnQgfSkgPT4gewogICAgY29uc3QgW2NvbW1lbnRzLCBzZXRDb21tZW50c10gPSB1c2VTdGF0ZTxDb21tZW50VHlwZVtdPihbXSk7CiAgICBjb25zdCBbbmV3Q29tbWVudCwgc2V0TmV3Q29tbWVudF0gPSB1c2VTdGF0ZSgnJyk7CiAgICBjb25zdCBbaXNMb2FkaW5nQ29tbWVudHMsIHNldElzTG9hZGluZ0NvbW1lbnRzXSA9IHVzZVN0YXRlKHRydWUpOwogICAgY29uc3QgW2lzU3VibWl0dGluZ0NvbW1lbnQsIHNldElzU3VibWl0dGluZ0NvbW1lbnRdID0gdXNlU3RhdGUoZmFsc2UpOwoKICAgIGNvbnN0IGZldGNoUG9zdENvbW1lbnRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4gewogICAgICAgIHNldElzTG9hZGluZ0NvbW1lbnRzKHRydWUpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCBmZXRjaGVkQ29tbWVudHMgPSBhd2FpdCBnZXRDb21tZW50cyhwb3N0SWQpOwogICAgICAgICAgc2V0Q29tbWVudHMoZmV0Y2hlZENvbW1lbnRzKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcigiQ291bGQgbm90IGZldGNoIGNvbW1lbnRzIGZvciByZWVsOiIsIGVycm9yKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgc2V0SXNMb2FkaW5nQ29tbWVudHMoZmFsc2UpOwogICAgICAgIH0KICAgIH0sIFtwb3N0SWRdKTsKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGZldGNoUG9zdENvbW1lbnRzKCk7CiAgICB9LCBbZmV0Y2hQb3N0Q29tbWVudHNdKTsKCiAgICBjb25zdCBoYW5kbGVDb21tZW50U3VibWl0ID0gYXN5bmMgKGU6IEZvcm1FdmVudCkgPT4gewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBpZiAoIW5ld0NvbW1lbnQudHJpbSgpKSByZXR1cm47CiAgICAgICAgc2V0SXNTdWJtaXR0aW5nQ29tbWVudCh0cnVlKTsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgYXV0aG9yID0gc2Vzc2lvblVzZXI/Lm5hbWUgfHwgJ1JlZWxWaWV3ZXInOwogICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRkQ29tbWVudCh7IHBvc3RJZCwgY29udGVudDogbmV3Q29tbWVudC50cmltKCksIGF1dGhvciB9KTsKICAgICAgICAgIGlmIChyZXN1bHQuY29tbWVudCkgewogICAgICAgICAgICBzZXRDb21tZW50cyhwcmV2ID0+IFtyZXN1bHQuY29tbWVudCEsIC4uLnByZXZdKTsKICAgICAgICAgICAgc2V0TmV3Q29tbWVudCgnJyk7CiAgICAgICAgICAgIG9uQ29tbWVudFBvc3RlZChyZXN1bHQuY29tbWVudCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJDb3VsZCBub3QgcG9zdCBjb21tZW50IG9uIHJlZWw6IiwgcmVzdWx0LmVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcigiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBwb3N0aW5nIGNvbW1lbnQgb24gcmVlbDoiLCBlcnJvcik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHNldElzU3VibWl0dGluZ0NvbW1lbnQoZmFsc2UpOwogICAgICAgIH0KICAgIH07CgogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgcC0zIGJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItbWQgcm91bmRlZC10LWxnIG1heC1oLVs0MCVdIG92ZXJmbG93LXktYXV0byB6LTIwIGZsZXggZmxleC1jb2wiPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTIgZmxleC1zaHJpbmstMCI+CiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTIwMCI+Q29tbWVudHMgKHtjb21tZW50cy5sZW5ndGggfHwgaW5pdGlhbENvbW1lbnRDb3VudH0pPC9oND4KICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9Imljb24iIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT0idGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIGgtNyB3LTcgcm91bmRlZC1mdWxsIj4KICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9InctNCBoLTQiIC8+CiAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LWdyb3cgb3ZlcmZsb3cteS1hdXRvIHByLTIgY3VzdG9tLXNjcm9sbGJhciI+CiAgICAgICAgICAgICAgICB7aXNMb2FkaW5nQ29tbWVudHMgPyAoCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTAgdy1mdWxsIGJnLWdyYXktNzAwLzUwIiAvPgogICAgICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTEwIHctZnVsbCBiZy1ncmF5LTcwMC81MCIgLz4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICkgOiBjb21tZW50cy5sZW5ndGggPT09IDAgPyAoCiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtY2VudGVyIHRleHQtZ3JheS00MDAgcHktNCBpdGFsaWMiPk5vIGNvbW1lbnRzIHlldC4gQmUgdGhlIGZpcnN0ITwvcD4KICAgICAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMS41Ij4KICAgICAgICAgICAgICAgICAgICB7Y29tbWVudHMubWFwKGNvbW1lbnQgPT4gPENvbW1lbnRDYXJkIGtleT17Y29tbWVudC5pZH0gY29tbWVudD17Y29tbWVudH0gLz4pfQogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVDb21tZW50U3VibWl0fSBjbGFzc05hbWU9InNwYWNlLXktMiBtdC0zIHB0LTMgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzIwIGZsZXgtc2hyaW5rLTAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiI+CiAgICAgICAgICAgICAgICA8VGV4dGFyZWEKICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0iQWRkIGEgY29tbWVudC4uLiIKICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3Q29tbWVudH0KICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld0NvbW1lbnQoZS50YXJnZXQudmFsdWUpfQogICAgICAgICAgICAgICAgICAgIHJvd3M9ezF9CiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJ0ZXh0LXhzIGZsZXgtZ3JvdyBtaW4taC1bMzBweF0gYmctZ3JheS04MDAvNzAgYm9yZGVyLWdyYXktNzAwIHRleHQtd2hpdGUgcGxhY2Vob2xkZXItZ3JheS00MDAgcm91bmRlZC1tZCBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1wcmltYXJ5IgogICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmdDb21tZW50fQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBzaXplPSJpY29uIiB2YXJpYW50PSJnaG9zdCIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ0NvbW1lbnQgfHwgIW5ld0NvbW1lbnQudHJpbSgpfSBjbGFzc05hbWU9ImgtOCB3LTggc2VsZi1jZW50ZXIgdGV4dC1wcmltYXJ5IGhvdmVyOmJnLXByaW1hcnkvMjAiPgogICAgICAgICAgICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT0idy00IGgtNCIgLz4KICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICA8L2Rpdj4KICAgICk7Cn07CgpleHBvcnQgZGVmYXVsdCBSZWVsQ29tbWVudHM7CgogICAg' | base64 -d > /root/localpulse/src/components/reel-comments.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB0eXBlIHsgQnVzaW5lc3NVc2VyLCBVc2VyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlLCBDYXJkRGVzY3JpcHRpb24sIENhcmRGb290ZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEF2YXRhckltYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2F2YXRhcic7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBQaG9uZSwgTWFwUGluLCBCcmllZmNhc2UsIEJhZGdlQ2hlY2ssIENhbGVuZGFyUGx1cyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCBCb29raW5nRGlhbG9nIGZyb20gJy4vYm9va2luZy1kaWFsb2cnOwoKaW50ZXJmYWNlIEJ1c2luZXNzQ2FyZFByb3BzIHsKICBidXNpbmVzczogQnVzaW5lc3NVc2VyOwogIHNlc3Npb25Vc2VyOiBVc2VyIHwgbnVsbDsKICB1c2VyTG9jYXRpb246IHsgbGF0aXR1ZGU6IG51bWJlcjsgbG9uZ2l0dWRlOiBudW1iZXIgfSB8IG51bGw7Cn0KCmNvbnN0IEJ1c2luZXNzQ2FyZDogRkM8QnVzaW5lc3NDYXJkUHJvcHM+ID0gKHsgYnVzaW5lc3MsIHNlc3Npb25Vc2VyLCB1c2VyTG9jYXRpb24gfSkgPT4gewogIGNvbnN0IGdldEluaXRpYWxzID0gKG5hbWU6IHN0cmluZykgPT4gewogICAgcmV0dXJuIG5hbWUuc3BsaXQoJyAnKS5tYXAobiA9PiBuWzBdKS5qb2luKCcnKS5zdWJzdHJpbmcoMCwgMikudG9VcHBlckNhc2UoKTsKICB9OwoKICBjb25zdCBkaXN0YW5jZUluTWV0ZXJzID0gYnVzaW5lc3MuZGlzdGFuY2U7CiAgY29uc3QgaXNWZXJpZmllZCA9IGJ1c2luZXNzLnN0YXR1cyA9PT0gJ3ZlcmlmaWVkJzsKCiAgcmV0dXJuICgKICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIGhvdmVyOnNoYWRvdy1wcmltYXJ5LzIwIHRyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTMwMCBoLWZ1bGwgZmxleCBmbGV4LWNvbCI+CiAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCI+CiAgICAgICAgICA8TGluayBocmVmPXtgL3VzZXJzLyR7YnVzaW5lc3MuaWR9YH0gY2xhc3NOYW1lPSJmbGV4LXNocmluay0wIj4KICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtMjAgdy0yMCBib3JkZXItNCBib3JkZXItcHJpbWFyeS8yMCI+CiAgICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17YnVzaW5lc3MucHJvZmlsZXBpY3R1cmV1cmwgfHwgdW5kZWZpbmVkfSBhbHQ9e2J1c2luZXNzLm5hbWV9IC8+CiAgICAgICAgICAgICAgPEF2YXRhckZhbGxiYWNrIGNsYXNzTmFtZT0idGV4dC0yeGwgYmctbXV0ZWQiPntnZXRJbml0aWFscyhidXNpbmVzcy5uYW1lKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICA8L0F2YXRhcj4KICAgICAgICAgIDwvTGluaz4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LTEgbWluLXctMCBzcGFjZS15LTEiPgogICAgICAgICAgICA8TGluayBocmVmPXtgL3VzZXJzLyR7YnVzaW5lc3MuaWR9YH0+CiAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtcHJpbWFyeSB0ZXh0LXhsIj4KICAgICAgICAgICAgICAgICAge2J1c2luZXNzLm5hbWV9CiAgICAgICAgICAgICAgICAgIHtpc1ZlcmlmaWVkICYmICgKICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZUNoZWNrIGNsYXNzTmFtZT0iaC02IHctNiB0ZXh0LWdyZWVuLTYwMCBmbGV4LXNocmluay0wIiB0aXRsZT0iVmVyaWZpZWQgQnVzaW5lc3MiIC8+CiAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgIDwvTGluaz4KICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUiPgogICAgICAgICAgICAgIDxCcmllZmNhc2UgY2xhc3NOYW1lPSJ3LTQgaC00IiAvPgogICAgICAgICAgICAgIHtidXNpbmVzcy5idXNpbmVzc19jYXRlZ29yeSA9PT0gJ0FueSBPdGhlcicgPyBidXNpbmVzcy5idXNpbmVzc19vdGhlcl9jYXRlZ29yeSA6IGJ1c2luZXNzLmJ1c2luZXNzX2NhdGVnb3J5fQogICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICAgICAgIHtidXNpbmVzcy5sYXRpdHVkZSAmJiBidXNpbmVzcy5sb25naXR1ZGUgJiYgKAogICAgICAgICAgICAgIDxhIGhyZWY9e2BodHRwczovL3d3dy5nb29nbGUuY29tL21hcHM/cT0ke2J1c2luZXNzLmxhdGl0dWRlfSwke2J1c2luZXNzLmxvbmdpdHVkZX1gfSB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciBub3JlZmVycmVyIiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgcHQtMSB0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3Zlcjp0ZXh0LXByaW1hcnkgZ3JvdXAiPgogICAgICAgICAgICAgICAgIDxNYXBQaW4gY2xhc3NOYW1lPSJ3LTQgaC00IHRleHQtcHJpbWFyeS83MCBmbGV4LXNocmluay0wIHRyYW5zaXRpb24tY29sb3JzIGdyb3VwLWhvdmVyOnRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzIGdyb3VwLWhvdmVyOnVuZGVybGluZSI+CiAgICAgICAgICAgICAgICAgICAgTG9jYXRpb246IHtidXNpbmVzcy5sYXRpdHVkZS50b0ZpeGVkKDMpfSwge2J1c2luZXNzLmxvbmdpdHVkZS50b0ZpeGVkKDMpfQogICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICB7ZGlzdGFuY2VJbk1ldGVycyAhPT0gbnVsbCAmJiBkaXN0YW5jZUluTWV0ZXJzICE9PSB1bmRlZmluZWQgJiYgKAogICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9Im1sLTEgdGV4dC1hY2NlbnQgZm9udC1zZW1pYm9sZCB0cmFuc2l0aW9uLWNvbG9ycyBncm91cC1ob3Zlcjp1bmRlcmxpbmUiPgogICAgICAgICAgICAgICAgICAgICAgICAoYXBwcm94LiB7ZGlzdGFuY2VJbk1ldGVycyA8IDEwMCA/ICc8MTAwbScgOiBgJHsoZGlzdGFuY2VJbk1ldGVycyAvIDEwMDApLnRvRml4ZWQoMSl9IGttYH0gYXdheSkKICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgKX0KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L0NhcmRIZWFkZXI+CiAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT0icC00IGJvcmRlci10IGJnLW11dGVkLzMwIGZsZXgtZ3JvdyBmbGV4LWNvbCBzbTpmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAge2J1c2luZXNzLm1vYmlsZW51bWJlciAmJiAoCiAgICAgICAgICAgIDxhIGhyZWY9e2B0ZWw6JHtidXNpbmVzcy5tb2JpbGVudW1iZXJ9YH0gY2xhc3NOYW1lPSJ3LWZ1bGwgc206dy1hdXRvIGZsZXgtMSI+CiAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT0idy1mdWxsIiB2YXJpYW50PSJvdXRsaW5lIj4KICAgICAgICAgICAgICAgICAgPFBob25lIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICBDYWxsIE5vdwogICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvYT4KICAgICAgICAgICl9CiAgICAgICAgICA8Qm9va2luZ0RpYWxvZyBidXNpbmVzcz17YnVzaW5lc3N9IHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0+CiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPSJ3LWZ1bGwgc206dy1hdXRvIGZsZXgtMSI+CiAgICAgICAgICAgICAgICA8Q2FsZW5kYXJQbHVzIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgQm9vayBBcHBvaW50bWVudAogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgIDwvQm9va2luZ0RpYWxvZz4KICAgICAgPC9DYXJkRm9vdGVyPgogICAgPC9DYXJkPgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBCdXNpbmVzc0NhcmQ7Cg==' | base64 -d > /root/localpulse/src/components/business-card.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnbmV4dC10aGVtZXMnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgU3VuLCBNb29uLCBQYWxldHRlLCBQYWludGJydXNoIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ29sb3JQaWNrZXIgfSBmcm9tICcuL2NvbG9yLXBpY2tlcic7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwoKLy8gSGVscGVyIHRvIGNoZWNrIGlmIGEgc3RyaW5nIGlzIGEgdmFsaWQgaGV4IGNvbG9yCmNvbnN0IGlzSGV4Q29sb3IgPSAoaGV4OiBzdHJpbmcpID0+IC9eI1swLTlBLUZdezZ9JC9pLnRlc3QoaGV4KTsKCmV4cG9ydCBmdW5jdGlvbiBUaGVtZVN3aXRjaGVyKCkgewogIGNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCB7IHRoZW1lLCBzZXRUaGVtZSB9ID0gdXNlVGhlbWUoKTsKCiAgLy8gU3RhdGUgZm9yIHVzZXItc2VsZWN0ZWQgY29sb3JzCiAgY29uc3QgW3ByaW1hcnlDb2xvciwgc2V0UHJpbWFyeUNvbG9yXSA9IHVzZVN0YXRlKCcjOEI1Q0Y2Jyk7IC8vIERlZmF1bHQgcHVycGxlCiAgY29uc3QgW2FjY2VudENvbG9yLCBzZXRBY2NlbnRDb2xvcl0gPSB1c2VTdGF0ZSgnI0VDNDg5OScpOyAvLyBEZWZhdWx0IHBpbmsKICAKICAvLyBMb2FkIHNhdmVkIGNvbG9ycyBmcm9tIGxvY2FsU3RvcmFnZSBvbiBtb3VudAogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBzZXRNb3VudGVkKHRydWUpOwogICAgY29uc3Qgc2F2ZWRQcmltYXJ5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvbG9yZnVsLXByaW1hcnknKTsKICAgIGNvbnN0IHNhdmVkQWNjZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvbG9yZnVsLWFjY2VudCcpOwogICAgaWYgKHNhdmVkUHJpbWFyeSAmJiBpc0hleENvbG9yKHNhdmVkUHJpbWFyeSkpIHsKICAgICAgc2V0UHJpbWFyeUNvbG9yKHNhdmVkUHJpbWFyeSk7CiAgICB9CiAgICBpZiAoc2F2ZWRBY2NlbnQgJiYgaXNIZXhDb2xvcihzYXZlZEFjY2VudCkpIHsKICAgICAgc2V0QWNjZW50Q29sb3Ioc2F2ZWRBY2NlbnQpOwogICAgfQogIH0sIFtdKTsKCiAgLy8gQXBwbHkgY29sb3JzIGFuZCBzYXZlIHRvIGxvY2FsU3RvcmFnZSB3aGVuIHRoZXkgY2hhbmdlCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGlmIChtb3VudGVkICYmIGlzSGV4Q29sb3IocHJpbWFyeUNvbG9yKSAmJiBpc0hleENvbG9yKGFjY2VudENvbG9yKSkgewogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tcHJpbWFyeS1jb2xvcmZ1bCcsIHByaW1hcnlDb2xvcik7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1hY2NlbnQtY29sb3JmdWwnLCBhY2NlbnRDb2xvcik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb2xvcmZ1bC1wcmltYXJ5JywgcHJpbWFyeUNvbG9yKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NvbG9yZnVsLWFjY2VudCcsIGFjY2VudENvbG9yKTsKICAgIH0KICB9LCBbcHJpbWFyeUNvbG9yLCBhY2NlbnRDb2xvciwgbW91bnRlZF0pOwoKCiAgaWYgKCFtb3VudGVkKSB7CiAgICByZXR1cm4gKAogICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLTEwIGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImgtZnVsbCB3LWZ1bGwgYW5pbWF0ZS1wdWxzZSByb3VuZGVkLW1kIGJnLW11dGVkIiAvPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJoLWZ1bGwgdy1mdWxsIGFuaW1hdGUtcHVsc2Ugcm91bmRlZC1tZCBiZy1tdXRlZCIgLz4KICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iaC1mdWxsIHctZnVsbCBhbmltYXRlLXB1bHNlIHJvdW5kZWQtbWQgYmctbXV0ZWQiIC8+CiAgICAgIDwvZGl2PgogICAgKTsKICB9CgogIGNvbnN0IHRoZW1lcyA9IFsKICAgIHsgbmFtZTogJ2xpZ2h0JywgbGFiZWw6ICdMaWdodCcsIGljb246IFN1biB9LAogICAgeyBuYW1lOiAnZGFyaycsIGxhYmVsOiAnRGFyaycsIGljb246IE1vb24gfSwKICAgIHsgbmFtZTogJ2NvbG9yZnVsJywgbGFiZWw6ICdDb2xvcmZ1bCcsIGljb246IFBhbGV0dGUgfSwKICBdOwoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCI+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0zIGdhcC0yIj4KICAgICAgICB7dGhlbWVzLm1hcCgodCkgPT4gKAogICAgICAgICAgPEJ1dHRvbgogICAgICAgICAgICBrZXk9e3QubmFtZX0KICAgICAgICAgICAgdmFyaWFudD17dGhlbWUgPT09IHQubmFtZSA/ICdkZWZhdWx0JyA6ICdvdXRsaW5lJ30KICAgICAgICAgICAgc2l6ZT0ic20iCiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFRoZW1lKHQubmFtZSl9CiAgICAgICAgICAgIGNsYXNzTmFtZT0idy1mdWxsIgogICAgICAgICAgPgogICAgICAgICAgICA8dC5pY29uIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICB7dC5sYWJlbH0KICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICkpfQogICAgICA8L2Rpdj4KICAgICAge3RoZW1lID09PSAnY29sb3JmdWwnICYmICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIHJvdW5kZWQtbGcgYm9yZGVyIGJnLWJhY2tncm91bmQvNTAgcC00IHB0LTMgdHJhbnNpdGlvbi1hbGwgYW5pbWF0ZS1pbiBmYWRlLWluLTUwIj4KICAgICAgICAgIDxoNCBjbGFzc05hbWU9InRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgPFBhaW50YnJ1c2ggY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiLz4KICAgICAgICAgICAgQ3VzdG9taXplIENvbG9ycwogICAgICAgICAgPC9oND4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0yIGdhcC0zIj4KICAgICAgICAgICAgIDxDb2xvclBpY2tlciBjb2xvcj17cHJpbWFyeUNvbG9yfSBzZXRDb2xvcj17c2V0UHJpbWFyeUNvbG9yfT4KICAgICAgICAgICAgICAgIFByaW1hcnkKICAgICAgICAgICAgIDwvQ29sb3JQaWNrZXI+CiAgICAgICAgICAgICA8Q29sb3JQaWNrZXIgY29sb3I9e2FjY2VudENvbG9yfSBzZXRDb2xvcj17c2V0QWNjZW50Q29sb3J9PgogICAgICAgICAgICAgICAgQWNjZW50CiAgICAgICAgICAgICA8L0NvbG9yUGlja2VyPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CiAgICA8L2Rpdj4KICApOwp9Cg==' | base64 -d > /root/localpulse/src/components/theme-switcher.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2tlbGV0b24nOwppbXBvcnQgeyBEaWFsb2csIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0hlYWRlciwgRGlhbG9nVGl0bGUsIERpYWxvZ1RyaWdnZXIsIERpYWxvZ0Rlc2NyaXB0aW9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2RpYWxvZyc7CmltcG9ydCB7IFphcCwgUGx1c0NpcmNsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB0eXBlIHsgVXNlciB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IHVzZU1vZGFsQmFjayB9IGZyb20gIkAvaG9va3MvdXNlTW9kYWxCYWNrIjsKCi8vIFRoZSBza2VsZXRvbiBub3cgcmVwcmVzZW50cyB0aGUgdHJpZ2dlciBidXR0b24sIG5vdCB0aGUgZnVsbCBjb21wb3Nlci4KZXhwb3J0IGNvbnN0IFBvc3RDb21wb3NlclNrZWxldG9uID0gKCkgPT4gKAogICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC1mdWxsIHctZnVsbCByb3VuZGVkLXhsIiAvPgopOwoKY29uc3QgUG9zdENvbXBvc2VyID0gZHluYW1pYygoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wb3N0LWNvbXBvc2VyJyksIHsKICAvLyBTa2VsZXRvbiBmb3IgdGhlIGNvbnRlbnQgaW5zaWRlIHRoZSBkaWFsb2cgd2hlbiBpdCdzIG9wZW5pbmcKICBsb2FkaW5nOiAoKSA9PiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0icC01IHNwYWNlLXktNCI+CiAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMjQgdy1mdWxsIiAvPgogICAgICA8ZGl2IGNsYXNzTmFtZT0iZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBnYXAtNCI+CiAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMCB3LWZ1bGwiIC8+CiAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMCB3LWZ1bGwiIC8+CiAgICAgIDwvZGl2PgogICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTEyIHctZnVsbCIgLz4KICAgIDwvZGl2PgogICksCn0pOwoKaW50ZXJmYWNlIFBvc3RDb21wb3NlckxvYWRlclByb3BzIHsKICAgIHNlc3Npb25Vc2VyOiBVc2VyIHwgbnVsbDsKICAgIG1hbmRhbElkPzogbnVtYmVyOwogICAgaXNNYW5kYWxQb3N0PzogYm9vbGVhbjsKICAgIG9uUG9zdFN1Y2Nlc3M/OiAoKSA9PiB2b2lkOwp9Cgpjb25zdCBQb3N0Q29tcG9zZXJMb2FkZXI6IEZDPFBvc3RDb21wb3NlckxvYWRlclByb3BzPiA9ICh7IHNlc3Npb25Vc2VyLCBtYW5kYWxJZCwgaXNNYW5kYWxQb3N0ID0gZmFsc2UsIG9uUG9zdFN1Y2Nlc3MgfSkgPT4gewogICAgY29uc3QgW2lzRGlhbG9nT3Blbiwgc2V0SXNEaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIAogICAgLy8gV2lyZSB1cCB0aGUgYmFjayBidXR0b24gaG9vayB0byB0aGUgZGlhbG9nIHN0YXRlLgogICAgdXNlTW9kYWxCYWNrKGlzRGlhbG9nT3BlbiwgKCkgPT4gc2V0SXNEaWFsb2dPcGVuKGZhbHNlKSwgJ3Bvc3QtY29tcG9zZXInKTsKCiAgICBjb25zdCBoYW5kbGVQb3N0U3VjY2Vzc0ludGVybmFsID0gKCkgPT4gewogICAgICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7CiAgICAgICAgaWYgKG9uUG9zdFN1Y2Nlc3MpIHsKICAgICAgICAgICAgb25Qb3N0U3VjY2VzcygpOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIC8vIFVzZSBhIGRlZmF1bHQgb25Qb3N0U3VjY2VzcyBpZiBub25lIGlzIHByb3ZpZGVkCiAgICBjb25zdCBmaW5hbE9uUG9zdFN1Y2Nlc3MgPSBvblBvc3RTdWNjZXNzIHx8IGhhbmRsZVBvc3RTdWNjZXNzSW50ZXJuYWw7CgogICAgY29uc3QgVHJpZ2dlckJ1dHRvbiA9IGlzTWFuZGFsUG9zdCA/ICgKICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiIGNsYXNzTmFtZT0idy1mdWxsIGp1c3RpZnktc3RhcnQiPgogICAgICAgICAgICAgPFBsdXNDaXJjbGUgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+IFBvc3QgYSBNZWRpYSBVcGRhdGUKICAgICAgICA8L0J1dHRvbj4KICAgICkgOiAoCiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIiBjbGFzc05hbWU9e2NuKAogICAgICAgICAgICAidy1mdWxsIGgtZnVsbCBqdXN0aWZ5LWNlbnRlciBwLTIgcm91bmRlZC14bCBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXByaW1hcnkvMjAgYmctY2FyZC84MCBiYWNrZHJvcC1ibHVyLXNtIGJvcmRlci1ib3JkZXIvNjAgaG92ZXI6Ym9yZGVyLXByaW1hcnkvNTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIiwKICAgICAgICAgICAgImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgaXRlbXMtY2VudGVyIGdhcC0yIHNtOmdhcC0zIgogICAgICAgICl9PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC1zaHJpbmstMCBoLTEwIHctMTAgc206aC0xMiBzbTp3LTEyIHJvdW5kZWQtZnVsbCBiZy1wcmltYXJ5LzEwIGJvcmRlci0yIGJvcmRlci1wcmltYXJ5LzIwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KICAgICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPSJoLTUgdy01IHNtOmgtNiBzbTp3LTYgdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LW11dGVkLWZvcmVncm91bmQgdGV4dC14cyBzbTp0ZXh0LXNtIGZvbnQtc2VtaWJvbGQiPlNoYXJlIFBvc3Q8L3NwYW4+CiAgICAgICAgPC9CdXR0b24+CiAgICApOwoKICAgIHJldHVybiAoCiAgICAgICAgPERpYWxvZyBvcGVuPXtpc0RpYWxvZ09wZW59IG9uT3BlbkNoYW5nZT17c2V0SXNEaWFsb2dPcGVufT4KICAgICAgICAgICAgPERpYWxvZ1RyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgICAgICAgIHtUcmlnZ2VyQnV0dG9ufQogICAgICAgICAgICA8L0RpYWxvZ1RyaWdnZXI+CiAgICAgICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT0ic206bWF4LXctbGciPgogICAgICAgICAgICAgICAgPERpYWxvZ0hlYWRlcj4KICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPSJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeSBmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPSJ3LTcgaC03IG1yLTIgdGV4dC1hY2NlbnQgZHJvcC1zaGFkb3ctc20iIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIHtpc01hbmRhbFBvc3QgPyAnUG9zdCBhIE1hbmRhbCBVcGRhdGUnIDogJ1NoYXJlIFlvdXIgUG9zdCd9CiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dUaXRsZT4KICAgICAgICAgICAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICB7aXNNYW5kYWxQb3N0ID8gJ1RoaXMgcG9zdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB5b3VyIE1hbmRhbC4nIDogJ0NyZWF0ZSBhbmQgc2hhcmUgYSBuZXcgcG9zdCB3aXRoIHlvdXIgY29tbXVuaXR5LiBBZGQgY29udGVudCwgdGFncywgYW5kIG1lZGlhLid9CiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIDwvRGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgPFBvc3RDb21wb3NlciBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9IG9uUG9zdFN1Y2Nlc3M9e2ZpbmFsT25Qb3N0U3VjY2Vzc30gbWFuZGFsSWQ9e21hbmRhbElkfSAvPgogICAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+CiAgICAgICAgPC9EaWFsb2c+CiAgICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgUG9zdENvbXBvc2VyTG9hZGVyOwo=' | base64 -d > /root/localpulse/src/components/post-composer-loader.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7CmltcG9ydCAnbGVhZmxldC1kZWZhdWx0aWNvbi1jb21wYXRpYmlsaXR5L2Rpc3QvbGVhZmxldC1kZWZhdWx0aWNvbi1jb21wYXRpYmlsaXR5LmNzcyc7CmltcG9ydCAnbGVhZmxldC1kZWZhdWx0aWNvbi1jb21wYXRpYmlsaXR5JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IE1hcENvbnRhaW5lciwgVGlsZUxheWVyLCBNYXJrZXIsIFBvcHVwLCB1c2VNYXAsIHVzZU1hcEV2ZW50cyB9IGZyb20gJ3JlYWN0LWxlYWZsZXQnOwppbXBvcnQgdHlwZSB7IExhdExuZ0V4cHJlc3Npb24sIE1hcCBhcyBMZWFmbGV0TWFwIH0gZnJvbSAnbGVhZmxldCc7CmltcG9ydCBMIGZyb20gJ2xlYWZsZXQnOwppbXBvcnQgeyBCcmllZmNhc2UsIExvYWRlcjIsIFVzZXJzIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IHsgZ2V0UG9zdHNGb3JNYXAsIGdldEJ1c2luZXNzZXNGb3JNYXAsIGdldEZhbWlseUxvY2F0aW9ucyB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgdHlwZSB7IFBvc3QsIEJ1c2luZXNzVXNlciwgRmFtaWx5TWVtYmVyTG9jYXRpb24gfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyBkaWZmZXJlbmNlSW5Ib3VycywgZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdCB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi91aS9idXR0b24nOwoKZGVjbGFyZSBtb2R1bGUgJ2xlYWZsZXQnIHsKICAgIGZ1bmN0aW9uIGhlYXRMYXllcihsYXRsbmdzOiBMLkhlYXRMYXRMbmdUdXBsZVtdLCBvcHRpb25zPzogYW55KTogYW55Owp9Cgpjb25zdCBIZWF0bWFwQ29tcG9uZW50ID0gKHsgaXRlbXMgfTogeyBpdGVtczogKFBvc3QgfCBCdXNpbmVzc1VzZXIpW10gfSkgPT4gewogICAgY29uc3QgbWFwID0gdXNlTWFwKCk7CiAgICBjb25zdCBoZWF0bWFwTGF5ZXJSZWYgPSB1c2VSZWY8YW55IHwgbnVsbD4obnVsbCk7CiAgICBjb25zdCBbaXNIZWF0bWFwUmVhZHksIHNldElzSGVhdG1hcFJlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGlmIChpc0hlYXRtYXBSZWFkeSkgcmV0dXJuOwogICAgICAgIGltcG9ydCgnbGVhZmxldC5oZWF0JykudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHNldElzSGVhdG1hcFJlYWR5KHRydWUpOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gbG9hZCBsZWFmbGV0LmhlYXQiLCBlcnIpKTsKICAgIH0sIFtpc0hlYXRtYXBSZWFkeV0pOwoKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgaWYgKCFpc0hlYXRtYXBSZWFkeSB8fCAhbWFwKSByZXR1cm47CgogICAgICAgIGlmIChoZWF0bWFwTGF5ZXJSZWYuY3VycmVudCkgewogICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoaGVhdG1hcExheWVyUmVmLmN1cnJlbnQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gaXRlbXMubWFwKHAgPT4gW3AubGF0aXR1ZGUsIHAubG9uZ2l0dWRlLCAxXSBhcyBMLkhlYXRMYXRMbmdUdXBsZSk7CiAgICAgICAgICAgIGhlYXRtYXBMYXllclJlZi5jdXJyZW50ID0gTC5oZWF0TGF5ZXIocG9pbnRzLCB7IAogICAgICAgICAgICAgICAgcmFkaXVzOiAyMCwgCiAgICAgICAgICAgICAgICBibHVyOiAxNSwKICAgICAgICAgICAgICAgIG1heDogMS4wCiAgICAgICAgICAgIH0pLmFkZFRvKG1hcCk7CiAgICAgICAgfQogICAgfSwgW2l0ZW1zLCBtYXAsIGlzSGVhdG1hcFJlYWR5XSk7CgogICAgcmV0dXJuIG51bGw7Cn07Cgpjb25zdCBNYXBFdmVudHMgPSAoeyBvbk1hcENoYW5nZSB9OiB7IG9uTWFwQ2hhbmdlOiAobWFwOiBMZWFmbGV0TWFwKSA9PiB2b2lkIH0pID0+IHsKICAgIGNvbnN0IG1hcCA9IHVzZU1hcEV2ZW50cyh7CiAgICAgICAgbW92ZWVuZDogKCkgPT4gb25NYXBDaGFuZ2UobWFwKSwKICAgICAgICB6b29tZW5kOiAoKSA9PiBvbk1hcENoYW5nZShtYXApLAogICAgfSk7CiAgICAKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgb25NYXBDaGFuZ2UobWFwKTsKICAgIH0sIFttYXAsIG9uTWFwQ2hhbmdlXSk7CiAgICAKICAgIHJldHVybiBudWxsOwp9OwoKZnVuY3Rpb24gZGVib3VuY2UoZnVuYzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLCB3YWl0OiBudW1iZXIpIHsKICAgIGxldCB0aW1lb3V0OiBOb2RlSlMuVGltZW91dDsKICAgIHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3M6IGFueVtdKSB7CiAgICAgICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgICAgICAgZnVuYyguLi5hcmdzKTsKICAgICAgICB9OwogICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7CiAgICB9Owp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYXBWaWV3ZXIoKSB7CiAgY29uc3QgW3Bvc2l0aW9uLCBzZXRQb3NpdGlvbl0gPSB1c2VTdGF0ZTxMYXRMbmdFeHByZXNzaW9uIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTsKICBjb25zdCBbcG9zdHMsIHNldFBvc3RzXSA9IHVzZVN0YXRlPFBvc3RbXT4oW10pOwogIGNvbnN0IFtidXNpbmVzc2VzLCBzZXRCdXNpbmVzc2VzXSA9IHVzZVN0YXRlPEJ1c2luZXNzVXNlcltdPihbXSk7CiAgY29uc3QgW2ZhbWlseUxvY2F0aW9ucywgc2V0RmFtaWx5TG9jYXRpb25zXSA9IHVzZVN0YXRlPEZhbWlseU1lbWJlckxvY2F0aW9uW10+KFtdKTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgZGVsZXRlIChMLkljb24uRGVmYXVsdC5wcm90b3R5cGUgYXMgYW55KS5fZ2V0SWNvblVybDsKICAgICAgTC5JY29uLkRlZmF1bHQubWVyZ2VPcHRpb25zKHsKICAgICAgICAgIGljb25SZXRpbmFVcmw6ICdodHRwczovL3VucGtnLmNvbS9sZWFmbGV0QDEuNy4xL2Rpc3QvaW1hZ2VzL21hcmtlci1pY29uLTJ4LnBuZycsCiAgICAgICAgICBpY29uVXJsOiAnaHR0cHM6Ly91bnBrZy5jb20vbGVhZmxldEAxLjcuMS9kaXN0L2ltYWdlcy9tYXJrZXItaWNvbi5wbmcnLAogICAgICAgICAgc2hhZG93VXJsOiAnaHR0cHM6Ly91bnBrZy5jb20vbGVhZmxldEAxLjcuMS9kaXN0L2ltYWdlcy9tYXJrZXItc2hhZG93LnBuZycsCiAgICAgIH0pOwogIH0sIFtdKTsKCiAgY29uc3QgdXNlckljb24gPSBuZXcgTC5JY29uKHsKICAgIGljb25Vcmw6ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcG9pbnRoaS9sZWFmbGV0LWNvbG9yLW1hcmtlcnMvbWFzdGVyL2ltZy9tYXJrZXItaWNvbi0yeC1yZWQucG5nJywKICAgIHNoYWRvd1VybDogJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQvMC43LjcvaW1hZ2VzL21hcmtlci1zaGFkb3cucG5nJywKICAgIGljb25TaXplOiBbMjUsIDQxXSwKICAgIGljb25BbmNob3I6IFsxMiwgNDFdLAogICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLAogICAgc2hhZG93U2l6ZTogWzQxLCA0MV0KICB9KTsKCiAgY29uc3QgYnVzaW5lc3NJY29uID0gbmV3IEwuSWNvbih7CiAgICBpY29uVXJsOiAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3BvaW50aGkvbGVhZmxldC1jb2xvci1tYXJrZXJzL21hc3Rlci9pbWcvbWFya2VyLWljb24tMngtYmx1ZS5wbmcnLAogICAgc2hhZG93VXJsOiAnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC8wLjcuNy9pbWFnZXMvbWFya2VyLXNoYWRvdy5wbmcnLAogICAgaWNvblNpemU6IFsyNSwgNDFdLAogICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sCiAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sCiAgICBzaGFkb3dTaXplOiBbNDEsIDQxXQogIH0pOwoKICBjb25zdCBjcmVhdGVGYW1pbHlJY29uID0gKGltYWdlVXJsOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7CiAgICByZXR1cm4gTC5kaXZJY29uKHsKICAgICAgICBodG1sOiBgCiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQtaW1hZ2U6IHVybCgke2ltYWdlVXJsIHx8ICcvaW1hZ2VzL2RlZmF1bHQtYXZhdGFyLnBuZyd9KTsiIGNsYXNzPSJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWNvdmVyIGJnLWNlbnRlciBib3JkZXItMiBib3JkZXItZ3JlZW4tNTAwIHNoYWRvdy1tZCI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGAsCiAgICAgICAgY2xhc3NOYW1lOiAnYmctdHJhbnNwYXJlbnQgYm9yZGVyLTAnLAogICAgICAgIGljb25TaXplOiBbNDAsIDQwXSwKICAgICAgICBpY29uQW5jaG9yOiBbMjAsIDQwXSwKICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC00MF0KICAgIH0pOwogIH07CgogIGNvbnN0IGdldFB1bHNlQ2xhc3NOYW1lID0gKHBvc3REYXRlOiBzdHJpbmcpOiBzdHJpbmcgPT4gewogICAgY29uc3QgaG91cnMgPSBkaWZmZXJlbmNlSW5Ib3VycyhuZXcgRGF0ZSgpLCBuZXcgRGF0ZShwb3N0RGF0ZSkpOwogICAgaWYgKGhvdXJzIDwgMSkgcmV0dXJuICdwdWxzZS1mYXN0JzsKICAgIGlmIChob3VycyA8IDYpIHJldHVybiAncHVsc2UtbWVkaXVtJzsKICAgIHJldHVybiAncHVsc2Utc2xvdyc7CiAgfTsKCiAgY29uc3QgZmV0Y2hNYXBEYXRhID0gdXNlQ2FsbGJhY2soYXN5bmMgKG1hcDogTGVhZmxldE1hcCkgPT4gewogICAgc2V0SXNMb2FkaW5nKHRydWUpOwogICAgdHJ5IHsKICAgICAgY29uc3QgYm91bmRzID0gbWFwLmdldEJvdW5kcygpOwogICAgICBjb25zdCBtYXBCb3VuZHMgPSB7CiAgICAgICAgbmU6IHsgbGF0OiBib3VuZHMuZ2V0Tm9ydGhFYXN0KCkubGF0LCBsbmc6IGJvdW5kcy5nZXROb3J0aEVhc3QoKS5sbmcgfSwKICAgICAgICBzdzogeyBsYXQ6IGJvdW5kcy5nZXRTb3V0aFdlc3QoKS5sYXQsIGxuZzogYm91bmRzLmdldFNvdXRoV2VzdCgpLmxuZyB9LAogICAgICB9OwogICAgICBjb25zdCBbZmV0Y2hlZFBvc3RzLCBmZXRjaGVkQnVzaW5lc3NlcywgZmV0Y2hlZEZhbWlseV0gPSBhd2FpdCBQcm9taXNlLmFsbChbCiAgICAgICAgZ2V0UG9zdHNGb3JNYXAobWFwQm91bmRzKSwKICAgICAgICBnZXRCdXNpbmVzc2VzRm9yTWFwKG1hcEJvdW5kcyksCiAgICAgICAgZ2V0RmFtaWx5TG9jYXRpb25zKCkgLy8gRmV0Y2hlcyBsb2NhdGlvbnMgZm9yIHRoZSBsb2dnZWQtaW4gdXNlcgogICAgICBdKTsKICAgICAgc2V0UG9zdHMoZmV0Y2hlZFBvc3RzKTsKICAgICAgc2V0QnVzaW5lc3NlcyhmZXRjaGVkQnVzaW5lc3Nlcyk7CiAgICAgIHNldEZhbWlseUxvY2F0aW9ucyhmZXRjaGVkRmFtaWx5KTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggbWFwIGRhdGEiLCBlcnIpOwogICAgICB0b2FzdCh7CiAgICAgICAgdmFyaWFudDogImRlc3RydWN0aXZlIiwKICAgICAgICB0aXRsZTogIkNvdWxkIG5vdCBsb2FkIGRhdGEiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiVGhlcmUgd2FzIGFuIGVycm9yIGZldGNoaW5nIGRhdGEgZm9yIHRoZSBtYXAuIiwKICAgICAgfSk7CiAgICB9IGZpbmFsbHkgewogICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpOwogICAgfQogIH0sIFt0b2FzdF0pOwogIAogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKAogICAgICAocG9zKSA9PiB7CiAgICAgICAgc2V0UG9zaXRpb24oW3Bvcy5jb29yZHMubGF0aXR1ZGUsIHBvcy5jb29yZHMubG9uZ2l0dWRlXSk7CiAgICAgIH0sCiAgICAgIChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgc2V0RXJyb3IoJ0NvdWxkIG5vdCBnZXQgeW91ciBsb2NhdGlvbi4gUGxlYXNlIGVuYWJsZSBsb2NhdGlvbiBzZXJ2aWNlcyBhbmQgcmVmcmVzaC4nKTsKICAgICAgICBzZXRQb3NpdGlvbihbMjAuNTkzNywgNzguOTYyOV0pOwogICAgICB9LAogICAgICB7IGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSwgdGltZW91dDogMTAwMDAsIG1heGltdW1BZ2U6IDAgfQogICAgKTsKICB9LCBbXSk7CgogIGNvbnN0IGRlYm91bmNlZEZldGNoID0gdXNlQ2FsbGJhY2soZGVib3VuY2UoZmV0Y2hNYXBEYXRhLCA1MDApLCBbZmV0Y2hNYXBEYXRhXSk7CgogIGlmIChlcnJvcikgewogICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSJwLTQgdGV4dC1jZW50ZXIgdGV4dC1yZWQtNTAwIj57ZXJyb3J9PC9kaXY+OwogIH0KCiAgaWYgKCFwb3NpdGlvbikgewogICAgcmV0dXJuICgKICAgICAgPGRpdiBjbGFzc05hbWU9InctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctbXV0ZWQiPgogICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0iaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1wcmltYXJ5IiAvPgogICAgICAgIDxwIGNsYXNzTmFtZT0ibWwtNCB0ZXh0LW11dGVkLWZvcmVncm91bmQiPkZpbmRpbmcgeW91ciBsb2NhdGlvbiB0byBsb2FkIG1hcC4uLjwvcD4KICAgICAgPC9kaXY+CiAgICApOwogIH0KCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIj4KICAgICAge2lzTG9hZGluZyAmJiAoCiAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhYnNvbHV0ZSB0b3AtNCByaWdodC00IHotWzEwMDBdIGJnLWJhY2tncm91bmQvODAgcC0yIHJvdW5kZWQtbWQgc2hhZG93LWxnIGZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJoLTUgdy01IGFuaW1hdGUtc3BpbiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ibWwtMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIj5Mb2FkaW5nIERhdGEuLi48L3NwYW4+CiAgICAgICAgIDwvZGl2PgogICAgICApfQogICAgICA8TWFwQ29udGFpbmVyCiAgICAgICAgY2VudGVyPXtwb3NpdGlvbn0KICAgICAgICB6b29tPXsxM30KICAgICAgICBzY3JvbGxXaGVlbFpvb209e3RydWV9CiAgICAgICAgY2xhc3NOYW1lPSJoLWZ1bGwgdy1mdWxsIHotMCIKICAgICAgPgogICAgICAgIDxUaWxlTGF5ZXIKICAgICAgICAgIGF0dHJpYnV0aW9uPScmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0Ij5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnCiAgICAgICAgICB1cmw9Imh0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nIgogICAgICAgIC8+CiAgICAgICAgCiAgICAgICAgPE1hcEV2ZW50cyBvbk1hcENoYW5nZT17ZGVib3VuY2VkRmV0Y2h9IC8+CgogICAgICAgIDxIZWF0bWFwQ29tcG9uZW50IGl0ZW1zPXtbLi4ucG9zdHMsIC4uLmJ1c2luZXNzZXNdfSAvPgogICAgICAgIAogICAgICAgIDxNYXJrZXIgcG9zaXRpb249e3Bvc2l0aW9ufSBpY29uPXt1c2VySWNvbn0+CiAgICAgICAgICA8UG9wdXA+WW91IGFyZSBoZXJlLjwvUG9wdXA+CiAgICAgICAgPC9NYXJrZXI+CiAgICAgICAgCiAgICAgICAge3Bvc3RzLm1hcChwb3N0ID0+IHsKICAgICAgICAgICAgaWYgKCFwb3N0IHx8ICFwb3N0LmxhdGl0dWRlIHx8ICFwb3N0LmxvbmdpdHVkZSkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIGNvbnN0IHB1bHNlQ2xhc3NOYW1lID0gZ2V0UHVsc2VDbGFzc05hbWUocG9zdC5jcmVhdGVkYXQpOwogICAgICAgICAgICBjb25zdCBwb3N0SWNvbiA9IG5ldyBMLkRpdkljb24oewogICAgICAgICAgICAgIGh0bWw6IGA8ZGl2IGNsYXNzPSJwdWxzaW5nLWRvdCAke3B1bHNlQ2xhc3NOYW1lfSI+PC9kaXY+YCwKICAgICAgICAgICAgICBjbGFzc05hbWU6ICdiZy10cmFuc3BhcmVudCBib3JkZXItMCcsCiAgICAgICAgICAgICAgaWNvblNpemU6IFsxNiwgMTZdLAogICAgICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSwKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgPE1hcmtlciBrZXk9e2Bwb3N0LSR7cG9zdC5pZH1gfSBwb3NpdGlvbj17W3Bvc3QubGF0aXR1ZGUsIHBvc3QubG9uZ2l0dWRlXX0gaWNvbj17cG9zdEljb259PgogICAgICAgICAgICAgICAgICA8UG9wdXA+CiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idy00OCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtYmFzZSBtYi0xIHRydW5jYXRlIj57cG9zdC5jb250ZW50IHx8ICJNZWRpYSBQb3N0In08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtYi0yIj5CeToge3Bvc3QuYXV0aG9ybmFtZSB8fCAnQW5vbnltb3VzJ308L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBhc0NoaWxkIHNpemU9InNtIiBjbGFzc05hbWU9InctZnVsbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvcG9zdHMvJHtwb3N0LmlkfWB9PlZpZXcgUHVsc2U8L0xpbms+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9Qb3B1cD4KICAgICAgICAgICAgICAgIDwvTWFya2VyPgogICAgICAgICAgICApOwogICAgICAgIH0pfQoKICAgICAgICB7YnVzaW5lc3Nlcy5tYXAoYnVzaW5lc3MgPT4gewogICAgICAgICAgICBpZiAoIWJ1c2luZXNzIHx8ICFidXNpbmVzcy5sYXRpdHVkZSB8fCAhYnVzaW5lc3MubG9uZ2l0dWRlKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIDxNYXJrZXIga2V5PXtgYnVzaW5lc3MtJHtidXNpbmVzcy5pZH1gfSBwb3NpdGlvbj17W2J1c2luZXNzLmxhdGl0dWRlLCBidXNpbmVzcy5sb25naXR1ZGVdfSBpY29uPXtidXNpbmVzc0ljb259PgogICAgICAgICAgICAgICAgICAgIDxQb3B1cD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InctNDgiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtYmFzZSBtYi0xIHRydW5jYXRlIj57YnVzaW5lc3MubmFtZX08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG1iLTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJyaWVmY2FzZSBjbGFzc05hbWU9InctMyBoLTMiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2J1c2luZXNzLmJ1c2luZXNzX2NhdGVnb3J5fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBhc0NoaWxkIHNpemU9InNtIiBjbGFzc05hbWU9InctZnVsbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC91c2Vycy8ke2J1c2luZXNzLmlkfWB9PlZpZXcgUHJvZmlsZTwvTGluaz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L1BvcHVwPgogICAgICAgICAgICAgICAgPC9NYXJrZXI+CiAgICAgICAgICAgICkKICAgICAgICB9KX0KCiAgICAgICAge2ZhbWlseUxvY2F0aW9ucy5tYXAobWVtYmVyID0+IHsKICAgICAgICAgICAgaWYgKCFtZW1iZXIgfHwgIW1lbWJlci5sYXRpdHVkZSB8fCAhbWVtYmVyLmxvbmdpdHVkZSkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICA8TWFya2VyIGtleT17YGZhbWlseS0ke21lbWJlci5pZH1gfSBwb3NpdGlvbj17W21lbWJlci5sYXRpdHVkZSwgbWVtYmVyLmxvbmdpdHVkZV19IGljb249e2NyZWF0ZUZhbWlseUljb24obWVtYmVyLnByb2ZpbGVwaWN0dXJldXJsKX0+CiAgICAgICAgICAgICAgICAgICAgPFBvcHVwPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idy00OCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1iYXNlIG1iLTEgdHJ1bmNhdGUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1ncmVlbi03MDAiPjxVc2VycyBjbGFzc05hbWU9InctNCBoLTQiIC8+e21lbWJlci5uYW1lfTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbWItMiI+TGFzdCB1cGRhdGVkOiB7Zm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChuZXcgRGF0ZShtZW1iZXIubGFzdF91cGRhdGVkKSwgeyBhZGRTdWZmaXg6IHRydWUgfSl9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBhc0NoaWxkIHNpemU9InNtIiBjbGFzc05hbWU9InctZnVsbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC91c2Vycy8ke21lbWJlci5pZH1gfT5WaWV3IFByb2ZpbGU8L0xpbms+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9Qb3B1cD4KICAgICAgICAgICAgICAgIDwvTWFya2VyPgogICAgICAgICAgICApCiAgICAgICAgfSl9CiAgICAgIDwvTWFwQ29udGFpbmVyPgogICAgPC9kaXY+CiAgKTsKfQoK' | base64 -d > /root/localpulse/src/components/map-viewer.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFVzZXIsIFBsdXMgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgeyBTY3JvbGxBcmVhLCBTY3JvbGxCYXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEnOwppbXBvcnQgeyBEaWFsb2csIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0hlYWRlciwgRGlhbG9nVGl0bGUsIERpYWxvZ1RyaWdnZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJzsKaW1wb3J0IFN0YXR1c1VwbG9hZGVyIGZyb20gJy4vc3RhdHVzLXVwbG9hZGVyJzsKaW1wb3J0IFN0YXR1c1ZpZXdlciBmcm9tICcuL3N0YXR1cy12aWV3ZXInOwppbXBvcnQgdHlwZSB7IFVzZXJXaXRoU3RhdHVzZXMsIFVzZXIgYXMgU2Vzc2lvblVzZXJUeXBlIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBnZXRTdGF0dXNlc0ZvckZlZWQgfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKCmludGVyZmFjZSBTdGF0dXNGZWVkUHJvcHMgewogIHNlc3Npb25Vc2VyOiBTZXNzaW9uVXNlclR5cGUgfCBudWxsOwp9Cgpjb25zdCBTdGF0dXNGZWVkOiBGQzxTdGF0dXNGZWVkUHJvcHM+ID0gKHsgc2Vzc2lvblVzZXIgfSkgPT4gewogIGNvbnN0IFtzdGF0dXNlcywgc2V0U3RhdHVzZXNdID0gdXNlU3RhdGU8VXNlcldpdGhTdGF0dXNlc1tdPihbXSk7CiAgY29uc3QgW2lzVXBsb2FkZXJPcGVuLCBzZXRJc1VwbG9hZGVyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2lzVmlld2VyT3Blbiwgc2V0SXNWaWV3ZXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbdmlld2VySW5pdGlhbEluZGV4LCBzZXRWaWV3ZXJJbml0aWFsSW5kZXhdID0gdXNlU3RhdGUoMCk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoc2Vzc2lvblVzZXIpIHsKICAgICAgZ2V0U3RhdHVzZXNGb3JGZWVkKCkudGhlbihzZXRTdGF0dXNlcyk7CiAgICB9CiAgfSwgW3Nlc3Npb25Vc2VyXSk7CgogIGNvbnN0IGhhbmRsZU9wZW5WaWV3ZXIgPSAoaW5kZXg6IG51bWJlcikgPT4gewogICAgc2V0Vmlld2VySW5pdGlhbEluZGV4KGluZGV4KTsKICAgIHNldElzVmlld2VyT3Blbih0cnVlKTsKICB9OwogIAogIGlmICghc2Vzc2lvblVzZXIpIHsKICAgIHJldHVybiBudWxsOyAvLyBEb24ndCBzaG93IHN0YXR1cyBmZWVkIGZvciBsb2dnZWQtb3V0IHVzZXJzCiAgfQoKICBjb25zdCBjdXJyZW50VXNlckRhdGEgPSBzdGF0dXNlcy5maW5kKHMgPT4gcy51c2VySWQgPT09IHNlc3Npb25Vc2VyLmlkKTsKICBjb25zdCBvdGhlclVzZXJzU3RhdHVzZXMgPSBzdGF0dXNlcy5maWx0ZXIocyA9PiBzLnVzZXJJZCAhPT0gc2Vzc2lvblVzZXIuaWQpOwoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InB5LTIgYm9yZGVyLWIiPgogICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT0idy1mdWxsIHdoaXRlc3BhY2Utbm93cmFwIj4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggc3BhY2UteC00IHAtMiI+CiAgICAgICAgICAgICAgICA8RGlhbG9nIG9wZW49e2lzVXBsb2FkZXJPcGVufSBvbk9wZW5DaGFuZ2U9e3NldElzVXBsb2FkZXJPcGVufT4KICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgc3BhY2UteS0yIGZsZXgtc2hyaW5rLTAgdy0yMCB0ZXh0LWNlbnRlciBjdXJzb3ItcG9pbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VXNlckRhdGEgPyAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTAuNSByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tdHIgZnJvbS1ncmF5LTQwMCB2aWEtZ3JheS01MDAgdG8tZ3JheS02MDAiIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGhhbmRsZU9wZW5WaWV3ZXIoc3RhdHVzZXMuZmluZEluZGV4KHMgPT4gcy51c2VySWQgPT09IHNlc3Npb25Vc2VyLmlkKSk7fX0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC0xNiB3LTE2IGJvcmRlci0yIGJvcmRlci1iYWNrZ3JvdW5kIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXtjdXJyZW50VXNlckRhdGEudXNlclByb2ZpbGVQaWN0dXJlVXJsID8/IHVuZGVmaW5lZH0gcHJpb3JpdHkgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e2N1cnJlbnRVc2VyRGF0YS51c2VyTmFtZS5jaGFyQXQoMCl9PC9BdmF0YXJGYWxsYmFjaz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQXZhdGFyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtMTYgdy0xNiBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1wcmltYXJ5LzUwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJJbWFnZSBzcmM9e3Nlc3Npb25Vc2VyLnByb2ZpbGVwaWN0dXJldXJsID8/IHVuZGVmaW5lZH0gYWx0PSJZb3VyIFN0YXR1cyIgcHJpb3JpdHkvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhckZhbGxiYWNrPjxVc2VyIGNsYXNzTmFtZT0iaC03IHctNyIgLz48L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0F2YXRhcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhYnNvbHV0ZSAtYm90dG9tLTEgLXJpZ2h0LTEgYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCByb3VuZGVkLWZ1bGwgcC0wLjUgYm9yZGVyLTIgYm9yZGVyLWJhY2tncm91bmQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyBmb250LW1lZGl1bSB0cnVuY2F0ZSI+WW91ciBTdG9yeTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dUcmlnZ2VyPgogICAgICAgICAgICAgICAgICAgIDxEaWFsb2dDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlPkFkZCB0byB5b3VyIHN0b3J5PC9EaWFsb2dUaXRsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxTdGF0dXNVcGxvYWRlciBvblVwbG9hZENvbXBsZXRlPXsoKSA9PiBzZXRJc1VwbG9hZGVyT3BlbihmYWxzZSl9IC8+CiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dDb250ZW50PgogICAgICAgICAgICAgICAgPC9EaWFsb2c+CgogICAgICAgICAgICAgICAge290aGVyVXNlcnNTdGF0dXNlcy5tYXAoKHVzZXJXaXRoU3RhdHVzLCBpbmRleCkgPT4gKAogICAgICAgICAgICAgICAgPGRpdiBrZXk9e3VzZXJXaXRoU3RhdHVzLnVzZXJJZH0gb25DbGljaz17KCkgPT4gaGFuZGxlT3BlblZpZXdlcihzdGF0dXNlcy5maW5kSW5kZXgocyA9PiBzLnVzZXJJZCA9PT0gdXNlcldpdGhTdGF0dXMudXNlcklkKSl9IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgc3BhY2UteS0yIGZsZXgtc2hyaW5rLTAgdy0yMCB0ZXh0LWNlbnRlciBjdXJzb3ItcG9pbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icC0wLjUgcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLXRyIGZyb20teWVsbG93LTQwMCB2aWEtcmVkLTUwMCB0by1wdXJwbGUtNTAwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC0xNiB3LTE2IGJvcmRlci0yIGJvcmRlci1iYWNrZ3JvdW5kIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJJbWFnZSBzcmM9e3VzZXJXaXRoU3RhdHVzLnVzZXJQcm9maWxlUGljdHVyZVVybCA/PyB1bmRlZmluZWR9IHByaW9yaXR5PXtpbmRleCA8IDN9IC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e3VzZXJXaXRoU3RhdHVzLnVzZXJOYW1lLmNoYXJBdCgwKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgICAgICAgICAgICA8L0F2YXRhcj4KICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyBmb250LW1lZGl1bSB0cnVuY2F0ZSI+e3VzZXJXaXRoU3RhdHVzLnVzZXJOYW1lfTwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApKX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxTY3JvbGxCYXIgb3JpZW50YXRpb249Imhvcml6b250YWwiIC8+CiAgICAgICAgPC9TY3JvbGxBcmVhPgogICAgICAgIHtpc1ZpZXdlck9wZW4gJiYgKAogICAgICAgICAgICAgIDxTdGF0dXNWaWV3ZXIKICAgICAgICAgICAgICAgIHVzZXJzPXtzdGF0dXNlc30KICAgICAgICAgICAgICAgIGluaXRpYWxVc2VySW5kZXg9e3ZpZXdlckluaXRpYWxJbmRleH0KICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzVmlld2VyT3BlbihmYWxzZSl9CiAgICAgICAgICAgIC8+CiAgICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn07CmV4cG9ydCBkZWZhdWx0IFN0YXR1c0ZlZWQ7Cg==' | base64 -d > /root/localpulse/src/components/status-feed.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEF2YXRhckltYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2F2YXRhcic7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBVc2VyQ2hlY2ssIFVzZXJYLCBNYWlsUGx1cywgTG9hZGVyMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB0eXBlIHsgUGVuZGluZ0ZhbWlseVJlcXVlc3QgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IHJlc3BvbmRUb0ZhbWlseVJlcXVlc3QgfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IHVzZVRyYW5zaXRpb24gfSBmcm9tICdyZWFjdCc7CgpmdW5jdGlvbiBSZXF1ZXN0Q2FyZCh7IHJlcXVlc3QsIG9uUmVzcG9uZCB9OiB7IHJlcXVlc3Q6IFBlbmRpbmdGYW1pbHlSZXF1ZXN0OyBvblJlc3BvbmQ6IChyZXF1ZXN0SWQ6IG51bWJlcikgPT4gdm9pZDsgfSkgewogIGNvbnN0IFtpc1BlbmRpbmcsIHN0YXJ0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSAocmVzcG9uc2U6ICdhcHByb3ZlJyB8ICdyZWplY3QnKSA9PiB7CiAgICBzdGFydFRyYW5zaXRpb24oYXN5bmMgKCkgPT4gewogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25kVG9GYW1pbHlSZXF1ZXN0KHJlcXVlc3QucmVxdWVzdGVyX2lkLCByZXNwb25zZSk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIHRvYXN0KHsgdGl0bGU6ICdTdWNjZXNzJywgZGVzY3JpcHRpb246IGBSZXF1ZXN0IGhhcyBiZWVuICR7cmVzcG9uc2V9ZC5gIH0pOwogICAgICAgIG9uUmVzcG9uZChyZXF1ZXN0LmlkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJyb3InLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIH0pOwogICAgICB9CiAgICB9KTsKICB9OwoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InAtMyBib3JkZXIgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTQgYmctY2FyZCBob3ZlcjpiZy1tdXRlZC81MCB0cmFuc2l0aW9uLWNvbG9ycyI+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyI+CiAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtMTAgdy0xMCI+CiAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXtyZXF1ZXN0LnJlcXVlc3Rlcl9wcm9maWxlX3BpY3R1cmVfdXJsIHx8IHVuZGVmaW5lZH0gYWx0PXtyZXF1ZXN0LnJlcXVlc3Rlcl9uYW1lfSAvPgogICAgICAgICAgPEF2YXRhckZhbGxiYWNrPntyZXF1ZXN0LnJlcXVlc3Rlcl9uYW1lLmNoYXJBdCgwKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgIDwvQXZhdGFyPgogICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmQiPntyZXF1ZXN0LnJlcXVlc3Rlcl9uYW1lfTwvcD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGdhcC0yIj4KICAgICAgICB7aXNQZW5kaW5nID8gKAogICAgICAgICAgPEJ1dHRvbiBzaXplPSJzbSIgZGlzYWJsZWQ+PExvYWRlcjIgY2xhc3NOYW1lPSJhbmltYXRlLXNwaW4iIC8+PC9CdXR0b24+CiAgICAgICAgKSA6ICgKICAgICAgICAgIDw+CiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gaGFuZGxlUmVzcG9uc2UoJ2FwcHJvdmUnKX0gc2l6ZT0iaWNvbiIgdmFyaWFudD0iZGVmYXVsdCIgY2xhc3NOYW1lPSJiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIGgtOCB3LTgiPgogICAgICAgICAgICAgIDxVc2VyQ2hlY2sgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZXNwb25zZSgncmVqZWN0Jyl9IHNpemU9Imljb24iIHZhcmlhbnQ9ImRlc3RydWN0aXZlIiBjbGFzc05hbWU9ImgtOCB3LTgiPgogICAgICAgICAgICAgIDxVc2VyWCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgPC8+CiAgICAgICAgKX0KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICApOwp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGYW1pbHlSZXF1ZXN0c0xpc3QoeyBpbml0aWFsUmVxdWVzdHMgfTogeyBpbml0aWFsUmVxdWVzdHM6IFBlbmRpbmdGYW1pbHlSZXF1ZXN0W10gfSkgewogIGNvbnN0IFtyZXF1ZXN0cywgc2V0UmVxdWVzdHNdID0gdXNlU3RhdGUoaW5pdGlhbFJlcXVlc3RzKTsKCiAgY29uc3QgaGFuZGxlUmVxdWVzdFJlc3BvbmRlZCA9IChyZXNwb25kZWRSZXF1ZXN0SWQ6IG51bWJlcikgPT4gewogICAgc2V0UmVxdWVzdHMoY3VycmVudFJlcXVlc3RzID0+IGN1cnJlbnRSZXF1ZXN0cy5maWx0ZXIocmVxID0+IHJlcS5pZCAhPT0gcmVzcG9uZGVkUmVxdWVzdElkKSk7CiAgfTsKCiAgaWYgKHJlcXVlc3RzLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICByZXR1cm4gKAogICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3cteGwgYm9yZGVyLWJvcmRlci82MCByb3VuZGVkLXhsIGJnLWNhcmQvODAgYmFja2Ryb3AtYmx1ci1zbSI+CiAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICA8TWFpbFBsdXMgY2xhc3NOYW1lPSJ3LTYgaC02IG1yLTIgdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgRmFtaWx5IFJlcXVlc3RzCiAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgPENhcmREZXNjcmlwdGlvbj4KICAgICAgICAgIFlvdSBoYXZlIHtyZXF1ZXN0cy5sZW5ndGh9IHBlbmRpbmcgZmFtaWx5IHJlcXVlc3QocykuCiAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgPENhcmRDb250ZW50PgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMiPgogICAgICAgICAge3JlcXVlc3RzLm1hcChyZXEgPT4gKAogICAgICAgICAgICA8UmVxdWVzdENhcmQga2V5PXtyZXEuaWR9IHJlcXVlc3Q9e3JlcX0gb25SZXNwb25kPXtoYW5kbGVSZXF1ZXN0UmVzcG9uZGVkfSAvPgogICAgICAgICAgKSl9CiAgICAgICAgPC9kaXY+CiAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICA8L0NhcmQ+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/family-requests-list.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZUZvcm0sIHR5cGUgU3VibWl0SGFuZGxlciwgdXNlRmllbGRBcnJheSB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7CmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnOwppbXBvcnQgKiBhcyB6IGZyb20gJ3pvZCc7CmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RleHRhcmVhJzsKaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnOwppbXBvcnQgeyBGb3JtLCBGb3JtQ29udHJvbCwgRm9ybUZpZWxkLCBGb3JtSXRlbSwgRm9ybUxhYmVsLCBGb3JtTWVzc2FnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9mb3JtJzsKaW1wb3J0IHsKICBEcm9wZG93bk1lbnUsCiAgRHJvcGRvd25NZW51VHJpZ2dlciwKICBEcm9wZG93bk1lbnVDb250ZW50LAogIERyb3Bkb3duTWVudUdyb3VwLAogIERyb3Bkb3duTWVudUxhYmVsLAogIERyb3Bkb3duTWVudVNlcGFyYXRvciwKICBEcm9wZG93bk1lbnVDaGVja2JveEl0ZW0sCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnUnOwppbXBvcnQgewogIERpYWxvZywKICBEaWFsb2dDb250ZW50LAogIERpYWxvZ0Rlc2NyaXB0aW9uLAogIERpYWxvZ0hlYWRlciwKICBEaWFsb2dUaXRsZSwKICBEaWFsb2dUcmlnZ2VyLAogIERpYWxvZ0Zvb3RlciwKICBEaWFsb2dDbG9zZSwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJzsKaW1wb3J0IHsgTG9hZGVyMiwgWCwgVXBsb2FkQ2xvdWQsIEZpbG0sIEltYWdlIGFzIEltYWdlSWNvbiwgVGFnLCBDaGV2cm9uRG93biwgQ2FtZXJhLCBVc2VyLCBTZWFyY2gsIFVzZXJQbHVzLCBWaWRlbywgWENpcmNsZSwgVXNlcnMsIE1hcFBpbk9mZiwgWmFwLCBDbG9jaywgRXllLCBMaXN0T3JkZXJlZCwgUGx1c0NpcmNsZSwgVHJhc2gyIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICJAL2hvb2tzL3VzZS10b2FzdCI7CmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IHNlYXJjaFVzZXJzLCBnZXRTaWduZWRVcGxvYWRVcmwgfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKaW1wb3J0IHR5cGUgeyBVc2VyIGFzIFVzZXJUeXBlLCBOZXdQb2xsRGF0YSB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJJbWFnZSwgQXZhdGFyRmFsbGJhY2sgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYXZhdGFyJzsKaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYSc7CmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnLi91aS9iYWRnZSc7CmltcG9ydCB7IFByb2dyZXNzIH0gZnJvbSAnLi91aS9wcm9ncmVzcyc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnLi91aS9jaGVja2JveCc7CmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VsZWN0JzsKCmNvbnN0IE1BWF9JTUFHRV9DT1VOVCA9IDU7CmNvbnN0IE1BWF9WSURFT19VUExPQURfTElNSVQgPSA1MCAqIDEwMjQgKiAxMDI0OyAvLyA1ME1CCmNvbnN0IE1BWF9JTUFHRV9VUExPQURfTElNSVQgPSAxMCAqIDEwMjQgKiAxMDI0OyAvLyAxME1CCgoKZXhwb3J0IGNvbnN0IEhBU0hUQUdfQ0FURUdPUklFUyA9IFsKICB7CiAgICBuYW1lOiAnR2VuZXJhbCBQdXJwb3NlJywKICAgIGhhc2h0YWdzOiBbJyNMb2NhbFB1bHNlJywgJyNDb21tdW5pdHlCdXp6JywgJyNZb3VyQ2l0eU5vdycsICcjTGl2ZVVwZGF0ZXMnLCAnI1N0YXlJbmZvcm1lZCddLAogIH0sCiAgewogICAgbmFtZTogJ05ld3MgJiBBbGVydHMnLAogICAgaGFzaHRhZ3M6IFsnI0JyZWFraW5nTmV3cycsICcjTG9jYWxOZXdzJywgJyNDaXR5QWxlcnRzJywgJyNOZXdzRmxhc2gnLCAnI0NvbW11bml0eU5ld3MnXSwKICB9LAogIHsKICAgIG5hbWU6ICdFdmVudHMgJiBIYXBwZW5pbmdzJywKICAgIGhhc2h0YWdzOiBbJyNMb2NhbEV2ZW50cycsICcjV2hhdHNIYXBwZW5pbmcnLCAnI0NpdHlWaWJlcycsICcjV2Vla2VuZFBsYW5zJywgJyNMb2NhbEZlc3RpdmFscyddLAogIH0sCiAgewogICAgbmFtZTogJ0luZm9ybWF0aW9uICYgVXBkYXRlcycsCiAgICBoYXNodGFnczogWycjUHVibGljSW5mbycsICcjTG9jYWxVcGRhdGVzJywgJyNLbm93WW91ckNpdHknLCAnI05laWdoYm9yaG9vZFdhdGNoJywgJyNJbmZvSHViJ10sCiAgfSwKICB7CiAgICBuYW1lOiAnQ29tbXVuaXR5ICYgQ3VsdHVyZScsCiAgICBoYXNodGFnczogWycjUGVvcGxlT2ZPdXJDaXR5JywgJyNMb2NhbFZvaWNlcycsICcjU3VwcG9ydExvY2FsJywgJyNDaXR5Q3VsdHVyZScsICcjT3VyQ29tbXVuaXR5J10sCiAgfSwKICB7CiAgICBuYW1lOiAnTG9jYWwgQnVzaW5lc3MnLAogICAgaGFzaHRhZ3M6IFsnI1Nob3BMb2NhbCcsICcjU3VwcG9ydFNtYWxsQml6JywgJyNMb2NhbE1hcmtldCcsICcjQ2l0eURlYWxzJ10sCiAgfSwKXTsKCmNvbnN0IHBvbGxPcHRpb25TY2hlbWEgPSB6Lm9iamVjdCh7IHZhbHVlOiB6LnN0cmluZygpLm1pbigxLCAnT3B0aW9uIGNhbm5vdCBiZSBlbXB0eS4nKS5tYXgoNTAsICdPcHRpb24gY2Fubm90IGV4Y2VlZCA1MCBjaGFyYWN0ZXJzLicpIH0pOwoKLy8gQmFzZSBzY2hlbWEgZm9yIGZpZWxkcyB0aGF0IGFyZSBhbHdheXMgcHJlc2VudApjb25zdCBiYXNlRm9ybVNjaGVtYSA9IHoub2JqZWN0KHsKICBjb250ZW50OiB6LnN0cmluZygpLm1heCgxMDAwLCAiUG9zdCBjYW5ub3QgZXhjZWVkIDEwMDAgY2hhcmFjdGVycyIpLm9wdGlvbmFsKCksCiAgaGFzaHRhZ3M6IHouYXJyYXkoei5zdHJpbmcoKSksCiAgaXNGYW1pbHlQb3N0OiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSwKICBoaWRlTG9jYXRpb246IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLAogIGlzUmFkYXJQb3N0OiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSwKICByYWRhckV4cGlyeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLAogIHJhZGFyTWF4Vmlld2Vyczogei5udW1iZXIoKS5vcHRpb25hbCgpLAogIG1hbmRhbElkOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksCiAgLy8gQSBoaWRkZW4gZmllbGQgdG8gdHJhY2sgbWVkaWEgZmlsZXMgZm9yIHZhbGlkYXRpb24KICBtZWRpYUZpbGVDb3VudDogei5udW1iZXIoKS5kZWZhdWx0KDApLAp9KTsKCi8vIFpvZCBzY2hlbWEgZm9yIGEgc3RhbmRhcmQgcG9zdCAobm8gcG9sbCkKY29uc3Qgc3RhbmRhcmRQb3N0U2NoZW1hID0gYmFzZUZvcm1TY2hlbWEuZXh0ZW5kKHsKICAgIGlzUG9sbDogei5saXRlcmFsKGZhbHNlKSwKICAgIHBvbGxRdWVzdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLAogICAgcG9sbE9wdGlvbnM6IHouYXJyYXkocG9sbE9wdGlvblNjaGVtYSkub3B0aW9uYWwoKSwKfSk7CgovLyBab2Qgc2NoZW1hIGZvciBhIHBvc3Qgd2l0aCBhIHBvbGwKY29uc3QgcG9sbFBvc3RTY2hlbWEgPSBiYXNlRm9ybVNjaGVtYS5leHRlbmQoewogICAgaXNQb2xsOiB6LmxpdGVyYWwodHJ1ZSksCiAgICBwb2xsUXVlc3Rpb246IHouc3RyaW5nKCkubWluKDEsICdQb2xsIHF1ZXN0aW9uIGNhbm5vdCBiZSBlbXB0eS4nKSwKICAgIHBvbGxPcHRpb25zOiB6LmFycmF5KHBvbGxPcHRpb25TY2hlbWEpLm1pbigyLCAnQSBwb2xsIG11c3QgaGF2ZSBhdCBsZWFzdCAyIG9wdGlvbnMuJyksCn0pOwoKLy8gRGlzY3JpbWluYXRlZCB1bmlvbiB0byBzd2l0Y2ggYmV0d2VlbiBzY2hlbWFzIGJhc2VkIG9uIHRoZSAnaXNQb2xsJyBmaWVsZApjb25zdCBmb3JtU2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oImlzUG9sbCIsIFsKICBzdGFuZGFyZFBvc3RTY2hlbWEsCiAgcG9sbFBvc3RTY2hlbWEsCl0pLnN1cGVyUmVmaW5lKChkYXRhLCBjdHgpID0+IHsKICAgIC8vIEEgcG9zdCBtdXN0IGhhdmUgZWl0aGVyIHRleHQgY29udGVudCBvciBhdCBsZWFzdCBvbmUgbWVkaWEgZmlsZQogICAgaWYgKCFkYXRhLmNvbnRlbnQ/LnRyaW0oKSAmJiBkYXRhLm1lZGlhRmlsZUNvdW50ID09PSAwICYmICFkYXRhLm1hbmRhbElkKSB7CiAgICAgICAgY3R4LmFkZElzc3VlKHsKICAgICAgICAgICAgY29kZTogei5ab2RJc3N1ZUNvZGUuY3VzdG9tLAogICAgICAgICAgICBwYXRoOiBbJ2NvbnRlbnQnXSwKICAgICAgICAgICAgbWVzc2FnZTogJ0EgcG9zdCBtdXN0IGhhdmUgc29tZSB0ZXh0IG9yIG1lZGlhLicsCiAgICAgICAgfSk7CiAgICB9CiAgICAgLy8gTWFuZGFsIHBvc3RzIG11c3QgaGF2ZSBtZWRpYQogICAgaWYgKGRhdGEubWFuZGFsSWQgJiYgZGF0YS5tZWRpYUZpbGVDb3VudCA9PT0gMCkgewogICAgICAgIGN0eC5hZGRJc3N1ZSh7CiAgICAgICAgICAgIGNvZGU6IHouWm9kSXNzdWVDb2RlLmN1c3RvbSwKICAgICAgICAgICAgcGF0aDogWydtZWRpYUZpbGVDb3VudCddLCAvLyBBdHRhY2ggZXJyb3IgdG8gYSBmaWVsZCB0aGF0IGV4aXN0cwogICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHVwbG9hZCBhdCBsZWFzdCBvbmUgcGhvdG8gb3IgdmlkZW8gZm9yIHlvdXIgTWFuZGFsLicsCiAgICAgICAgfSk7CiAgICB9Cn0pOwoKCnR5cGUgRm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiBmb3JtU2NoZW1hPjsKCmludGVyZmFjZSBQb3N0Rm9ybVByb3BzIHsKICBvblN1Ym1pdDogKGNvbnRlbnQ6IHN0cmluZywgaGFzaHRhZ3M6IHN0cmluZ1tdLCBpc0ZhbWlseVBvc3Q6IGJvb2xlYW4sIGhpZGVMb2NhdGlvbjogYm9vbGVhbiwgbWVkaWFVcmxzPzogc3RyaW5nW10sIG1lZGlhVHlwZT86ICdpbWFnZScgfCAndmlkZW8nIHwgJ2dhbGxlcnknLCBtZW50aW9uZWRVc2VySWRzPzogbnVtYmVyW10sIHBvbGxEYXRhPzogTmV3UG9sbERhdGEgfCBudWxsLCBleHBpcmVzX2F0Pzogc3RyaW5nLCBtYXhfdmlld2Vycz86IG51bWJlciwgbWFuZGFsSWQ/OiBudW1iZXIpID0+IFByb21pc2U8dm9pZD47CiAgc3VibWl0dGluZzogYm9vbGVhbjsKICBzZXNzaW9uVXNlcjogVXNlclR5cGUgfCBudWxsOwogIG1hbmRhbElkPzogbnVtYmVyOwp9CgppbnRlcmZhY2UgRmlsZVByZXZpZXcgewogICAgZmlsZTogRmlsZTsKICAgIHVybDogc3RyaW5nOwp9CgpleHBvcnQgY29uc3QgUG9zdEZvcm06IEZDPFBvc3RGb3JtUHJvcHM+ID0gKHsgb25TdWJtaXQsIHN1Ym1pdHRpbmcsIHNlc3Npb25Vc2VyLCBtYW5kYWxJZCB9KSA9PiB7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBbc2VsZWN0ZWRGaWxlcywgc2V0U2VsZWN0ZWRGaWxlc10gPSBSZWFjdC51c2VTdGF0ZTxGaWxlUHJldmlld1tdPihbXSk7CiAgY29uc3QgW21lZGlhVHlwZSwgc2V0TWVkaWFUeXBlXSA9IFJlYWN0LnVzZVN0YXRlPCdpbWFnZScgfCAndmlkZW8nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2lzVXBsb2FkaW5nLCBzZXRJc1VwbG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW3VwbG9hZFByb2dyZXNzLCBzZXRVcGxvYWRQcm9ncmVzc10gPSBSZWFjdC51c2VTdGF0ZSgwKTsKICBjb25zdCBbZmlsZUVycm9yLCBzZXRGaWxlRXJyb3JdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW3Nob3dDYW1lcmFPcHRpb25zLCBzZXRTaG93Q2FtZXJhT3B0aW9uc10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7CiAgCiAgY29uc3QgW2lzVGFnZ2luZ0RpYWxvZ09wZW4sIHNldElzVGFnZ2luZ0RpYWxvZ09wZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFttZW50aW9uUXVlcnksIHNldE1lbnRpb25RdWVyeV0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7CiAgY29uc3QgW21lbnRpb25SZXN1bHRzLCBzZXRNZW50aW9uUmVzdWx0c10gPSBSZWFjdC51c2VTdGF0ZTxVc2VyVHlwZVtdPihbXSk7CiAgY29uc3QgW3RhZ2dlZFVzZXJzLCBzZXRUYWdnZWRVc2Vyc10gPSBSZWFjdC51c2VTdGF0ZTxVc2VyVHlwZVtdPihbXSk7CiAgY29uc3QgW2lzU2VhcmNoaW5nLCBzZXRJc1NlYXJjaGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7CgogIGNvbnN0IFtoYXNEZXRlY3RlZFVybCwgc2V0SGFzRGV0ZWN0ZWRVcmxdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBmaWxlSW5wdXRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7CiAgY29uc3QgaW1hZ2VDYXB0dXJlSW5wdXRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7CiAgY29uc3QgdmlkZW9DYXB0dXJlSW5wdXRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7CgogIGNvbnN0IGZvcm0gPSB1c2VGb3JtPEZvcm1EYXRhPih7CiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIoZm9ybVNjaGVtYSksCiAgICBkZWZhdWx0VmFsdWVzOiB7CiAgICAgIGNvbnRlbnQ6ICcnLAogICAgICBoYXNodGFnczogW10sCiAgICAgIGlzRmFtaWx5UG9zdDogZmFsc2UsCiAgICAgIGhpZGVMb2NhdGlvbjogZmFsc2UsCiAgICAgIGlzUmFkYXJQb3N0OiBmYWxzZSwKICAgICAgaXNQb2xsOiBmYWxzZSwKICAgICAgbWVkaWFGaWxlQ291bnQ6IDAsCiAgICAgIG1hbmRhbElkOiBtYW5kYWxJZCwKICAgIH0sCiAgICBtb2RlOiAnb25DaGFuZ2UnLCAvLyBWYWxpZGF0ZSBvbiBjaGFuZ2UgdG8gZW5hYmxlL2Rpc2FibGUgYnV0dG9uCiAgfSk7CgogIGNvbnN0IHsgZmllbGRzOiBwb2xsT3B0aW9uRmllbGRzLCBhcHBlbmQ6IGFwcGVuZFBvbGxPcHRpb24sIHJlbW92ZTogcmVtb3ZlUG9sbE9wdGlvbiB9ID0gdXNlRmllbGRBcnJheSh7CiAgICBjb250cm9sOiBmb3JtLmNvbnRyb2wsCiAgICBuYW1lOiAicG9sbE9wdGlvbnMiLAogIH0pOwoKICBjb25zdCBjb250ZW50VmFsdWUgPSBmb3JtLndhdGNoKCdjb250ZW50Jyk7CiAgY29uc3QgaXNSYWRhclBvc3QgPSBmb3JtLndhdGNoKCdpc1JhZGFyUG9zdCcpOwogIGNvbnN0IGlzUG9sbCA9IGZvcm0ud2F0Y2goJ2lzUG9sbCcpOwogIAogIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CiAgICBjb25zdCB5b3V0dWJlUmVnZXggPSAvKD86aHR0cHM/OlwvXC8pPyg/Ond3d1wuKT8oPzp5b3V0dVwuYmVcL3x5b3V0dWJlXC5jb21cL3dhdGNoXD92PSkoW2EtekEtWjAtOV8tXXsxMX0pLzsKICAgIHNldEhhc0RldGVjdGVkVXJsKHlvdXR1YmVSZWdleC50ZXN0KGNvbnRlbnRWYWx1ZSB8fCAnJykpOwogIH0sIFtjb250ZW50VmFsdWVdKTsKICAKICAvLyBVcGRhdGUgbWVkaWFGaWxlQ291bnQgaW4gZm9ybSBzdGF0ZSB3aGVuIHNlbGVjdGVkRmlsZXMgY2hhbmdlcwogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBmb3JtLnNldFZhbHVlKCdtZWRpYUZpbGVDb3VudCcsIHNlbGVjdGVkRmlsZXMubGVuZ3RoLCB7IHNob3VsZFZhbGlkYXRlOiB0cnVlIH0pOwogIH0sIFtzZWxlY3RlZEZpbGVzLCBmb3JtXSk7CgoKICBjb25zdCByZW1vdmVTZWxlY3RlZEZpbGUgPSAoaW5kZXhUb1JlbW92ZTogbnVtYmVyKSA9PiB7CiAgICBzZXRTZWxlY3RlZEZpbGVzKGN1cnJlbnRGaWxlcyA9PiB7CiAgICAgIGNvbnN0IGZpbGVUb1JlbW92ZSA9IGN1cnJlbnRGaWxlc1tpbmRleFRvUmVtb3ZlXTsKICAgICAgaWYgKGZpbGVUb1JlbW92ZSkgewogICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoZmlsZVRvUmVtb3ZlLnVybCk7CiAgICAgIH0KICAgICAgY29uc3QgbmV3RmlsZXMgPSBjdXJyZW50RmlsZXMuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleFRvUmVtb3ZlKTsKICAgICAgaWYgKG5ld0ZpbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHNldE1lZGlhVHlwZShudWxsKTsKICAgICAgfQogICAgICByZXR1cm4gbmV3RmlsZXM7CiAgICB9KTsKICB9OwoKICBjb25zdCBoYW5kbGVGaWxlQ2hhbmdlID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gewogICAgc2V0RmlsZUVycm9yKG51bGwpOwoKICAgIGNvbnN0IGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzOwogICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApIHsKICAgICAgICBzZXRTZWxlY3RlZEZpbGVzKHByZXYgPT4gewogICAgICAgICAgICBwcmV2LmZvckVhY2goZiA9PiBVUkwucmV2b2tlT2JqZWN0VVJMKGYudXJsKSk7CiAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9KTsKICAgICAgICBzZXRNZWRpYVR5cGUobnVsbCk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBjb25zdCBmaXJzdEZpbGUgPSBmaWxlc1swXTsKICAgIGNvbnN0IGN1cnJlbnRGaWxlVHlwZSA9IGZpcnN0RmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpID8gJ2ltYWdlJyA6IGZpcnN0RmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpID8gJ3ZpZGVvJyA6IG51bGw7CgogICAgaWYgKCFjdXJyZW50RmlsZVR5cGUpIHsKICAgICAgICBzZXRGaWxlRXJyb3IoJ0ludmFsaWQgZmlsZSB0eXBlLiBQbGVhc2Ugc2VsZWN0IGFuIGltYWdlIG9yIHZpZGVvLicpOwogICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9ICcnOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoY3VycmVudEZpbGVUeXBlID09PSAndmlkZW8nICYmIGZpbGVzLmxlbmd0aCA+IDEpIHsKICAgICAgICBzZXRGaWxlRXJyb3IoJ1lvdSBjYW4gb25seSB1cGxvYWQgb25lIHZpZGVvIGF0IGEgdGltZS4nKTsKICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSAnJzsKICAgICAgICByZXR1cm47CiAgICB9CiAgICAKICAgIGlmIChjdXJyZW50RmlsZVR5cGUgPT09ICdpbWFnZScgJiYgZmlsZXMubGVuZ3RoID4gTUFYX0lNQUdFX0NPVU5UKSB7CiAgICAgICAgc2V0RmlsZUVycm9yKGBZb3UgY2FuIHNlbGVjdCBhIG1heGltdW0gb2YgJHtNQVhfSU1BR0VfQ09VTlR9IGltYWdlcy5gKTsKICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSAnJzsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgbmV3UHJldmlld3M6IEZpbGVQcmV2aWV3W10gPSBbXTsKICAgIGZvciAoY29uc3QgZmlsZSBvZiBBcnJheS5mcm9tKGZpbGVzKSkgewogICAgICAgIGlmIChjdXJyZW50RmlsZVR5cGUgPT09ICdpbWFnZScgJiYgZmlsZS5zaXplID4gTUFYX0lNQUdFX1VQTE9BRF9MSU1JVCkgewogICAgICAgICAgICBzZXRGaWxlRXJyb3IoYEltYWdlICIke2ZpbGUubmFtZX0iIGlzIHRvbyBsYXJnZS4gTWF4IHNpemU6ICR7TWF0aC5yb3VuZChNQVhfSU1BR0VfVVBMT0FEX0xJTUlUIC8gMTAyNCAvIDEwMjQpfU1CLmApOwogICAgICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgbmV3UHJldmlld3MuZm9yRWFjaChwID0+IFVSTC5yZXZva2VPYmplY3RVUkwocC51cmwpKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoY3VycmVudEZpbGVUeXBlID09PSAndmlkZW8nICYmIGZpbGUuc2l6ZSA+IE1BWF9WSURFT19VUExPQURfTElNSVQpIHsKICAgICAgICAgICAgc2V0RmlsZUVycm9yKGBWaWRlbyBpcyB0b28gbGFyZ2UuIE1heCBzaXplOiAke01hdGgucm91bmQoTUFYX1ZJREVPX1VQTE9BRF9MSU1JVCAvIDEwMjQgLyAxMDI0KX1NQi5gKTsKICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gJyc7CiAgICAgICAgICAgIG5ld1ByZXZpZXdzLmZvckVhY2gocCA9PiBVUkwucmV2b2tlT2JqZWN0VVJMKHAudXJsKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbmV3UHJldmlld3MucHVzaCh7IGZpbGU6IGZpbGUsIHVybDogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSB9KTsKICAgIH0KCiAgICBzZXRTZWxlY3RlZEZpbGVzKHByZXZGaWxlcyA9PiB7CiAgICAgIHByZXZGaWxlcy5mb3JFYWNoKGYgPT4gVVJMLnJldm9rZU9iamVjdFVSTChmLnVybCkpOwogICAgICByZXR1cm4gbmV3UHJldmlld3M7CiAgICB9KTsKICAgIHNldE1lZGlhVHlwZShjdXJyZW50RmlsZVR5cGUpOwogIH07CiAgCiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKICAgIGlmICghbWVudGlvblF1ZXJ5KSB7CiAgICAgICAgc2V0TWVudGlvblJlc3VsdHMoW10pOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBoYW5kbGVyID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7CiAgICAgIHNldElzU2VhcmNoaW5nKHRydWUpOwogICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VhcmNoVXNlcnMobWVudGlvblF1ZXJ5KTsKICAgICAgY29uc3QgZXhpc3RpbmdJZHMgPSBuZXcgU2V0KHRhZ2dlZFVzZXJzLm1hcCh1ID0+IHUuaWQpKTsKICAgICAgc2V0TWVudGlvblJlc3VsdHMocmVzdWx0cy5maWx0ZXIociA9PiAhZXhpc3RpbmdJZHMuaGFzKHIuaWQpKSk7CiAgICAgIHNldElzU2VhcmNoaW5nKGZhbHNlKTsKICAgIH0sIDMwMCk7CgogICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChoYW5kbGVyKTsKICB9LCBbbWVudGlvblF1ZXJ5LCB0YWdnZWRVc2Vyc10pOwoKICBjb25zdCBhZGRUYWdnZWRVc2VyID0gKHVzZXI6IFVzZXJUeXBlKSA9PiB7CiAgICBzZXRUYWdnZWRVc2VycyhwcmV2ID0+IFsuLi5wcmV2LCB1c2VyXSk7CiAgfTsKCiAgY29uc3QgcmVtb3ZlVGFnZ2VkVXNlciA9ICh1c2VySWQ6IG51bWJlcikgPT4gewogICAgc2V0VGFnZ2VkVXNlcnMocHJldiA9PiBwcmV2LmZpbHRlcih1ID0+IHUuaWQgIT09IHVzZXJJZCkpOwogIH07CiAgCiAgY29uc3QgaGFuZGxlU3VibWl0Rm9ybTogU3VibWl0SGFuZGxlcjxGb3JtRGF0YT4gPSBhc3luYyAoZGF0YSkgPT4gewogICAgICBpZiAoc3VibWl0dGluZyB8fCBpc1VwbG9hZGluZykgcmV0dXJuOwoKICAgICAgaWYgKGhhc0RldGVjdGVkVXJsICYmIHNlbGVjdGVkRmlsZXMubGVuZ3RoID4gMCkgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgICAgICB0aXRsZTogJ01lZGlhIENvbmZsaWN0JywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAiQSBZb3VUdWJlIGxpbmsgd2FzIGRldGVjdGVkLiBZb3UgY2FuJ3QgdXBsb2FkIGEgc2VwYXJhdGUgZmlsZSBhdCB0aGUgc2FtZSB0aW1lLiIsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIAogICAgICBpZiAoZmlsZUVycm9yKSB7CiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0ZpbGUgRXJyb3InLCBkZXNjcmlwdGlvbjogZmlsZUVycm9yIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAKICAgICAgY29uc3QgbWVudGlvbmVkVXNlcklkcyA9IHRhZ2dlZFVzZXJzLm1hcCh1c2VyID0+IHVzZXIuaWQpOwogICAgICBjb25zdCBoYXNodGFnc1RvU3VibWl0ID0gZGF0YS5oYXNodGFncyB8fCBbXTsKCiAgICAgIGxldCBleHBpcmVzQXQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDsKICAgICAgaWYgKGRhdGEuaXNSYWRhclBvc3QgJiYgZGF0YS5yYWRhckV4cGlyeSkgewogICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgbm93LnNldE1pbnV0ZXMobm93LmdldE1pbnV0ZXMoKSArIHBhcnNlSW50KGRhdGEucmFkYXJFeHBpcnksIDEwKSk7CiAgICAgICAgZXhwaXJlc0F0ID0gbm93LnRvSVNPU3RyaW5nKCk7CiAgICAgIH0KICAgICAgY29uc3QgbWF4Vmlld2VycyA9IGRhdGEuaXNSYWRhclBvc3QgPyBkYXRhLnJhZGFyTWF4Vmlld2VycyA6IHVuZGVmaW5lZDsKICAgICAgCiAgICAgIGlmIChkYXRhLmlzUmFkYXJQb3N0ICYmICFleHBpcmVzQXQgJiYgIW1heFZpZXdlcnMpIHsKICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnUmFkYXIgUG9zdCBFcnJvcicsIGRlc2NyaXB0aW9uOiAnUGxlYXNlIHNldCBhbiBleHBpcnkgdGltZSBvciBhIG1heGltdW0gdmlld2VyIGNvdW50IGZvciBhIFJhZGFyIFBvc3QuJyB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxldCBwb2xsRGF0YTogTmV3UG9sbERhdGEgfCBudWxsID0gbnVsbDsKICAgICAgaWYgKGRhdGEuaXNQb2xsICYmIGRhdGEucG9sbFF1ZXN0aW9uICYmIGRhdGEucG9sbE9wdGlvbnMpIHsKICAgICAgICAgIHBvbGxEYXRhID0gewogICAgICAgICAgICAgIHF1ZXN0aW9uOiBkYXRhLnBvbGxRdWVzdGlvbiwKICAgICAgICAgICAgICBvcHRpb25zOiBkYXRhLnBvbGxPcHRpb25zLm1hcChvcHQgPT4gb3B0LnZhbHVlKS5maWx0ZXIoQm9vbGVhbikKICAgICAgICAgIH07CiAgICAgIH0KCgogICAgICBpZiAoc2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgc2V0SXNVcGxvYWRpbmcodHJ1ZSk7CiAgICAgICAgc2V0VXBsb2FkUHJvZ3Jlc3MoMCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCB1cGxvYWRQcm9taXNlcyA9IHNlbGVjdGVkRmlsZXMubWFwKGFzeW5jIChmaWxlUHJldmlldykgPT4gewogICAgICAgICAgICBjb25zdCBzaWduZWRVcmxSZXN1bHQgPSBhd2FpdCBnZXRTaWduZWRVcGxvYWRVcmwoZmlsZVByZXZpZXcuZmlsZS5uYW1lLCBmaWxlUHJldmlldy5maWxlLnR5cGUpOwogICAgICAgICAgICBpZiAoIXNpZ25lZFVybFJlc3VsdC5zdWNjZXNzIHx8ICFzaWduZWRVcmxSZXN1bHQudXBsb2FkVXJsIHx8ICFzaWduZWRVcmxSZXN1bHQucHVibGljVXJsKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc2lnbmVkVXJsUmVzdWx0LmVycm9yIHx8IGBDb3VsZCBub3QgcHJlcGFyZSAke2ZpbGVQcmV2aWV3LmZpbGUubmFtZX0gZm9yIHVwbG9hZC5gKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCB1cGxvYWRSZXN1bHQgPSBhd2FpdCBmZXRjaChzaWduZWRVcmxSZXN1bHQudXBsb2FkVXJsLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLAogICAgICAgICAgICAgICAgYm9keTogZmlsZVByZXZpZXcuZmlsZSwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IGZpbGVQcmV2aWV3LmZpbGUudHlwZSB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKCF1cGxvYWRSZXN1bHQub2spIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVXBsb2FkIGZhaWxlZCBmb3IgJHtmaWxlUHJldmlldy5maWxlLm5hbWV9LmApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldFVwbG9hZFByb2dyZXNzKHAgPT4gcCArIDEpOwogICAgICAgICAgICByZXR1cm4gc2lnbmVkVXJsUmVzdWx0LnB1YmxpY1VybDsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGNvbnN0IHVwbG9hZGVkVXJscyA9IGF3YWl0IFByb21pc2UuYWxsKHVwbG9hZFByb21pc2VzKTsKICAgICAgICAgIAogICAgICAgICAgbGV0IGZpbmFsTWVkaWFUeXBlOiAnaW1hZ2UnIHwgJ3ZpZGVvJyB8ICdnYWxsZXJ5JyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDsKICAgICAgICAgIGlmICh1cGxvYWRlZFVybHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIGlmIChtZWRpYVR5cGUgPT09ICd2aWRlbycpIGZpbmFsTWVkaWFUeXBlID0gJ3ZpZGVvJzsKICAgICAgICAgICAgICBlbHNlIGlmIChtZWRpYVR5cGUgPT09ICdpbWFnZScgJiYgdXBsb2FkZWRVcmxzLmxlbmd0aCA+IDEpIGZpbmFsTWVkaWFUeXBlID0gJ2dhbGxlcnknOwogICAgICAgICAgICAgIGVsc2UgaWYgKG1lZGlhVHlwZSA9PT0gJ2ltYWdlJykgZmluYWxNZWRpYVR5cGUgPSAnaW1hZ2UnOwogICAgICAgICAgfQoKICAgICAgICAgIGF3YWl0IG9uU3VibWl0KGRhdGEuY29udGVudCB8fCAnJywgaGFzaHRhZ3NUb1N1Ym1pdCwgZGF0YS5pc0ZhbWlseVBvc3QsIGRhdGEuaGlkZUxvY2F0aW9uLCB1cGxvYWRlZFVybHMsIGZpbmFsTWVkaWFUeXBlLCBtZW50aW9uZWRVc2VySWRzLCBwb2xsRGF0YSwgZXhwaXJlc0F0LCBtYXhWaWV3ZXJzLCBkYXRhLm1hbmRhbElkKTsKCiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgICAgY29uc29sZS5lcnJvcigiQSBjcml0aWNhbCBlcnJvciBvY2N1cnJlZCBkdXJpbmcgdGhlIHVwbG9hZCBwcm9jZXNzOiIsIGVycm9yKTsKICAgICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdVcGxvYWQgRmFpbGVkJywgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7CiAgICAgICAgICBzZXRJc1VwbG9hZGluZyhmYWxzZSk7IC8vIE1ha2Ugc3VyZSB0byByZXNldCBzdGF0ZSBvbiBmYWlsdXJlCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHNldElzVXBsb2FkaW5nKGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXdhaXQgb25TdWJtaXQoZGF0YS5jb250ZW50IHx8ICcnLCBoYXNodGFnc1RvU3VibWl0LCBkYXRhLmlzRmFtaWx5UG9zdCwgZGF0YS5oaWRlTG9jYXRpb24sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZW50aW9uZWRVc2VySWRzLCBwb2xsRGF0YSwgZXhwaXJlc0F0LCBtYXhWaWV3ZXJzLCBkYXRhLm1hbmRhbElkKTsKICAgICAgfQogICAgICAKICAgICAgZm9ybS5yZXNldCh7CiAgICAgICAgLi4uZm9ybS5nZXRWYWx1ZXMoKSwgLy8gS2VlcCBzb21lIHZhbHVlcyBsaWtlIG1hbmRhbElkCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgaGFzaHRhZ3M6IFtdLAogICAgICAgIG1lZGlhRmlsZUNvdW50OiAwLAogICAgICAgIGlzUG9sbDogZmFsc2UsCiAgICAgICAgcG9sbFF1ZXN0aW9uOiAnJywKICAgICAgICBwb2xsT3B0aW9uczogW10sCiAgICAgIH0pOwogICAgICBzZXRTZWxlY3RlZEZpbGVzKHByZXYgPT4gewogICAgICAgIHByZXYuZm9yRWFjaChmID0+IFVSTC5yZXZva2VPYmplY3RVUkwoZi51cmwpKTsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0pOwogICAgICBzZXRNZWRpYVR5cGUobnVsbCk7CiAgICAgIHNldFRhZ2dlZFVzZXJzKFtdKTsKICB9OwoKICBjb25zdCBpc0J1dHRvbkRpc2FibGVkID0gc3VibWl0dGluZyB8fCBpc1VwbG9hZGluZyB8fCAhZm9ybS5mb3JtU3RhdGUuaXNWYWxpZDsKICBsZXQgYnV0dG9uVGV4dCA9IG1hbmRhbElkID8gJ0FkZCBNZWRpYSB0byBNYW5kYWwnIDogJ1NoYXJlIFlvdXIgUHVsc2UnOwogIGlmIChpc1VwbG9hZGluZykgYnV0dG9uVGV4dCA9IGBVcGxvYWRpbmcgJHt1cGxvYWRQcm9ncmVzc30gLyAke3NlbGVjdGVkRmlsZXMubGVuZ3RofS4uLmA7CiAgZWxzZSBpZiAoc3VibWl0dGluZykgYnV0dG9uVGV4dCA9IG1hbmRhbElkID8gJ0FkZGluZyBNZWRpYS4uLicgOiAnUHVsc2luZy4uLic7CgogIGNvbnN0IGlzTWVkaWFVcGxvYWREaXNhYmxlZCA9IHN1Ym1pdHRpbmcgfHwgaXNVcGxvYWRpbmcgfHwgaGFzRGV0ZWN0ZWRVcmw7CgoKICByZXR1cm4gKAogICAgPEZvcm0gey4uLmZvcm19PgogICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQoaGFuZGxlU3VibWl0Rm9ybSl9IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBtYXgtaC1bNzV2aF0iPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LWdyb3cgb3ZlcmZsb3cteS1hdXRvIHByLTQgLW1yLTQgc3BhY2UteS02Ij4KICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICBuYW1lPSJjb250ZW50IgogICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsIGh0bWxGb3I9InBvc3QtY29udGVudCIgY2xhc3NOYW1lPSJzci1vbmx5Ij5XaGF0J3MgaGFwcGVuaW5nPzwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICA8VGV4dGFyZWEKICAgICAgICAgICAgICAgICAgICBpZD0icG9zdC1jb250ZW50IgogICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXttYW5kYWxJZCA/ICJBZGQgYSBjYXB0aW9uIGZvciB5b3VyIG1lZGlhLi4uIChvcHRpb25hbCkiIDogIlNoYXJlIHlvdXIgbG9jYWwgcHVsc2UsIG9yIHBhc3RlIGEgWW91VHViZSBsaW5rLi4uIn0KICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9InJlc2l6ZS1ub25lIG1pbi1oLVsxMDBweF0gdGV4dC1iYXNlIHNoYWRvdy1zbSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LzUwIHJvdW5kZWQtbGciCiAgICAgICAgICAgICAgICAgICAgcm93cz17bWFuZGFsSWQgPyAyIDogNH0KICAgICAgICAgICAgICAgICAgICB7Li4uZmllbGR9CiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1Ym1pdHRpbmcgfHwgaXNVcGxvYWRpbmd9CiAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgKX0KICAgICAgICAgIC8+CiAgICAgICAgICAKICAgICAgICAgIHtoYXNEZXRlY3RlZFVybCAmJiAhbWFuZGFsSWQgJiYgKAogICAgICAgICAgICA8QWxlcnQgdmFyaWFudD0iZGVmYXVsdCIgY2xhc3NOYW1lPSJwLTIgYm9yZGVyLXByaW1hcnkvMzAgYmctcHJpbWFyeS81IHRleHQtcHJpbWFyeSI+CiAgICAgICAgICAgICAgPFZpZGVvIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbiBjbGFzc05hbWU9InRleHQteHMgZm9udC1zZW1pYm9sZCI+CiAgICAgICAgICAgICAgICBZb3VUdWJlIGxpbmsgZGV0ZWN0ZWQhIFRoaXMgd2lsbCBiZSBhdHRhY2hlZCBhcyB2aWRlbyBtZWRpYS4gRmlsZSB1cGxvYWRzIGFyZSBkaXNhYmxlZC4KICAgICAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgICAgIDwvQWxlcnQ+CiAgICAgICAgICApfQoKICAgICAgICAgIHt0YWdnZWRVc2Vycy5sZW5ndGggPiAwICYmICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMiI+CiAgICAgICAgICAgICAgPEZvcm1MYWJlbCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5UYWdnZWQgVXNlcnM6PC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC13cmFwIGdhcC0yIj4KICAgICAgICAgICAgICAgIHt0YWdnZWRVc2Vycy5tYXAodXNlciA9PiAoCiAgICAgICAgICAgICAgICAgIDxCYWRnZSBrZXk9e3VzZXIuaWR9IHZhcmlhbnQ9InNlY29uZGFyeSIgY2xhc3NOYW1lPSJwbC0xIHByLTIgcHktMSI+CiAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtNSB3LTUgbXItMiI+CiAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXt1c2VyLnByb2ZpbGVwaWN0dXJldXJsIHx8IHVuZGVmaW5lZH0gLz4KICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjayBjbGFzc05hbWU9InRleHQtWzEwcHhdIj57dXNlci5uYW1lLmNoYXJBdCgwKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgICAgICAgIDwvQXZhdGFyPgogICAgICAgICAgICAgICAgICAgIHt1c2VyLm5hbWV9CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIG9uQ2xpY2s9eygpID0+IHJlbW92ZVRhZ2dlZFVzZXIodXNlci5pZCl9IGNsYXNzTmFtZT0ibWwtMS41IHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1iYWNrZ3JvdW5kLzcwIj4KICAgICAgICAgICAgICAgICAgICAgIDxYQ2lyY2xlIGNsYXNzTmFtZT0iaC0zIHctMyIvPgogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICA8L0JhZGdlPgogICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KCiAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgIDxGb3JtTGFiZWwgaHRtbEZvcj0ibWVkaWEtdXBsb2FkIiBjbGFzc05hbWU9InRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG1iLTEgYmxvY2siPgogICAgICAgICAgICAgIEF0dGFjaCBNZWRpYSB7bWFuZGFsSWQgJiYgPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LWRlc3RydWN0aXZlIj4qPC9zcGFuPn0KICAgICAgICAgICAgPC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgPD4KICAgICAgICAgICAgICAgIDxJbnB1dCBpZD0iZmlsZS11cGxvYWQiIHR5cGU9ImZpbGUiIGFjY2VwdD0iaW1hZ2UvKix2aWRlby8qIiByZWY9e2ZpbGVJbnB1dFJlZn0gb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9IGNsYXNzTmFtZT0iaGlkZGVuIiBkaXNhYmxlZD17aXNNZWRpYVVwbG9hZERpc2FibGVkfSBtdWx0aXBsZT17bWVkaWFUeXBlICE9PSAndmlkZW8nfSAvPgogICAgICAgICAgICAgICAgPElucHV0IGlkPSJpbWFnZS1jYXB0dXJlIiB0eXBlPSJmaWxlIiBhY2NlcHQ9ImltYWdlLyoiIGNhcHR1cmU9ImVudmlyb25tZW50IiByZWY9e2ltYWdlQ2FwdHVyZUlucHV0UmVmfSBvbkNoYW5nZT17aGFuZGxlRmlsZUNoYW5nZX0gY2xhc3NOYW1lPSJoaWRkZW4iIGRpc2FibGVkPXtpc01lZGlhVXBsb2FkRGlzYWJsZWR9IC8+CiAgICAgICAgICAgICAgICA8SW5wdXQgaWQ9InZpZGVvLWNhcHR1cmUiIHR5cGU9ImZpbGUiIGFjY2VwdD0idmlkZW8vKiIgY2FwdHVyZT0iZW52aXJvbm1lbnQiIHJlZj17dmlkZW9DYXB0dXJlSW5wdXRSZWZ9IG9uQ2hhbmdlPXtoYW5kbGVGaWxlQ2hhbmdlfSBjbGFzc05hbWU9ImhpZGRlbiIgZGlzYWJsZWQ9e2lzTWVkaWFVcGxvYWREaXNhYmxlZH0gLz4KICAgICAgICAgICAgICA8Lz4KICAgICAgICAgICAgCiAgICAgICAgICAgIHtzZWxlY3RlZEZpbGVzLmxlbmd0aCA+IDAgPyAoCiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InctZnVsbCBwLTIgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCByb3VuZGVkLWxnIGJvcmRlci1wcmltYXJ5LzUwIHNwYWNlLXktMiI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0zIHNtOmdyaWQtY29scy01IGdhcC0yIj4KICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEZpbGVzLm1hcCgoZiwgaSkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtmLnVybH0gY2xhc3NOYW1lPSJyZWxhdGl2ZSBhc3BlY3Qtc3F1YXJlIGdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21lZGlhVHlwZSA9PT0gJ2ltYWdlJyAmJiA8SW1hZ2Ugc3JjPXtmLnVybH0gYWx0PXtgUHJldmlldyAke2krMX1gfSBmaWxsIHNpemVzPSIxMHZ3IiBjbGFzc05hbWU9Im9iamVjdC1jb3ZlciByb3VuZGVkLW1kIiBkYXRhLWFpLWhpbnQ9InVzZXIgdXBsb2FkZWQgaW1hZ2UiLz59CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZWRpYVR5cGUgPT09ICd2aWRlbycgJiYgPHZpZGVvIHNyYz17Zi51cmx9IGNsYXNzTmFtZT0idy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgcm91bmRlZC1tZCBiZy1ibGFjayIgLz59CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0iYnV0dG9uIiB2YXJpYW50PSJkZXN0cnVjdGl2ZSIgc2l6ZT0iaWNvbiIgb25DbGljaz17KCkgPT4gcmVtb3ZlU2VsZWN0ZWRGaWxlKGkpfSBjbGFzc05hbWU9ImFic29sdXRlIC10b3AtMSAtcmlnaHQtMSBoLTUgdy01IHJvdW5kZWQtZnVsbCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT0iaC0zIHctMyIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9ImJ1dHRvbiIgdmFyaWFudD0iZ2hvc3QiIHNpemU9InNtIiBvbkNsaWNrPXsoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEZpbGVzKHByZXYgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5mb3JFYWNoKGYgPT4gVVJMLnJldm9rZU9iamVjdFVSTChmLnVybCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgIHNldE1lZGlhVHlwZShudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpIGZpbGVJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICAgICB9fSBjbGFzc05hbWU9InctZnVsbCB0ZXh0LWRlc3RydWN0aXZlIj4KICAgICAgICAgICAgICAgICAgICAgIDxYQ2lyY2xlIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBDbGVhciBBbGwKICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InAtNCBib3JkZXItMiBib3JkZXItZGFzaGVkIHJvdW5kZWQtbGciPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKCJncmlkIGdhcC0yIiwgc2hvd0NhbWVyYU9wdGlvbnMgPyAiZ3JpZC1jb2xzLTEiIDogImdyaWQtY29scy0yIil9PgogICAgICAgICAgICAgICAgICB7IXNob3dDYW1lcmFPcHRpb25zICYmICgKICAgICAgICAgICAgICAgICAgICA8PgogICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJidXR0b24iIHZhcmlhbnQ9Im91dGxpbmUiIG9uQ2xpY2s9eygpID0+IGZpbGVJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfSBkaXNhYmxlZD17aXNNZWRpYVVwbG9hZERpc2FibGVkfT4KICAgICAgICAgICAgICAgICAgICAgICAgPFVwbG9hZENsb3VkIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBVcGxvYWQgRmlsZShzKQogICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9ImJ1dHRvbiIgdmFyaWFudD0ib3V0bGluZSIgb25DbGljaz17KCkgPT4gc2V0U2hvd0NhbWVyYU9wdGlvbnModHJ1ZSl9IGRpc2FibGVkPXtpc01lZGlhVXBsb2FkRGlzYWJsZWR9PgogICAgICAgICAgICAgICAgICAgICAgICA8Q2FtZXJhIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBVc2UgQ2FtZXJhCiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8Lz4KICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAge3Nob3dDYW1lcmFPcHRpb25zICYmICgKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIHRleHQtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPkNob29zZSBhIGNhcHR1cmUgb3B0aW9uOjwvcD4KICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0yIGdhcC0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0iYnV0dG9uIiB2YXJpYW50PSJzZWNvbmRhcnkiIG9uQ2xpY2s9eygpID0+IGltYWdlQ2FwdHVyZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9IGRpc2FibGVkPXtpc01lZGlhVXBsb2FkRGlzYWJsZWR9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gVGFrZSBQaG90bwogICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJidXR0b24iIHZhcmlhbnQ9InNlY29uZGFyeSIgb25DbGljaz17KCkgPT4gdmlkZW9DYXB0dXJlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX0gZGlzYWJsZWQ9e2lzTWVkaWFVcGxvYWREaXNhYmxlZH0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmlsbSBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gUmVjb3JkIFZpZGVvCiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9ImJ1dHRvbiIgdmFyaWFudD0iZ2hvc3QiIHNpemU9InNtIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q2FtZXJhT3B0aW9ucyhmYWxzZSl9IGRpc2FibGVkPXtpc01lZGlhVXBsb2FkRGlzYWJsZWR9PgogICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWwKICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICl9CiAgICAgICAgICAgIHtmaWxlRXJyb3IgJiYgKAogICAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PSJkZXN0cnVjdGl2ZSIgY2xhc3NOYW1lPSJtdC0yIHAtMiB0ZXh0LXNtIj4KICAgICAgICAgICAgICAgIDxBbGVydERlc2NyaXB0aW9uPntmaWxlRXJyb3J9PC9BbGVydERlc2NyaXB0aW9uPgogICAgICAgICAgICAgIDwvQWxlcnQ+CiAgICAgICAgICAgICl9CiAgICAgICAgICAgIHtmb3JtLmZvcm1TdGF0ZS5lcnJvcnMubWVkaWFGaWxlQ291bnQgJiYgKAogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZGVzdHJ1Y3RpdmUiPntmb3JtLmZvcm1TdGF0ZS5lcnJvcnMubWVkaWFGaWxlQ291bnQubWVzc2FnZX08L3A+CiAgICAgICAgICAgICl9CiAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgCiAgICAgICAgICB7IW1hbmRhbElkICYmICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImdyaWQgZ3JpZC1jb2xzLTEgc206Z3JpZC1jb2xzLTIgZ2FwLTQiPgogICAgICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICBuYW1lPSJoYXNodGFncyIKICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiIGNsYXNzTmFtZT0idy1mdWxsIGp1c3RpZnktYmV0d2VlbiIgZGlzYWJsZWQ9e3N1Ym1pdHRpbmcgfHwgaXNVcGxvYWRpbmd9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhZyBjbGFzc05hbWU9InctNCBoLTQgdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkhhc2h0YWdzICh7ZmllbGQudmFsdWU/Lmxlbmd0aCB8fCAwfSk8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT0ibWwtMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBjbGFzc05hbWU9InctW2NhbGModmFyKC0tcmFkaXgtZHJvcGRvd24tbWVudS10cmlnZ2VyLXdpZHRoKSldIG1heC1oLTgwIG92ZXJmbG93LXktYXV0byI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7SEFTSFRBR19DQVRFR09SSUVTLm1hcCgoY2F0ZWdvcnksIGNhdEluZGV4KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUdyb3VwIGtleT17Y2F0ZWdvcnkubmFtZX0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUxhYmVsPntjYXRlZ29yeS5uYW1lfTwvRHJvcGRvd25NZW51TGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5Lmhhc2h0YWdzLm1hcCgodGFnKSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVDaGVja2JveEl0ZW0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0YWd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZpZWxkLnZhbHVlPy5pbmNsdWRlcyh0YWcpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWRDaGFuZ2U9eyhjaGVja2VkKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGFncyA9IGZpZWxkLnZhbHVlIHx8IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VGFncyA9IGNoZWNrZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gWy4uLmN1cnJlbnRUYWdzLCB0YWddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnRUYWdzLmZpbHRlcigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodmFsdWUpID0+IHZhbHVlICE9PSB0YWcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQub25DaGFuZ2UobmV3VGFncyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzdWJtaXR0aW5nIHx8IGlzVXBsb2FkaW5nfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0YWd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51Q2hlY2tib3hJdGVtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRJbmRleCA8IEhBU0hUQUdfQ0FURUdPUklFUy5sZW5ndGggLSAxICYmIDxEcm9wZG93bk1lbnVTZXBhcmF0b3IgLz59CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVHcm91cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgIDxEaWFsb2cgb3Blbj17aXNUYWdnaW5nRGlhbG9nT3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRJc1RhZ2dpbmdEaWFsb2dPcGVufT4KICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9ImJ1dHRvbiIgdmFyaWFudD0ib3V0bGluZSIgZGlzYWJsZWQ9e3N1Ym1pdHRpbmcgfHwgaXNVcGxvYWRpbmd9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJQbHVzIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFnIFBlb3BsZSAoe3RhZ2dlZFVzZXJzLmxlbmd0aH0pCiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nVHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9InNtOm1heC13LVs0MjVweF0iPgogICAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlPlRhZyBQZW9wbGU8L0RpYWxvZ1RpdGxlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlYXJjaCBmb3IgcGVvcGxlIHRvIG1lbnRpb24gaW4geW91ciBwdWxzZS4gVGhleSB3aWxsIGJlIG5vdGlmaWVkLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJweS00IHNwYWNlLXktNCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPSJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIGgtNSB3LTUgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9IlNlYXJjaCBmb3IgdXNlcnMuLi4iIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9InBsLTEwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWVudGlvblF1ZXJ5fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1lbnRpb25RdWVyeShlLnRhcmdldC52YWx1ZSl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPSJoLTQ4IGJvcmRlciByb3VuZGVkLW1kIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNTZWFyY2hpbmcgPyAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlNlYXJjaGluZy4uLjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBtZW50aW9uUmVzdWx0cy5sZW5ndGggPiAwID8gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icC0xIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZW50aW9uUmVzdWx0cy5tYXAodXNlciA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3VzZXIuaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9ImJ1dHRvbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYWRkVGFnZ2VkVXNlcih1c2VyKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIHJvdW5kZWQtbWQgdGV4dC1sZWZ0IGhvdmVyOmJnLW11dGVkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtOCB3LTgiPjxBdmF0YXJJbWFnZSBzcmM9e3VzZXIucHJvZmlsZXBpY3R1cmV1cmwgfHwgdW5kZWZpbmVkfSAvPjxBdmF0YXJGYWxsYmFjaz57dXNlci5uYW1lLmNoYXJBdCgwKX08L0F2YXRhckZhbGxiYWNrPjwvQXZhdGFyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9InRleHQtc20gZm9udC1tZWRpdW0iPnt1c2VyLm5hbWV9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21lbnRpb25RdWVyeSA/ICJObyB1c2VycyBmb3VuZC4iIDogIlR5cGUgdG8gc2VhcmNoLiJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Njcm9sbEFyZWE+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nRm9vdGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0Nsb3NlIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJidXR0b24iPkRvbmU8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQ2xvc2U+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nRm9vdGVyPgogICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQ29udGVudD4KICAgICAgICAgICAgICAgIDwvRGlhbG9nPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICBuYW1lPSJpc1BvbGwiCiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0gY2xhc3NOYW1lPXtjbigiZmxleCBmbGV4LWNvbCBzcGFjZS15LTMgcm91bmRlZC1tZCBib3JkZXIgcC00IHNoYWRvdy1zbSIsIGlzUG9sbCA/ICdiZy1wcmltYXJ5LzUnIDogJ2JnLW11dGVkLzUwJyl9PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtcm93IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtmaWVsZC52YWx1ZX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hlY2tlZENoYW5nZT17KGNoZWNrZWQpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NoZWNrZWQgPSAhIWNoZWNrZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQub25DaGFuZ2UoaXNDaGVja2VkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoJ3BvbGxRdWVzdGlvbicsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5zZXRWYWx1ZSgncG9sbE9wdGlvbnMnLCBbeyB2YWx1ZTogJycgfSwgeyB2YWx1ZTogJycgfV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoJ3BvbGxRdWVzdGlvbicsIHVuZGVmaW5lZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0VmFsdWUoJ3BvbGxPcHRpb25zJywgdW5kZWZpbmVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1Ym1pdHRpbmcgfHwgaXNVcGxvYWRpbmd9CiAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTEgbGVhZGluZy1ub25lIj4KICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbCBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaXN0T3JkZXJlZCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgYSBQb2xsCiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZ2FnZSB5b3VyIGNvbW11bml0eSBieSBhZGRpbmcgYSBwb2xsIHRvIHlvdXIgcG9zdC4KICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICB7aXNQb2xsICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCBwbC04IHB0LTQgYm9yZGVyLXQgYm9yZGVyLXByaW1hcnkvMjAiPgogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSJwb2xsUXVlc3Rpb24iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkOiBwb2xsRmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+UG9sbCBRdWVzdGlvbjwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD48SW5wdXQgcGxhY2Vob2xkZXI9ImUuZy4sIEJlc3QgcGl6emEgcGxhY2UgaW4gdG93bj8iIHsuLi5wb2xsRmllbGR9IC8+PC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+UG9sbCBPcHRpb25zPC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cG9sbE9wdGlvbkZpZWxkcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLmlkfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgcG9sbE9wdGlvbnMuJHtpbmRleH0udmFsdWVgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQ6IG9wdGlvbkZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD48SW5wdXQgcGxhY2Vob2xkZXI9e2BPcHRpb24gJHtpbmRleCArIDF9YH0gey4uLm9wdGlvbkZpZWxkfSAvPjwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwb2xsT3B0aW9uRmllbGRzLmxlbmd0aCA+IDIgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJidXR0b24iIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJpY29uIiBvbkNsaWNrPXsoKSA9PiByZW1vdmVQb2xsT3B0aW9uKGluZGV4KX0gY2xhc3NOYW1lPSJoLTkgdy05IGZsZXgtc2hyaW5rLTAgdGV4dC1kZXN0cnVjdGl2ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAge3BvbGxPcHRpb25GaWVsZHMubGVuZ3RoIDwgNCAmJiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9ImJ1dHRvbiIgdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0ic20iIG9uQ2xpY2s9eygpID0+IGFwcGVuZFBvbGxPcHRpb24oeyB2YWx1ZTogJycgfSl9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBsdXNDaXJjbGUgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+IEFkZCBPcHRpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgIHtzZXNzaW9uVXNlciAmJiAoCiAgICAgICAgICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICBuYW1lPSJpc0ZhbWlseVBvc3QiCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbSBjbGFzc05hbWU9ImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIHNwYWNlLXgtMyBzcGFjZS15LTAgcm91bmRlZC1tZCBib3JkZXIgcC00IHNoYWRvdy1zbSBiZy1tdXRlZC81MCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZmllbGQudmFsdWV9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWRDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1Ym1pdHRpbmcgfHwgaXNVcGxvYWRpbmd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0xIGxlYWRpbmctbm9uZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVc2VycyBjbGFzc05hbWU9Im1yLTIgaC00IHctNCB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmFtaWx5IFBvc3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPbmx5IGFwcHJvdmVkIGZhbWlseSBtZW1iZXJzIHdpbGwgc2VlIHRoaXMgcG9zdC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgKX0KCiAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICBuYW1lPSJoaWRlTG9jYXRpb24iCiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0gY2xhc3NOYW1lPSJmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgc3BhY2UteS0wIHJvdW5kZWQtbWQgYm9yZGVyIHAtNCBzaGFkb3ctc20gYmctbXV0ZWQvNTAiPgogICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZpZWxkLnZhbHVlfQogICAgICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWRDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfQogICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZyB8fCBpc1VwbG9hZGluZ30KICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTEgbGVhZGluZy1ub25lIj4KICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbCBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNYXBQaW5PZmYgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9uJ3QgRGlzcGxheSBMb2NhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1MYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAgICAgIFlvdXIgbG9jYXRpb24gd2lsbCBzdGlsbCBiZSB1c2VkIGZvciBuZWFyYnkgc29ydGluZy4KICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgLz4KCiAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICBuYW1lPSJpc1JhZGFyUG9zdCIKICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbSBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgc3BhY2UteS0zIHJvdW5kZWQtbWQgYm9yZGVyIHAtNCBzaGFkb3ctc20gYmctZ3JhZGllbnQtdG8tdHIgZnJvbS1hY2NlbnQvMTAgdG8tcHJpbWFyeS8xMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtcm93IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZmllbGQudmFsdWV9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZyB8fCBpc1VwbG9hZGluZ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTEgbGVhZGluZy1ub25lIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1wcmltYXJ5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFphcCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCB0ZXh0LWFjY2VudCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHVsc2UgUmFkYXIgUG9zdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYWtlIHRoaXMgYW4gZXhjbHVzaXZlLCB0aW1lLWxpbWl0ZWQgcHVsc2UuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICB7aXNSYWRhclBvc3QgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCBwdC00IGJvcmRlci10IGJvcmRlci1wcmltYXJ5LzIwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0icmFkYXJFeHBpcnkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQ6IGV4cGlyeUZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbCBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHRleHQtc20iPjxDbG9jayBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gRXhwaXJlcyBJbjwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtleHBpcnlGaWVsZC5vbkNoYW5nZX0gZGVmYXVsdFZhbHVlPXtleHBpcnlGaWVsZC52YWx1ZX0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSJTZWxlY3QgZXhwaXJ5IHRpbWUgKG9wdGlvbmFsKSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9IjMwIj4zMCBtaW51dGVzPC9TZWxlY3RJdGVtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSI2MCI+MSBob3VyPC9TZWxlY3RJdGVtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSIxMjAiPjIgaG91cnM8L1NlbGVjdEl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9IjM2MCI+NiBob3VyczwvU2VsZWN0SXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0iNzIwIj4xMiBob3VyczwvU2VsZWN0SXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0iMTQ0MCI+MjQgaG91cnM8L1NlbGVjdEl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSJyYWRhck1heFZpZXdlcnMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQ6IHZpZXdlcnNGaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWwgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtIj48RXllIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBNYXggVmlld2VyczwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJudW1iZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJlLmcuLCA1MCAob3B0aW9uYWwpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49IjEiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi52aWV3ZXJzRmllbGR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtldmVudCA9PiB2aWV3ZXJzRmllbGQub25DaGFuZ2UoK2V2ZW50LnRhcmdldC52YWx1ZSl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQoKICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtc2hyaW5rLTAgcHQtNCBib3JkZXItdCBib3JkZXItYm9yZGVyLzIwIj4KICAgICAgICAgICAge2lzVXBsb2FkaW5nICYmIDxQcm9ncmVzcyB2YWx1ZT17KHVwbG9hZFByb2dyZXNzIC8gc2VsZWN0ZWRGaWxlcy5sZW5ndGgpICogMTAwfSBjbGFzc05hbWU9InctZnVsbCBoLTIgbWItNCIgLz59CiAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBkaXNhYmxlZD17aXNCdXR0b25EaXNhYmxlZH0gY2xhc3NOYW1lPSJ3LWZ1bGwgdGV4dC1iYXNlIHB5LTMgc2hhZG93LW1kIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLXNoYWRvdyBiZy1hY2NlbnQgaG92ZXI6YmctYWNjZW50LzkwIHRleHQtYWNjZW50LWZvcmVncm91bmQgcm91bmRlZC1sZyI+CiAgICAgICAgICAgICAgICB7KGlzVXBsb2FkaW5nIHx8IHN1Ym1pdHRpbmcpICYmIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTUgdy01IGFuaW1hdGUtc3BpbiIgLz59CiAgICAgICAgICAgICAgICB7YnV0dG9uVGV4dH0KICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZm9ybT4KICAgIDwvRm9ybT4KICApOwp9Owo=' | base64 -d > /root/localpulse/src/components/post-form.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7CmltcG9ydCB7IFgsIENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIFBhdXNlLCBQbGF5IH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHR5cGUgeyBVc2VyV2l0aFN0YXR1c2VzIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gJy4vdWkvYXZhdGFyJzsKaW1wb3J0IHsgZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdCB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IHsgUHJvZ3Jlc3MgfSBmcm9tICcuL3VpL3Byb2dyZXNzJzsKaW1wb3J0IHsgdXNlTW9kYWxCYWNrIH0gZnJvbSAiQC9ob29rcy91c2VNb2RhbEJhY2siOwppbXBvcnQgeyB1c2VCb2R5U2Nyb2xsTG9jayB9IGZyb20gIkAvaG9va3MvdXNlQm9keVNjcm9sbExvY2siOwoKaW50ZXJmYWNlIFN0YXR1c1ZpZXdlclByb3BzIHsKICB1c2VyczogVXNlcldpdGhTdGF0dXNlc1tdOwogIGluaXRpYWxVc2VySW5kZXg6IG51bWJlcjsKICBvbkNsb3NlOiAoKSA9PiB2b2lkOwp9Cgpjb25zdCBTVEFUVVNfRFVSQVRJT05TID0gewogICAgaW1hZ2U6IDUwMDAsIC8vIDUgc2Vjb25kcyBmb3IgaW1hZ2VzCn07Cgpjb25zdCBTdGF0dXNWaWV3ZXI6IFJlYWN0LkZDPFN0YXR1c1ZpZXdlclByb3BzPiA9ICh7IHVzZXJzLCBpbml0aWFsVXNlckluZGV4LCBvbkNsb3NlIH0pID0+IHsKICBjb25zdCBbY3VycmVudFVzZXJJbmRleCwgc2V0Q3VycmVudFVzZXJJbmRleF0gPSB1c2VTdGF0ZShpbml0aWFsVXNlckluZGV4KTsKICBjb25zdCBbY3VycmVudFN0YXR1c0luZGV4LCBzZXRDdXJyZW50U3RhdHVzSW5kZXhdID0gdXNlU3RhdGUoMCk7CiAgY29uc3QgW3Byb2dyZXNzLCBzZXRQcm9ncmVzc10gPSB1c2VTdGF0ZSgwKTsKICBjb25zdCBbaXNQYXVzZWQsIHNldElzUGF1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTsKICBjb25zdCB0aW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dD4oKTsKICBjb25zdCBwcm9ncmVzc1RpbWVyUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lcj4oKTsKCiAgdXNlTW9kYWxCYWNrKHRydWUsIG9uQ2xvc2UsICJzdGF0dXMtdmlld2VyIik7CiAgdXNlQm9keVNjcm9sbExvY2sodHJ1ZSk7CgogIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlcnNbY3VycmVudFVzZXJJbmRleF07CiAgY29uc3QgY3VycmVudFN0YXR1cyA9IGN1cnJlbnRVc2VyPy5zdGF0dXNlc1tjdXJyZW50U3RhdHVzSW5kZXhdOwogIAogIGNvbnN0IGdldE5leHRTdGF0dXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7CiAgICBpZiAoIWN1cnJlbnRVc2VyKSByZXR1cm4gbnVsbDsKICAgIGlmIChjdXJyZW50U3RhdHVzSW5kZXggPCBjdXJyZW50VXNlci5zdGF0dXNlcy5sZW5ndGggLSAxKSB7CiAgICAgIHJldHVybiBjdXJyZW50VXNlci5zdGF0dXNlc1tjdXJyZW50U3RhdHVzSW5kZXggKyAxXTsKICAgIH0KICAgIGlmIChjdXJyZW50VXNlckluZGV4IDwgdXNlcnMubGVuZ3RoIC0gMSkgewogICAgICByZXR1cm4gdXNlcnNbY3VycmVudFVzZXJJbmRleCArIDFdPy5zdGF0dXNlc1swXSB8fCBudWxsOwogICAgfQogICAgcmV0dXJuIG51bGw7CiAgfSwgW2N1cnJlbnRVc2VyLCBjdXJyZW50U3RhdHVzSW5kZXgsIGN1cnJlbnRVc2VySW5kZXgsIHVzZXJzXSk7CgogIGNvbnN0IG5leHRTdGF0dXNUb1ByZWxvYWQgPSBnZXROZXh0U3RhdHVzKCk7CgogIGNvbnN0IGdvVG9OZXh0VXNlciA9IHVzZUNhbGxiYWNrKCgpID0+IHsKICAgIGlmIChjdXJyZW50VXNlckluZGV4IDwgdXNlcnMubGVuZ3RoIC0gMSkgewogICAgICBzZXRDdXJyZW50VXNlckluZGV4KGN1cnJlbnRVc2VySW5kZXggKyAxKTsKICAgICAgc2V0Q3VycmVudFN0YXR1c0luZGV4KDApOwogICAgfSBlbHNlIHsKICAgICAgb25DbG9zZSgpOwogICAgfQogIH0sIFtjdXJyZW50VXNlckluZGV4LCB1c2Vycy5sZW5ndGgsIG9uQ2xvc2VdKTsKICAKICBjb25zdCBnb1RvTmV4dFN0YXR1cyA9IHVzZUNhbGxiYWNrKCgpID0+IHsKICAgIGlmIChjdXJyZW50VXNlcj8uc3RhdHVzZXMubGVuZ3RoID4gMCAmJiBjdXJyZW50U3RhdHVzSW5kZXggPCBjdXJyZW50VXNlci5zdGF0dXNlcy5sZW5ndGggLSAxKSB7CiAgICAgIHNldEN1cnJlbnRTdGF0dXNJbmRleChjdXJyZW50U3RhdHVzSW5kZXggKyAxKTsKICAgIH0gZWxzZSB7CiAgICAgIGdvVG9OZXh0VXNlcigpOwogICAgfQogIH0sIFtjdXJyZW50U3RhdHVzSW5kZXgsIGN1cnJlbnRVc2VyLCBnb1RvTmV4dFVzZXJdKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIHNldFByb2dyZXNzKDApOwogICAgY2xlYXJUaW1lb3V0KHRpbWVyUmVmLmN1cnJlbnQpOwogICAgY2xlYXJJbnRlcnZhbChwcm9ncmVzc1RpbWVyUmVmLmN1cnJlbnQpOwoKICAgIGlmICghY3VycmVudFN0YXR1cyB8fCBpc1BhdXNlZCkgcmV0dXJuOwoKICAgIGlmIChjdXJyZW50U3RhdHVzLm1lZGlhX3R5cGUgPT09ICdpbWFnZScpIHsKICAgICAgY29uc3QgZHVyYXRpb24gPSBTVEFUVVNfRFVSQVRJT05TLmltYWdlOwogICAgICB0aW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dChnb1RvTmV4dFN0YXR1cywgZHVyYXRpb24pOwogICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpOwogICAgICAKICAgICAgY29uc3QgdXBkYXRlUHJvZ3Jlc3MgPSAoKSA9PiB7CiAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7CiAgICAgICAgICBpZiAoZWxhcHNlZFRpbWUgPj0gZHVyYXRpb24pIHsKICAgICAgICAgICAgICBzZXRQcm9ncmVzcygxMDApOwogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHJvZ3Jlc3NUaW1lclJlZi5jdXJyZW50KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc2V0UHJvZ3Jlc3MoKGVsYXBzZWRUaW1lIC8gZHVyYXRpb24pICogMTAwKTsKICAgICAgICAgIH0KICAgICAgfTsKICAgICAgCiAgICAgIHByb2dyZXNzVGltZXJSZWYuY3VycmVudCA9IHNldEludGVydmFsKHVwZGF0ZVByb2dyZXNzLCA1MCk7CgogICAgfSBlbHNlIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7CiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5jdXJyZW50VGltZSA9IDA7CiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5wbGF5KCkuY2F0Y2goZSA9PiBjb25zb2xlLmVycm9yKCJWaWRlbyBwbGF5IGZhaWxlZCIsIGUpKTsKICAgIH0KICAgIAogICAgcmV0dXJuICgpID0+IHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXJSZWYuY3VycmVudCk7CiAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9ncmVzc1RpbWVyUmVmLmN1cnJlbnQpOwogICAgfQogIH0sIFtjdXJyZW50U3RhdHVzSW5kZXgsIGN1cnJlbnRVc2VySW5kZXgsIGN1cnJlbnRTdGF0dXMsIGlzUGF1c2VkLCBnb1RvTmV4dFN0YXR1c10pOwogIAogIGNvbnN0IGhhbmRsZVZpZGVvVXBkYXRlID0gKCkgPT4gewogICAgICBpZih2aWRlb1JlZi5jdXJyZW50ICYmICFpc1BhdXNlZCkgewogICAgICAgICAgY29uc3QgdmlkZW9Qcm9ncmVzcyA9ICh2aWRlb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lIC8gdmlkZW9SZWYuY3VycmVudC5kdXJhdGlvbikgKiAxMDA7CiAgICAgICAgICBzZXRQcm9ncmVzcyh2aWRlb1Byb2dyZXNzKTsKICAgICAgfQogIH0KCiAgaWYgKCFjdXJyZW50VXNlciB8fCAhY3VycmVudFN0YXR1cykgcmV0dXJuIG51bGw7CgogIGNvbnN0IGdvVG9QcmV2VXNlciA9ICgpID0+IHsKICAgIGlmIChjdXJyZW50VXNlckluZGV4ID4gMCkgewogICAgICBzZXRDdXJyZW50VXNlckluZGV4KGN1cnJlbnRVc2VySW5kZXggLSAxKTsKICAgICAgc2V0Q3VycmVudFN0YXR1c0luZGV4KDApOwogICAgfQogIH07CiAgCiAgY29uc3QgaGFuZGxlVGFwID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7CiAgICAgIGlmIChpc1BhdXNlZCkgewogICAgICAgICAgdG9nZ2xlUGF1c2UoZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgeyBjbGllbnRYLCBjdXJyZW50VGFyZ2V0IH0gPSBlOwogICAgICBjb25zdCB7IHdpZHRoIH0gPSBjdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICBjb25zdCBpc1JpZ2h0U2lkZSA9IGNsaWVudFggPiB3aWR0aCAvIDI7CgogICAgICBpZihpc1JpZ2h0U2lkZSkgewogICAgICAgICAgZ29Ub05leHRTdGF0dXMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChjdXJyZW50U3RhdHVzSW5kZXggPiAwKSB7CiAgICAgICAgICAgICAgc2V0Q3VycmVudFN0YXR1c0luZGV4KGN1cnJlbnRTdGF0dXNJbmRleCAtIDEpOwogICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VXNlckluZGV4ID4gMCkgewogICAgICAgICAgICAgIGdvVG9QcmV2VXNlcigpOwogICAgICAgICAgfQogICAgICB9CiAgfTsKICAKICBjb25zdCB0b2dnbGVQYXVzZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIHNldElzUGF1c2VkKGN1cnJlbnRJc1BhdXNlZCA9PiB7CiAgICAgICAgICBjb25zdCBuZXdJc1BhdXNlZCA9ICFjdXJyZW50SXNQYXVzZWQ7CiAgICAgICAgICBpZih2aWRlb1JlZi5jdXJyZW50KSB7CiAgICAgICAgICAgICAgbmV3SXNQYXVzZWQgPyB2aWRlb1JlZi5jdXJyZW50LnBhdXNlKCkgOiB2aWRlb1JlZi5jdXJyZW50LnBsYXkoKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBuZXdJc1BhdXNlZDsKICAgICAgfSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJmaXhlZCBpbnNldC0wIGJnLWJsYWNrLzkwIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYW5pbWF0ZS1pbiBmYWRlLWluLTAiIG9uQ2xpY2s9e29uQ2xvc2V9PgogICAgICAKICAgICAge25leHRTdGF0dXNUb1ByZWxvYWQgJiYgbmV4dFN0YXR1c1RvUHJlbG9hZC5tZWRpYV90eXBlID09PSAnaW1hZ2UnICYmICgKICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fT4KICAgICAgICAgICAgPEltYWdlCiAgICAgICAgICAgICAgICBzcmM9e25leHRTdGF0dXNUb1ByZWxvYWQubWVkaWFfdXJsfQogICAgICAgICAgICAgICAgYWx0PSIiCiAgICAgICAgICAgICAgICB3aWR0aD17MTAyNH0KICAgICAgICAgICAgICAgIGhlaWdodD17MTAyNH0KICAgICAgICAgICAgICAgIHByaW9yaXR5PXtmYWxzZX0KICAgICAgICAgICAgICAgIGRhdGEtYWktaGludD0idXNlciBzdGF0dXMiCiAgICAgICAgICAgIC8+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CiAgICAgIHtuZXh0U3RhdHVzVG9QcmVsb2FkICYmIG5leHRTdGF0dXNUb1ByZWxvYWQubWVkaWFfdHlwZSA9PT0gJ3ZpZGVvJyAmJiAoCiAgICAgICAgIDxsaW5rIHJlbD0icHJlbG9hZCIgYXM9InZpZGVvIiBocmVmPXtuZXh0U3RhdHVzVG9QcmVsb2FkLm1lZGlhX3VybH0gLz4KICAgICAgKX0KICAgICAgCiAgICAgIDxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIG1heC13LW1kIG1heC1oLVs5NXZoXSBzbTptYXgtaC1zY3JlZW4gc206cm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwiIG9uQ2xpY2s9e2hhbmRsZVRhcH0+CiAgICAgICAgICAgIHtjdXJyZW50U3RhdHVzLm1lZGlhX3R5cGUgPT09ICdpbWFnZScgJiYgKAogICAgICAgICAgICAgIDxJbWFnZSBzcmM9e2N1cnJlbnRTdGF0dXMubWVkaWFfdXJsfSBhbHQ9IlN0YXR1cyIgZmlsbCBzdHlsZT17eyBvYmplY3RGaXQ6ICdjb250YWluJyB9fSBwcmlvcml0eSBkYXRhLWFpLWhpbnQ9InVzZXIgc3RhdHVzIiAvPgogICAgICAgICAgICApfQogICAgICAgICAgICB7Y3VycmVudFN0YXR1cy5tZWRpYV90eXBlID09PSAndmlkZW8nICYmICgKICAgICAgICAgICAgICA8dmlkZW8gcmVmPXt2aWRlb1JlZn0gc3JjPXtjdXJyZW50U3RhdHVzLm1lZGlhX3VybH0gY2xhc3NOYW1lPSJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluIiBvbkVuZGVkPXtnb1RvTmV4dFN0YXR1c30gb25UaW1lVXBkYXRlPXtoYW5kbGVWaWRlb1VwZGF0ZX0gcGxheXNJbmxpbmUgLz4KICAgICAgICAgICAgKX0KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHJpZ2h0LTAgcC00IGJnLWdyYWRpZW50LXRvLWIgZnJvbS1ibGFjay82MCB0by10cmFuc3BhcmVudCB6LTEwIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMiI+CiAgICAgICAgICAgICAgICAgIHtjdXJyZW50VXNlci5zdGF0dXNlcy5tYXAoKF8sIGluZGV4KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT0iZmxleC0xIGgtMSBiZy13aGl0ZS8zMCByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImgtZnVsbCBiZy13aGl0ZSByb3VuZGVkLWZ1bGwiIHN0eWxlPXt7IHdpZHRoOiBgJHtpbmRleCA8IGN1cnJlbnRTdGF0dXNJbmRleCA/IDEwMCA6IGluZGV4ID09PSBjdXJyZW50U3RhdHVzSW5kZXggPyBwcm9ncmVzcyA6IDB9JWAsIHRyYW5zaXRpb246IGluZGV4ID09PSBjdXJyZW50U3RhdHVzSW5kZXggJiYgcHJvZ3Jlc3MgPiAwID8gJ3dpZHRoIDAuMDVzIGxpbmVhcicgOiAnbm9uZScgfX0gLz4KICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtOSB3LTkgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzgwIj48QXZhdGFySW1hZ2Ugc3JjPXtjdXJyZW50VXNlci51c2VyUHJvZmlsZVBpY3R1cmVVcmwgPz8gdW5kZWZpbmVkfSAvPjxBdmF0YXJGYWxsYmFjaz57Y3VycmVudFVzZXIudXNlck5hbWUuY2hhckF0KDApfTwvQXZhdGFyRmFsbGJhY2s+PC9BdmF0YXI+CiAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUiPntjdXJyZW50VXNlci51c2VyTmFtZX08L3A+CiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1ncmF5LTMwMCI+e2Zvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QobmV3IERhdGUoY3VycmVudFN0YXR1cy5jcmVhdGVkX2F0KSwgeyBhZGRTdWZmaXg6IHRydWUgfSl9PC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dG9nZ2xlUGF1c2V9IGNsYXNzTmFtZT0idGV4dC13aGl0ZSBwLTEgaG92ZXI6Ymctd2hpdGUvMjAgcm91bmRlZC1mdWxsIj48c3BhbiBjbGFzc05hbWU9InNyLW9ubHkiPntpc1BhdXNlZCA/ICdQbGF5JyA6ICdQYXVzZSd9PC9zcGFuPntpc1BhdXNlZCA/IDxQbGF5IGNsYXNzTmFtZT0iaC01IHctNSIgLz4gOiA8UGF1c2UgY2xhc3NOYW1lPSJoLTUgdy01IiAvPn08L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT0idGV4dC13aGl0ZSBwLTEgaG92ZXI6Ymctd2hpdGUvMjAgcm91bmRlZC1mdWxsIj48c3BhbiBjbGFzc05hbWU9InNyLW9ubHkiPkNsb3NlPC9zcGFuPjxYIGNsYXNzTmFtZT0iaC01IHctNSIgLz48L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBnb1RvUHJldlVzZXIoKTsgfX0gZGlzYWJsZWQ9e2N1cnJlbnRVc2VySW5kZXggPT09IDB9IGNsYXNzTmFtZT0iYWJzb2x1dGUgbGVmdC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB6LTIwIHRleHQtd2hpdGUgYmctYmxhY2svMzAgcC0yIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ibGFjay82MCBkaXNhYmxlZDpvcGFjaXR5LTMwIGhpZGRlbiBzbTpibG9jayI+CiAgICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9ImgtNiB3LTYiIC8+CiAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgZ29Ub05leHRVc2VyKCk7IH19IGRpc2FibGVkPXtjdXJyZW50VXNlckluZGV4ID49IHVzZXJzLmxlbmd0aCAtIDF9IGNsYXNzTmFtZT0iYWJzb2x1dGUgcmlnaHQtMiB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgei0yMCB0ZXh0LXdoaXRlIGJnLWJsYWNrLzMwIHAtMiByb3VuZGVkLWZ1bGwgaG92ZXI6YmctYmxhY2svNjAgZGlzYWJsZWQ6b3BhY2l0eS0zMCBoaWRkZW4gc206YmxvY2siPgogICAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT0iaC02IHctNiIgLz4KICAgICAgICAgIDwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBTdGF0dXNWaWV3ZXI7Cg==' | base64 -d > /root/localpulse/src/components/status-viewer.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlRm9ybSB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7CmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnOwppbXBvcnQgKiBhcyB6IGZyb20gJ3pvZCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyB1cGRhdGVVc2VyTW9iaWxlIH0gZnJvbSAnQC9hcHAvdXNlcnMvW3VzZXJJZF0vYWN0aW9ucyc7CmltcG9ydCB7IEZvcm0sIEZvcm1Db250cm9sLCBGb3JtRmllbGQsIEZvcm1JdGVtLCBGb3JtTGFiZWwsIEZvcm1NZXNzYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Zvcm0nOwppbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBMb2FkZXIyLCBQaG9uZSwgU2F2ZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uLCBBbGVydFRpdGxlIH0gZnJvbSAnLi91aS9hbGVydCc7CmltcG9ydCB0eXBlIHsgVXNlclJvbGUgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tICcuL3VpL3NlbGVjdCc7CmltcG9ydCB7IENPVU5UUklFUyB9IGZyb20gJ0AvbGliL2NvdW50cmllcyc7CmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tICcuL3VpL3Njcm9sbC1hcmVhJzsKCmNvbnN0IGZvcm1TY2hlbWEgPSB6Lm9iamVjdCh7CiAgY291bnRyeUNvZGU6IHouc3RyaW5nKCkubWluKDEsICdDb3VudHJ5IGNvZGUgaXMgcmVxdWlyZWQuJyksCiAgbW9iaWxlbnVtYmVyOiB6LnN0cmluZygpLnJlZ2V4KC9eXGR7MTB9JC8sIHsKICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCAxMC1kaWdpdCBtb2JpbGUgbnVtYmVyLicsCiAgfSksCn0pOwoKdHlwZSBGb3JtRGF0YSA9IHouaW5mZXI8dHlwZW9mIGZvcm1TY2hlbWE+OwoKaW50ZXJmYWNlIFVwZGF0ZU1vYmlsZUZvcm1Qcm9wcyB7CiAgICBvblVwZGF0ZT86ICgpID0+IHZvaWQ7CiAgICB1c2VyUm9sZTogVXNlclJvbGU7Cn0KCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFVwZGF0ZU1vYmlsZUZvcm0oeyBvblVwZGF0ZSwgdXNlclJvbGUgfTogVXBkYXRlTW9iaWxlRm9ybVByb3BzKSB7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtzZXJ2ZXJFcnJvciwgc2V0U2VydmVyRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CgogIGNvbnN0IGZvcm0gPSB1c2VGb3JtPEZvcm1EYXRhPih7CiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIoZm9ybVNjaGVtYSksCiAgICBkZWZhdWx0VmFsdWVzOiB7CiAgICAgIGNvdW50cnlDb2RlOiAnKzkxJywKICAgICAgbW9iaWxlbnVtYmVyOiAnJywKICAgIH0sCiAgfSk7CgogIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKGRhdGE6IEZvcm1EYXRhKSA9PiB7CiAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7CiAgICBzZXRTZXJ2ZXJFcnJvcihudWxsKTsKCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGRhdGVVc2VyTW9iaWxlKGRhdGEpOwoKICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdNb2JpbGUgTnVtYmVyIFVwZGF0ZWQhJywKICAgICAgICBkZXNjcmlwdGlvbjogdXNlclJvbGUgPT09ICdHb3Jha3NoYWsnID8gJ1lvdXIgSUQgY2FyZCBpcyBub3cgYXZhaWxhYmxlLicgOiAnWW91ciBwcm9maWxlIGhhcyBiZWVuIHVwZGF0ZWQuJywKICAgICAgfSk7CiAgICAgIGlmIChvblVwZGF0ZSkgb25VcGRhdGUoKTsKICAgIH0gZWxzZSB7CiAgICAgIHNldFNlcnZlckVycm9yKHJlc3VsdC5lcnJvciB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4nKTsKICAgIH0KICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7CiAgfTsKCiAgY29uc3QgYnV0dG9uVGV4dCA9IHVzZXJSb2xlID09PSAnR29yYWtzaGFrJyA/ICdTYXZlICYgR2VuZXJhdGUgSUQgQ2FyZCcgOiAnU2F2ZSBOdW1iZXInOwoKICByZXR1cm4gKAogICAgPEZvcm0gey4uLmZvcm19PgogICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9InNwYWNlLXktNCI+CiAgICAgICAge3NlcnZlckVycm9yICYmICgKICAgICAgICAgICAgPEFsZXJ0IHZhcmlhbnQ9ImRlc3RydWN0aXZlIj4KICAgICAgICAgICAgICAgIDxBbGVydFRpdGxlPlVwZGF0ZSBGYWlsZWQ8L0FsZXJ0VGl0bGU+CiAgICAgICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj57c2VydmVyRXJyb3J9PC9BbGVydERlc2NyaXB0aW9uPgogICAgICAgICAgICA8L0FsZXJ0PgogICAgICAgICl9CiAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICA8Rm9ybUxhYmVsPllvdXIgTW9iaWxlIE51bWJlcjwvRm9ybUxhYmVsPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBnYXAtMiI+CiAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgICAgIG5hbWU9ImNvdW50cnlDb2RlIgogICAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0gY2xhc3NOYW1lPSJ3LTEvMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSBkZWZhdWx0VmFsdWU9e2ZpZWxkLnZhbHVlfSBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPjxTZWxlY3RWYWx1ZSAvPjwvU2VsZWN0VHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPSJoLTcyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0NPVU5UUklFUy5tYXAoY291bnRyeSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtjb3VudHJ5Lm5hbWV9IHZhbHVlPXtgKyR7Y291bnRyeS5jb2RlfWB9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvdW50cnkubmFtZX0gKCt7Y291bnRyeS5jb2RlfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TY3JvbGxBcmVhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgICAgIG5hbWU9Im1vYmlsZW51bWJlciIKICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtIGNsYXNzTmFtZT0iZmxleC0xIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgaWQ9Im1vYmlsZW51bWJlciIgdHlwZT0idGVsIiBwbGFjZWhvbGRlcj0iMTAtZGlnaXQgbnVtYmVyIiB7Li4uZmllbGR9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9IC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9IGNsYXNzTmFtZT0idy1mdWxsIj4KICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAoCiAgICAgICAgICAgIDw+PExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiBTYXZpbmcuLi48Lz4KICAgICAgICAgICkgOiAoCiAgICAgICAgICAgIDw+PFNhdmUgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+IHtidXR0b25UZXh0fTwvPgogICAgICAgICAgKX0KICAgICAgICA8L0J1dHRvbj4KICAgICAgPC9mb3JtPgogICAgPC9Gb3JtPgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/update-mobile-form.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7IHVzZVBhdGhuYW1lIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHsgZ2V0Q29udmVyc2F0aW9ucywgc2VhcmNoVXNlcnMsIHN0YXJ0Q2hhdEFuZFJlZGlyZWN0IH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB0eXBlIHsgQ29udmVyc2F0aW9uLCBVc2VyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QgfSBmcm9tICdkYXRlLWZucyc7CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnLi91aS9za2VsZXRvbic7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi91aS9pbnB1dCc7CmltcG9ydCB7IFNlYXJjaCwgTG9hZGVyMiwgVXNlcnMgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgQ3JlYXRlR3JvdXBEaWFsb2cgZnJvbSAnLi9jcmVhdGUtZ3JvdXAtZGlhbG9nJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi91aS9idXR0b24nOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKCmNvbnN0IFBPTExJTkdfSU5URVJWQUwgPSAxNTAwMDsgLy8gMTUgc2Vjb25kcwpjb25zdCBDQUNIRV9LRVkgPSAnbG9jYWxwdWxzZS1jaGF0LWNhY2hlJzsKY29uc3QgQ0FDSEVfRVhQSVJZX01TID0gNSAqIDYwICogMTAwMDsgLy8gNSBtaW51dGVzCgppbnRlcmZhY2UgQ2FjaGVkQ2hhdHMgewogIHRpbWVzdGFtcDogbnVtYmVyOwogIGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbltdOwp9Cgpjb25zdCBDb252ZXJzYXRpb25JdGVtID0gKHsgY29udiB9OiB7IGNvbnY6IENvbnZlcnNhdGlvbiB9KSA9PiB7CiAgICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7CiAgICBjb25zdCBpc0FjdGl2ZSA9IHBhdGhuYW1lID09PSBgL2NoYXQvJHtjb252LmlkfWA7CiAgICBjb25zdCBzaG93VW5yZWFkID0gY29udi51bnJlYWRfY291bnQgPiAwICYmICFpc0FjdGl2ZTsKCiAgICByZXR1cm4gKAogICAgICAgIDxMaW5rCiAgICAgICAgICAgIGhyZWY9e2AvY2hhdC8ke2NvbnYuaWR9YH0KICAgICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgICAgICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBwLTMgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBob3ZlcjpiZy1tdXRlZCIsCiAgICAgICAgICAgICAgICBpc0FjdGl2ZSA/ICJiZy1wcmltYXJ5LzEwIiA6ICIiCiAgICAgICAgICAgICl9CiAgICAgICAgPgogICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC0xMiB3LTEyIGJvcmRlci0yIgogICAgICAgICAgICAgc3R5bGU9e3sgYm9yZGVyQ29sb3I6IGlzQWN0aXZlID8gJ2hzbCh2YXIoLS1wcmltYXJ5KSknIDogJ3RyYW5zcGFyZW50JyB9fQogICAgICAgICAgICA+CiAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXtjb252LmRpc3BsYXlfYXZhdGFyX3VybCB8fCB1bmRlZmluZWR9IGFsdD17Y29udi5kaXNwbGF5X25hbWV9IC8+CiAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e2NvbnYuZGlzcGxheV9uYW1lPy5jaGFyQXQoMCkgfHwgJz8nfTwvQXZhdGFyRmFsbGJhY2s+CiAgICAgICAgICAgIDwvQXZhdGFyPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIG92ZXJmbG93LWhpZGRlbiI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtYmFzZWxpbmUiPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17Y24oImZvbnQtc2VtaWJvbGQgdHJ1bmNhdGUiLCBzaG93VW5yZWFkID8gInRleHQtcHJpbWFyeSIgOiAiIil9PgogICAgICAgICAgICAgICAgICAgICAgICB7Y29udi5kaXNwbGF5X25hbWV9CiAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgIHtjb252Lmxhc3RfbWVzc2FnZV9hdCAmJiAoCiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgZmxleC1zaHJpbmstMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChuZXcgRGF0ZShjb252Lmxhc3RfbWVzc2FnZV9hdCksIHsgYWRkU3VmZml4OiB0cnVlIH0pfQogICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtdC0wLjUiPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17Y24oInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGJyZWFrLXdvcmRzIHRydW5jYXRlIiwgc2hvd1VucmVhZCA/ICJmb250LWJvbGQgdGV4dC1mb3JlZ3JvdW5kIiA6ICIiKX0+CiAgICAgICAgICAgICAgICAgICAgICAgIHtjb252Lmxhc3RfbWVzc2FnZV9jb250ZW50IHx8ICdObyBtZXNzYWdlcyB5ZXQuJ30KICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAge3Nob3dVbnJlYWQgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZsZXgtc2hyaW5rLTAgbWwtMiBoLTUgdy01IGJnLWFjY2VudCB0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIHRleHQteHMgZm9udC1ib2xkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udi51bnJlYWRfY291bnQgPiA5ID8gJzkrJyA6IGNvbnYudW5yZWFkX2NvdW50fQogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L0xpbms+CiAgICApCn07CgoKY29uc3QgQ2hhdFNpZGViYXIgPSAoKSA9PiB7CiAgICBjb25zdCBbY29udmVyc2F0aW9ucywgc2V0Q29udmVyc2F0aW9uc10gPSB1c2VTdGF0ZTxDb252ZXJzYXRpb25bXT4oW10pOwogICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwogICAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7CiAgICBjb25zdCBbc2VhcmNoUmVzdWx0cywgc2V0U2VhcmNoUmVzdWx0c10gPSB1c2VTdGF0ZTxVc2VyW10+KFtdKTsKICAgIGNvbnN0IFtpc1NlYXJjaGluZywgc2V0SXNTZWFyY2hpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgICBjb25zdCBmZXRjaEFuZFNldENvbnZlcnNhdGlvbnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgY29udm9zID0gYXdhaXQgZ2V0Q29udmVyc2F0aW9ucygpOwogICAgICAgICAgICBzZXRDb252ZXJzYXRpb25zKGNvbnZvcyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBVcGRhdGUgY2FjaGUgd2l0aCBmcmVzaCBkYXRhCiAgICAgICAgICAgIGNvbnN0IGNhY2hlRGF0YTogQ2FjaGVkQ2hhdHMgPSB7CiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksCiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25zOiBjb252b3MsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKENBQ0hFX0tFWSwgSlNPTi5zdHJpbmdpZnkoY2FjaGVEYXRhKSk7CgogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBmZXRjaCBjb252ZXJzYXRpb25zOiIsIGVycm9yKTsKICAgICAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0NvdWxkIG5vdCBsb2FkIGNoYXRzLicgfSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgICAgICB9CiAgICB9LCBbdG9hc3RdKTsKICAgIAogICAgLy8gSW5pdGlhbCBsb2FkIGVmZmVjdAogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBsZXQgaXNNb3VudGVkID0gdHJ1ZTsKICAgICAgICAKICAgICAgICAvLyBMb2FkIGZyb20gY2FjaGUgZmlyc3QKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBjYWNoZWRJdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQ0FDSEVfS0VZKTsKICAgICAgICAgICAgaWYoY2FjaGVkSXRlbSkgewogICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkRGF0YTogQ2FjaGVkQ2hhdHMgPSBKU09OLnBhcnNlKGNhY2hlZEl0ZW0pOwogICAgICAgICAgICAgICAgaWYoaXNNb3VudGVkKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0Q29udmVyc2F0aW9ucyhjYWNoZWREYXRhLmNvbnZlcnNhdGlvbnMpOwogICAgICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7IC8vIFdlIGhhdmUgc29tZXRoaW5nIHRvIHNob3cKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gUmV2YWxpZGF0ZSBpZiBjYWNoZSBpcyBzdGFsZQogICAgICAgICAgICAgICAgaWYoRGF0ZS5ub3coKSAtIGNhY2hlZERhdGEudGltZXN0YW1wID4gQ0FDSEVfRVhQSVJZX01TKSB7CiAgICAgICAgICAgICAgICAgICAgZmV0Y2hBbmRTZXRDb252ZXJzYXRpb25zKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBObyBjYWNoZSwgZmV0Y2ggZnJvbSBzZXJ2ZXIKICAgICAgICAgICAgICAgIGZldGNoQW5kU2V0Q29udmVyc2F0aW9ucygpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLndhcm4oIkZhaWxlZCB0byBsb2FkIGNoYXRzIGZyb20gY2FjaGUuIiwgZXJyb3IpOwogICAgICAgICAgICBmZXRjaEFuZFNldENvbnZlcnNhdGlvbnMoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoKSA9PiB7IGlzTW91bnRlZCA9IGZhbHNlOyB9OwogICAgfSwgW2ZldGNoQW5kU2V0Q29udmVyc2F0aW9uc10pOwoKICAgIC8vIFBvbGxpbmcgZWZmZWN0CiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmZXRjaEFuZFNldENvbnZlcnNhdGlvbnMsIFBPTExJTkdfSU5URVJWQUwpOwogICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsSWQpOwogICAgfSwgW2ZldGNoQW5kU2V0Q29udmVyc2F0aW9uc10pOwoKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGlmICghc2VhcmNoUXVlcnkudHJpbSgpKSB7CiAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pOwogICAgICAgICAgICBzZXRJc1NlYXJjaGluZyhmYWxzZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGhhbmRsZXIgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgc2V0SXNTZWFyY2hpbmcodHJ1ZSk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IHNlYXJjaFVzZXJzKHNlYXJjaFF1ZXJ5KTsKICAgICAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHModXNlcnMpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIHNlYXJjaCB1c2VyczoiLCBlcnJvcik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBzZXRJc1NlYXJjaGluZyhmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCAzMDApOyAvLyAzMDBtcyBkZWJvdW5jZQoKICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KGhhbmRsZXIpOwogICAgfSwgW3NlYXJjaFF1ZXJ5XSk7CgogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBoLWZ1bGwgYmctY2FyZCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgYm9yZGVyLWIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIj4KICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9InRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgZmxleC1zaHJpbmstMCB0cnVuY2F0ZSI+Q2hhdHM8L2gxPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSIgLz4KICAgICAgICAgICAgICAgIDxDcmVhdGVHcm91cERpYWxvZz4KICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJpY29uIiBjbGFzc05hbWU9ImZsZXgtc2hyaW5rLTAiPgogICAgICAgICAgICAgICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPSJoLTUgdy01IiAvPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9InNyLW9ubHkiPkNyZWF0ZSBHcm91cDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgIDwvQ3JlYXRlR3JvdXBEaWFsb2c+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icC00IGJvcmRlci1iIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSI+CiAgICAgICAgICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9ImFic29sdXRlIGxlZnQtMyB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgaC01IHctNSB0ZXh0LW11dGVkLWZvcmVncm91bmQiIC8+CiAgICAgICAgICAgICAgICAgICAgPElucHV0CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJTZWFyY2ggcGVvcGxlIHRvIHN0YXJ0IGEgY2hhdC4uLiIKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJwbC0xMCIKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fQogICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX0KICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPSJmbGV4LTEiPgogICAgICAgICAgICAgICAge3NlYXJjaFF1ZXJ5ID8gKAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTIiPgogICAgICAgICAgICAgICAgICAgICAgICB7aXNTZWFyY2hpbmcgPyAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icC00IHRleHQtY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiBTZWFyY2hpbmcuLi4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICApIDogc2VhcmNoUmVzdWx0cy5sZW5ndGggPiAwID8gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0cy5tYXAodXNlciA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gYWN0aW9uPXtzdGFydENoYXRBbmRSZWRpcmVjdH0ga2V5PXt1c2VyLmlkfT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ib3RoZXJVc2VySWQiIHZhbHVlPXt1c2VyLmlkfSAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3NOYW1lPSJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcC0zIHJvdW5kZWQtbGcgdGV4dC1sZWZ0IHRyYW5zaXRpb24tY29sb3JzIGhvdmVyOmJnLW11dGVkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPSJoLTEwIHctMTAgYm9yZGVyLTIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJJbWFnZSBzcmM9e3VzZXIucHJvZmlsZXBpY3R1cmV1cmwgfHwgdW5kZWZpbmVkfSBhbHQ9e3VzZXIubmFtZX0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e3VzZXIubmFtZS5jaGFyQXQoMCl9PC9BdmF0YXJGYWxsYmFjaz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQXZhdGFyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSBvdmVyZmxvdy1oaWRkZW4iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0cnVuY2F0ZSI+e3VzZXIubmFtZX08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgKSkKICAgICAgICAgICAgICAgICAgICAgICAgKSA6ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTggdGV4dC1jZW50ZXIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5ObyB1c2VycyBmb3VuZC48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICAgICAgPD4KICAgICAgICAgICAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgc3BhY2UteS0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Wy4uLkFycmF5KDUpXS5tYXAoKF8sIGkpID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTIgdy0xMiByb3VuZGVkLWZ1bGwiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIGZsZXgtMSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC00IHctMy80IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMyB3LTEvMiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICApIDogY29udmVyc2F0aW9ucy5sZW5ndGggPiAwID8gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InAtMiBzcGFjZS15LTEiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb252ZXJzYXRpb25zLm1hcChjb252ID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbnZlcnNhdGlvbkl0ZW0ga2V5PXtjb252LmlkfSBjb252PXtjb252fSAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgcC04IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Tm8gcmVjZW50IGNvbnZlcnNhdGlvbnMuPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSI+VXNlIHRoZSBzZWFyY2ggYmFyIGFib3ZlIHRvIGZpbmQgc29tZW9uZSBhbmQgc3RhcnQgYSBjaGF0LjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgIDwvPgogICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPC9TY3JvbGxBcmVhPgogICAgICAgIDwvZGl2PgogICAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IENoYXRTaWRlYmFyOwo=' | base64 -d > /root/localpulse/src/components/chat-sidebar.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcCwgZ2V0QXBwcyB9IGZyb20gJ2ZpcmViYXNlL2FwcCc7CmltcG9ydCB7IGdldE1lc3NhZ2luZywgb25NZXNzYWdlIH0gZnJvbSAnZmlyZWJhc2UvbWVzc2FnaW5nJzsKCi8vIFRoaXMgY29tcG9uZW50IGhhbmRsZXMgdGhlIGNsaWVudC1zaWRlIGxvZ2ljIGZvciBGaXJlYmFzZSBDbG91ZCBNZXNzYWdpbmcuCi8vIEl0J3MgcmVzcG9uc2libGUgZm9yIGluaXRpYWxpemluZyBGaXJlYmFzZSBhbmQgaGFuZGxpbmcgZm9yZWdyb3VuZCBtZXNzYWdlcy4KLy8gVG9rZW4gcmVnaXN0cmF0aW9uIGlzIG5vdyBoYW5kbGVkIGJ5IHRoZSBQb3N0RmVlZENsaWVudCBjb21wb25lbnQuCgpjb25zdCBmaXJlYmFzZUNvbmZpZyA9IHsKICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVksCiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4sCiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lELAogIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULAogIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lELAogIGFwcElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQsCn07Cgpjb25zdCBGaXJlYmFzZU1lc3NhZ2luZ0NsaWVudCA9ICgpID0+IHsKICB1c2VFZmZlY3QoKCkgPT4gewogICAgLy8gVGhpcyBlZmZlY3QgcnVucyBvbmNlIG9uIHRoZSBjbGllbnQgd2hlbiB0aGUgYXBwIGxvYWRzLgogICAgY29uc3Qgc2V0dXBGaXJlYmFzZU1lc3NhZ2luZyA9IGFzeW5jICgpID0+IHsKICAgICAgLy8gRW5zdXJlIHRoaXMgcnVucyBvbmx5IG9uIHRoZSBjbGllbnQgc2lkZSBhbmQgdGhhdCBzZXJ2aWNlIHdvcmtlcnMgYXJlIHN1cHBvcnRlZC4KICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICEoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIENoZWNrIGlmIGFsbCByZXF1aXJlZCBGaXJlYmFzZSBjb25maWcga2V5cyBhcmUgcHJlc2VudAogICAgICBpZiAoIWZpcmViYXNlQ29uZmlnLmFwaUtleSB8fCAhZmlyZWJhc2VDb25maWcucHJvamVjdElkIHx8ICFmaXJlYmFzZUNvbmZpZy5tZXNzYWdpbmdTZW5kZXJJZCkgewogICAgICAgIGNvbnNvbGUud2FybigiRmlyZWJhc2UgY2xpZW50IGNvbmZpZ3VyYXRpb24gaXMgaW5jb21wbGV0ZS4gUHVzaCBub3RpZmljYXRpb25zIHdpbGwgYmUgZGlzYWJsZWQuIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyBJbml0aWFsaXplIEZpcmViYXNlCiAgICAgIGNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPT09IDAgPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKSA6IGdldEFwcCgpOwoKICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IG1lc3NhZ2luZyA9IGdldE1lc3NhZ2luZyhhcHApOwogICAgICAgICAgCiAgICAgICAgICAvLyBIYW5kbGUgZm9yZWdyb3VuZCBtZXNzYWdlcyAod2hlbiB0aGUgYXBwIGlzIG9wZW4gYW5kIHZpc2libGUpCiAgICAgICAgICAgb25NZXNzYWdlKG1lc3NhZ2luZywgKHBheWxvYWQpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWVzc2FnZSByZWNlaXZlZCBpbiBmb3JlZ3JvdW5kLiAnLCBwYXlsb2FkKTsKICAgICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb25UaXRsZSA9IHBheWxvYWQubm90aWZpY2F0aW9uPy50aXRsZSB8fCAnTmV3IE5vdGlmaWNhdGlvbic7CiAgICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uT3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgYm9keTogcGF5bG9hZC5ub3RpZmljYXRpb24/LmJvZHkgfHwgJycsCiAgICAgICAgICAgICAgICAgIGljb246ICcvaWNvbnMvaWNvbi0xOTJ4MTkyLnBuZycKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIG5ldyBOb3RpZmljYXRpb24obm90aWZpY2F0aW9uVGl0bGUsIG5vdGlmaWNhdGlvbk9wdGlvbnMpOwogICAgICAgICAgfSk7CgogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2V0dGluZyB1cCBGaXJlYmFzZSBtZXNzYWdpbmcuJywgZXJyb3IpOwogICAgICB9CiAgICB9OwogICAgCiAgICBzZXR1cEZpcmViYXNlTWVzc2FnaW5nKCk7CgogIH0sIFtdKTsgLy8gVGhlIGVtcHR5IGRlcGVuZGVuY3kgYXJyYXkgZW5zdXJlcyB0aGlzIHJ1bnMgb25seSBvbmNlIG9uIG1vdW50LgoKICByZXR1cm4gbnVsbDsgLy8gVGhpcyBjb21wb25lbnQgZG9lcyBub3QgcmVuZGVyIGFueXRoaW5nLgp9OwoKZXhwb3J0IGRlZmF1bHQgRmlyZWJhc2VNZXNzYWdpbmdDbGllbnQ7Cg==' | base64 -d > /root/localpulse/src/components/firebase-messaging-client.ts
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEFsZXJ0RGlhbG9nLCBBbGVydERpYWxvZ0NvbnRlbnQsIEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24sIEFsZXJ0RGlhbG9nRm9vdGVyLCBBbGVydERpYWxvZ0hlYWRlciwgQWxlcnREaWFsb2dUaXRsZSB9IGZyb20gIkAvY29tcG9uZW50cy91aS9hbGVydC1kaWFsb2ciOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvYnV0dG9uIjsKaW1wb3J0IHsgU21hcnRwaG9uZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7Cgpjb25zdCBQTEFZX1NUT1JFX1VSTCA9ICdodHRwczovL3BsYXkuZ29vZ2xlLmNvbS9zdG9yZS9hcHBzL2RldGFpbHM/aWQ9Y29tLmJvcmdhdmFrYXIubG9jYWxwdWxzZSc7CgovLyBBIHNpbXBsZSB1c2VyIGFnZW50IGNoZWNrIGZvciBBbmRyb2lkLgpjb25zdCBpc0FuZHJvaWQgPSAoKSA9PiB7CiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIC9hbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsKfTsKCi8vIENoZWNrIGlmIHdlIGFyZSBpbnNpZGUgb3VyIGN1c3RvbSBXZWJWaWV3IGJ5IGxvb2tpbmcgZm9yIGEgSlMgaW50ZXJmYWNlLgovLyBZb3VyIEFuZHJvaWQgYXBwIG11c3QgaW5qZWN0IGFuIG9iamVjdCBuYW1lZCAnQW5kcm9pZCcgZm9yIHRoaXMgdG8gd29yay4KY29uc3QgaXNJbkFwcFdlYlZpZXcgPSAoKSA9PiB7CiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgKHdpbmRvdyBhcyBhbnkpLkFuZHJvaWQ7Cn07CgpleHBvcnQgY29uc3QgQXBwSW5zdGFsbFByb21wdCA9ICgpID0+IHsKICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgLy8gT25seSBydW4gdGhpcyBsb2dpYyBvbiB0aGUgY2xpZW50CiAgICBjb25zdCBwcm9tcHREaXNtaXNzZWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhcHBJbnN0YWxsUHJvbXB0RGlzbWlzc2VkJyk7CiAgICAKICAgIC8vIENvbmRpdGlvbnMgdG8gc2hvdyB0aGUgcHJvbXB0OgogICAgLy8gMS4gSXQgaGFzbid0IGJlZW4gZGlzbWlzc2VkIGJlZm9yZSBpbiB0aGlzIHNlc3Npb24uCiAgICAvLyAyLiBUaGUgdXNlciBpcyBvbiBhbiBBbmRyb2lkIGRldmljZS4KICAgIC8vIDMuIFRoZSB1c2VyIGlzIE5PVCBpbiBvdXIgYXBwJ3MgV2ViVmlldy4KICAgIGlmICghcHJvbXB0RGlzbWlzc2VkICYmIGlzQW5kcm9pZCgpICYmICFpc0luQXBwV2ViVmlldygpKSB7CiAgICAgIC8vIEFkZCBhIHNtYWxsIGRlbGF5IHRvIG5vdCBiZSB0b28gaW50cnVzaXZlIG9uIHBhZ2UgbG9hZAogICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHNldElzT3Blbih0cnVlKTsKICAgICAgfSwgMzUwMCk7IC8vIDMuNS1zZWNvbmQgZGVsYXkKCiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgfQogIH0sIFtdKTsKCiAgY29uc3QgaGFuZGxlRGlzbWlzcyA9ICgpID0+IHsKICAgIC8vIFVzaW5nIHNlc3Npb25TdG9yYWdlIG1lYW5zIGl0IHdpbGwgcHJvbXB0IGFnYWluIGluIGEgbmV3IHRhYi9zZXNzaW9uLCB3aGljaCBpcyBsZXNzIGFubm95aW5nLgogICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYXBwSW5zdGFsbFByb21wdERpc21pc3NlZCcsICd0cnVlJyk7CiAgICBzZXRJc09wZW4oZmFsc2UpOwogIH07CiAgCiAgY29uc3QgaGFuZGxlSW5zdGFsbCA9ICgpID0+IHsKICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FwcEluc3RhbGxQcm9tcHREaXNtaXNzZWQnLCAndHJ1ZScpOwogICAgc2V0SXNPcGVuKGZhbHNlKTsKICAgIHdpbmRvdy5vcGVuKFBMQVlfU1RPUkVfVVJMLCAnX2JsYW5rJyk7CiAgfTsKCiAgLy8gRG8gbm90IHJlbmRlciBhbnl0aGluZyBpZiB0aGUgZGlhbG9nIGlzIG5vdCBvcGVuCiAgaWYgKCFpc09wZW4pIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgcmV0dXJuICgKICAgIDxBbGVydERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17c2V0SXNPcGVufT4KICAgICAgPEFsZXJ0RGlhbG9nQ29udGVudCBjbGFzc05hbWU9Im1heC13LXhzIHJvdW5kZWQteGwiPgogICAgICAgIDxBbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktY2VudGVyIG1iLTQiPgogICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InctMjAgaC0yMCByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeS8xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBib3JkZXItNCBib3JkZXItcHJpbWFyeS8yMCI+CiAgICAgICAgICAgICAgICA8U21hcnRwaG9uZSBjbGFzc05hbWU9InctMTAgaC0xMCB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGUgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciB0ZXh0LTJ4bCBmb250LWJvbGQiPkdldCB0aGUgRnVsbCBFeHBlcmllbmNlPC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgPEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24gY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweC00Ij4KICAgICAgICAgICAgSW5zdGFsbCBvdXIgbmF0aXZlIGFwcCBmb3IgZmFzdGVyIHBlcmZvcm1hbmNlIGFuZCByZWFsLXRpbWUgcHVzaCBub3RpZmljYXRpb25zLgogICAgICAgICAgPC9BbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgIDwvQWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgPEFsZXJ0RGlhbG9nRm9vdGVyIGNsYXNzTmFtZT0iZmxleC1jb2wgc3BhY2UteS0yIHNtOmZsZXgtY29sIHNtOnNwYWNlLXgtMCBwdC00Ij4KICAgICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlSW5zdGFsbH0gY2xhc3NOYW1lPSJ3LWZ1bGwgYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIHNoYWRvdy1sZyI+CiAgICAgICAgICAgIEluc3RhbGwgZnJvbSBHb29nbGUgUGxheQogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBvbkNsaWNrPXtoYW5kbGVEaXNtaXNzfSBjbGFzc05hbWU9InctZnVsbCI+CiAgICAgICAgICAgIENvbnRpbnVlIGluIEJyb3dzZXIKICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PgogICAgPC9BbGVydERpYWxvZz4KICApOwp9Owo=' | base64 -d > /root/localpulse/src/components/app-install-prompt.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZUZvcm0sIHR5cGUgU3VibWl0SGFuZGxlciB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7CmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnOwppbXBvcnQgKiBhcyB6IGZyb20gJ3pvZCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyByZWdpc3Rlck1hbmRhbCB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgdHlwZSB7IE5ld0dhbnBhdGlNYW5kYWwsIFVzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgewogIERpYWxvZywKICBEaWFsb2dDb250ZW50LAogIERpYWxvZ0Rlc2NyaXB0aW9uLAogIERpYWxvZ0Zvb3RlciwKICBEaWFsb2dIZWFkZXIsCiAgRGlhbG9nVGl0bGUsCiAgRGlhbG9nVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJzsKaW1wb3J0IHsgRm9ybSwgRm9ybUNvbnRyb2wsIEZvcm1GaWVsZCwgRm9ybUl0ZW0sIEZvcm1MYWJlbCwgRm9ybU1lc3NhZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZm9ybSc7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JzsKaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEnOwppbXBvcnQgeyBMb2FkZXIyLCBQYXJ0eVBvcHBlciB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7Cgpjb25zdCBtYW5kYWxTY2hlbWEgPSB6Lm9iamVjdCh7CiAgbmFtZTogei5zdHJpbmcoKS5taW4oMywgJ01hbmRhbCBuYW1lIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzIGxvbmcuJyksCiAgY2l0eTogei5zdHJpbmcoKS5taW4oMiwgJ0NpdHkgbmFtZSBpcyByZXF1aXJlZC4nKSwKICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5tYXgoNTAwLCAnRGVzY3JpcHRpb24gY2Fubm90IGV4Y2VlZCA1MDAgY2hhcmFjdGVycy4nKS5vcHRpb25hbCgpLAp9KTsKCnR5cGUgTWFuZGFsRm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiBtYW5kYWxTY2hlbWE+OwoKaW50ZXJmYWNlIFJlZ2lzdGVyTWFuZGFsRGlhbG9nUHJvcHMgewogICAgdXNlckxvY2F0aW9uOiB7IGxhdGl0dWRlOiBudW1iZXIsIGxvbmdpdHVkZTogbnVtYmVyIH0gfCBudWxsOwogICAgc2Vzc2lvblVzZXI6IFVzZXIgfCBudWxsOwp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZWdpc3Rlck1hbmRhbERpYWxvZyh7IHVzZXJMb2NhdGlvbiwgc2Vzc2lvblVzZXIgfTogUmVnaXN0ZXJNYW5kYWxEaWFsb2dQcm9wcykgewogIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgY29uc3QgZm9ybSA9IHVzZUZvcm08TWFuZGFsRm9ybURhdGE+KHsKICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihtYW5kYWxTY2hlbWEpLAogICAgZGVmYXVsdFZhbHVlczogewogICAgICBuYW1lOiAnJywKICAgICAgY2l0eTogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgIH0sCiAgfSk7CiAgCiAgY29uc3QgeyBpc1N1Ym1pdHRpbmcgfSA9IGZvcm0uZm9ybVN0YXRlOwoKICBjb25zdCBvblN1Ym1pdDogU3VibWl0SGFuZGxlcjxNYW5kYWxGb3JtRGF0YT4gPSBhc3luYyAoZGF0YSkgPT4gewogICAgaWYgKCFzZXNzaW9uVXNlcikgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICAgICAgdGl0bGU6ICdMb2dpbiBSZXF1aXJlZCcsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGxlYXNlIGxvZyBpbiB0byByZWdpc3RlciBhIG1hbmRhbC4gUmVkaXJlY3RpbmcuLi4nLAogICAgICAgIH0pOwogICAgICAgIHNldElzT3BlbihmYWxzZSk7CiAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoIXVzZXJMb2NhdGlvbikgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICAgICAgdGl0bGU6ICdMb2NhdGlvbiBSZXF1aXJlZCcsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnWW91ciBsb2NhdGlvbiBpcyBuZWVkZWQgdG8gcmVnaXN0ZXIgYSBtYW5kYWwuIFBsZWFzZSBlbnN1cmUgbG9jYXRpb24gc2VydmljZXMgYXJlIGVuYWJsZWQuJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBuZXdNYW5kYWw6IE5ld0dhbnBhdGlNYW5kYWwgPSB7CiAgICAgICAgLi4uZGF0YSwKICAgICAgICBsYXRpdHVkZTogdXNlckxvY2F0aW9uLmxhdGl0dWRlLAogICAgICAgIGxvbmdpdHVkZTogdXNlckxvY2F0aW9uLmxvbmdpdHVkZSwKICAgICAgICBhZG1pbl91c2VyX2lkOiBzZXNzaW9uVXNlci5pZAogICAgfTsKICAgIAogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVnaXN0ZXJNYW5kYWwobmV3TWFuZGFsKTsKICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdNYW5kYWwgUmVnaXN0ZXJlZCEnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnWW91ciBHYW5wYXRpIE1hbmRhbCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZC4nLAogICAgICB9KTsKICAgICAgc2V0SXNPcGVuKGZhbHNlKTsKICAgICAgZm9ybS5yZXNldCgpOwogICAgfSBlbHNlIHsKICAgICAgdG9hc3QoewogICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgICAgdGl0bGU6ICdSZWdpc3RyYXRpb24gRmFpbGVkJywKICAgICAgICBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIHx8ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkLicsCiAgICAgIH0pOwogICAgfQogIH07CgogIHJldHVybiAoCiAgICA8RGlhbG9nIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRJc09wZW59PgogICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgIDxCdXR0b24+CiAgICAgICAgICA8UGFydHlQb3BwZXIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+IFJlZ2lzdGVyIFlvdXIgTWFuZGFsCiAgICAgICAgPC9CdXR0b24+CiAgICAgIDwvRGlhbG9nVHJpZ2dlcj4KICAgICAgPERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgPERpYWxvZ0hlYWRlcj4KICAgICAgICAgIDxEaWFsb2dUaXRsZT5SZWdpc3RlciBHYW5wYXRpIE1hbmRhbDwvRGlhbG9nVGl0bGU+CiAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgIEFkZCB5b3VyIG1hbmRhbCB0byB0aGUgZmVzdGl2YWwgbWFwIGZvciBldmVyeW9uZSB0byBzZWUuCiAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgIDwvRGlhbG9nSGVhZGVyPgogICAgICAgIDxGb3JtIHsuLi5mb3JtfT4KICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtmb3JtLmhhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT0ic3BhY2UteS00Ij4KICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICBuYW1lPSJuYW1lIgogICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPk1hbmRhbCBOYW1lPC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9ImUuZy4sIExhbGJhdWdjaGEgUmFqYSIgey4uLmZpZWxkfSAvPgogICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgLz4KICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICBuYW1lPSJjaXR5IgogICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkNpdHk8L0Zvcm1MYWJlbD4KICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj0iZS5nLiwgTXVtYmFpIiB7Li4uZmllbGR9IC8+CiAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICApfQogICAgICAgICAgICAvPgogICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgIG5hbWU9ImRlc2NyaXB0aW9uIgogICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkRlc2NyaXB0aW9uIChPcHRpb25hbCk8L0Zvcm1MYWJlbD4KICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYSBwbGFjZWhvbGRlcj0iU2hhcmUgZGV0YWlscyBhYm91dCB0aGUgdGhlbWUsIHRpbWluZ3MsIGV0Yy4iIHsuLi5maWVsZH0gLz4KICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgIC8+CiAgICAgICAgICAgIDxEaWFsb2dGb290ZXI+CiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJidXR0b24iIHZhcmlhbnQ9Im91dGxpbmUiIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbihmYWxzZSl9PkNhbmNlbDwvQnV0dG9uPgogICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT4KICAgICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgJiYgPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPn0KICAgICAgICAgICAgICAgIFJlZ2lzdGVyCiAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvRGlhbG9nRm9vdGVyPgogICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvRm9ybT4KICAgICAgPC9EaWFsb2dDb250ZW50PgogICAgPC9EaWFsb2c+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/register-mandal-dialog.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgewogIERpYWxvZywKICBEaWFsb2dDb250ZW50LAogIERpYWxvZ0Rlc2NyaXB0aW9uLAogIERpYWxvZ0hlYWRlciwKICBEaWFsb2dUaXRsZSwKICBEaWFsb2dUcmlnZ2VyLAogIERpYWxvZ0Zvb3RlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi91aS9idXR0b24nOwppbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vdWkvaW5wdXQnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgZ2V0UG90ZW50aWFsR3JvdXBNZW1iZXJzLCBjcmVhdGVHcm91cCB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgdHlwZSB7IEZvbGxvd1VzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tICcuL3VpL3Njcm9sbC1hcmVhJzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJGYWxsYmFjaywgQXZhdGFySW1hZ2UgfSBmcm9tICcuL3VpL2F2YXRhcic7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnLi91aS9jaGVja2JveCc7CmltcG9ydCB7IExhYmVsIH0gZnJvbSAnLi91aS9sYWJlbCc7CmltcG9ydCB7IExvYWRlcjIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlR3JvdXBEaWFsb2coeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkgewogIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2dyb3VwTmFtZSwgc2V0R3JvdXBOYW1lXSA9IHVzZVN0YXRlKCcnKTsKICBjb25zdCBbcG90ZW50aWFsTWVtYmVycywgc2V0UG90ZW50aWFsTWVtYmVyc10gPSB1c2VTdGF0ZTxGb2xsb3dVc2VyW10+KFtdKTsKICBjb25zdCBbc2VsZWN0ZWRNZW1iZXJzLCBzZXRTZWxlY3RlZE1lbWJlcnNdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7CiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoaXNPcGVuKSB7CiAgICAgIHNldElzTG9hZGluZyh0cnVlKTsKICAgICAgZ2V0UG90ZW50aWFsR3JvdXBNZW1iZXJzKCkudGhlbigodXNlcnMpID0+IHsKICAgICAgICBzZXRQb3RlbnRpYWxNZW1iZXJzKHVzZXJzKTsKICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpOwogICAgICB9KTsKICAgIH0KICB9LCBbaXNPcGVuXSk7CgogIGNvbnN0IGhhbmRsZVNlbGVjdE1lbWJlciA9ICh1c2VySWQ6IG51bWJlcikgPT4gewogICAgc2V0U2VsZWN0ZWRNZW1iZXJzKHByZXYgPT4gewogICAgICBjb25zdCBuZXdTZXQgPSBuZXcgU2V0KHByZXYpOwogICAgICBpZiAobmV3U2V0Lmhhcyh1c2VySWQpKSB7CiAgICAgICAgbmV3U2V0LmRlbGV0ZSh1c2VySWQpOwogICAgICB9IGVsc2UgewogICAgICAgIG5ld1NldC5hZGQodXNlcklkKTsKICAgICAgfQogICAgICByZXR1cm4gbmV3U2V0OwogICAgfSk7CiAgfTsKICAKICBjb25zdCBoYW5kbGVDcmVhdGVHcm91cCA9IGFzeW5jICgpID0+IHsKICAgICAgaWYgKCFncm91cE5hbWUudHJpbSgpKSB7CiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0dyb3VwIG5hbWUgaXMgcmVxdWlyZWQuJyB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHNlbGVjdGVkTWVtYmVycy5zaXplID09PSAwKSB7CiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ1BsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIG1lbWJlci4nIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAKICAgICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpOwogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVHcm91cChncm91cE5hbWUsIEFycmF5LmZyb20oc2VsZWN0ZWRNZW1iZXJzKSk7CgogICAgICBpZihyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQuY29udmVyc2F0aW9uSWQpIHsKICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICdHcm91cCBDcmVhdGVkIScsIGRlc2NyaXB0aW9uOiBgVGhlIGdyb3VwICIke2dyb3VwTmFtZX0iIGhhcyBiZWVuIGNyZWF0ZWQuYCB9KTsKICAgICAgICAgIHNldElzT3BlbihmYWxzZSk7CiAgICAgICAgICBzZXRHcm91cE5hbWUoJycpOwogICAgICAgICAgc2V0U2VsZWN0ZWRNZW1iZXJzKG5ldyBTZXQoKSk7CiAgICAgICAgICByb3V0ZXIucHVzaChgL2NoYXQvJHtyZXN1bHQuY29udmVyc2F0aW9uSWR9YCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJyb3InLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGdyb3VwLicgfSk7CiAgICAgIH0KICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTsKICB9OwoKICByZXR1cm4gKAogICAgPERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17c2V0SXNPcGVufT4KICAgICAgPERpYWxvZ1RyaWdnZXIgYXNDaGlsZD57Y2hpbGRyZW59PC9EaWFsb2dUcmlnZ2VyPgogICAgICA8RGlhbG9nQ29udGVudD4KICAgICAgICA8RGlhbG9nSGVhZGVyPgogICAgICAgICAgPERpYWxvZ1RpdGxlPkNyZWF0ZSBOZXcgR3JvdXA8L0RpYWxvZ1RpdGxlPgogICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPk5hbWUgeW91ciBncm91cCBhbmQgYWRkIG1lbWJlcnMgZnJvbSB5b3VyIGZvbGxvd2VycyBhbmQgZmFtaWx5LjwvRGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgPC9EaWFsb2dIZWFkZXI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCBweS00Ij4KICAgICAgICAgIDxJbnB1dAogICAgICAgICAgICBwbGFjZWhvbGRlcj0iR3JvdXAgTmFtZSIKICAgICAgICAgICAgdmFsdWU9e2dyb3VwTmFtZX0KICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRHcm91cE5hbWUoZS50YXJnZXQudmFsdWUpfQogICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfQogICAgICAgICAgLz4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICA8aDQgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+QWRkIE1lbWJlcnM8L2g0PgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIC1tdC0yIj5Pbmx5IHlvdXIgZm9sbG93ZXJzIGFuZCBmYW1pbHkgbWVtYmVycyB3aWxsIGFwcGVhciBpbiB0aGlzIGxpc3QuPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9ImgtNDggYm9yZGVyIHJvdW5kZWQtbWQiPgogICAgICAgICAgICB7aXNMb2FkaW5nID8gKAogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPkxvYWRpbmcgcG90ZW50aWFsIG1lbWJlcnMuLi48L2Rpdj4KICAgICAgICAgICAgKSA6IHBvdGVudGlhbE1lbWJlcnMubGVuZ3RoID4gMCA/ICgKICAgICAgICAgICAgICBwb3RlbnRpYWxNZW1iZXJzLm1hcCh1c2VyID0+ICgKICAgICAgICAgICAgICAgIDxMYWJlbCBrZXk9e3VzZXIuaWR9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcC0zIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLW11dGVkIj4KICAgICAgICAgICAgICAgICAgIDxDaGVja2JveAogICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZE1lbWJlcnMuaGFzKHVzZXIuaWQpfQogICAgICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWRDaGFuZ2U9eygpID0+IGhhbmRsZVNlbGVjdE1lbWJlcih1c2VyLmlkKX0KICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30KICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC04IHctOCI+CiAgICAgICAgICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17dXNlci5wcm9maWxlcGljdHVyZXVybCB8fCB1bmRlZmluZWR9IGFsdD17dXNlci5uYW1lfSAvPgogICAgICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjaz57dXNlci5uYW1lLmNoYXJBdCgwKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgICAgICA8L0F2YXRhcj4KICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LW1lZGl1bSI+e3VzZXIubmFtZX08L3NwYW4+CiAgICAgICAgICAgICAgICA8L0xhYmVsPgogICAgICAgICAgICAgICkpCiAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InAtNCB0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+WW91IGRvbid0IGhhdmUgYW55IGZvbGxvd2VycyBvciBmYW1pbHkgbWVtYmVycyB0byBhZGQgeWV0LjwvZGl2PgogICAgICAgICAgICApfQogICAgICAgICAgPC9TY3JvbGxBcmVhPgogICAgICAgIDwvZGl2PgogICAgICAgIDxEaWFsb2dGb290ZXI+CiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbihmYWxzZSl9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PkNhbmNlbDwvQnV0dG9uPgogICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDcmVhdGVHcm91cH0gZGlzYWJsZWQ9e2lzU3VibWl0dGluZyB8fCBpc0xvYWRpbmd9PgogICAgICAgICAgICB7aXNTdWJtaXR0aW5nICYmIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpbiIgLz59CiAgICAgICAgICAgIENyZWF0ZSBHcm91cAogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9EaWFsb2dGb290ZXI+CiAgICAgIDwvRGlhbG9nQ29udGVudD4KICAgIDwvRGlhbG9nPgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/create-group-dialog.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgdHlwZSB7IE5ld1Bvc3QsIFVzZXIsIE5ld1BvbGxEYXRhIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBhZGRQb3N0IH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IFBvc3RGb3JtIH0gZnJvbSAnQC9jb21wb25lbnRzL3Bvc3QtZm9ybSc7CmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uLCBBbGVydFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0JzsKaW1wb3J0IHsgVGVybWluYWwsIExvYWRlcjIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gIkAvaG9va3MvdXNlLXRvYXN0IjsKCmludGVyZmFjZSBQb3N0Q29tcG9zZXJQcm9wcyB7CiAgc2Vzc2lvblVzZXI6IFVzZXIgfCBudWxsOwogIG9uUG9zdFN1Y2Nlc3M6ICgpID0+IHZvaWQ7CiAgbWFuZGFsSWQ/OiBudW1iZXI7Cn0KCmNvbnN0IFBvc3RDb21wb3NlcjogRkM8UG9zdENvbXBvc2VyUHJvcHM+ID0gKHsgc2Vzc2lvblVzZXIsIG9uUG9zdFN1Y2Nlc3MsIG1hbmRhbElkIH0pID0+IHsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IFtsb2NhdGlvbiwgc2V0TG9jYXRpb25dID0gdXNlU3RhdGU8eyBsYXRpdHVkZTogbnVtYmVyOyBsb25naXR1ZGU6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2xvY2F0aW9uRXJyb3IsIHNldExvY2F0aW9uRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2xvYWRpbmdMb2NhdGlvbiwgc2V0TG9hZGluZ0xvY2F0aW9uXSA9IHVzZVN0YXRlKHRydWUpOwogIGNvbnN0IFtmb3JtU3VibWl0dGluZywgc2V0Rm9ybVN1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgc2V0TG9hZGluZ0xvY2F0aW9uKHRydWUpOwogICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikgewogICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKAogICAgICAgIChwb3NpdGlvbikgPT4gewogICAgICAgICAgc2V0TG9jYXRpb24oewogICAgICAgICAgICBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLAogICAgICAgICAgICBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsCiAgICAgICAgICB9KTsKICAgICAgICAgIHNldExvY2F0aW9uRXJyb3IobnVsbCk7CiAgICAgICAgICBzZXRMb2FkaW5nTG9jYXRpb24oZmFsc2UpOwogICAgICAgIH0sCiAgICAgICAgKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJHZW9sb2NhdGlvbiBlcnJvcjoiLCBlcnJvcik7CiAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYEVycm9yIGdldHRpbmcgbG9jYXRpb246ICR7ZXJyb3IubWVzc2FnZX0uIFBsZWFzZSBlbnN1cmUgbG9jYXRpb24gc2VydmljZXMgYXJlIGVuYWJsZWQuYDsKICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSBlcnJvci5QRVJNSVNTSU9OX0RFTklFRCAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdPbmx5IHNlY3VyZSBvcmlnaW5zIGFyZSBhbGxvd2VkJykpIHsKICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEVycm9yIGdldHRpbmcgbG9jYXRpb246IExvY2F0aW9uIGFjY2VzcyBpcyBvbmx5IGF2YWlsYWJsZSBvbiBzZWN1cmUgKEhUVFBTKSBjb25uZWN0aW9ucy4gRnVuY3Rpb25hbGl0eSBtaWdodCBiZSBsaW1pdGVkLiBFbmFibGUgSFRUUFMgZm9yIHlvdXIgc2l0ZS5gOwogICAgICAgICAgfQogICAgICAgICAgc2V0TG9jYXRpb25FcnJvcihlcnJvck1lc3NhZ2UpOwogICAgICAgICAgc2V0TG9hZGluZ0xvY2F0aW9uKGZhbHNlKTsKICAgICAgICB9LAogICAgICAgIHsgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLCB0aW1lb3V0OiAxMDAwMCwgbWF4aW11bUFnZTogMCB9CiAgICAgICk7CiAgICB9IGVsc2UgewogICAgICBzZXRMb2NhdGlvbkVycm9yKCJHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4iKTsKICAgICAgc2V0TG9hZGluZ0xvY2F0aW9uKGZhbHNlKTsKICAgIH0KICB9LCBbXSk7CgogIGNvbnN0IGhhbmRsZUFkZFBvc3QgPSBhc3luYyAoY29udGVudDogc3RyaW5nLCBoYXNodGFnczogc3RyaW5nW10sIGlzRmFtaWx5UG9zdDogYm9vbGVhbiwgaGlkZUxvY2F0aW9uOiBib29sZWFuLCBtZWRpYVVybHM/OiBzdHJpbmdbXSwgbWVkaWFUeXBlPzogJ2ltYWdlJyB8ICd2aWRlbycgfCAnZ2FsbGVyeScsIG1lbnRpb25lZFVzZXJJZHM/OiBudW1iZXJbXSwgcG9sbERhdGE/OiBOZXdQb2xsRGF0YSB8IG51bGwpID0+IHsKICAgIGlmICghbG9jYXRpb24gJiYgIWxvY2F0aW9uRXJyb3IpIHsKICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogIkxvY2F0aW9uIFVuYXZhaWxhYmxlIiwgZGVzY3JpcHRpb246ICJZb3VyIGxvY2F0aW9uIGlzIHN0aWxsIGJlaW5nIGRldGVybWluZWQuIFBsZWFzZSB3YWl0IGEgbW9tZW50IGFuZCB0cnkgYWdhaW4uIiB9KTsKICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBpZihsb2NhdGlvbkVycm9yKSB7CiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogIkxvY2F0aW9uIEVycm9yIiwgZGVzY3JpcHRpb246ICJDYW5ub3QgcG9zdCB3aXRob3V0IGEgdmFsaWQgbG9jYXRpb24uIiB9KTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgLy8gRm9yIG1hbmRhbCBwb3N0cywgbWVkaWEgaXMgcmVxdWlyZWQuIEZvciByZWd1bGFyIHBvc3RzLCBjb250ZW50IG9yIG1lZGlhIGlzIHJlcXVpcmVkLgogICAgaWYgKG1hbmRhbElkICYmICghbWVkaWFVcmxzIHx8IG1lZGlhVXJscy5sZW5ndGggPT09IDApKSB7CiAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAiTWVkaWEgUmVxdWlyZWQiLCBkZXNjcmlwdGlvbjogIlBsZWFzZSB1cGxvYWQgYXQgbGVhc3Qgb25lIHBob3RvIG9yIHZpZGVvIGZvciB5b3VyIE1hbmRhbC4iIH0pOwogICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghbWFuZGFsSWQgJiYgIWNvbnRlbnQudHJpbSgpICYmICghbWVkaWFVcmxzIHx8IG1lZGlhVXJscy5sZW5ndGggPT09IDApKSB7CiAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICJFbXB0eSBQb3N0IiwgZGVzY3JpcHRpb246ICJQbGVhc2Ugd3JpdGUgc29tZSBjb250ZW50IG9yIHVwbG9hZCBtZWRpYSB0byBjcmVhdGUgYSBwdWxzZS4iIH0pOwogICAgICByZXR1cm47CiAgICB9CgogICAgc2V0Rm9ybVN1Ym1pdHRpbmcodHJ1ZSk7CgogICAgdHJ5IHsKICAgICAgY29uc3QgcG9zdERhdGE6IE5ld1Bvc3QgPSB7CiAgICAgICAgY29udGVudDogY29udGVudCwKICAgICAgICBsYXRpdHVkZTogbG9jYXRpb24hLmxhdGl0dWRlLAogICAgICAgIGxvbmdpdHVkZTogbG9jYXRpb24hLmxvbmdpdHVkZSwKICAgICAgICBtZWRpYVVybHM6IG1lZGlhVXJscywKICAgICAgICBtZWRpYVR5cGU6IG1lZGlhVHlwZSwKICAgICAgICBoYXNodGFnczogaGFzaHRhZ3MgfHwgW10sCiAgICAgICAgaXNGYW1pbHlQb3N0OiBpc0ZhbWlseVBvc3QsCiAgICAgICAgaGlkZUxvY2F0aW9uOiBoaWRlTG9jYXRpb24sCiAgICAgICAgYXV0aG9ySWQ6IHNlc3Npb25Vc2VyID8gc2Vzc2lvblVzZXIuaWQgOiB1bmRlZmluZWQsCiAgICAgICAgbWVudGlvbmVkVXNlcklkczogbWVudGlvbmVkVXNlcklkcyB8fCBbXSwKICAgICAgICBwb2xsRGF0YTogcG9sbERhdGEsCiAgICAgICAgbWFuZGFsSWQ6IG1hbmRhbElkLCAvLyBQYXNzIHRoZSBtYW5kYWxJZAogICAgICB9OwogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZGRQb3N0KHBvc3REYXRhKTsKCiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gYWRkIHBvc3Q6IiwgcmVzdWx0LmVycm9yKTsKICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICJkZXN0cnVjdGl2ZSIsIHRpdGxlOiAiUG9zdCBGYWlsZWQiLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIH0pOwogICAgICB9IGVsc2UgaWYgKHJlc3VsdC5wb3N0KSB7CiAgICAgICAgdG9hc3QoeyB0aXRsZTogIlBvc3QgQWRkZWQhIiwgZGVzY3JpcHRpb246ICJZb3VyIHB1bHNlIGlzIG5vdyBsaXZlISBJdCB3aWxsIGFwcGVhciBpbiB0aGUgZmVlZCBzaG9ydGx5LiIsIHZhcmlhbnQ6ICJkZWZhdWx0IiwgY2xhc3NOYW1lOiAiYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCIgfSk7CiAgICAgICAgb25Qb3N0U3VjY2VzcygpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgYWRkaW5nIHBvc3Q6IiwgZXJyb3IubWVzc2FnZSk7CiAgICAgIHRvYXN0KHsgdmFyaWFudDogImRlc3RydWN0aXZlIiwgdGl0bGU6ICJBbiBFcnJvciBPY2N1cnJlZCIsIGRlc2NyaXB0aW9uOiAiQ291bGQgbm90IGFkZCBwb3N0IGR1ZSB0byBhIHNlcnZlciBlcnJvci4iIH0pOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0Rm9ybVN1Ym1pdHRpbmcoZmFsc2UpOwogICAgfQogIH07CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0icHQtNCI+CiAgICAgIHtsb2NhdGlvbkVycm9yICYmICgKICAgICAgICA8QWxlcnQgdmFyaWFudD0iZGVzdHJ1Y3RpdmUiIGNsYXNzTmFtZT0ibWItNCI+CiAgICAgICAgICA8VGVybWluYWwgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgICAgPEFsZXJ0VGl0bGU+TG9jYXRpb24gRXJyb3I8L0FsZXJ0VGl0bGU+CiAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAge2xvY2F0aW9uRXJyb3J9CiAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgPC9BbGVydD4KICAgICAgKX0KCiAgICAgIHtsb2FkaW5nTG9jYXRpb24gJiYgKAogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwLTQiPgogICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJ3LTQgaC00IG1yLTIgYW5pbWF0ZS1zcGluIiAvPgogICAgICAgICAgRGV0ZXJtaW5pbmcgeW91ciBsb2NhdGlvbi4uLgogICAgICAgIDwvZGl2PgogICAgICApfQogICAgICAKICAgICAgPFBvc3RGb3JtIG9uU3VibWl0PXtoYW5kbGVBZGRQb3N0fSBzdWJtaXR0aW5nPXtmb3JtU3VibWl0dGluZyB8fCBsb2FkaW5nTG9jYXRpb259IHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0gbWFuZGFsSWQ9e21hbmRhbElkfSAvPgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFBvc3RDb21wb3NlcjsK' | base64 -d > /root/localpulse/src/components/post-composer.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlRm9ybSwgdHlwZSBTdWJtaXRIYW5kbGVyIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJzsKaW1wb3J0IHsgem9kUmVzb2x2ZXIgfSBmcm9tICdAaG9va2Zvcm0vcmVzb2x2ZXJzL3pvZCc7CmltcG9ydCAqIGFzIHogZnJvbSAnem9kJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IHVwZGF0ZVVzZXJuYW1lIH0gZnJvbSAnQC9hcHAvYXV0aC9hY3Rpb25zJzsKCmltcG9ydCB7CiAgRGlhbG9nLAogIERpYWxvZ0NvbnRlbnQsCiAgRGlhbG9nRGVzY3JpcHRpb24sCiAgRGlhbG9nSGVhZGVyLAogIERpYWxvZ1RpdGxlLAogIERpYWxvZ1RyaWdnZXIsCiAgRGlhbG9nRm9vdGVyLAogIERpYWxvZ0Nsb3NlCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2RpYWxvZyc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7CmltcG9ydCB7IEZvcm0sIEZvcm1Db250cm9sLCBGb3JtRmllbGQsIEZvcm1JdGVtLCBGb3JtTGFiZWwsIEZvcm1NZXNzYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Zvcm0nOwppbXBvcnQgeyBMb2FkZXIyLCBTYXZlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKCmNvbnN0IHVzZXJuYW1lU2NoZW1hID0gei5vYmplY3QoewogIG5hbWU6IHouc3RyaW5nKCkubWluKDIsICdOYW1lIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzLicpLm1heCg1MCwgJ05hbWUgY2Fubm90IGV4Y2VlZCA1MCBjaGFyYWN0ZXJzLicpLAp9KTsKCnR5cGUgVXNlcm5hbWVGb3JtSW5wdXRzID0gei5pbmZlcjx0eXBlb2YgdXNlcm5hbWVTY2hlbWE+OwoKaW50ZXJmYWNlIFVzZXJuYW1lRWRpdG9yUHJvcHMgZXh0ZW5kcyBQcm9wc1dpdGhDaGlsZHJlbiB7CiAgY3VycmVudE5hbWU6IHN0cmluZzsKfQoKY29uc3QgVXNlcm5hbWVFZGl0b3I6IEZDPFVzZXJuYW1lRWRpdG9yUHJvcHM+ID0gKHsgY2hpbGRyZW4sIGN1cnJlbnROYW1lIH0pID0+IHsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgY29uc3QgZm9ybSA9IHVzZUZvcm08VXNlcm5hbWVGb3JtSW5wdXRzPih7CiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIodXNlcm5hbWVTY2hlbWEpLAogICAgZGVmYXVsdFZhbHVlczogewogICAgICBuYW1lOiBjdXJyZW50TmFtZSwKICAgIH0sCiAgfSk7CgogIGNvbnN0IG9uU3VibWl0OiBTdWJtaXRIYW5kbGVyPFVzZXJuYW1lRm9ybUlucHV0cz4gPSBhc3luYyAoZGF0YSkgPT4gewogICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpOwogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlVXNlcm5hbWUoZGF0YS5uYW1lKTsKCiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgdG9hc3QoewogICAgICAgIHRpdGxlOiAnVXNlcm5hbWUgVXBkYXRlZCEnLAogICAgICAgIGRlc2NyaXB0aW9uOiBgWW91ciBuYW1lIGhhcyBiZWVuIGNoYW5nZWQgdG8gJHtkYXRhLm5hbWV9LmAsCiAgICAgIH0pOwogICAgICBzZXRJc09wZW4oZmFsc2UpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIHVwZGF0ZSB1c2VybmFtZToiLCByZXN1bHQuZXJyb3IpOwogICAgICBmb3JtLnNldEVycm9yKCJuYW1lIiwgeyB0eXBlOiAibWFudWFsIiwgbWVzc2FnZTogcmVzdWx0LmVycm9yIHx8ICJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkLiIgfSk7CiAgICB9CiAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpOwogIH07CgogIHJldHVybiAoCiAgICA8RGlhbG9nIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRJc09wZW59PgogICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPntjaGlsZHJlbn08L0RpYWxvZ1RyaWdnZXI+CiAgICAgIDxEaWFsb2dDb250ZW50PgogICAgICAgIDxEaWFsb2dIZWFkZXI+CiAgICAgICAgICA8RGlhbG9nVGl0bGU+RWRpdCBZb3VyIE5hbWU8L0RpYWxvZ1RpdGxlPgogICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICBUaGlzIGlzIGhvdyB5b3UnbGwgYXBwZWFyIHRvIG90aGVyIHVzZXJzIG9uIExvY2FsUHVsc2UuCiAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgIDwvRGlhbG9nSGVhZGVyPgogICAgICAgIDxGb3JtIHsuLi5mb3JtfT4KICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtmb3JtLmhhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT0ic3BhY2UteS02Ij4KICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICBuYW1lPSJuYW1lIgogICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlVzZXJuYW1lPC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICA8SW5wdXQgey4uLmZpZWxkfSBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfSAvPgogICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgLz4KICAgICAgICAgICAgPERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgICAgICA8RGlhbG9nQ2xvc2UgYXNDaGlsZD4KICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0iYnV0dG9uIiB2YXJpYW50PSJvdXRsaW5lIj5DYW5jZWw8L0J1dHRvbj4KICAgICAgICAgICAgICA8L0RpYWxvZ0Nsb3NlPgogICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nIHx8ICFmb3JtLmZvcm1TdGF0ZS5pc0RpcnR5fT4KICAgICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IDogPFNhdmUgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+fQogICAgICAgICAgICAgICAgU2F2ZSBDaGFuZ2VzCiAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvRGlhbG9nRm9vdGVyPgogICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvRm9ybT4KICAgICAgPC9EaWFsb2dDb250ZW50PgogICAgPC9EaWFsb2c+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFVzZXJuYW1lRWRpdG9yOwo=' | base64 -d > /root/localpulse/src/components/username-editor.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VQYXRobmFtZSwgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IHsgSG9tZSwgRmlsbSwgTWVzc2FnZVNxdWFyZSwgVXNlciBhcyBVc2VySWNvbiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IFRhYnMsIFRhYnNMaXN0LCBUYWJzVHJpZ2dlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90YWJzJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IGdldFVucmVhZE1lc3NhZ2VDb3VudCB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCBTb3NCdXR0b24gZnJvbSAnLi9zb3MtYnV0dG9uJzsKCmNvbnN0IFVOUkVBRF9QT0xMX0lOVEVSVkFMID0gMTVfMDAwOwoKdHlwZSBQcm9wcyA9IHsgdXNlcj86IFVzZXIgfCBudWxsIH07CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdGlja3lOYXYoeyB1c2VyIH06IFByb3BzKSB7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpOwoKICAvLyBGaWd1cmUgb3V0IHRoZSBjdXJyZW50IHRhYiBieSB0aGUgcm91dGUuCiAgLy8gVGhpcyBub3cgY29ycmVjdGx5IGhpZ2hsaWdodHMgdGhlICdQcm9maWxlJyB0YWIgZm9yIGxvZ2luLCBzaWdudXAsIGFuZCBhY2NvdW50IHBhZ2VzLgogIGNvbnN0IGN1cnJlbnQgPQogICAgcGF0aG5hbWUuc3RhcnRzV2l0aCgnL3JlZWxzJykgPyAnL3JlZWxzJyA6CiAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvY2hhdCcpID8gJy9jaGF0JyA6CiAgICAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL3VzZXJzJykgfHwgcGF0aG5hbWUuc3RhcnRzV2l0aCgnL2xvZ2luJykgfHwgcGF0aG5hbWUuc3RhcnRzV2l0aCgnL3NpZ251cCcpIHx8IHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9mb3Jnb3QtcGFzc3dvcmQnKSB8fCBwYXRobmFtZS5zdGFydHNXaXRoKCcvYWNjb3VudCcpKSA/ICcvcHJvZmlsZScgOgogICAgJy8nOwoKICAvLyB1bnJlYWQgY2hhdCBpbmRpY2F0b3IKICBjb25zdCBbdW5yZWFkLCBzZXRVbnJlYWRdID0gdXNlU3RhdGU8bnVtYmVyPigwKTsKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKCF1c2VyKSByZXR1cm47IC8vIERvbid0IHBvbGwgZm9yIHVucmVhZCBtZXNzYWdlcyBpZiB1c2VyIGlzIG5vdCBsb2dnZWQgaW4uCiAgICBsZXQgYWN0aXZlID0gdHJ1ZTsKICAgIGNvbnN0IHRpY2sgPSBhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgbiA9IGF3YWl0IGdldFVucmVhZE1lc3NhZ2VDb3VudCgpOwogICAgICAgIGlmIChhY3RpdmUpIHNldFVucmVhZChuID8/IDApOwogICAgICB9IGNhdGNoIHt9CiAgICB9OwogICAgdGljaygpOwogICAgY29uc3QgdCA9IHNldEludGVydmFsKHRpY2ssIFVOUkVBRF9QT0xMX0lOVEVSVkFMKTsKICAgIHJldHVybiAoKSA9PiB7IGFjdGl2ZSA9IGZhbHNlOyBjbGVhckludGVydmFsKHQpOyB9OwogIH0sIFt1c2VyXSk7CgogIC8vIHJvdXRlcyBmb3IgdGFicwogIGNvbnN0IHByb2ZpbGVIcmVmID0gdXNlciA/IGAvdXNlcnMvJHt1c2VyLmlkfWAgOiAnL2xvZ2luJzsKICAKICBjb25zdCBhbGxUYWJzID0gWwogICAgeyB2YWx1ZTogJy8nLCAgICAgICBsYWJlbDogJ0hvbWUnLCAgIGljb246IEhvbWUsICAgICAgICAgIGhyZWY6ICcvJyB9LAogICAgeyB2YWx1ZTogJy9yZWVscycsICBsYWJlbDogJ1JlZWxzJywgIGljb246IEZpbG0sICAgICAgICAgIGhyZWY6ICcvcmVlbHMnIH0sCiAgICB7IHZhbHVlOiAnL2NoYXQnLCAgIGxhYmVsOiAnQ2hhdCcsICAgaWNvbjogTWVzc2FnZVNxdWFyZSwgaHJlZjogJy9jaGF0JyB9LAogICAgeyB2YWx1ZTogJy9wcm9maWxlJyxsYWJlbDogJ1Byb2ZpbGUnLGljb246IFVzZXJJY29uLCAgICAgIGhyZWY6IHByb2ZpbGVIcmVmIH0sCiAgXTsKCiAgY29uc3QgdGFicyA9IHVzZXIgPyBhbGxUYWJzIDogYWxsVGFicy5maWx0ZXIodCA9PiB0LnZhbHVlICE9PSAnL2NoYXQnKTsKCiAgcmV0dXJuICgKICAgIDxuYXYgY2xhc3NOYW1lPSJzdGlja3kgdG9wLVs1NnB4XSBzbTp0b3AtWzY0cHhdIHotNDAgYm9yZGVyLWIgYmctYmFja2dyb3VuZC84MCBiYWNrZHJvcC1ibHVyIHN1cHBvcnRzLVtiYWNrZHJvcC1maWx0ZXJdOmJnLWJhY2tncm91bmQvNjAiPgogICAgICA8ZGl2IGNsYXNzTmFtZT0ibXgtYXV0byB3LWZ1bGwgbWF4LXctc2NyZWVuLW1kIHB4LTMgcHktMiI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIj4KICAgICAgICAgIHsvKiBTZWdtZW50ZWQgLyBwaWxsIHRhYnMgKi99CiAgICAgICAgICA8VGFicyB2YWx1ZT17Y3VycmVudH0gb25WYWx1ZUNoYW5nZT17KHYpID0+IHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGFicy5maW5kKHQgPT4gdC52YWx1ZSA9PT0gdik/LmhyZWYgPz8gJy8nOwogICAgICAgICAgICByb3V0ZXIucHVzaCh0YXJnZXQpOwogICAgICAgICAgfX0+CiAgICAgICAgICAgIDxUYWJzTGlzdAogICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAgICAgICAndy1mdWxsIGgtMTIgcm91bmRlZC1mdWxsIGJnLW11dGVkIHAtMSB0ZXh0LW11dGVkLWZvcmVncm91bmQnLAogICAgICAgICAgICAgICAgJ2ZsZXgganVzdGlmeS1iZXR3ZWVuJwogICAgICAgICAgICAgICl9CiAgICAgICAgICAgID4KICAgICAgICAgICAgICB7dGFicy5tYXAodCA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBJY29uID0gdC5pY29uOwogICAgICAgICAgICAgICAgY29uc3QgaXNDaGF0ID0gdC52YWx1ZSA9PT0gJy9jaGF0JzsKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgIDxUYWJzVHJpZ2dlcgogICAgICAgICAgICAgICAgICAgIGtleT17dC52YWx1ZX0KICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dC52YWx1ZX0KICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICAgICAgICAgICAgICAgJ3JlbGF0aXZlIGZsZXgtMSBoLTEwIHJvdW5kZWQtZnVsbCBnYXAtMicsCiAgICAgICAgICAgICAgICAgICAgICAnZGF0YS1bc3RhdGU9YWN0aXZlXTpiZy1za3ktMTAwIGRhdGEtW3N0YXRlPWFjdGl2ZV06dGV4dC1za3ktNzAwIGRhdGEtW3N0YXRlPWFjdGl2ZV06c2hhZG93LWlubmVyJywKICAgICAgICAgICAgICAgICAgICAgICdkYXJrOmRhdGEtW3N0YXRlPWFjdGl2ZV06Ymctc2t5LTkwMC81MCBkYXJrOmRhdGEtW3N0YXRlPWFjdGl2ZV06dGV4dC1za3ktMjAwJwogICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgbWlkZGxlLWNsaWNrIC8gb3BlbiBpbiBuZXcgdGFiIHZpYSBMaW5rCiAgICAgICAgICAgICAgICAgICAgYXNDaGlsZAogICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj17dC5ocmVmfT4KICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT0iaC01IHctNSIgLz4KICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iaGlkZGVuIHNtOmlubGluZSI+e3QubGFiZWx9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAge2lzQ2hhdCAmJiB1bnJlYWQgPiAwICYmIHVzZXIgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImFic29sdXRlIC10b3AtMSByaWdodC0zIGlubGluZS1mbGV4IGgtMi41IHctMi41IHJvdW5kZWQtZnVsbCBiZy1yZWQtNTAwIiAvPgogICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgICAgICAgIDwvVGFic1RyaWdnZXI+CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0pfQogICAgICAgICAgICA8L1RhYnNMaXN0PgogICAgICAgICAgPC9UYWJzPgoKICAgICAgICAgIHsvKiBDZW50ZXIgZmxvYXRpbmcgU09TIGJ1dHRvbiAtIG5vdyBvbmx5IHNob3dzIGZvciBsb2dnZWQtaW4gdXNlcnMgKi99CiAgICAgICAgICB7dXNlciAmJiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIC10b3AtNCBsZWZ0LTEvMiAtdHJhbnNsYXRlLXgtMS8yIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icG9pbnRlci1ldmVudHMtYXV0byI+CiAgICAgICAgICAgICAgICA8U29zQnV0dG9uIC8+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L25hdj4KICApOwp9CgoK' | base64 -d > /root/localpulse/src/components/sticky-nav.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB7IFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBnZXRUb3BMcFBvaW50VXNlcnMgfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJGYWxsYmFjaywgQXZhdGFySW1hZ2UgfSBmcm9tICcuL3VpL2F2YXRhcic7CmltcG9ydCB7IEF3YXJkLCBNZWRhbCwgVHJvcGh5IH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICcuL3VpL3NrZWxldG9uJzsKaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gJy4vdWkvc2Nyb2xsLWFyZWEnOwoKYXN5bmMgZnVuY3Rpb24gVG9wUGVyZm9ybWVyc0NvbnRlbnQoKSB7CiAgY29uc3QgdXNlcnMgPSBhd2FpdCBnZXRUb3BMcFBvaW50VXNlcnMoKTsKCiAgaWYgKHVzZXJzLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuICgKICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwLTgiPgogICAgICAgIDxwPk5vIHBvaW50IGRhdGEgYXZhaWxhYmxlIHlldC48L3A+CiAgICAgIDwvZGl2PgogICAgKTsKICB9CgogIGNvbnN0IGdldFJhbmtJY29uID0gKGluZGV4OiBudW1iZXIpID0+IHsKICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgY2FzZSAwOgogICAgICAgIHJldHVybiA8VHJvcGh5IGNsYXNzTmFtZT0iaC01IHctNSB0ZXh0LXllbGxvdy01MDAiIC8+OwogICAgICBjYXNlIDE6CiAgICAgICAgcmV0dXJuIDxUcm9waHkgY2xhc3NOYW1lPSJoLTUgdy01IHRleHQtZ3JheS00MDAiIC8+OwogICAgICBjYXNlIDI6CiAgICAgICAgcmV0dXJuIDxUcm9waHkgY2xhc3NOYW1lPSJoLTUgdy01IHRleHQtYW1iZXItNzAwIiAvPjsKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gPE1lZGFsIGNsYXNzTmFtZT0iaC01IHctNSB0ZXh0LW11dGVkLWZvcmVncm91bmQiIC8+OwogICAgfQogIH07CgogIHJldHVybiAoCiAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9ImgtNzIiPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJvdmVyZmxvdy14LWF1dG8iPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIHByLTQgbWluLXctbWF4Ij4KICAgICAgICAgICAgICAgIHt1c2Vycy5tYXAoKHVzZXIsIGluZGV4KSA9PiAoCiAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL3VzZXJzLyR7dXNlci5pZH1gfSBrZXk9e3VzZXIuaWR9IGNsYXNzTmFtZT0iYmxvY2sgcC0zIHJvdW5kZWQtbGcgaG92ZXI6YmctbXV0ZWQgdHJhbnNpdGlvbi1jb2xvcnMiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHctOCB0ZXh0LWJhc2UgZm9udC1ib2xkIGZsZXgtc2hyaW5rLTAiPgogICAgICAgICAgICAgICAgICAgICAgICB7Z2V0UmFua0ljb24oaW5kZXgpfQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9InRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+e2luZGV4ICsgMX08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgdGV4dC1wcmltYXJ5IGZvbnQtYm9sZCB0ZXh0LXNtIGZsZXgtc2hyaW5rLTAgdy0xNiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxBd2FyZCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt1c2VyLmxwX3BvaW50c308L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtMTAgdy0xMCBib3JkZXItMiBib3JkZXItcHJpbWFyeS8yMCBmbGV4LXNocmluay0wIj4KICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17dXNlci5wcm9maWxlcGljdHVyZXVybCB8fCB1bmRlZmluZWR9IGFsdD17dXNlci5uYW1lfSAvPgogICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e3VzZXIubmFtZS5jaGFyQXQoMCl9PC9BdmF0YXJGYWxsYmFjaz4KICAgICAgICAgICAgICAgICAgICA8L0F2YXRhcj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIG1pbi13LTAiPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQgdHJ1bmNhdGUiPnt1c2VyLm5hbWV9PC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9TY3JvbGxBcmVhPgogICk7Cn0KCmNvbnN0IFRvcFBlcmZvcm1lcnNMaXN0U2tlbGV0b24gPSAoKSA9PiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS00Ij4KICAgICAgICB7Wy4uLkFycmF5KDUpXS5tYXAoKF8sIGkpID0+ICgKICAgICAgICAgICAgPGRpdiBrZXk9e2l9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgcC0zIj4KICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtNiB3LTgiIC8+CiAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTYgdy0xMiIgLz4KICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTAgdy0xMCByb3VuZGVkLWZ1bGwiIC8+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIHNwYWNlLXktMiI+CiAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC00IHctMy80IiAvPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICkpfQogICAgPC9kaXY+Cik7CgovLyBNYWluIGNvbXBvbmVudCB1c2luZyBTdXNwZW5zZQpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb3BQZXJmb3JtZXJzTGlzdCgpIHsKICByZXR1cm4gKAogICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8VG9wUGVyZm9ybWVyc0xpc3RTa2VsZXRvbiAvPn0+CiAgICAgIDxUb3BQZXJmb3JtZXJzQ29udGVudCAvPgogICAgPC9TdXNwZW5zZT4KICApOwp9CgovLyBFeHBvc2UgdGhlIHNrZWxldG9uIGFzIGEgc3RhdGljIHByb3BlcnR5ClRvcFBlcmZvcm1lcnNMaXN0LlNrZWxldG9uID0gVG9wUGVyZm9ybWVyc0xpc3RTa2VsZXRvbjsK' | base64 -d > /root/localpulse/src/components/top-performers-list.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IG5vdEZvdW5kIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHsgZ2V0VXNlcldpdGhGb2xsb3dJbmZvLCBnZXRQb3N0c0J5VXNlcklkIH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICdAL2FwcC9hdXRoL2FjdGlvbnMnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgeyBDYXJkLCBDYXJkSGVhZGVyLCBDYXJkQ29udGVudCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQnVpbGRpbmcsIFNoaWVsZENoZWNrLCBNYWlsLCBDYWxlbmRhciwgVXNlciBhcyBVc2VySWNvbiwgRWRpdCwgVXNlclBsdXMsIFVzZXJDaGVjayBhcyBVc2VyQ2hlY2tJY29uIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYmFkZ2UnOwppbXBvcnQgeyBQb3N0Q2FyZCB9IGZyb20gJ0AvY29tcG9uZW50cy9wb3N0LWNhcmQnOwppbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCBQcm9maWxlUGljdHVyZVVwZGF0ZXIgZnJvbSAnQC9jb21wb25lbnRzL3Byb2ZpbGUtcGljdHVyZS11cGRhdGVyJzsKaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dDb250ZW50LCBEaWFsb2dUcmlnZ2VyLCBEaWFsb2dIZWFkZXIsIERpYWxvZ1RpdGxlLCBEaWFsb2dEZXNjcmlwdGlvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9kaWFsb2cnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvZm9sbG93LWJ1dHRvbic7CgoKaW50ZXJmYWNlIFVzZXJQcm9maWxlUGFnZVByb3BzIHsKICBwYXJhbXM6IHsKICAgIHVzZXJJZDogc3RyaW5nOwogIH07Cn0KCmNvbnN0IFVzZXJQcm9maWxlUGFnZTogRkM8VXNlclByb2ZpbGVQYWdlUHJvcHM+ID0gYXN5bmMgKHsgcGFyYW1zIH0pID0+IHsKICBjb25zdCB1c2VySWQgPSBwYXJzZUludChwYXJhbXMudXNlcklkLCAxMCk7CiAgaWYgKGlzTmFOKHVzZXJJZCkpIHsKICAgIG5vdEZvdW5kKCk7CiAgfQoKICAvLyBGZXRjaCB1c2VyLCBwb3N0cywgYW5kIHNlc3Npb24gaW4gcGFyYWxsZWwKICBjb25zdCBbeyB1c2VyOiBwcm9maWxlVXNlciwgc3RhdHMsIGlzRm9sbG93aW5nIH0sIHVzZXJQb3N0cywgeyB1c2VyOiBzZXNzaW9uVXNlciB9XSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgIGdldFVzZXJXaXRoRm9sbG93SW5mbyh1c2VySWQpLAogICAgZ2V0UG9zdHNCeVVzZXJJZCh1c2VySWQpLAogICAgZ2V0U2Vzc2lvbigpCiAgXSk7CgogIGlmICghcHJvZmlsZVVzZXIgfHwgcHJvZmlsZVVzZXIuc3RhdHVzICE9PSAnYXBwcm92ZWQnKSB7CiAgICBub3RGb3VuZCgpOwogIH0KICAKICBjb25zdCBnZXRSb2xlSWNvbiA9IChyb2xlOiBVc2VyWydyb2xlJ10pID0+IHsKICAgIHN3aXRjaCAocm9sZSkgewogICAgICBjYXNlICdCdXNpbmVzcyc6IHJldHVybiA8QnVpbGRpbmcgY2xhc3NOYW1lPSJoLTggdy04IHRleHQtcHJpbWFyeSIgLz47CiAgICAgIGNhc2UgJ0dvcmFrc2hhayc6IHJldHVybiA8U2hpZWxkQ2hlY2sgY2xhc3NOYW1lPSJoLTggdy04IHRleHQtcHJpbWFyeSIgLz47CiAgICAgIGRlZmF1bHQ6IHJldHVybiA8VXNlckljb24gY2xhc3NOYW1lPSJoLTggdy04IHRleHQtcHJpbWFyeSIgLz47CiAgICB9CiAgfTsKCiAgY29uc3QgaXNPd25Qcm9maWxlID0gc2Vzc2lvblVzZXI/LmlkID09PSBwcm9maWxlVXNlci5pZDsKCiAgcmV0dXJuICgKICAgIDxtYWluIGNsYXNzTmFtZT0iZmxleCBtaW4taC1zY3JlZW4gZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtNCBzbTpwLTYgbWQ6cC04IGxnOnAtMTYgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1iYWNrZ3JvdW5kIHRvLW11dGVkLzMwIj4KICAgICAgPGRpdiBjbGFzc05hbWU9ImNvbnRhaW5lciBteC1hdXRvIG1heC13LTJ4bCBzcGFjZS15LTggcHktOCI+CiAgICAgICAgCiAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3cteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIvNjAgcm91bmRlZC14bCBiZy1jYXJkLzgwIGJhY2tkcm9wLWJsdXItc20iPgogICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGl0ZW1zLWNlbnRlciBzcGFjZS15LTQgbWQ6c3BhY2UteS0wIG1kOnNwYWNlLXgtNiBwLTYiPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUgZ3JvdXAiPgogICAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPSJoLTI0IHctMjQgYm9yZGVyLTQgYm9yZGVyLXByaW1hcnkvNjAgc2hhZG93LWxnIj4KICAgICAgICAgICAgICAgIDxBdmF0YXJJbWFnZSBzcmM9e3Byb2ZpbGVVc2VyLnByb2ZpbGVwaWN0dXJldXJsID8/IHVuZGVmaW5lZH0gYWx0PXtwcm9maWxlVXNlci5uYW1lfSAvPgogICAgICAgICAgICAgICAgPEF2YXRhckZhbGxiYWNrIGNsYXNzTmFtZT0iYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wcmltYXJ5LzIwIHRvLWFjY2VudC8yMCI+CiAgICAgICAgICAgICAgICAgIHtnZXRSb2xlSWNvbihwcm9maWxlVXNlci5yb2xlKX0KICAgICAgICAgICAgICAgIDwvQXZhdGFyRmFsbGJhY2s+CiAgICAgICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgICAgICAge2lzT3duUHJvZmlsZSAmJiAoCiAgICAgICAgICAgICAgICA8RGlhbG9nPgogICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIiBzaXplPSJpY29uIiBjbGFzc05hbWU9ImFic29sdXRlIGJvdHRvbS0wIHJpZ2h0LTAgaC04IHctOCByb3VuZGVkLWZ1bGwgYmctYmFja2dyb3VuZC84MCBiYWNrZHJvcC1ibHVyLXNtIGJvcmRlci0yIGJvcmRlci1wcmltYXJ5LzUwIHRleHQtcHJpbWFyeSBzaGFkb3ctbWQgaG92ZXI6YmctcHJpbWFyeS8xMCB0cmFuc2l0aW9uLWFsbCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAiIGFyaWEtbGFiZWw9IlVwZGF0ZSBQcm9maWxlIFBpY3R1cmUiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0IGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ1RyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGU+VXBkYXRlIFByb2ZpbGUgUGljdHVyZTwvRGlhbG9nVGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0IGEgbmV3IGltYWdlIHRvIHVzZSBhcyB5b3VyIGF2YXRhci4gUmVjb21tZW5kZWQgc2l6ZSBpcyAyMDB4MjAwIHBpeGVscy4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICA8UHJvZmlsZVBpY3R1cmVVcGRhdGVyIC8+CiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dDb250ZW50PgogICAgICAgICAgICAgICAgPC9EaWFsb2c+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIHNwYWNlLXktMiB0ZXh0LWNlbnRlciBtZDp0ZXh0LWxlZnQiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtZDpqdXN0aWZ5LXN0YXJ0IGdhcC00Ij4KICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC0zeGwgZm9udC1ib2xkIHRleHQtZm9yZWdyb3VuZCI+e3Byb2ZpbGVVc2VyLm5hbWV9PC9oMT4KICAgICAgICAgICAgICAgICAgIHshaXNPd25Qcm9maWxlICYmICgKICAgICAgICAgICAgICAgICAgICAgPEZvbGxvd0J1dHRvbiB0YXJnZXRVc2VySWQ9e3Byb2ZpbGVVc2VyLmlkfSBpbml0aWFsSXNGb2xsb3dpbmc9e2lzRm9sbG93aW5nfSAvPgogICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtZDpqdXN0aWZ5LXN0YXJ0IGdhcC02IHB0LTIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14bCBmb250LWJvbGQgdGV4dC1mb3JlZ3JvdW5kIj57dXNlclBvc3RzLmxlbmd0aH08L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+UG9zdHM8L3A+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14bCBmb250LWJvbGQgdGV4dC1mb3JlZ3JvdW5kIj57c3RhdHMuZm9sbG93ZXJDb3VudH08L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+Rm9sbG93ZXJzPC9wPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteGwgZm9udC1ib2xkIHRleHQtZm9yZWdyb3VuZCI+e3N0YXRzLmZvbGxvd2luZ0NvdW50fTwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5Gb2xsb3dpbmc8L3A+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIAogICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PXtwcm9maWxlVXNlci5yb2xlID09PSAnQnVzaW5lc3MnID8gJ3NlY29uZGFyeScgOiAnZGVmYXVsdCd9IGNsYXNzTmFtZT0iY2FwaXRhbGl6ZSI+CiAgICAgICAgICAgICAgICB7cHJvZmlsZVVzZXIucm9sZX0KICAgICAgICAgICAgICA8L0JhZGdlPgogICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgcHQtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtZDpqdXN0aWZ5LXN0YXJ0IGdhcC0yIj4KICAgICAgICAgICAgICAgIDxNYWlsIGNsYXNzTmFtZT0idy00IGgtNCIgLz4ge3Byb2ZpbGVVc2VyLmVtYWlsfQogICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtZDpqdXN0aWZ5LXN0YXJ0IGdhcC0xLjUiPgogICAgICAgICAgICAgICAgPENhbGVuZGFyIGNsYXNzTmFtZT0idy0zIGgtMyIvPiBKb2luZWQ6IHtuZXcgRGF0ZShwcm9maWxlVXNlci5jcmVhdGVkYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpfQogICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgIDwvQ2FyZD4KCiAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNiI+CiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9InRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgcGwtMSBib3JkZXItYi0yIGJvcmRlci1wcmltYXJ5LzMwIHBiLTIiPgogICAgICAgICAgICAgICAgUG9zdHMgYnkge3Byb2ZpbGVVc2VyLm5hbWV9CiAgICAgICAgICAgIDwvaDI+CiAgICAgICAgICAgIHt1c2VyUG9zdHMubGVuZ3RoID4gMCA/ICgKICAgICAgICAgICAgICAgIHVzZXJQb3N0cy5tYXAocG9zdCA9PiAoCiAgICAgICAgICAgICAgICAgICAgPFBvc3RDYXJkIAogICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3Bvc3QuaWR9IAogICAgICAgICAgICAgICAgICAgICAgICBwb3N0PXtwb3N0fSAKICAgICAgICAgICAgICAgICAgICAgICAgdXNlckxvY2F0aW9uPXtudWxsfSAvLyBDYW4ndCBnZXQgdmlld2luZyB1c2VyJ3MgbG9jYXRpb24gb24gc2VydmVyIGZvciBkaXN0YW5jZSBjYWxjCiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0gCiAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICkpCiAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9InRleHQtY2VudGVyIHB5LTEyIHJvdW5kZWQteGwgc2hhZG93LWxnIGJvcmRlciBib3JkZXItYm9yZGVyLzQwIGJnLWNhcmQvODAgYmFja2Ryb3AtYmx1ci1zbSI+CiAgICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbGcgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5UaGlzIHVzZXIgaGFzbid0IHB1bHNlZCBhbnl0aGluZyB5ZXQuPC9wPgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgICAgICl9CiAgICAgICAgPC9kaXY+CgogICAgICA8L2Rpdj4KICAgIDwvbWFpbj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgVXNlclByb2ZpbGVQYWdlOwo=' | base64 -d > /root/localpulse/src/components/user-profile-page.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IHJlcXVlc3RCdXNpbmVzc1ZlcmlmaWNhdGlvbiB9IGZyb20gJ0AvYXBwL3VzZXJzL1t1c2VySWRdL2FjdGlvbnMnOwppbXBvcnQgeyBMb2FkZXIyLCBCYWRnZUNoZWNrIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnLi91aS9jYXJkJzsKaW1wb3J0IHsgQWxlcnQsIEFsZXJ0VGl0bGUsIEFsZXJ0RGVzY3JpcHRpb24gfSBmcm9tICcuL3VpL2FsZXJ0JzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlcXVlc3RWZXJpZmljYXRpb25CdXR0b24oKSB7CiAgY29uc3QgW2lzUGVuZGluZywgc3RhcnRUcmFuc2l0aW9uXSA9IHVzZVRyYW5zaXRpb24oKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwoKICBjb25zdCBoYW5kbGVSZXF1ZXN0ID0gKCkgPT4gewogICAgc3RhcnRUcmFuc2l0aW9uKGFzeW5jICgpID0+IHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdEJ1c2luZXNzVmVyaWZpY2F0aW9uKCk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHRpdGxlOiAnVmVyaWZpY2F0aW9uIFJlcXVlc3RlZCEnLAogICAgICAgICAgZGVzY3JpcHRpb246ICdZb3VyIHJlcXVlc3QgaGFzIGJlZW4gc2VudCB0byB0aGUgYWRtaW5pc3RyYXRvcnMgZm9yIHJldmlldy4nLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgICAgICB0aXRsZTogJ1JlcXVlc3QgRmFpbGVkJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfHwgJ0NvdWxkIG5vdCBzdWJtaXQgeW91ciByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluLicsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIHJldHVybiAoCiAgICA8Q2FyZCBjbGFzc05hbWU9InNoYWRvdy14bCBib3JkZXItYWNjZW50LzMwIGJnLWFjY2VudC81Ij4KICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHRleHQtcHJpbWFyeSI+CiAgICAgICAgICAgIDxCYWRnZUNoZWNrIGNsYXNzTmFtZT0ibXItMiBoLTYgdy02IHRleHQtYWNjZW50IiAvPgogICAgICAgICAgICBHZXQgVmVyaWZpZWQKICAgICAgICA8L0NhcmRUaXRsZT4KICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICBCdWlsZCB0cnVzdCB3aXRoIHlvdXIgY3VzdG9tZXJzIGJ5IGdldHRpbmcgYSB2ZXJpZmllZCBiYWRnZSBvbiB5b3VyIHByb2ZpbGUuCiAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgPENhcmRDb250ZW50PgogICAgICAgIDxBbGVydD4KICAgICAgICAgICAgPEFsZXJ0VGl0bGU+SG93IGl0IFdvcmtzPC9BbGVydFRpdGxlPgogICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIE9uY2UgeW91IHJlcXVlc3QgdmVyaWZpY2F0aW9uLCBhbiBhZG1pbiB3aWxsIHJldmlldyB5b3VyIGJ1c2luZXNzIGRldGFpbHMuIFRoaXMgbWF5IGludm9sdmUgYSBwaHlzaWNhbCB2aXNpdCB0byB5b3VyIGxvY2F0aW9uLgogICAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgPC9BbGVydD4KICAgICAgICA8QnV0dG9uCiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXF1ZXN0fQogICAgICAgICAgZGlzYWJsZWQ9e2lzUGVuZGluZ30KICAgICAgICAgIGNsYXNzTmFtZT0idy1mdWxsIG10LTQiCiAgICAgICAgPgogICAgICAgICAge2lzUGVuZGluZyA/ICgKICAgICAgICAgICAgPD48TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IFN1Ym1pdHRpbmcgUmVxdWVzdC4uLjwvPgogICAgICAgICAgKSA6ICgKICAgICAgICAgICAgJ1JlcXVlc3QgVmVyaWZpY2F0aW9uIE5vdycKICAgICAgICAgICl9CiAgICAgICAgPC9CdXR0b24+CiAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICA8L0NhcmQ+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/request-verification-button.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVRyYW5zaXRpb24sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBTd2l0Y2ggfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc3dpdGNoJzsKaW1wb3J0IHsgdG9nZ2xlTG9jYXRpb25TaGFyaW5nIH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwoKaW50ZXJmYWNlIExvY2F0aW9uU2hhcmluZ1RvZ2dsZVByb3BzIHsKICB0YXJnZXRVc2VySWQ6IG51bWJlcjsKICBpbml0aWFsSXNTaGFyaW5nOiBib29sZWFuOwp9Cgpjb25zdCBMb2NhdGlvblNoYXJpbmdUb2dnbGU6IEZDPExvY2F0aW9uU2hhcmluZ1RvZ2dsZVByb3BzPiA9ICh7IHRhcmdldFVzZXJJZCwgaW5pdGlhbElzU2hhcmluZyB9KSA9PiB7CiAgY29uc3QgW2lzU2hhcmluZywgc2V0SXNTaGFyaW5nXSA9IHVzZVN0YXRlKGluaXRpYWxJc1NoYXJpbmcpOwogIGNvbnN0IFtpc1BlbmRpbmcsIHN0YXJ0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlVG9nZ2xlID0gKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHsKICAgIHN0YXJ0VHJhbnNpdGlvbihhc3luYyAoKSA9PiB7CiAgICAgIC8vIE9wdGltaXN0aWMgdXBkYXRlCiAgICAgIHNldElzU2hhcmluZyhjaGVja2VkKTsKICAgICAgCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRvZ2dsZUxvY2F0aW9uU2hhcmluZyh0YXJnZXRVc2VySWQsIGNoZWNrZWQpOwoKICAgICAgaWYgKCFyZXN1bHQuc3VjY2VzcykgewogICAgICAgIC8vIFJldmVydCBvbiBlcnJvcgogICAgICAgIHNldElzU2hhcmluZyghY2hlY2tlZCk7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB8fCAnQ291bGQgbm90IHVwZGF0ZSBsb2NhdGlvbiBzaGFyaW5nIHByZWZlcmVuY2UuJywKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAgdG9hc3QoewogICAgICAgICAgdGl0bGU6ICdQcmVmZXJlbmNlIFNhdmVkJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiBgTG9jYXRpb24gc2hhcmluZyBoYXMgYmVlbiAke2NoZWNrZWQgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfS5gLAogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9OwoKICByZXR1cm4gKAogICAgPFN3aXRjaAogICAgICBjaGVja2VkPXtpc1NoYXJpbmd9CiAgICAgIG9uQ2hlY2tlZENoYW5nZT17aGFuZGxlVG9nZ2xlfQogICAgICBkaXNhYmxlZD17aXNQZW5kaW5nfQogICAgICBhcmlhLWxhYmVsPSJUb2dnbGUgbG9jYXRpb24gc2hhcmluZyIKICAgIC8+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IExvY2F0aW9uU2hhcmluZ1RvZ2dsZTsK' | base64 -d > /root/localpulse/src/components/location-sharing-toggle.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHR5cGUgeyBQb3N0IH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwoKaW50ZXJmYWNlIFZpZGVvQ2FyZFByb3BzIHsKICBwb3N0OiBQb3N0Owp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBWaWRlb0NhcmQoeyBwb3N0IH06IFZpZGVvQ2FyZFByb3BzKSB7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudCB8IG51bGw+KG51bGwpOwogIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpOwogIGNvbnN0IFtpc1Zpc2libGUsIHNldElzVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW3Nob3VsZExvYWQsIHNldFNob3VsZExvYWRdID0gdXNlU3RhdGUoZmFsc2UpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoCiAgICAgIChlbnRyaWVzKSA9PiB7CiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4gewogICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHsKICAgICAgICAgICAgICAgIHNldElzVmlzaWJsZSh0cnVlKTsKICAgICAgICAgICAgICAgIHNldFNob3VsZExvYWQodHJ1ZSk7IC8vIExvYWQgdmlkZW8gc3JjIG9ubHkgd2hlbiB2aXNpYmxlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRJc1Zpc2libGUoZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHsgdGhyZXNob2xkOiAwLjUgfSAvLyA1MCUgdmlzaWJsZSA9IGNvbnNpZGVyZWQgaW4gdmlld3BvcnQKICAgICk7CgogICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7CiAgICAgIG9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyUmVmLmN1cnJlbnQpOwogICAgfQoKICAgIHJldHVybiAoKSA9PiB7CiAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMKICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoY29udGFpbmVyUmVmLmN1cnJlbnQpOwogICAgICB9CiAgICB9OwogIH0sIFtdKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7CiAgICAgIGlmIChpc1Zpc2libGUpIHsKICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnBsYXkoKS5jYXRjaCgoKSA9PiB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5wYXVzZSgpOwogICAgICB9CiAgICB9CiAgfSwgW2lzVmlzaWJsZV0pOwoKICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHsKICAgIHJvdXRlci5wdXNoKGAvcmVlbHM/aWQ9JHtwb3N0LmlkfWApOwogIH07CgogIHJldHVybiAoCiAgICA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBjbGFzc05hbWU9InJlbGF0aXZlIHctZnVsbCBoLWF1dG8gY3Vyc29yLXBvaW50ZXIiIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT4KICAgICAge3Nob3VsZExvYWQgPyAoCiAgICAgICAgPHZpZGVvCiAgICAgICAgICByZWY9e3ZpZGVvUmVmfQogICAgICAgICAgc3JjPXtwb3N0Lm1lZGlhdXJscz8uWzBdfQogICAgICAgICAgbXV0ZWQKICAgICAgICAgIGxvb3AKICAgICAgICAgIHBsYXlzSW5saW5lCiAgICAgICAgICBjbGFzc05hbWU9InctZnVsbCBoLWF1dG8gcm91bmRlZC1sZyIKICAgICAgICAvPgogICAgICApIDogKAogICAgICAgIDxpbWcKICAgICAgICAgIHNyYz17cG9zdC5tZWRpYXVybHM/LlswXT8ucmVwbGFjZSgnLm1wNCcsICcuanBnJykgfHwgJy9pbWFnZXMvcGxhY2Vob2xkZXIucG5nJ30KICAgICAgICAgIGFsdD0iVmlkZW8gdGh1bWJuYWlsIgogICAgICAgICAgY2xhc3NOYW1lPSJ3LWZ1bGwgaC1hdXRvIHJvdW5kZWQtbGcgYXNwZWN0LXZpZGVvIG9iamVjdC1jb3ZlciIKICAgICAgICAvPgogICAgICApfQogICAgPC9kaXY+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/video-card.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgeyB1c2VTdGF0ZSwgdHlwZSBDaGFuZ2VFdmVudCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7CmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uLCBBbGVydFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0JzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IExvYWRlcjIsIFVwbG9hZENsb3VkLCBYQ2lyY2xlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgdXBkYXRlVXNlclByb2ZpbGVQaWN0dXJlIH0gZnJvbSAnQC9hcHAvYXV0aC9hY3Rpb25zJzsKaW1wb3J0IHsgZ2V0U2lnbmVkVXBsb2FkVXJsIH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IFByb2dyZXNzIH0gZnJvbSAnLi91aS9wcm9ncmVzcyc7CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcm9maWxlUGljdHVyZVVwZGF0ZXIoKSB7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBbcHJldmlldywgc2V0UHJldmlld10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTsKICBjb25zdCBbZmlsZSwgc2V0RmlsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTsKICBjb25zdCBbaXNVcGxvYWRpbmcsIHNldElzVXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlOiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gewogICAgY29uc3Qgc2VsZWN0ZWRGaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTsKICAgIHNldEVycm9yKG51bGwpOwogICAgc2V0UHJldmlldyhudWxsKTsKICAgIHNldEZpbGUobnVsbCk7CgogICAgaWYgKCFzZWxlY3RlZEZpbGUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghc2VsZWN0ZWRGaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHsKICAgICAgc2V0RXJyb3IoJ1BsZWFzZSBzZWxlY3QgYSB2YWxpZCBpbWFnZSBmaWxlIChQTkcsIEpQRywgZXRjLikuJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgaWYgKHNlbGVjdGVkRmlsZS5zaXplID4gMTAgKiAxMDI0ICogMTAyNCkgeyAvLyAxME1CIGxpbWl0CiAgICAgIHNldEVycm9yKCdJbWFnZSBpcyB0b28gbGFyZ2UuIE1heCBzaXplIGlzIDEwTUIuJyk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBzZXRGaWxlKHNlbGVjdGVkRmlsZSk7CiAgICBzZXRQcmV2aWV3KFVSTC5jcmVhdGVPYmplY3RVUkwoc2VsZWN0ZWRGaWxlKSk7CiAgfTsKCiAgLy8gUmV2b2tlIG9iamVjdCBVUkwgd2hlbiB0aGUgY29tcG9uZW50IHVubW91bnRzIG9yIHRoZSBwcmV2aWV3IGNoYW5nZXMKICB1c2VFZmZlY3QoKCkgPT4gewogICAgcmV0dXJuICgpID0+IHsKICAgICAgaWYgKHByZXZpZXcpIHsKICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHByZXZpZXcpOwogICAgICB9CiAgICB9OwogIH0sIFtwcmV2aWV3XSk7CgogIGNvbnN0IGhhbmRsZVJlbW92ZUltYWdlID0gKCkgPT4gewogICAgaWYgKHByZXZpZXcpIHsKICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChwcmV2aWV3KTsKICAgIH0KICAgIHNldFByZXZpZXcobnVsbCk7CiAgICBzZXRGaWxlKG51bGwpOwogICAgaWYgKChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZS1waWN0dXJlLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudCkpIHsKICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlLXBpY3R1cmUtaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9ICcnOwogICAgfQogIH07CgogIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50PikgPT4gewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgaWYgKCFmaWxlKSB7CiAgICAgIHNldEVycm9yKCdQbGVhc2Ugc2VsZWN0IGFuIGltYWdlIHRvIHVwbG9hZC4nKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHNldElzVXBsb2FkaW5nKHRydWUpOwogICAgc2V0RXJyb3IobnVsbCk7CgogICAgdHJ5IHsKICAgICAgLy8gMS4gR2V0IHNpZ25lZCBVUkwgZnJvbSBzZXJ2ZXIKICAgICAgY29uc3Qgc2lnbmVkVXJsUmVzdWx0ID0gYXdhaXQgZ2V0U2lnbmVkVXBsb2FkVXJsKGZpbGUubmFtZSwgZmlsZS50eXBlKTsKICAgICAgaWYgKCFzaWduZWRVcmxSZXN1bHQuc3VjY2VzcyB8fCAhc2lnbmVkVXJsUmVzdWx0LnVwbG9hZFVybCB8fCAhc2lnbmVkVXJsUmVzdWx0LnB1YmxpY1VybCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihzaWduZWRVcmxSZXN1bHQuZXJyb3IgfHwgJ0NvdWxkIG5vdCBwcmVwYXJlIGZpbGUgZm9yIHVwbG9hZC4nKTsKICAgICAgfQoKICAgICAgLy8gMi4gVXBsb2FkIGZpbGUgZGlyZWN0bHkgdG8gR0NTCiAgICAgIGNvbnN0IHVwbG9hZFJlc3VsdCA9IGF3YWl0IGZldGNoKHNpZ25lZFVybFJlc3VsdC51cGxvYWRVcmwsIHsKICAgICAgICBtZXRob2Q6ICdQVVQnLAogICAgICAgIGJvZHk6IGZpbGUsCiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogZmlsZS50eXBlIH0sCiAgICAgIH0pOwoKICAgICAgaWYgKCF1cGxvYWRSZXN1bHQub2spIHsKICAgICAgICBjb25zdCBlcnJvckJvZHkgPSBhd2FpdCB1cGxvYWRSZXN1bHQudGV4dCgpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoIkdDUyBVcGxvYWQgRXJyb3I6IiwgeyBzdGF0dXM6IHVwbG9hZFJlc3VsdC5zdGF0dXMsIGJvZHk6IGVycm9yQm9keSB9KTsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVwbG9hZCB0byBjbG91ZCBzdG9yYWdlIGZhaWxlZC4gUGxlYXNlIGNoZWNrIGJyb3dzZXIgY29uc29sZSBmb3IgZGV0YWlscy5gKTsKICAgICAgfQoKICAgICAgLy8gMy4gVXBkYXRlIHRoZSB1c2VyIHByb2ZpbGUgd2l0aCB0aGUgbmV3IHB1YmxpYyBVUkwKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlVXNlclByb2ZpbGVQaWN0dXJlKHNpZ25lZFVybFJlc3VsdC5wdWJsaWNVcmwpOwoKICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgdGl0bGU6ICdTdWNjZXNzIScsCiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgcHJvZmlsZSBwaWN0dXJlIGhhcyBiZWVuIHVwZGF0ZWQuJywKICAgICAgICB9KTsKICAgICAgICByb3V0ZXIucmVmcmVzaCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2F2aW5nIHRoZSBwaWN0dXJlIFVSTC4nKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyOiBhbnkpIHsKICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgc2VydmVyIGVycm9yIG9jY3VycmVkLicpOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0SXNVcGxvYWRpbmcoZmFsc2UpOwogICAgfQogIH07CiAgCiAgY29uc3QgaXNQcm9jZXNzaW5nID0gaXNVcGxvYWRpbmc7CiAgbGV0IGJ1dHRvblRleHQgPSAnU2F2ZSBDaGFuZ2VzJzsKICBpZiAoaXNVcGxvYWRpbmcpIGJ1dHRvblRleHQgPSAnVXBsb2FkaW5nLi4uJzsKCiAgcmV0dXJuICgKICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT0ic3BhY2UteS02Ij4KICAgICAge2Vycm9yICYmICgKICAgICAgICA8QWxlcnQgdmFyaWFudD0iZGVzdHJ1Y3RpdmUiPgogICAgICAgICAgPEFsZXJ0VGl0bGU+VXBsb2FkIEVycm9yPC9BbGVydFRpdGxlPgogICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+e2Vycm9yfTwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICA8L0FsZXJ0PgogICAgICApfQoKICAgICAgPGRpdj4KICAgICAgICA8bGFiZWwKICAgICAgICAgIGh0bWxGb3I9InByb2ZpbGUtcGljdHVyZS1pbnB1dCIKICAgICAgICAgIGNsYXNzTmFtZT0iYmxvY2sgdy1mdWxsIGN1cnNvci1wb2ludGVyIHAtNiBib3JkZXItMiBib3JkZXItZGFzaGVkIHJvdW5kZWQtbGcgdGV4dC1jZW50ZXIgaG92ZXI6Ym9yZGVyLXByaW1hcnkgaG92ZXI6YmctbXV0ZWQiCiAgICAgICAgPgogICAgICAgICAge3ByZXZpZXcgPyAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSBncm91cCB3LTMyIGgtMzIgbXgtYXV0byI+CiAgICAgICAgICAgICAgPEltYWdlCiAgICAgICAgICAgICAgICBzcmM9e3ByZXZpZXd9CiAgICAgICAgICAgICAgICBhbHQ9IlByb2ZpbGUgcHJldmlldyIKICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0icm91bmRlZC1mdWxsIG9iamVjdC1jb3ZlciIKICAgICAgICAgICAgICAgIGZpbGwKICAgICAgICAgICAgICAgIHNpemVzPSIxMjhweCIKICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgIDxidXR0b24KICAgICAgICAgICAgICAgIHR5cGU9ImJ1dHRvbiIKICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0iYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay81MCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSIKICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhldikgPT4geyBldi5wcmV2ZW50RGVmYXVsdCgpOyBoYW5kbGVSZW1vdmVJbWFnZSgpOyB9fQogICAgICAgICAgICAgICAgYXJpYS1sYWJlbD0iUmVtb3ZlIGltYWdlIgogICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgIDxYQ2lyY2xlIGNsYXNzTmFtZT0iaC04IHctOCB0ZXh0LXdoaXRlIiAvPgogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICkgOiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBzcGFjZS15LTIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAgICA8VXBsb2FkQ2xvdWQgY2xhc3NOYW1lPSJoLTEwIHctMTAiIC8+CiAgICAgICAgICAgICAgPHNwYW4+Q2xpY2sgdG8gdXBsb2FkIG9yIGRyYWcgJiBkcm9wPC9zcGFuPgogICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0idGV4dC14cyI+UE5HIG9yIEpQRywgdXAgdG8gMTBNQjwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgIDwvbGFiZWw+CiAgICAgICAgPElucHV0CiAgICAgICAgICBpZD0icHJvZmlsZS1waWN0dXJlLWlucHV0IgogICAgICAgICAgdHlwZT0iZmlsZSIKICAgICAgICAgIGFjY2VwdD0iaW1hZ2UvcG5nLGltYWdlL2pwZWciCiAgICAgICAgICBjbGFzc05hbWU9ImhpZGRlbiIKICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlQ2hhbmdlfQogICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZ30KICAgICAgICAvPgogICAgICA8L2Rpdj4KCiAgICAgIHtpc1VwbG9hZGluZyAmJiA8UHJvZ3Jlc3MgdmFsdWU9ezEwMH0gY2xhc3NOYW1lPSJ3LWZ1bGwgaC0yIGFuaW1hdGUtcHVsc2UiIC8+fQoKICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIGRpc2FibGVkPXshZmlsZSB8fCBpc1Byb2Nlc3Npbmd9IGNsYXNzTmFtZT0idy1mdWxsIj4KICAgICAgICB7aXNQcm9jZXNzaW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiA6IG51bGx9CiAgICAgICAge2J1dHRvblRleHR9CiAgICAgIDwvQnV0dG9uPgogICAgPC9mb3JtPgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/profile-picture-updater.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBkeW5hbWljIGZyb20gJ25leHQvZHluYW1pYyc7CmltcG9ydCB0eXBlIHsgVXNlciwgUG9zdCB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgUG9zdEZlZWRTa2VsZXRvbiB9IGZyb20gJy4vcG9zdC1mZWVkLXNrZWxldG9uJzsKCmNvbnN0IFBvc3RGZWVkQ2xpZW50ID0gZHluYW1pYygoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9wb3N0LWZlZWQtY2xpZW50JyksIHsKICBzc3I6IGZhbHNlLAogIGxvYWRpbmc6ICgpID0+IDxQb3N0RmVlZFNrZWxldG9uIC8+LAp9KTsKCmludGVyZmFjZSBQb3N0RmVlZExvYWRlclByb3BzIHsKICBzZXNzaW9uVXNlcjogVXNlciB8IG51bGw7CiAgaW5pdGlhbFBvc3RzOiBQb3N0W107Cn0KCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBvc3RGZWVkTG9hZGVyKHsgc2Vzc2lvblVzZXIsIGluaXRpYWxQb3N0cyB9OiBQb3N0RmVlZExvYWRlclByb3BzKSB7CiAgcmV0dXJuIDxQb3N0RmVlZENsaWVudCBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9IGluaXRpYWxQb3N0cz17aW5pdGlhbFBvc3RzfSAvPjsKfQo=' | base64 -d > /root/localpulse/src/components/post-feed-loader.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi91aS9idXR0b24nOwppbXBvcnQgeyBTaGFyZTIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciB9IGZyb20gJy4vdWkvY2FyZCc7CgppbnRlcmZhY2UgUmVmZXJyYWxTaGFyZXJQcm9wcyB7CiAgICBjb2RlOiBzdHJpbmc7Cn0KCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlZmVycmFsU2hhcmVyKHsgY29kZSB9OiBSZWZlcnJhbFNoYXJlclByb3BzKSB7CiAgICBjb25zdCBbb3JpZ2luLCBzZXRPcmlnaW5dID0gdXNlU3RhdGUoJycpOwogICAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIC8vIFRoaXMgZW5zdXJlcyB3aW5kb3cgaXMgZGVmaW5lZCwgYXMgaXQgb25seSBydW5zIG9uIHRoZSBjbGllbnQKICAgICAgICBzZXRPcmlnaW4od2luZG93LmxvY2F0aW9uLm9yaWdpbik7CiAgICB9LCBbXSk7CgogICAgY29uc3QgaGFuZGxlU2hhcmUgPSBhc3luYyAoKSA9PiB7CiAgICAgICAgaWYgKCFvcmlnaW4pIHJldHVybjsKCiAgICAgICAgY29uc3QgcmVmZXJyYWxMaW5rID0gYCR7b3JpZ2lufS9zaWdudXA/cmVmPSR7Y29kZX1gOwogICAgICAgIGNvbnN0IHNoYXJlVGV4dCA9IGBKb2luIG1lIG9uIExvY2FsUHVsc2UgYW5kIGdldCAyMCBib251cyBMUCBQb2ludHMhIFVzZSBteSByZWZlcnJhbCBjb2RlIG9yIGNsaWNrIHRoZSBsaW5rIHRvIHNpZ24gdXA6ICR7cmVmZXJyYWxMaW5rfWA7CiAgICAgICAgY29uc3Qgc2hhcmVEYXRhID0gewogICAgICAgICAgICB0aXRsZTogJ0pvaW4gTG9jYWxQdWxzZSEnLAogICAgICAgICAgICB0ZXh0OiBzaGFyZVRleHQsCiAgICAgICAgICAgIHVybDogcmVmZXJyYWxMaW5rLAogICAgICAgIH07CgogICAgICAgIGlmIChuYXZpZ2F0b3Iuc2hhcmUpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGF3YWl0IG5hdmlnYXRvci5zaGFyZShzaGFyZURhdGEpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NoYXJlIGNhbmNlbGVkIG9yIGZhaWxlZDonLCBlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBGYWxsYmFjayBmb3IgZGVza3RvcCBvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIFdlYiBTaGFyZSBBUEkKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHJlZmVycmFsTGluayk7CiAgICAgICAgICAgICAgICB0b2FzdCh7IHRpdGxlOiAnUmVmZXJyYWwgTGluayBDb3BpZWQhJywgZGVzY3JpcHRpb246ICdUaGUgbGluayBoYXMgYmVlbiBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQuJyB9KTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gY29weSBsaW5rOiIsIGVycik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiAoCiAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3cteGwgYm9yZGVyLWJvcmRlci82MCByb3VuZGVkLXhsIGJnLWdyYWRpZW50LXRvLXRyIGZyb20tYWNjZW50LzEwIHRvLXByaW1hcnkvMTAiPgogICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9InAtNCBwYi0yIj4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeSI+R3JvdyBZb3VyIENvbW11bml0eSAmIEVhcm4gUmV3YXJkcyE8L3A+CiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0icC00IHB0LTAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMyBwLTMgcm91bmRlZC1sZyBiZy1iYWNrZ3JvdW5kLzcwIGJvcmRlciBib3JkZXItcHJpbWFyeS8xMCBzaGFkb3ctaW5uZXIiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LTEgdGV4dC1jZW50ZXIgc206dGV4dC1sZWZ0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+U2hhcmUgeW91ciBjb2RlIGFuZCBlYXJuIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtYWNjZW50Ij41MCBMUCBQb2ludHM8L3NwYW4+ISBOZXcgdXNlcnMgZ2V0IDxzcGFuIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtYWNjZW50Ij4yMCBMUCBQb2ludHM8L3NwYW4+LjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LWxnIGZvbnQtYm9sZCB0cmFja2luZy13aWRlciB0ZXh0LWZvcmVncm91bmQgbXQtMSI+WW91ciBDb2RlOiB7Y29kZX08L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTaGFyZX0gY2xhc3NOYW1lPSJ3LWZ1bGwgc206dy1hdXRvIGJnLXByaW1hcnkgaG92ZXI6YmctcHJpbWFyeS85MCB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxTaGFyZTIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIFNoYXJlIFJlZmVycmFsCiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICA8L0NhcmQ+CiAgICApOwp9Cg==' | base64 -d > /root/localpulse/src/components/referral-sharer.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7CmltcG9ydCB7IFNlYXJjaCwgVXNlclBsdXMsIExvYWRlcjIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBzZWFyY2hVc2VycyB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEF2YXRhckltYWdlIH0gZnJvbSAnLi91aS9hdmF0YXInOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL3VpL2J1dHRvbic7CmltcG9ydCBGYW1pbHlBY3Rpb25CdXR0b24gZnJvbSAnLi9mYW1pbHktYWN0aW9uLWJ1dHRvbic7CgppbnRlcmZhY2UgQWRkRmFtaWx5TWVtYmVyU2VhcmNoUHJvcHMgewogIHNlc3Npb25Vc2VyOiBVc2VyOwp9Cgpjb25zdCBBZGRGYW1pbHlNZW1iZXJTZWFyY2g6IFJlYWN0LkZDPEFkZEZhbWlseU1lbWJlclNlYXJjaFByb3BzPiA9ICh7IHNlc3Npb25Vc2VyIH0pID0+IHsKICBjb25zdCBbcXVlcnksIHNldFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTsKICBjb25zdCBbcmVzdWx0cywgc2V0UmVzdWx0c10gPSB1c2VTdGF0ZTxVc2VyW10+KFtdKTsKICBjb25zdCBbaXNTZWFyY2hpbmcsIHNldElzU2VhcmNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGlmIChxdWVyeS50cmltKCkubGVuZ3RoIDwgMikgewogICAgICBzZXRSZXN1bHRzKFtdKTsKICAgICAgc2V0SXNTZWFyY2hpbmcoZmFsc2UpOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgaGFuZGxlciA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICBzZXRJc1NlYXJjaGluZyh0cnVlKTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IHNlYXJjaFVzZXJzKHF1ZXJ5LCBzZXNzaW9uVXNlci5pZCk7CiAgICAgICAgc2V0UmVzdWx0cyh1c2Vycyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlYXJjaCBmb3IgdXNlcnM6JywgZXJyb3IpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHNldElzU2VhcmNoaW5nKGZhbHNlKTsKICAgICAgfQogICAgfSwgMzAwKTsKCiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KGhhbmRsZXIpOwogIH0sIFtxdWVyeSwgc2Vzc2lvblVzZXIuaWRdKTsKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICA8ZGl2PgogICAgICAgIDxoMyBjbGFzc05hbWU9InRleHQtYmFzZSBmb250LXNlbWlib2xkIj5BZGQgTmV3IEZhbWlseSBNZW1iZXI8L2gzPgogICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlNlYXJjaCBmb3IgdXNlcnMgYnkgbmFtZSB0byBzZW5kIGEgZmFtaWx5IHJlcXVlc3QuPC9wPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIj4KICAgICAgICA8U2VhcmNoIGNsYXNzTmFtZT0iYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBoLTQgdy00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCIgLz4KICAgICAgICA8SW5wdXQKICAgICAgICAgIHBsYWNlaG9sZGVyPSJTZWFyY2ggYnkgbmFtZS4uLiIKICAgICAgICAgIGNsYXNzTmFtZT0icGwtOSIKICAgICAgICAgIHZhbHVlPXtxdWVyeX0KICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UXVlcnkoZS50YXJnZXQudmFsdWUpfQogICAgICAgIC8+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIG1heC1oLTQ4IG92ZXJmbG93LXktYXV0byBjdXN0b20tc2Nyb2xsYmFyIHByLTIiPgogICAgICAgIHtpc1NlYXJjaGluZyAmJiAoCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpbiIgLz4KICAgICAgICAgICAgU2VhcmNoaW5nLi4uCiAgICAgICAgICA8L2Rpdj4KICAgICAgICApfQogICAgICAgIHshaXNTZWFyY2hpbmcgJiYgcmVzdWx0cy5tYXAoKHVzZXIpID0+ICgKICAgICAgICAgIDxkaXYga2V5PXt1c2VyLmlkfSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTIgcm91bmRlZC1sZyBiZy1tdXRlZC81MCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyI+CiAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtOSB3LTkiPgogICAgICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17dXNlci5wcm9maWxlcGljdHVyZXVybCB8fCB1bmRlZmluZWR9IGFsdD17dXNlci5uYW1lfSAvPgogICAgICAgICAgICAgICAgPEF2YXRhckZhbGxiYWNrPnt1c2VyLm5hbWUuY2hhckF0KDApfTwvQXZhdGFyRmFsbGJhY2s+CiAgICAgICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LW1lZGl1bSB0ZXh0LXNtIj57dXNlci5uYW1lfTwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxGYW1pbHlBY3Rpb25CdXR0b24KICAgICAgICAgICAgICBpbml0aWFsU3RhdHVzPSJub25lIgogICAgICAgICAgICAgIHRhcmdldFVzZXJJZD17dXNlci5pZH0KICAgICAgICAgICAgLz4KICAgICAgICAgIDwvZGl2PgogICAgICAgICkpfQogICAgICAgIHshaXNTZWFyY2hpbmcgJiYgcXVlcnkudHJpbSgpLmxlbmd0aCA+PSAyICYmIHJlc3VsdHMubGVuZ3RoID09PSAwICYmICgKICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwLTQiPk5vIHVzZXJzIGZvdW5kIG1hdGNoaW5nIHlvdXIgc2VhcmNoLjwvcD4KICAgICAgICApfQogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBZGRGYW1pbHlNZW1iZXJTZWFyY2g7Cg==' | base64 -d > /root/localpulse/src/components/add-family-member-search.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHRvQmxvYiB9IGZyb20gJ2h0bWwtdG8taW1hZ2UnOwppbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4vdWkvYnV0dG9uJzsKaW1wb3J0IHsgRG93bmxvYWQsIExvYWRlcjIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gJy4vdWkvYXZhdGFyJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IGdldFNpZ25lZFVwbG9hZFVybCB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwoKaW50ZXJmYWNlIEJhanJhbmdEYWxJZENhcmRQcm9wcyB7CiAgdXNlcjogVXNlcjsKfQoKY29uc3QgQmFqcmFuZ0RhbElkQ2FyZDogRkM8QmFqcmFuZ0RhbElkQ2FyZFByb3BzPiA9ICh7IHVzZXIgfSkgPT4gewogIGNvbnN0IGNhcmRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOwogIGNvbnN0IFtpc0Rvd25sb2FkaW5nLCBzZXRJc0Rvd25sb2FkaW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwoKICBjb25zdCBvbkRvd25sb2FkID0gUmVhY3QudXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4gewogICAgaWYgKGNhcmRSZWYuY3VycmVudCA9PT0gbnVsbCkgewogICAgICB0b2FzdCh7CiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICBkZXNjcmlwdGlvbjogJ0NvdWxkIG5vdCBmaW5kIHRoZSBjYXJkIGVsZW1lbnQgdG8gZG93bmxvYWQuJywKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgc2V0SXNEb3dubG9hZGluZyh0cnVlKTsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gMS4gR2VuZXJhdGUgdGhlIGltYWdlIGFzIGEgQmxvYiBkaXJlY3RseSBpbiB0aGUgYnJvd3Nlci4KICAgICAgY29uc3QgaW1hZ2VCbG9iID0gYXdhaXQgdG9CbG9iKGNhcmRSZWYuY3VycmVudCwgewogICAgICAgIGNhY2hlQnVzdDogdHJ1ZSwKICAgICAgICBxdWFsaXR5OiAwLjk4LAogICAgICAgIHBpeGVsUmF0aW86IDIuNSwKICAgICAgfSk7CgogICAgICBpZiAoIWltYWdlQmxvYikgewogICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIElEIGNhcmQgaW1hZ2UgYmxvYi4nKTsKICAgICAgfQoKICAgICAgLy8gMi4gR2V0IGEgcHJlLXNpZ25lZCBVUkwgZnJvbSBvdXIgc2VydmVyIHRvIHVwbG9hZCB0aGUgZmlsZSB0byBHQ1MuCiAgICAgIC8vIFRoaXMgaXMgYSBzbWFsbCByZXF1ZXN0IGFuZCB3b24ndCBleGNlZWQgdGhlIDFNQiBsaW1pdC4KICAgICAgY29uc3QgZmlsZU5hbWUgPSBgaWQtY2FyZC0ke3VzZXIuaWR9LSR7RGF0ZS5ub3coKX0ucG5nYDsKICAgICAgY29uc3Qgc2lnbmVkVXJsUmVzdWx0ID0gYXdhaXQgZ2V0U2lnbmVkVXBsb2FkVXJsKGZpbGVOYW1lLCBpbWFnZUJsb2IudHlwZSk7CgogICAgICBpZiAoIXNpZ25lZFVybFJlc3VsdC5zdWNjZXNzIHx8ICFzaWduZWRVcmxSZXN1bHQudXBsb2FkVXJsIHx8ICFzaWduZWRVcmxSZXN1bHQucHVibGljVXJsKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc2lnbmVkVXJsUmVzdWx0LmVycm9yIHx8ICdDb3VsZCBub3QgZ2V0IGFuIHVwbG9hZCBVUkwgZnJvbSB0aGUgc2VydmVyLicpOwogICAgICB9CgogICAgICAvLyAzLiBVcGxvYWQgdGhlIEJsb2IgZGlyZWN0bHkgdG8gR29vZ2xlIENsb3VkIFN0b3JhZ2UgZnJvbSB0aGUgYnJvd3Nlci4KICAgICAgLy8gVGhpcyBieXBhc3NlcyBvdXIgc2VydmVyLCBhdm9pZGluZyBhbnkgcGF5bG9hZCBzaXplIGxpbWl0cy4KICAgICAgY29uc3QgdXBsb2FkUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaWduZWRVcmxSZXN1bHQudXBsb2FkVXJsLCB7CiAgICAgICAgICBtZXRob2Q6ICdQVVQnLAogICAgICAgICAgYm9keTogaW1hZ2VCbG9iLAogICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogaW1hZ2VCbG9iLnR5cGUgfSwKICAgICAgfSk7CgogICAgICBpZiAoIXVwbG9hZFJlc3BvbnNlLm9rKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGxvYWQgdGhlIGdlbmVyYXRlZCBpbWFnZSB0byBzdG9yYWdlLicpOwogICAgICB9CiAgICAgIAogICAgICAvLyA0LiBPcGVuIHRoZSBwdWJsaWMgR0NTIFVSTC4gVGhpcyBpcyBhIHN0YW5kYXJkIEhUVFBTIGxpbmsuCiAgICAgIC8vIFRoZSBBbmRyb2lkIFdlYlZpZXcncyBEb3dubG9hZExpc3RlbmVyIGNhbiBoYW5kbGUgdGhpcyBVUkwgY29ycmVjdGx5LgogICAgICB3aW5kb3cub3BlbihzaWduZWRVcmxSZXN1bHQucHVibGljVXJsLCAnX2JsYW5rJyk7CiAgICAgIAogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdEb3dubG9hZCBTdGFydGVkJywKICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgSUQgY2FyZCBpcyBiZWluZyBkb3dubG9hZGVkLicsCiAgICAgIH0pOwoKICAgIH0gY2F0Y2ggKGVycjogYW55KSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZW5lcmF0ZSBvciBkb3dubG9hZCBJRCBjYXJkIGltYWdlOicsIGVycik7CiAgICAgIHRvYXN0KHsKICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICAgIHRpdGxlOiAnRG93bmxvYWQgRmFpbGVkJywKICAgICAgICBkZXNjcmlwdGlvbjogZXJyLm1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuIFBsZWFzZSB0cnkgYWdhaW4uJywKICAgICAgfSk7CiAgICB9IGZpbmFsbHkgewogICAgICBzZXRJc0Rvd25sb2FkaW5nKGZhbHNlKTsKICAgIH0KICB9LCBbdXNlci5pZCwgdG9hc3RdKTsKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICA8ZGl2IAogICAgICAgIHJlZj17Y2FyZFJlZn0gCiAgICAgICAgY2xhc3NOYW1lPSJyZWxhdGl2ZSB3LWZ1bGwgbWF4LXctc20gaC1bNTUwcHhdIG92ZXJmbG93LWhpZGRlbiIKICAgICAgICBzdHlsZT17ewogICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCcvaW1hZ2VzL2JhanJhbmctZGFsLWlkLWNhcmQtYmcuanBnJylgLAogICAgICAgICAgYmFja2dyb3VuZFNpemU6ICdjb3ZlcicsCiAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXInLAogICAgICAgICAgY29sb3I6ICcjNUQ0MDM3JywgLy8gRGFyayByaWNoIGJyb3duIGZvciB0ZXh0CiAgICAgICAgfX0KICAgICAgPgogICAgICAgIHsvKiBVc2VyIFBob3RvIC0gQ2VudGVyZWQgKi99CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImFic29sdXRlIGluc2V0LXgtMCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgZmxleCBqdXN0aWZ5LWNlbnRlciI+CiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPSJoLTMyIHctMzIgYm9yZGVyLTQgYm9yZGVyLW9yYW5nZS00MDAgc2hhZG93LWxnIj4KICAgICAgICAgICAgICAgIDxBdmF0YXJJbWFnZSBzcmM9e3VzZXIucHJvZmlsZXBpY3R1cmV1cmwgfHwgdW5kZWZpbmVkfSBhbHQ9e3VzZXIubmFtZX0gLz4KICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjayBjbGFzc05hbWU9InRleHQtNHhsIGJnLW9yYW5nZS0xMDAiPgogICAgICAgICAgICAgICAgICAgIHt1c2VyLm5hbWUuY2hhckF0KDApfQogICAgICAgICAgICAgICAgPC9BdmF0YXJGYWxsYmFjaz4KICAgICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgPC9kaXY+CgogICAgICAgIHsvKiBVc2VyIERldGFpbHMgKi99CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImFic29sdXRlIGJvdHRvbS0xMCBsZWZ0LTYgcmlnaHQtNiIgc3R5bGU9e3sgdGV4dFNoYWRvdzogJzBweCAxcHggM3B4IHJnYmEoMjU1LDI1NSwyNTUsMC43KScgfX0+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTEgdGV4dC1sZWZ0Ij4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtbGciPklEOiBCRC17dXNlci5pZH08L3A+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtYm9sZCB0ZXh0LWxnIj5OYW1lOiB7dXNlci5uYW1lfTwvcD4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtbGciPk1vYmlsZToge3VzZXIubW9iaWxlbnVtYmVyfTwvcD4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtbGciPlJvbGU6IHt1c2VyLnJvbGV9PC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIAogICAgICA8QnV0dG9uIG9uQ2xpY2s9e29uRG93bmxvYWR9IGRpc2FibGVkPXtpc0Rvd25sb2FkaW5nfSBjbGFzc05hbWU9InctZnVsbCBtYXgtdy1zbSBteC1hdXRvIGJnLW9yYW5nZS02MDAgaG92ZXI6Ymctb3JhbmdlLTcwMCI+CiAgICAgICAge2lzRG93bmxvYWRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IDogPERvd25sb2FkIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPn0KICAgICAgICBEb3dubG9hZCBJRCBDYXJkCiAgICAgIDwvQnV0dG9uPgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEJhanJhbmdEYWxJZENhcmQ7Cg==' | base64 -d > /root/localpulse/src/components/bajrang-dal-id-card.tsx
mkdir -p /root/localpulse/src/components
echo 'J3VzZSBjbGllbnQnOwoKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgSGV4Q29sb3JQaWNrZXIgfSBmcm9tICdyZWFjdC1jb2xvcmZ1bCc7CmltcG9ydCB7IFBvcG92ZXIsIFBvcG92ZXJDb250ZW50LCBQb3BvdmVyVHJpZ2dlciB9IGZyb20gJy4vdWkvcG9wb3Zlcic7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4vdWkvYnV0dG9uJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CgppbnRlcmZhY2UgQ29sb3JQaWNrZXJQcm9wcyB7CiAgY29sb3I6IHN0cmluZzsKICBzZXRDb2xvcjogKGNvbG9yOiBzdHJpbmcpID0+IHZvaWQ7CiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKfQoKZXhwb3J0IGZ1bmN0aW9uIENvbG9yUGlja2VyKHsgY29sb3IsIHNldENvbG9yLCBjaGlsZHJlbiB9OiBDb2xvclBpY2tlclByb3BzKSB7CiAgcmV0dXJuICgKICAgIDxQb3BvdmVyPgogICAgICA8UG9wb3ZlclRyaWdnZXIgYXNDaGlsZD4KICAgICAgICA8QnV0dG9uCiAgICAgICAgICB2YXJpYW50PSJvdXRsaW5lIgogICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgJ2p1c3RpZnktc3RhcnQgdGV4dC1sZWZ0IGZvbnQtbm9ybWFsIGgtMTAgdy1mdWxsJywKICAgICAgICAgICAgIWNvbG9yICYmICd0ZXh0LW11dGVkLWZvcmVncm91bmQnCiAgICAgICAgICApfQogICAgICAgID4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICB7Y29sb3IgPyAoCiAgICAgICAgICAgICAgPGRpdgogICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJoLTQgdy00IHJvdW5kZWQgIWJnLWNlbnRlciAhYmctY292ZXIgdHJhbnNpdGlvbi1hbGwiCiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiBjb2xvciB9fQogICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgY2hpbGRyZW4KICAgICAgICAgICAgKX0KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSB0cnVuY2F0ZSI+e2NvbG9yID8gY29sb3IgOiAnU2VsZWN0IGEgY29sb3InfTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9CdXR0b24+CiAgICAgIDwvUG9wb3ZlclRyaWdnZXI+CiAgICAgIDxQb3BvdmVyQ29udGVudCBjbGFzc05hbWU9InctYXV0byBwLTAgYm9yZGVyLTAiPgogICAgICAgIDxIZXhDb2xvclBpY2tlciBjb2xvcj17Y29sb3J9IG9uQ2hhbmdlPXtzZXRDb2xvcn0gLz4KICAgICAgPC9Qb3BvdmVyQ29udGVudD4KICAgIDwvUG9wb3Zlcj4KICApOwp9Cg==' | base64 -d > /root/localpulse/src/components/color-picker.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB0eXBlIENoYW5nZUV2ZW50LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JzsKaW1wb3J0IHsgQWxlcnQsIEFsZXJ0RGVzY3JpcHRpb24sIEFsZXJ0VGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgTG9hZGVyMiwgVXBsb2FkQ2xvdWQsIFhDaXJjbGUgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBhZGRTdGF0dXMsIGdldFNpZ25lZFVwbG9hZFVybCB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgeyBQcm9ncmVzcyB9IGZyb20gJy4vdWkvcHJvZ3Jlc3MnOwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RhdHVzVXBsb2FkZXIoeyBvblVwbG9hZENvbXBsZXRlIH06IHsgb25VcGxvYWRDb21wbGV0ZTogKCkgPT4gdm9pZCB9KSB7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBbcHJldmlldywgc2V0UHJldmlld10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTsKICBjb25zdCBbZmlsZSwgc2V0RmlsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW21lZGlhVHlwZSwgc2V0TWVkaWFUeXBlXSA9IHVzZVN0YXRlPCdpbWFnZScgfCAndmlkZW8nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTsKICBjb25zdCBbaXNVcGxvYWRpbmcsIHNldElzVXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlOiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gewogICAgY29uc3Qgc2VsZWN0ZWRGaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTsKICAgIHNldEVycm9yKG51bGwpOwogICAgc2V0UHJldmlldyhudWxsKTsKICAgIHNldEZpbGUobnVsbCk7CiAgICBzZXRNZWRpYVR5cGUobnVsbCk7CgogICAgaWYgKCFzZWxlY3RlZEZpbGUpIHJldHVybjsKCiAgICBjb25zdCBmaWxlVHlwZSA9IHNlbGVjdGVkRmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpID8gJ2ltYWdlJyA6IHNlbGVjdGVkRmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpID8gJ3ZpZGVvJyA6IG51bGw7CgogICAgaWYgKCFmaWxlVHlwZSkgewogICAgICBzZXRFcnJvcignUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGltYWdlIG9yIHZpZGVvIGZpbGUuJyk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBtYXhTaXplID0gZmlsZVR5cGUgPT09ICdpbWFnZScgPyAxMCAqIDEwMjQgKiAxMDI0IDogNTAgKiAxMDI0ICogMTAyNDsgLy8gMTBNQiBmb3IgaW1hZ2VzLCA1ME1CIGZvciB2aWRlb3MKICAgIGlmIChzZWxlY3RlZEZpbGUuc2l6ZSA+IG1heFNpemUpIHsKICAgICAgc2V0RXJyb3IoYCR7ZmlsZVR5cGUgPT09ICdpbWFnZScgPyAnSW1hZ2UnIDogJ1ZpZGVvJ30gaXMgdG9vIGxhcmdlLiBNYXggc2l6ZSBpcyAke21heFNpemUgLyAxMDI0IC8gMTAyNH1NQi5gKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHNldEZpbGUoc2VsZWN0ZWRGaWxlKTsKICAgIHNldE1lZGlhVHlwZShmaWxlVHlwZSk7CiAgICBzZXRQcmV2aWV3KFVSTC5jcmVhdGVPYmplY3RVUkwoc2VsZWN0ZWRGaWxlKSk7CiAgfTsKICAKICB1c2VFZmZlY3QoKCkgPT4gewogICAgcmV0dXJuICgpID0+IHsgaWYgKHByZXZpZXcpIFVSTC5yZXZva2VPYmplY3RVUkwocHJldmlldyk7IH07CiAgfSwgW3ByZXZpZXddKTsKCiAgY29uc3QgaGFuZGxlUmVtb3ZlTWVkaWEgPSAoKSA9PiB7CiAgICBpZiAocHJldmlldykgVVJMLnJldm9rZU9iamVjdFVSTChwcmV2aWV3KTsKICAgIHNldFByZXZpZXcobnVsbCk7CiAgICBzZXRGaWxlKG51bGwpOwogICAgc2V0TWVkaWFUeXBlKG51bGwpOwogICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzLW1lZGlhLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDsKICAgIGlmIChpbnB1dCkgaW5wdXQudmFsdWUgPSAnJzsKICB9OwogIAogIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50PikgPT4gewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgaWYgKCFmaWxlIHx8ICFtZWRpYVR5cGUpIHsKICAgICAgc2V0RXJyb3IoJ1BsZWFzZSBzZWxlY3QgYSBmaWxlIHRvIHVwbG9hZC4nKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHNldElzVXBsb2FkaW5nKHRydWUpOwogICAgc2V0RXJyb3IobnVsbCk7CgogICAgdHJ5IHsKICAgICAgY29uc3Qgc2lnbmVkVXJsUmVzdWx0ID0gYXdhaXQgZ2V0U2lnbmVkVXBsb2FkVXJsKGZpbGUubmFtZSwgZmlsZS50eXBlKTsKICAgICAgaWYgKCFzaWduZWRVcmxSZXN1bHQuc3VjY2VzcyB8fCAhc2lnbmVkVXJsUmVzdWx0LnVwbG9hZFVybCB8fCAhc2lnbmVkVXJsUmVzdWx0LnB1YmxpY1VybCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihzaWduZWRVcmxSZXN1bHQuZXJyb3IgfHwgJ0NvdWxkIG5vdCBwcmVwYXJlIGZpbGUgZm9yIHVwbG9hZC4nKTsKICAgICAgfQogICAgICAKICAgICAgY29uc3QgdXBsb2FkUmVzdWx0ID0gYXdhaXQgZmV0Y2goc2lnbmVkVXJsUmVzdWx0LnVwbG9hZFVybCwgewogICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgYm9keTogZmlsZSwKICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiBmaWxlLnR5cGUgfSwKICAgICAgfSk7CgogICAgICBpZiAoIXVwbG9hZFJlc3VsdC5vaykgdGhyb3cgbmV3IEVycm9yKCdVcGxvYWQgdG8gY2xvdWQgc3RvcmFnZSBmYWlsZWQuJyk7CgogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZGRTdGF0dXMoc2lnbmVkVXJsUmVzdWx0LnB1YmxpY1VybCwgbWVkaWFUeXBlKTsKCiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIHRvYXN0KHsgdGl0bGU6ICdTdWNjZXNzIScsIGRlc2NyaXB0aW9uOiAnWW91ciBzdGF0dXMgaGFzIGJlZW4gcG9zdGVkLicgfSk7CiAgICAgICAgb25VcGxvYWRDb21wbGV0ZSgpOwogICAgICAgIHJvdXRlci5yZWZyZXNoKCk7IC8vIFRoaXMgZW5zdXJlcyB0aGUgc3RhdHVzIGZlZWQgcmUtZmV0Y2hlcyBkYXRhCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBzYXZpbmcgdGhlIHN0YXR1cy4nKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyOiBhbnkpIHsKICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0SXNVcGxvYWRpbmcoZmFsc2UpOwogICAgfQogIH07CgogIHJldHVybiAoCiAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9InNwYWNlLXktNiI+CiAgICAgIHtlcnJvciAmJiA8QWxlcnQgdmFyaWFudD0iZGVzdHJ1Y3RpdmUiPjxBbGVydFRpdGxlPlVwbG9hZCBFcnJvcjwvQWxlcnRUaXRsZT48QWxlcnREZXNjcmlwdGlvbj57ZXJyb3J9PC9BbGVydERlc2NyaXB0aW9uPjwvQWxlcnQ+fQogICAgICA8ZGl2PgogICAgICAgIDxsYWJlbAogICAgICAgICAgaHRtbEZvcj0ic3RhdHVzLW1lZGlhLWlucHV0IgogICAgICAgICAgY2xhc3NOYW1lPSJibG9jayB3LWZ1bGwgY3Vyc29yLXBvaW50ZXIgcC02IGJvcmRlci0yIGJvcmRlci1kYXNoZWQgcm91bmRlZC1sZyB0ZXh0LWNlbnRlciBob3Zlcjpib3JkZXItcHJpbWFyeSBob3ZlcjpiZy1tdXRlZCIKICAgICAgICA+CiAgICAgICAgICB7cHJldmlldyA/ICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIGdyb3VwIHctNDggaC04MCBteC1hdXRvIGJnLWJsYWNrIHJvdW5kZWQtbGciPgogICAgICAgICAgICAgIHttZWRpYVR5cGUgPT09ICdpbWFnZScgJiYgPEltYWdlIHNyYz17cHJldmlld30gYWx0PSJTdGF0dXMgcHJldmlldyIgY2xhc3NOYW1lPSJyb3VuZGVkLWxnIG9iamVjdC1jb250YWluIiBmaWxsIHNpemVzPSIzMjBweCIgZGF0YS1haS1oaW50PSJ1c2VyIHN0YXR1cyIgLz59CiAgICAgICAgICAgICAge21lZGlhVHlwZSA9PT0gJ3ZpZGVvJyAmJiA8dmlkZW8gc3JjPXtwcmV2aWV3fSBjbGFzc05hbWU9InctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvbnRhaW4gcm91bmRlZC1sZyIgYXV0b1BsYXkgbXV0ZWQgbG9vcCAvPn0KICAgICAgICAgICAgICA8YnV0dG9uCiAgICAgICAgICAgICAgICB0eXBlPSJidXR0b24iCiAgICAgICAgICAgICAgICBjbGFzc05hbWU9ImFic29sdXRlIC10b3AtMiAtcmlnaHQtMiBwLTEgYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIHJvdW5kZWQtZnVsbCBzaGFkb3ctbWQgei0xMCIKICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhldikgPT4geyBldi5wcmV2ZW50RGVmYXVsdCgpOyBoYW5kbGVSZW1vdmVNZWRpYSgpOyB9fQogICAgICAgICAgICAgICAgYXJpYS1sYWJlbD0iUmVtb3ZlIG1lZGlhIgogICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgIDxYQ2lyY2xlIGNsYXNzTmFtZT0iaC01IHctNSIgLz4KICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApIDogKAogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgc3BhY2UteS0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgPFVwbG9hZENsb3VkIGNsYXNzTmFtZT0iaC0xMCB3LTEwIiAvPgogICAgICAgICAgICAgIDxzcGFuPkNsaWNrIHRvIHVwbG9hZCBTdGF0dXM8L3NwYW4+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIj5JbWFnZSBvciBWaWRlbyAoZXhwaXJlcyBpbiAyNGgpPC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICl9CiAgICAgICAgPC9sYWJlbD4KICAgICAgICA8SW5wdXQgaWQ9InN0YXR1cy1tZWRpYS1pbnB1dCIgdHlwZT0iZmlsZSIgYWNjZXB0PSJpbWFnZS8qLHZpZGVvLyoiIGNsYXNzTmFtZT0iaGlkZGVuIiBvbkNoYW5nZT17aGFuZGxlRmlsZUNoYW5nZX0gZGlzYWJsZWQ9e2lzVXBsb2FkaW5nfSAvPgogICAgICA8L2Rpdj4KICAgICAge2lzVXBsb2FkaW5nICYmIDxQcm9ncmVzcyB2YWx1ZT17MTAwfSBjbGFzc05hbWU9InctZnVsbCBoLTIgYW5pbWF0ZS1wdWxzZSIgLz59CiAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBkaXNhYmxlZD17IWZpbGUgfHwgaXNVcGxvYWRpbmd9IGNsYXNzTmFtZT0idy1mdWxsIj4KICAgICAgICB7aXNVcGxvYWRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IDogbnVsbH0KICAgICAgICB7aXNVcGxvYWRpbmcgPyAnVXBsb2FkaW5nLi4uJyA6ICdQb3N0IFN0YXR1cyd9CiAgICAgIDwvQnV0dG9uPgogICAgPC9mb3JtPgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/status-uploader.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB0eXBlIHsgVXNlciwgQnVzaW5lc3NTZXJ2aWNlLCBCdXNpbmVzc0hvdXIsIEJ1c2luZXNzUmVzb3VyY2UgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgewogIERpYWxvZywgRGlhbG9nQ29udGVudCwgRGlhbG9nSGVhZGVyLCBEaWFsb2dUaXRsZSwKICBEaWFsb2dUcmlnZ2VyLCBEaWFsb2dDbG9zZSwgRGlhbG9nRm9vdGVyLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9kaWFsb2cnOwppbXBvcnQgeyBMb2FkZXIyLCBDYWxlbmRhciBhcyBDYWxlbmRhckljb24sIENoZXZyb25MZWZ0LCBDaGVjaywgQXJyb3dSaWdodCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IENhbGVuZGFyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhbGVuZGFyJzsKaW1wb3J0IHsgZm9ybWF0LCBpc0JlZm9yZSwgYWRkTWludXRlcyB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhJzsKCmludGVyZmFjZSBCb29raW5nRGlhbG9nUHJvcHMgewogIGJ1c2luZXNzOiBVc2VyOwogIHNlc3Npb25Vc2VyOiBVc2VyIHwgbnVsbDsKICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOwp9Cgp0eXBlIEJ1c3lTbG90ID0geyBzdGFydFV0Yzogc3RyaW5nOyBlbmRVdGM6IHN0cmluZzsgcmVzb3VyY2VJZD86IG51bWJlciB9OwoKY29uc3Qgc3RlcHMgPSBbJ1NlbGVjdCBTZXJ2aWNlJywgJ1NlbGVjdCBEYXRlICYgVGltZScsICdDb25maXJtIEJvb2tpbmcnXTsKCmFzeW5jIGZ1bmN0aW9uIGFwaTxUPih1cmw6IHN0cmluZywgaW5pdD86IFJlcXVlc3RJbml0KTogUHJvbWlzZTxUPiB7CiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7IC4uLmluaXQsIGNhY2hlOiAnbm8tc3RvcmUnIH0pOwogIGlmICghcmVzLm9rKSB7CiAgICBjb25zdCBlcnJvckJvZHkgPSBhd2FpdCByZXMuanNvbigpOwogICAgdGhyb3cgbmV3IEVycm9yKGVycm9yQm9keS5lcnJvciB8fCAnQW4gQVBJIGVycm9yIG9jY3VycmVkJyk7CiAgfQogIHJldHVybiByZXMuanNvbigpIGFzIFByb21pc2U8VD47Cn0KCi8vIEhlbHBlciB0byBjaGVjayBmb3Igb3ZlcmxhcHMKY29uc3Qgb3ZlcmxhcHMgPSAoYVN0YXJ0OiBEYXRlLCBhRW5kOiBEYXRlLCBiU3RhcnQ6IERhdGUsIGJFbmQ6IERhdGUpID0+CiAgYVN0YXJ0IDwgYkVuZCAmJiBhRW5kID4gYlN0YXJ0OwoKLy8gQnVpbGRzIHBvdGVudGlhbCBzbG90cyBiYXNlZCBvbiB3b3JraW5nIGhvdXJzCmZ1bmN0aW9uIGJ1aWxkU2xvdHNGb3JXaW5kb3coCiAgZGF0ZUlTTzogc3RyaW5nLAogIHR6OiBzdHJpbmcsCiAgd2luZG93U3RhcnRISG1tOiBzdHJpbmcsCiAgd2luZG93RW5kSEhtbTogc3RyaW5nLAogIGR1cmF0aW9uTWluOiBudW1iZXIsCiAgc3RlcE1pbjogbnVtYmVyCik6IERhdGVbXSB7CiAgY29uc3Qgc2xvdHM6IERhdGVbXSA9IFtdOwogIGNvbnN0IHN0YXJ0TG9jYWwgPSBuZXcgRGF0ZShgJHtkYXRlSVNPfVQke3dpbmRvd1N0YXJ0SEhtbX06MDBgKTsKICBjb25zdCBlbmRMb2NhbCA9IG5ldyBEYXRlKGAke2RhdGVJU099VCR7d2luZG93RW5kSEhtbX06MDBgKTsKCiAgZm9yIChsZXQgcyA9IHN0YXJ0TG9jYWw7IGFkZE1pbnV0ZXMocywgZHVyYXRpb25NaW4pIDw9IGVuZExvY2FsOyBzID0gYWRkTWludXRlcyhzLCBzdGVwTWluKSkgewogICAgc2xvdHMucHVzaChuZXcgRGF0ZShzKSk7CiAgfQogIHJldHVybiBzbG90czsKfQoKCi8vIEZpbHRlcnMgb3V0IHBhc3QgYW5kIGNvbmZsaWN0aW5nIHNsb3RzCmZ1bmN0aW9uIGZpbHRlckF2YWlsYWJsZSgKICBzbG90c1V0YzogRGF0ZVtdLAogIGR1cmF0aW9uTWluOiBudW1iZXIsCiAgdHo6IHN0cmluZywKICBidXN5U2xvdHM6IEJ1c3lTbG90W10sCiAgdG90YWxSZXNvdXJjZXM6IG51bWJlciwKKSB7CiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKCiAgcmV0dXJuIHNsb3RzVXRjLmZpbHRlcigoc2xvdFN0YXJ0VXRjKSA9PiB7CiAgICAvLyAxKSBIaWRlIHBhc3Qgc2xvdHMKICAgIGlmIChpc0JlZm9yZShzbG90U3RhcnRVdGMsIG5vdykpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIDIpIEhpZGUgc2xvdHMgdGhhdCBjb25mbGljdCB3aXRoIGV4aXN0aW5nIGJvb2tpbmdzCiAgICBjb25zdCBzbG90RW5kVXRjID0gYWRkTWludXRlcyhzbG90U3RhcnRVdGMsIGR1cmF0aW9uTWluKTsKICAgIGNvbnN0IGNvbmZsaWN0aW5nQXBwb2ludG1lbnRzID0gYnVzeVNsb3RzLmZpbHRlcihiID0+CiAgICAgIG92ZXJsYXBzKHNsb3RTdGFydFV0Yywgc2xvdEVuZFV0YywgbmV3IERhdGUoYi5zdGFydFV0YyksIG5ldyBEYXRlKGIuZW5kVXRjKSkKICAgICkubGVuZ3RoOwogICAgCiAgICAvLyBBIHNsb3QgaXMgYXZhaWxhYmxlIGlmIHRoZSBudW1iZXIgb2YgY29uZmxpY3RzIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIHJlc291cmNlcwogICAgcmV0dXJuIGNvbmZsaWN0aW5nQXBwb2ludG1lbnRzIDwgdG90YWxSZXNvdXJjZXM7CiAgfSk7Cn0KCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCb29raW5nRGlhbG9nKHsgYnVzaW5lc3MsIHNlc3Npb25Vc2VyLCBjaGlsZHJlbiB9OiBCb29raW5nRGlhbG9nUHJvcHMpIHsKICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtjdXJyZW50U3RlcCwgc2V0Q3VycmVudFN0ZXBdID0gdXNlU3RhdGUoMCk7CiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwogIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgY29uc3QgW3NlcnZpY2VzLCBzZXRTZXJ2aWNlc10gPSB1c2VTdGF0ZTxCdXNpbmVzc1NlcnZpY2VbXT4oW10pOwogIGNvbnN0IFtob3Vycywgc2V0SG91cnNdID0gdXNlU3RhdGU8QnVzaW5lc3NIb3VyW10+KFtdKTsKICBjb25zdCBbcmVzb3VyY2VzLCBzZXRSZXNvdXJjZXNdID0gdXNlU3RhdGU8QnVzaW5lc3NSZXNvdXJjZVtdPihbXSk7CiAgY29uc3QgW3RpbWVTbG90cywgc2V0VGltZVNsb3RzXSA9IHVzZVN0YXRlPERhdGVbXT4oW10pOwogIGNvbnN0IFtpc0xvYWRpbmdTbG90cywgc2V0SXNMb2FkaW5nU2xvdHNdID0gdXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBbc2VsZWN0ZWRTZXJ2aWNlLCBzZXRTZWxlY3RlZFNlcnZpY2VdID0gdXNlU3RhdGU8QnVzaW5lc3NTZXJ2aWNlIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW3NlbGVjdGVkRGF0ZSwgc2V0U2VsZWN0ZWREYXRlXSA9IHVzZVN0YXRlPERhdGUgfCB1bmRlZmluZWQ+KG5ldyBEYXRlKCkpOwogIGNvbnN0IFtzZWxlY3RlZFRpbWUsIHNldFNlbGVjdGVkVGltZV0gPSB1c2VTdGF0ZTxEYXRlIHwgbnVsbD4obnVsbCk7CgogIGNvbnN0IGJ1c2luZXNzSWQgPSBidXNpbmVzcy5pZDsKICBjb25zdCBidXNpbmVzc1RpbWVab25lID0gYnVzaW5lc3MudGltZXpvbmUgfHwgJ1VUQyc7CgogIC8vIEZldGNoIHNlcnZpY2VzIGFuZCBob3VycyB3aGVuIGRpYWxvZyBvcGVucwogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoaXNPcGVuKSB7CiAgICAgIHNldElzTG9hZGluZyh0cnVlKTsKICAgICAgUHJvbWlzZS5hbGwoWwogICAgICAgICAgYXBpPHsgc2VydmljZXM6IEJ1c2luZXNzU2VydmljZVtdIH0+KGAvYXBpL2Jvb2tpbmcvc2VydmljZXMvJHtidXNpbmVzc0lkfWApLAogICAgICAgICAgYXBpPHsgaG91cnM6IEJ1c2luZXNzSG91cltdIH0+KGAvYXBpL2Jvb2tpbmcvaG91cnMvJHtidXNpbmVzc0lkfWApLAogICAgICAgICAgYXBpPHsgcmVzb3VyY2VzOiBCdXNpbmVzc1Jlc291cmNlW10gfT4oYC9hcGkvYm9va2luZy9yZXNvdXJjZXMvJHtidXNpbmVzc0lkfWApLAogICAgICBdKS50aGVuKChbc2VydmljZURhdGEsIGhvdXJEYXRhLCByZXNvdXJjZURhdGFdKSA9PiB7CiAgICAgICAgICBzZXRTZXJ2aWNlcyhzZXJ2aWNlRGF0YS5zZXJ2aWNlcyk7CiAgICAgICAgICBzZXRIb3Vycyhob3VyRGF0YS5ob3Vycyk7CiAgICAgICAgICBzZXRSZXNvdXJjZXMocmVzb3VyY2VEYXRhLnJlc291cmNlcyk7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdGYWlsZWQgdG8gbG9hZCBidXNpbmVzcyBkZXRhaWxzLicgfSk7CiAgICAgICAgICBzZXRJc09wZW4oZmFsc2UpOwogICAgICB9KS5maW5hbGx5KCgpID0+IHNldElzTG9hZGluZyhmYWxzZSkpOwogICAgfSBlbHNlIHsKICAgICAgLy8gUmVzZXQgc3RhdGUgb24gY2xvc2UKICAgICAgc2V0Q3VycmVudFN0ZXAoMCk7CiAgICAgIHNldFNlbGVjdGVkU2VydmljZShudWxsKTsKICAgICAgc2V0U2VsZWN0ZWREYXRlKG5ldyBEYXRlKCkpOwogICAgICBzZXRTZWxlY3RlZFRpbWUobnVsbCk7CiAgICAgIHNldFRpbWVTbG90cyhbXSk7CiAgICB9CiAgfSwgW2lzT3BlbiwgYnVzaW5lc3NJZCwgdG9hc3RdKTsKCiAgLy8gRmV0Y2ggc2xvdHMgd2hlbiBzZXJ2aWNlIG9yIGRhdGUgY2hhbmdlcwogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSB8fCAhc2VsZWN0ZWREYXRlIHx8IGhvdXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKICAgIHNldElzTG9hZGluZ1Nsb3RzKHRydWUpOwogICAgc2V0U2VsZWN0ZWRUaW1lKG51bGwpOwogICAgc2V0VGltZVNsb3RzKFtdKTsKCiAgICBjb25zdCBkYXRlSVNPID0gZm9ybWF0KHNlbGVjdGVkRGF0ZSwgJ3l5eXktTU0tZGQnKTsKICAgIGNvbnN0IGRheU9mV2VlayA9IHNlbGVjdGVkRGF0ZS5nZXREYXkoKTsKICAgIGNvbnN0IHdvcmtpbmdXaW5kb3dzID0gaG91cnMuZmlsdGVyKGggPT4gaC5kYXlfb2Zfd2VlayA9PT0gZGF5T2ZXZWVrICYmICFoLmlzX2Nsb3NlZCAmJiBoLnN0YXJ0X3RpbWUgJiYgaC5lbmRfdGltZSk7CgogICAgY29uc3Qgc3RlcE1pbiA9IDE1OyAvLyBTbG90cyBldmVyeSAxNSBtaW51dGVzCiAgICBjb25zdCB0b3RhbFJlc291cmNlcyA9IHJlc291cmNlcy5sZW5ndGggPiAwID8gcmVzb3VyY2VzLmxlbmd0aCA6IDE7CgogICAgYXBpPHsgYnVzeTogQnVzeVNsb3RbXSB9PihgL2FwaS9ib29raW5nL2F2YWlsYWJpbGl0eT9idXNpbmVzc0lkPSR7YnVzaW5lc3NJZH0mZGF0ZT0ke2RhdGVJU099JnR6PSR7YnVzaW5lc3NUaW1lWm9uZX1gKQogICAgICAudGhlbigoeyBidXN5IH0pID0+IHsKICAgICAgICAgIGNvbnN0IGFsbFBvdGVudGlhbFNsb3RzID0gd29ya2luZ1dpbmRvd3MuZmxhdE1hcCh3ID0+CiAgICAgICAgICAgICAgYnVpbGRTbG90c0ZvcldpbmRvdyhkYXRlSVNPLCBidXNpbmVzc1RpbWVab25lLCB3LnN0YXJ0X3RpbWUsIHcuZW5kX3RpbWUsIHNlbGVjdGVkU2VydmljZS5kdXJhdGlvbl9taW51dGVzLCBzdGVwTWluKQogICAgICAgICAgKTsKICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZSA9IGZpbHRlckF2YWlsYWJsZShhbGxQb3RlbnRpYWxTbG90cywgc2VsZWN0ZWRTZXJ2aWNlLmR1cmF0aW9uX21pbnV0ZXMsIGJ1c2luZXNzVGltZVpvbmUsIGJ1c3ksIHRvdGFsUmVzb3VyY2VzKTsKICAgICAgICAgIHNldFRpbWVTbG90cyhhdmFpbGFibGUpOwogICAgICB9KQogICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggYXZhaWxhYmlsaXR5OicsIGUpOwogICAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0NvdWxkIG5vdCBmZXRjaCBzbG90cy4nLCBkZXNjcmlwdGlvbjogZS5tZXNzYWdlIH0pOwogICAgICB9KQogICAgICAuZmluYWxseSgoKSA9PiBzZXRJc0xvYWRpbmdTbG90cyhmYWxzZSkpOwoKICB9LCBbc2VsZWN0ZWRTZXJ2aWNlLCBzZWxlY3RlZERhdGUsIGJ1c2luZXNzSWQsIGJ1c2luZXNzVGltZVpvbmUsIGhvdXJzLCByZXNvdXJjZXMsIHRvYXN0XSk7CgogIGNvbnN0IGhhbmRsZUNyZWF0ZUFwcG9pbnRtZW50ID0gYXN5bmMgKCkgPT4gewogICAgaWYgKCFzZXNzaW9uVXNlcikgewogICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnUGxlYXNlIGxvZyBpbiB0byBib29rIGFuIGFwcG9pbnRtZW50LicgfSk7CiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCFzZWxlY3RlZFNlcnZpY2UgfHwgIXNlbGVjdGVkRGF0ZSB8fCAhc2VsZWN0ZWRUaW1lKSB7CiAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdJbmNvbXBsZXRlIHNlbGVjdGlvbicgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHNldElzU3VibWl0dGluZyh0cnVlKTsKICAgIAogICAgdHJ5IHsKICAgICAgYXdhaXQgYXBpKCcvYXBpL2Jvb2tpbmcvYXBwb2ludG1lbnRzJywgewogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICBidXNpbmVzc19pZDogYnVzaW5lc3NJZCwKICAgICAgICAgICAgICBzZXJ2aWNlX2lkOiBzZWxlY3RlZFNlcnZpY2UuaWQsCiAgICAgICAgICAgICAgZGF0ZTogZm9ybWF0KHNlbGVjdGVkRGF0ZSwgJ3l5eXktTU0tZGQnKSwKICAgICAgICAgICAgICB0aW1lOiBmb3JtYXQoc2VsZWN0ZWRUaW1lLCAnSEg6bW0nKSwgLy8gU2VuZCB0aGUgc2VsZWN0ZWQgc2xvdCB0aW1lCiAgICAgICAgICB9KSwKICAgICAgfSk7CgogICAgICB0b2FzdCh7IHRpdGxlOiAnQXBwb2ludG1lbnQgQm9va2VkIScsIGRlc2NyaXB0aW9uOiBgWW91ciBhcHBvaW50bWVudCB3aXRoICR7YnVzaW5lc3MubmFtZX0gaXMgY29uZmlybWVkLmAgfSk7CiAgICAgIHNldElzT3BlbihmYWxzZSk7CiAgICAgIHJvdXRlci5wdXNoKCcvYWNjb3VudC9teS1ib29raW5ncycpOwoKICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnQm9va2luZyBGYWlsZWQnLCBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB8fCAnUGxlYXNlIHRyeSBhbm90aGVyIHNsb3QuJyB9KTsKICAgIH0gZmluYWxseSB7CiAgICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTsKICAgIH0KICB9OwoKICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4gewogICAgaWYgKGlzTG9hZGluZykgewogICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGgtNjQiPjxMb2FkZXIyIGNsYXNzTmFtZT0iaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1wcmltYXJ5IiAvPjwvZGl2PjsKICAgIH0KCiAgICBzd2l0Y2ggKGN1cnJlbnRTdGVwKSB7CiAgICAgIGNhc2UgMDogLy8gU2VsZWN0IFNlcnZpY2UKICAgICAgICByZXR1cm4gKAogICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPSJoLTcyIHByLTQgLW1yLTQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAgICB7c2VydmljZXMubWFwKChzZXJ2aWNlKSA9PiAoCiAgICAgICAgICAgICAgICA8QnV0dG9uCiAgICAgICAgICAgICAgICAgIGtleT17c2VydmljZS5pZH0KICAgICAgICAgICAgICAgICAgdmFyaWFudD0ib3V0bGluZSIKICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJ3LWZ1bGwganVzdGlmeS1iZXR3ZWVuIGgtYXV0byBwLTQiCiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgc2V0U2VsZWN0ZWRTZXJ2aWNlKHNlcnZpY2UpOyBzZXRDdXJyZW50U3RlcCgxKTsgfX0KICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1sZWZ0Ij57c2VydmljZS5uYW1lfTwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtbGVmdCI+e3NlcnZpY2UuZHVyYXRpb25fbWludXRlc30gbWluPC9wPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LWJvbGQgdGV4dC1wcmltYXJ5Ij7igrl7c2VydmljZS5wcmljZX08L3A+CiAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICB7c2VydmljZXMubGVuZ3RoID09PSAwICYmIDxwIGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHB5LTgiPlRoaXMgYnVzaW5lc3MgaGFzIG5vdCBsaXN0ZWQgYW55IHNlcnZpY2VzIHlldC48L3A+fQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvU2Nyb2xsQXJlYT4KICAgICAgICApOwoKICAgICAgY2FzZSAxOiAvLyBTZWxlY3QgRGF0ZSAmIFRpbWUKICAgICAgICByZXR1cm4gKAogICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgZ2FwLTQiPgogICAgICAgICAgICA8Q2FsZW5kYXIKICAgICAgICAgICAgICBtb2RlPSJzaW5nbGUiCiAgICAgICAgICAgICAgc2VsZWN0ZWQ9e3NlbGVjdGVkRGF0ZX0KICAgICAgICAgICAgICBvblNlbGVjdD17KGRhdGUpID0+IHsgaWYgKGRhdGUpIHNldFNlbGVjdGVkRGF0ZShkYXRlKTsgfX0KICAgICAgICAgICAgICBkaXNhYmxlZD17KGRhdGUpID0+IGlzQmVmb3JlKGRhdGUsIG5ldyBEYXRlKCkpICYmICFmb3JtYXQoZGF0ZSwgJ3l5eXktTU0tZGQnKS5pbmNsdWRlcyhmb3JtYXQobmV3IERhdGUoKSwgJ3l5eXktTU0tZGQnKSl9CiAgICAgICAgICAgICAgY2xhc3NOYW1lPSJyb3VuZGVkLW1kIGJvcmRlciBteC1hdXRvIgogICAgICAgICAgICAvPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idy1mdWxsIHNtOnctNDggZmxleC1zaHJpbmstMCI+CiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtY2VudGVyIj5BdmFpbGFibGUgU2xvdHM8L2g0PgogICAgICAgICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT0iaC02MCBwci0yIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0zIGdhcC0yIj4KICAgICAgICAgICAgICAgICAge2lzTG9hZGluZ1Nsb3RzID8gKAogICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImNvbC1zcGFuLTMgZmxleCBqdXN0aWZ5LWNlbnRlciBweS00Ij48TG9hZGVyMiBjbGFzc05hbWU9ImgtNiB3LTYgYW5pbWF0ZS1zcGluIi8+PC9kaXY+CiAgICAgICAgICAgICAgICAgICkgOiB0aW1lU2xvdHMubGVuZ3RoID4gMCA/ICgKICAgICAgICAgICAgICAgICAgICB0aW1lU2xvdHMubWFwKChzbG90RGF0ZSkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiAKICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzbG90RGF0ZS50b0lTT1N0cmluZygpfSAKICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD17c2VsZWN0ZWRUaW1lPy5nZXRUaW1lKCkgPT09IHNsb3REYXRlLmdldFRpbWUoKSA/ICdkZWZhdWx0JyA6ICdvdXRsaW5lJ30gCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVGltZShzbG90RGF0ZSl9IAogICAgICAgICAgICAgICAgICAgICAgICBzaXplPSJzbSIKICAgICAgICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdChzbG90RGF0ZSwgJ0hIOm1tJyl9CiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICApKQogICAgICAgICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iY29sLXNwYW4tMyB0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwdC00Ij5ObyBzbG90cyBhdmFpbGFibGUgZm9yIHRoaXMgZGF5LjwvcD4KICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvU2Nyb2xsQXJlYT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICApOwoKICAgICAgY2FzZSAyOiAvLyBDb25maXJtCiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICAgICAgICA8aDMgY2xhc3NOYW1lPSJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQiPkNvbmZpcm0gWW91ciBBcHBvaW50bWVudDwvaDM+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgYm9yZGVyIHJvdW5kZWQtbGcgc3BhY2UteS0zIGJnLW11dGVkLzUwIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBqdXN0aWZ5LWJldHdlZW4iPjxzcGFuIGNsYXNzTmFtZT0idGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5CdXNpbmVzczo8L3NwYW4+IDxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCI+e2J1c2luZXNzLm5hbWV9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktYmV0d2VlbiI+PHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LW11dGVkLWZvcmVncm91bmQiPlNlcnZpY2U6PC9zcGFuPiA8c3BhbiBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQiPntzZWxlY3RlZFNlcnZpY2U/Lm5hbWV9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktYmV0d2VlbiI+PHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LW11dGVkLWZvcmVncm91bmQiPkRhdGU6PC9zcGFuPiA8c3BhbiBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQiPntzZWxlY3RlZERhdGUgPyBmb3JtYXQoc2VsZWN0ZWREYXRlLCAnUFBQJykgOiAnJ308L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1iZXR3ZWVuIj48c3BhbiBjbGFzc05hbWU9InRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+VGltZTo8L3NwYW4+IDxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCI+e3NlbGVjdGVkVGltZSA/IGZvcm1hdChzZWxlY3RlZFRpbWUsICdwJykgOiAnJ308L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1iZXR3ZWVuIHRleHQtbGcgdGV4dC1wcmltYXJ5Ij48c3BhbiBjbGFzc05hbWU9InRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+UHJpY2U6PC9zcGFuPiA8c3BhbiBjbGFzc05hbWU9ImZvbnQtYm9sZCI+4oK5e3NlbGVjdGVkU2VydmljZT8ucHJpY2V9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICk7CgogICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17c2V0SXNPcGVufT4KICAgICAgPERpYWxvZ1RyaWdnZXIgYXNDaGlsZD57Y2hpbGRyZW59PC9EaWFsb2dUcmlnZ2VyPgogICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9InNtOm1heC13LXhsIj4KICAgICAgICA8RGlhbG9nSGVhZGVyPgogICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICA8Q2FsZW5kYXJJY29uIGNsYXNzTmFtZT0idy02IGgtNiB0ZXh0LXByaW1hcnkiIC8+IEJvb2sgQXBwb2ludG1lbnQgd2l0aCB7YnVzaW5lc3MubmFtZX0KICAgICAgICAgIDwvRGlhbG9nVGl0bGU+CiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHQtMiI+CiAgICAgICAgICAgIHtzdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e3N0ZXB9IGNsYXNzTmFtZT17Y24oJ2ZsZXgtMSBoLTEgcm91bmRlZC1mdWxsJywgY3VycmVudFN0ZXAgPj0gaW5kZXggPyAnYmctcHJpbWFyeScgOiAnYmctbXV0ZWQnKX0gLz4KICAgICAgICAgICAgKSl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L0RpYWxvZ0hlYWRlcj4KCiAgICAgICAge3JlbmRlckNvbnRlbnQoKX0KCiAgICAgICAgPERpYWxvZ0Zvb3RlciBjbGFzc05hbWU9InB0LTQiPgogICAgICAgICAge2N1cnJlbnRTdGVwID4gMCAmJiAoCiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRTdGVwKGN1cnJlbnRTdGVwIC0gMSl9PgogICAgICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gQmFjawogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICl9CiAgICAgICAgICA8RGlhbG9nQ2xvc2UgYXNDaGlsZD48QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiPkNhbmNlbDwvQnV0dG9uPjwvRGlhbG9nQ2xvc2U+CiAgICAgICAgICB7Y3VycmVudFN0ZXAgPCAyID8gKAogICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRTdGVwKGN1cnJlbnRTdGVwICsgMSl9IGRpc2FibGVkPXsoY3VycmVudFN0ZXAgPT09IDAgJiYgIXNlbGVjdGVkU2VydmljZSkgfHwgKGN1cnJlbnRTdGVwID09PSAxICYmICFzZWxlY3RlZFRpbWUpfT4KICAgICAgICAgICAgICBOZXh0IDxBcnJvd1JpZ2h0IGNsYXNzTmFtZT0ibWwtMiBoLTQgdy00IiAvPgogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICkgOiAoCiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlQ3JlYXRlQXBwb2ludG1lbnR9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PgogICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgJiYgPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPn0KICAgICAgICAgICAgICA8Q2hlY2sgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+IENvbmZpcm0gQm9va2luZwogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICl9CiAgICAgICAgPC9EaWFsb2dGb290ZXI+CiAgICAgIDwvRGlhbG9nQ29udGVudD4KICAgIDwvRGlhbG9nPgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/booking-dialog.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgTG9hZGVyMiwgQWxlcnRUcmlhbmdsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyBzZW5kU29zTWVzc2FnZSB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgewogIEFsZXJ0RGlhbG9nLAogIEFsZXJ0RGlhbG9nQWN0aW9uLAogIEFsZXJ0RGlhbG9nQ2FuY2VsLAogIEFsZXJ0RGlhbG9nQ29udGVudCwKICBBbGVydERpYWxvZ0Rlc2NyaXB0aW9uLAogIEFsZXJ0RGlhbG9nRm9vdGVyLAogIEFsZXJ0RGlhbG9nSGVhZGVyLAogIEFsZXJ0RGlhbG9nVGl0bGUsCiAgQWxlcnREaWFsb2dUcmlnZ2VyLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydC1kaWFsb2cnOwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU29zQnV0dG9uKCkgewogIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlU29zQ2xpY2sgPSAoKSA9PiB7CiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7CiAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7CiAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oCiAgICAgICAgYXN5bmMgKHBvc2l0aW9uKSA9PiB7CiAgICAgICAgICBjb25zdCB7IGxhdGl0dWRlLCBsb25naXR1ZGUgfSA9IHBvc2l0aW9uLmNvb3JkczsKICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRTb3NNZXNzYWdlKGxhdGl0dWRlLCBsb25naXR1ZGUpOwoKICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgICAgdGl0bGU6ICdTT1MgU2VudCEnLAogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXN1bHQubWVzc2FnZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICAgICAgICB0aXRsZTogJ1NPUyBGYWlsZWQnLAogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgICAgICB9LAogICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcigiR2VvbG9jYXRpb24gZXJyb3I6IiwgZXJyb3IpOwogICAgICAgICAgdG9hc3QoewogICAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICAgICAgICB0aXRsZTogJ0xvY2F0aW9uIEVycm9yJywKICAgICAgICAgICAgZGVzY3JpcHRpb246ICdDb3VsZCBub3QgZ2V0IHlvdXIgbG9jYXRpb24uIFBsZWFzZSBlbmFibGUgbG9jYXRpb24gc2VydmljZXMuJywKICAgICAgICAgIH0pOwogICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgICAgICB9LAogICAgICAgIHsgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLCB0aW1lb3V0OiAxMDAwMCwgbWF4aW11bUFnZTogMCB9CiAgICAgICk7CiAgICB9IGVsc2UgewogICAgICB0b2FzdCh7CiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICB0aXRsZTogJ1Vuc3VwcG9ydGVkJywKICAgICAgICBkZXNjcmlwdGlvbjogJ0dlb2xvY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLicsCiAgICAgIH0pOwogICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpOwogICAgfQogIH07CgogIHJldHVybiAoCiAgICA8QWxlcnREaWFsb2c+CiAgICAgIDxBbGVydERpYWxvZ1RyaWdnZXIgYXNDaGlsZD4KICAgICAgICA8QnV0dG9uCiAgICAgICAgICB2YXJpYW50PSJkZXN0cnVjdGl2ZSIKICAgICAgICAgIHNpemU9Imljb24iCiAgICAgICAgICBjbGFzc05hbWU9InJlbGF0aXZlIGgtMTIgdy0xMiByb3VuZGVkLWZ1bGwgc2hhZG93LWxnIGFuaW1hdGUtcHVsc2UiCiAgICAgICAgICBhcmlhLWxhYmVsPSJTT1MiCiAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfQogICAgICAgID4KICAgICAgICAgIHtpc0xvYWRpbmcgPyAoCiAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0iaC02IHctNiBhbmltYXRlLXNwaW4iIC8+CiAgICAgICAgICApIDogKAogICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtYm9sZCB0ZXh0LWxnIj5TT1M8L3NwYW4+CiAgICAgICAgICApfQogICAgICAgIDwvQnV0dG9uPgogICAgICA8L0FsZXJ0RGlhbG9nVHJpZ2dlcj4KICAgICAgPEFsZXJ0RGlhbG9nQ29udGVudD4KICAgICAgICA8QWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICA8QWxlcnREaWFsb2dUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgPEFsZXJ0VHJpYW5nbGUgY2xhc3NOYW1lPSJtci0yIGgtNiB3LTYgdGV4dC1kZXN0cnVjdGl2ZSIgLz4KICAgICAgICAgICAgQ29uZmlybSBTT1MgQWxlcnQ/CiAgICAgICAgICA8L0FsZXJ0RGlhbG9nVGl0bGU+CiAgICAgICAgICA8QWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgVGhpcyB3aWxsIGltbWVkaWF0ZWx5IHNlbmQgYW4gZW1lcmdlbmN5IGFsZXJ0IHdpdGggeW91ciBjdXJyZW50IGxvY2F0aW9uIHRvIGFsbCBmYW1pbHkgbWVtYmVycyB3aXRoIHdob20geW91IGFyZSBzaGFyaW5nIHlvdXIgbG9jYXRpb24uIFVzZSB0aGlzIG9ubHkgaW4gYSBnZW51aW5lIGVtZXJnZW5jeS4KICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICA8L0FsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgIDxBbGVydERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5DYW5jZWw8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgPEFsZXJ0RGlhbG9nQWN0aW9uCiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNvc0NsaWNrfQogICAgICAgICAgICBjbGFzc05hbWU9ImJnLWRlc3RydWN0aXZlIGhvdmVyOmJnLWRlc3RydWN0aXZlLzkwIgogICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfQogICAgICAgICAgPgogICAgICAgICAgICB7aXNMb2FkaW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiA6IG51bGx9CiAgICAgICAgICAgIFllcywgU2VuZCBTT1MKICAgICAgICAgIDwvQWxlcnREaWFsb2dBY3Rpb24+CiAgICAgICAgPC9BbGVydERpYWxvZ0Zvb3Rlcj4KICAgICAgPC9BbGVydERpYWxvZ0NvbnRlbnQ+CiAgICA8L0FsZXJ0RGlhbG9nPgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/sos-button.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlRm9ybSB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7CmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnOwppbXBvcnQgKiBhcyB6IGZyb20gJ3pvZCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyB1cGRhdGVVc2VyQnVzaW5lc3NDYXRlZ29yeSB9IGZyb20gJ0AvYXBwL3VzZXJzL1t1c2VySWRdL2FjdGlvbnMnOwppbXBvcnQgeyBGb3JtLCBGb3JtQ29udHJvbCwgRm9ybUZpZWxkLCBGb3JtSXRlbSwgRm9ybUxhYmVsLCBGb3JtTWVzc2FnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9mb3JtJzsKaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgTG9hZGVyMiwgU2F2ZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uLCBBbGVydFRpdGxlIH0gZnJvbSAnLi91aS9hbGVydCc7CmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VsZWN0JzsKaW1wb3J0IHsgQlVTSU5FU1NfQ0FURUdPUklFUyB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gJy4vdWkvc2Nyb2xsLWFyZWEnOwoKY29uc3QgZm9ybVNjaGVtYSA9IHoub2JqZWN0KHsKICBidXNpbmVzc19jYXRlZ29yeTogei5zdHJpbmcoKS5taW4oMSwgJ1BsZWFzZSBzZWxlY3QgYSBidXNpbmVzcyBjYXRlZ29yeS4nKSwKICBidXNpbmVzc19vdGhlcl9jYXRlZ29yeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLAp9KS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7CiAgICBpZiAoZGF0YS5idXNpbmVzc19jYXRlZ29yeSA9PT0gJ0FueSBPdGhlcicgJiYgKCFkYXRhLmJ1c2luZXNzX290aGVyX2NhdGVnb3J5IHx8IGRhdGEuYnVzaW5lc3Nfb3RoZXJfY2F0ZWdvcnkudHJpbSgpLmxlbmd0aCA8IDIpKSB7CiAgICAgICAgY3R4LmFkZElzc3VlKHsKICAgICAgICAgICAgY29kZTogei5ab2RJc3N1ZUNvZGUuY3VzdG9tLAogICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHNwZWNpZnkgeW91ciBidXNpbmVzcyB0eXBlLicsCiAgICAgICAgICAgIHBhdGg6IFsnYnVzaW5lc3Nfb3RoZXJfY2F0ZWdvcnknXSwKICAgICAgICB9KTsKICAgIH0KfSk7Cgp0eXBlIEZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2YgZm9ybVNjaGVtYT47CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVcGRhdGVCdXNpbmVzc0NhdGVnb3J5Rm9ybSh7IG9uVXBkYXRlIH06IHsgb25VcGRhdGU6ICgpID0+IHZvaWQgfSkgewogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbc2VydmVyRXJyb3IsIHNldFNlcnZlckVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpOwoKICBjb25zdCBmb3JtID0gdXNlRm9ybTxGb3JtRGF0YT4oewogICAgcmVzb2x2ZXI6IHpvZFJlc29sdmVyKGZvcm1TY2hlbWEpLAogICAgZGVmYXVsdFZhbHVlczogewogICAgICBidXNpbmVzc19jYXRlZ29yeTogJycsCiAgICAgIGJ1c2luZXNzX290aGVyX2NhdGVnb3J5OiAnJywKICAgIH0sCiAgfSk7CgogIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSBmb3JtLndhdGNoKCdidXNpbmVzc19jYXRlZ29yeScpOwoKICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChkYXRhOiBGb3JtRGF0YSkgPT4gewogICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpOwogICAgc2V0U2VydmVyRXJyb3IobnVsbCk7CiAgICAKICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZVVzZXJCdXNpbmVzc0NhdGVnb3J5KGRhdGEpOwoKICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdCdXNpbmVzcyBDYXRlZ29yeSBVcGRhdGVkIScsCiAgICAgICAgZGVzY3JpcHRpb246ICdZb3VyIHByb2ZpbGUgaGFzIGJlZW4gdXBkYXRlZC4nLAogICAgICB9KTsKICAgICAgb25VcGRhdGUoKTsKICAgIH0gZWxzZSB7CiAgICAgIHNldFNlcnZlckVycm9yKHJlc3VsdC5lcnJvciB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4nKTsKICAgIH0KICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxGb3JtIHsuLi5mb3JtfT4KICAgICAgPGZvcm0gb25TdWJtaXQ9e2Zvcm0uaGFuZGxlU3VibWl0KG9uU3VibWl0KX0gY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICAgIHtzZXJ2ZXJFcnJvciAmJiAoCiAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PSJkZXN0cnVjdGl2ZSI+CiAgICAgICAgICAgICAgICA8QWxlcnRUaXRsZT5VcGRhdGUgRmFpbGVkPC9BbGVydFRpdGxlPgogICAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+e3NlcnZlckVycm9yfTwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgPC9BbGVydD4KICAgICAgICApfQogICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgbmFtZT0iYnVzaW5lc3NfY2F0ZWdvcnkiCiAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5CdXNpbmVzcyBDYXRlZ29yeTwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gZGVmYXVsdFZhbHVlPXtmaWVsZC52YWx1ZX0gZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0iU2VsZWN0IHlvdXIgYnVzaW5lc3MgY2F0ZWdvcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9ImgtNzIiPgogICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoQlVTSU5FU1NfQ0FURUdPUklFUykubWFwKChbZ3JvdXAsIGNhdGVnb3JpZXNdKSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtncm91cH0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsIGNsYXNzTmFtZT0icHgtMiBweS0xLjUgdGV4dC1zbSBmb250LXNlbWlib2xkIj57Z3JvdXB9PC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoY2F0ZWdvcnkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17Y2F0ZWdvcnl9IHZhbHVlPXtjYXRlZ29yeX0+e2NhdGVnb3J5fTwvU2VsZWN0SXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD4KICAgICAgICAgICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2Nyb2xsQXJlYT4KICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICA8L1NlbGVjdD4KICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgKX0KICAgICAgICAgICAgLz4KICAgICAgICAgICAge3NlbGVjdGVkQ2F0ZWdvcnkgPT09ICdBbnkgT3RoZXInICYmICgKICAgICAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICAgICAgbmFtZT0iYnVzaW5lc3Nfb3RoZXJfY2F0ZWdvcnkiCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+UGxlYXNlIFNwZWNpZnkgWW91ciBCdXNpbmVzczwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCB7Li4uZmllbGR9IHBsYWNlaG9sZGVyPSJlLmcuLCBCb29rIEJpbmRpbmcgU2VydmljZSIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgKX0KICAgICAgICA8QnV0dG9uIHR5cGU9InN1Ym1pdCIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30gY2xhc3NOYW1lPSJ3LWZ1bGwiPgogICAgICAgICAge2lzU3VibWl0dGluZyA/ICgKICAgICAgICAgICAgPD48TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IFNhdmluZy4uLjwvPgogICAgICAgICAgKSA6ICgKICAgICAgICAgICAgPD48U2F2ZSBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gU2F2ZSBDYXRlZ29yeTwvPgogICAgICAgICAgKX0KICAgICAgICA8L0J1dHRvbj4KICAgICAgPC9mb3JtPgogICAgPC9Gb3JtPgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/update-business-category-form.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCB0eXBlIHsgUG9zdCwgVXNlciB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgZ2V0TWVkaWFQb3N0cyB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgeyBSZWVsSXRlbSB9IGZyb20gJ0AvY29tcG9uZW50cy9yZWVsLWl0ZW0nOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgQ2hldnJvblVwLCBDaGV2cm9uRG93biwgTG9hZGVyMiwgRmlsbSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAiQC9ob29rcy91c2UtdG9hc3QiOwppbXBvcnQgeyBBbGVydERlc2NyaXB0aW9uLCBBbGVydFRpdGxlLCBBbGVydCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydCc7CmltcG9ydCB7IHVzZVN3aXBlYWJsZSB9IGZyb20gJ3JlYWN0LXN3aXBlYWJsZSc7CmltcG9ydCB7IFJlZWxzUGFnZVNrZWxldG9uIH0gZnJvbSAnLi9yZWVscy1wYWdlLXNrZWxldG9uJzsKCmNvbnN0IFJFRUxTX1BFUl9QQUdFID0gMTA7CmNvbnN0IFJFRUxTX0NBQ0hFX0tFWSA9ICdsb2NhbHB1bHNlLXJlZWxzLWNhY2hlJzsKY29uc3QgQ0FDSEVfRVhQSVJZX01TID0gNSAqIDYwICogMTAwMDsgLy8gNSBtaW51dGVzCgppbnRlcmZhY2UgQ2FjaGVkUmVlbHMgewogIHRpbWVzdGFtcDogbnVtYmVyOwogIHBvc3RzOiBQb3N0W107CiAgaGFzTW9yZTogYm9vbGVhbjsKICBjdXJyZW50UGFnZTogbnVtYmVyOwp9CgppbnRlcmZhY2UgUmVlbHNWaWV3ZXJQcm9wcyB7CiAgICBzZXNzaW9uVXNlcjogVXNlciB8IG51bGw7CiAgICBpbml0aWFsUG9zdHM6IFBvc3RbXTsKICAgIGluaXRpYWxJbmRleDogbnVtYmVyOwp9Cgpjb25zdCBSZWVsc1ZpZXdlcjogRkM8UmVlbHNWaWV3ZXJQcm9wcz4gPSAoeyBzZXNzaW9uVXNlciwgaW5pdGlhbFBvc3RzLCBpbml0aWFsSW5kZXggfSkgPT4gewogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CiAgCiAgY29uc3QgW3JlZWxQb3N0cywgc2V0UmVlbFBvc3RzXSA9IHVzZVN0YXRlPFBvc3RbXT4oaW5pdGlhbFBvc3RzKTsKICBjb25zdCBbY3VycmVudEluZGV4LCBzZXRDdXJyZW50SW5kZXhdID0gdXNlU3RhdGUoaW5pdGlhbEluZGV4KTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtpc0xvYWRpbmdNb3JlLCBzZXRJc0xvYWRpbmdNb3JlXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKDEpOwogIGNvbnN0IFtoYXNNb3JlLCBzZXRIYXNNb3JlXSA9IHVzZVN0YXRlKGluaXRpYWxQb3N0cy5sZW5ndGggPT09IFJFRUxTX1BFUl9QQUdFKTsKCiAgLy8gRnVuY3Rpb24gdG8gc2F2ZSBkYXRhIHRvIGNhY2hlCiAgY29uc3Qgc2F2ZVRvQ2FjaGUgPSB1c2VDYWxsYmFjaygocG9zdHM6IFBvc3RbXSwgcGFnZTogbnVtYmVyLCBtb3JlOiBib29sZWFuKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCBjYWNoZURhdGE6IENhY2hlZFJlZWxzID0gewogICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwKICAgICAgICBwb3N0czogcG9zdHMsCiAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsCiAgICAgICAgaGFzTW9yZTogbW9yZSwKICAgICAgfTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oUkVFTFNfQ0FDSEVfS0VZLCBKU09OLnN0cmluZ2lmeShjYWNoZURhdGEpKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUud2FybigiRmFpbGVkIHRvIHNhdmUgcmVlbHMgdG8gY2FjaGU6IiwgZXJyb3IpOwogICAgfQogIH0sIFtdKTsKCiAgY29uc3QgZmV0Y2hBbmRDYWNoZVJlZWxzID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBhZ2U6IG51bWJlciwgYXBwZW5kOiBib29sZWFuID0gZmFsc2UpID0+IHsKICAgIGlmICghYXBwZW5kKSB7CiAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7CiAgICB9IGVsc2UgewogICAgICAgaWYgKGlzTG9hZGluZ01vcmUgfHwgIWhhc01vcmUpIHJldHVybjsKICAgICAgIHNldElzTG9hZGluZ01vcmUodHJ1ZSk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgY29uc3QgbmV3UG9zdHMgPSBhd2FpdCBnZXRNZWRpYVBvc3RzKHsgcGFnZSwgbGltaXQ6IFJFRUxTX1BFUl9QQUdFIH0pOwogICAgICAKICAgICAgc2V0UmVlbFBvc3RzKHByZXYgPT4gewogICAgICAgIGNvbnN0IHVwZGF0ZWRQb3N0cyA9IGFwcGVuZCA/IFsuLi5wcmV2LCAuLi5uZXdQb3N0cy5maWx0ZXIocCA9PiAhcHJldi5zb21lKGVwID0+IGVwLmlkID09PSBwLmlkKSldIDogbmV3UG9zdHM7CiAgICAgICAgc2F2ZVRvQ2FjaGUodXBkYXRlZFBvc3RzLCBwYWdlLCBuZXdQb3N0cy5sZW5ndGggPT09IFJFRUxTX1BFUl9QQUdFKTsKICAgICAgICByZXR1cm4gdXBkYXRlZFBvc3RzOwogICAgICB9KTsKCiAgICAgIHNldEN1cnJlbnRQYWdlKHBhZ2UpOwogICAgICBzZXRIYXNNb3JlKG5ld1Bvc3RzLmxlbmd0aCA9PT0gUkVFTFNfUEVSX1BBR0UpOwoKICAgICAgaWYgKGFwcGVuZCAmJiBuZXdQb3N0cy5sZW5ndGggPT09IDApIHsKICAgICAgICB0b2FzdCh7IHRpdGxlOiAiVGhhdCdzIGFsbCBmb3Igbm93ISIsIGRlc2NyaXB0aW9uOiAiWW91J3ZlIHNlZW4gYWxsIHRoZSBhdmFpbGFibGUgcmVlbHMuIiB9KTsKICAgICAgfQoKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGZldGNoaW5nIHJlZWxzOiIsIGVycm9yKTsKICAgIH0gZmluYWxseSB7CiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7CiAgICAgIHNldElzTG9hZGluZ01vcmUoZmFsc2UpOwogICAgfQogIH0sIFt0b2FzdCwgc2F2ZVRvQ2FjaGUsIGlzTG9hZGluZ01vcmUsIGhhc01vcmVdKTsKCgogIC8vIEVmZmVjdCB0byBmZXRjaCBtb3JlIHBvc3RzIHdoZW4gdXNlciBnZXRzIGNsb3NlIHRvIHRoZSBlbmQKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKGhhc01vcmUgJiYgIWlzTG9hZGluZyAmJiAhaXNMb2FkaW5nTW9yZSAmJiByZWVsUG9zdHMubGVuZ3RoID4gMCAmJiBjdXJyZW50SW5kZXggPj0gcmVlbFBvc3RzLmxlbmd0aCAtIDMpIHsKICAgICAgZmV0Y2hBbmRDYWNoZVJlZWxzKGN1cnJlbnRQYWdlICsgMSwgdHJ1ZSk7CiAgICB9CiAgfSwgW2N1cnJlbnRJbmRleCwgcmVlbFBvc3RzLmxlbmd0aCwgaGFzTW9yZSwgaXNMb2FkaW5nLCBpc0xvYWRpbmdNb3JlLCBjdXJyZW50UGFnZSwgZmV0Y2hBbmRDYWNoZVJlZWxzXSk7CgoKICBjb25zdCBnb1RvUHJldmlvdXNSZWVsID0gdXNlQ2FsbGJhY2soKCkgPT4gewogICAgc2V0Q3VycmVudEluZGV4KHByZXZJbmRleCA9PiAocHJldkluZGV4ID4gMCA/IHByZXZJbmRleCAtIDEgOiAwKSk7CiAgfSwgW10pOwoKICBjb25zdCBnb1RvTmV4dFJlZWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7CiAgICBzZXRDdXJyZW50SW5kZXgocHJldkluZGV4ID0+IChwcmV2SW5kZXggPCByZWVsUG9zdHMubGVuZ3RoIC0gMSA/IHByZXZJbmRleCArIDEgOiBwcmV2SW5kZXgpKTsKICB9LCBbcmVlbFBvc3RzLmxlbmd0aF0pOwogIAogIGNvbnN0IGhhbmRsZVJlZnJlc2ggPSAoKSA9PiB7CiAgICBpZiAoaXNMb2FkaW5nKSByZXR1cm47CiAgICB0b2FzdCh7IHRpdGxlOiAnUmVmcmVzaGluZyBSZWVscy4uLicsIGRlc2NyaXB0aW9uOiAnRmV0Y2hpbmcgdGhlIGxhdGVzdCBjb250ZW50LicgfSk7CiAgICBmZXRjaEFuZENhY2hlUmVlbHMoMSwgZmFsc2UpOwogIH07CgogIGNvbnN0IHN3aXBlSGFuZGxlcnMgPSB1c2VTd2lwZWFibGUoewogICAgb25Td2lwZWRVcDogKCkgPT4geyBpZiAocmVlbFBvc3RzLmxlbmd0aCA+IDEpIGdvVG9OZXh0UmVlbCgpOyB9LAogICAgb25Td2lwZWREb3duOiAoKSA9PiB7CiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IDApIHsKICAgICAgICBoYW5kbGVSZWZyZXNoKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZ29Ub1ByZXZpb3VzUmVlbCgpOwogICAgICB9CiAgICB9LAogICAgcHJldmVudFNjcm9sbE9uU3dpcGU6IHRydWUsCiAgICB0cmFja01vdXNlOiB0cnVlCiAgfSk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7CiAgICAgIGlmIChldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93UmlnaHQnKSBnb1RvTmV4dFJlZWwoKTsKICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dVcCcgfHwgZXZlbnQua2V5ID09PSAnQXJyb3dMZWZ0JykgewogICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IDApIHsKICAgICAgICAgIGhhbmRsZVJlZnJlc2goKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZ29Ub1ByZXZpb3VzUmVlbCgpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7CiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTsKICB9LCBbZ29Ub05leHRSZWVsLCBnb1RvUHJldmlvdXNSZWVsLCBjdXJyZW50SW5kZXhdKTsKICAKICBpZiAoaXNMb2FkaW5nICYmIHJlZWxQb3N0cy5sZW5ndGggPT09IDApIHsKICAgIHJldHVybiA8UmVlbHNQYWdlU2tlbGV0b24gLz47CiAgfQogIAogIGlmICghaXNMb2FkaW5nICYmIHJlZWxQb3N0cy5sZW5ndGggPT09IDApIHsKICAgIHJldHVybiAoCiAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGwgYmctYmxhY2sgdGV4dC13aGl0ZSBwLTQgdGV4dC1jZW50ZXIiPgogICAgICAgIDxBbGVydCBjbGFzc05hbWU9Im1heC13LW1kIGJnLWdyYXktOTAwLzgwIGJvcmRlci1ncmF5LTcwMCB0ZXh0LXdoaXRlIj4KICAgICAgICAgIDxGaWxtIGNsYXNzTmFtZT0iaC01IHctNSB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICA8QWxlcnRUaXRsZSBjbGFzc05hbWU9InRleHQteGwgZm9udC1zZW1pYm9sZCBtYi0yIj5ObyBSZWVscyB0byBTaG93PC9BbGVydFRpdGxlPgogICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24gY2xhc3NOYW1lPSJ0ZXh0LWJhc2UgdGV4dC1ncmF5LTMwMCI+CiAgICAgICAgICAgIEl0IGxvb2tzIGxpa2UgdGhlcmUgYXJlIG5vIGltYWdlIG9yIHZpZGVvIHBvc3RzIGF2YWlsYWJsZSByaWdodCBub3cuIFlvdSBjYW4gY3JlYXRlIG9uZSBmcm9tIHRoZSBIb21lIGZlZWQhCiAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgPC9BbGVydD4KICAgICAgPC9kaXY+CiAgICApOwogIH0KCiAgcmV0dXJuICgKICAgIDxkaXYgey4uLnN3aXBlSGFuZGxlcnN9IGNsYXNzTmFtZT0iaC1mdWxsIHctZnVsbCBvdmVyZmxvdy1oaWRkZW4gZmxleCBmbGV4LWNvbCBiZy1ibGFjayB0b3VjaC1ub25lIj4KICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtZ3JvdyByZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIG92ZXJmbG93LWhpZGRlbiI+CiAgICAgICAge3JlZWxQb3N0cy5tYXAoKHBvc3QsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGlmIChNYXRoLmFicyhpbmRleCAtIGN1cnJlbnRJbmRleCkgPiAyKSByZXR1cm4gbnVsbDsgLy8gUmVuZGVyIGN1cnJlbnQsIG5leHQsIGFuZCBwcmV2aW91cwoKICAgICAgICAgICAgY29uc3QgZ2V0VHJhbnNmb3JtID0gKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgY3VycmVudEluZGV4KSByZXR1cm4gJ3RyYW5zbGF0ZVkoLTEwMCUpJzsKICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IGN1cnJlbnRJbmRleCkgcmV0dXJuICd0cmFuc2xhdGVZKDEwMCUpJzsKICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlWSgwKSc7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgPGRpdiBrZXk9e3Bvc3QuaWR9IGNsYXNzTmFtZT0iYWJzb2x1dGUgaW5zZXQtMCB3LWZ1bGwgaC1mdWxsIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMCBlYXNlLWluLW91dCIgc3R5bGU9e3sgdHJhbnNmb3JtOiBnZXRUcmFuc2Zvcm0oKSwgekluZGV4OiBpbmRleCA9PT0gY3VycmVudEluZGV4ID8gMjAgOiAxMCB9fT4KICAgICAgICAgICAgICAgICAgICA8UmVlbEl0ZW0gcG9zdD17cG9zdH0gaXNBY3RpdmU9e2luZGV4ID09PSBjdXJyZW50SW5kZXh9IHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0gLz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApOwogICAgICAgIH0pfQoKICAgICAgICB7KGlzTG9hZGluZ01vcmUgfHwgKGlzTG9hZGluZyAmJiByZWVsUG9zdHMubGVuZ3RoID4gMCkpICYmICgKICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzUwIHotMjAiPgogICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJ3LTEwIGgtMTAgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGUiLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgICAgPC9kaXY+CgogICAgICB7cmVlbFBvc3RzLmxlbmd0aCA+IDEgJiYgKAogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhYnNvbHV0ZSByaWdodC00IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB6LTMwIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0yIHBvaW50ZXItZXZlbnRzLW5vbmUiPgogICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtnb1RvUHJldmlvdXNSZWVsfSB2YXJpYW50PSJnaG9zdCIgc2l6ZT0iaWNvbiIgY2xhc3NOYW1lPSJ0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwIGJhY2tkcm9wLWJsdXItc20gcm91bmRlZC1mdWxsIGgtMTEgdy0xMSBkaXNhYmxlZDpvcGFjaXR5LTMwIHBvaW50ZXItZXZlbnRzLWF1dG8iIGFyaWEtbGFiZWw9IlByZXZpb3VzIFJlZWwiIGRpc2FibGVkPXtjdXJyZW50SW5kZXggPT09IDB9PgogICAgICAgICAgICA8Q2hldnJvblVwIGNsYXNzTmFtZT0iaC03IHctNyIgLz4KICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LXdoaXRlLzgwIGJnLWJsYWNrLzMwIHB4LTIgcHktMSByb3VuZGVkLW1kIGJhY2tkcm9wLWJsdXItc20gZmxleCBpdGVtcy1jZW50ZXIgcG9pbnRlci1ldmVudHMtYXV0byI+CiAgICAgICAgICAgIHtpc0xvYWRpbmdNb3JlID8gPExvYWRlcjIgY2xhc3NOYW1lPSJ3LTQgaC00IGFuaW1hdGUtc3BpbiIgLz4gOiA8c3Bhbj57Y3VycmVudEluZGV4ICsgMX0gLyB7cmVlbFBvc3RzLmxlbmd0aH08L3NwYW4+fQogICAgICAgICAgPC9kaXY+CiAgICAgICAgICAKICAgICAgICAgIDxCdXR0b24gb25DbGljaz17Z29Ub05leHRSZWVsfSB2YXJpYW50PSJnaG9zdCIgc2l6ZT0iaWNvbiIgY2xhc3NOYW1lPSJ0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwIGJhY2tkcm9wLWJsdXItc20gcm91bmRlZC1mdWxsIGgtMTEgdy0xMSBkaXNhYmxlZDpvcGFjaXR5LTMwIHBvaW50ZXItZXZlbnRzLWF1dG8iIGFyaWEtbGFiZWw9Ik5leHQgUmVlbCIgZGlzYWJsZWQ9e2N1cnJlbnRJbmRleCA9PT0gcmVlbFBvc3RzLmxlbmd0aCAtIDEgJiYgIWhhc01vcmV9PgogICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPSJoLTcgdy03IiAvPgogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgUmVlbHNWaWV3ZXI7CgogICAg' | base64 -d > /root/localpulse/src/components/reels-viewer.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlVHJhbnNpdGlvbiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJGYWxsYmFjaywgQXZhdGFySW1hZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYXZhdGFyJzsKaW1wb3J0IHsgTWFwUGluLCBFeHRlcm5hbExpbmssIFJlZnJlc2hDdywgTG9hZGVyMiwgU2VuZCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB0eXBlIHsgRmFtaWx5TWVtYmVyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgTG9jYXRpb25TaGFyaW5nVG9nZ2xlIGZyb20gJy4vbG9jYXRpb24tc2hhcmluZy10b2dnbGUnOwppbXBvcnQgeyBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0IH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgeyBnZXRGYW1pbHlNZW1iZXJzLCByZXF1ZXN0TG9jYXRpb25VcGRhdGUgfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICcuL3VpL3NrZWxldG9uJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi91aS9idXR0b24nOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKCmludGVyZmFjZSBGYW1pbHlNZW1iZXJzQ2FyZFByb3BzIHsKICB1c2VySWQ6IG51bWJlcjsKfQoKY29uc3QgRmFtaWx5TWVtYmVyc0NhcmQ6IEZDPEZhbWlseU1lbWJlcnNDYXJkUHJvcHM+ID0gKHsgdXNlcklkIH0pID0+IHsKICBjb25zdCBbZmFtaWx5TWVtYmVycywgc2V0RmFtaWx5TWVtYmVyc10gPSB1c2VTdGF0ZTxGYW1pbHlNZW1iZXJbXT4oW10pOwogIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTsKICBjb25zdCBbaXNSZWZyZXNoaW5nLCBzdGFydFJlZnJlc2hUcmFuc2l0aW9uXSA9IHVzZVRyYW5zaXRpb24oKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwoKICBjb25zdCBmZXRjaEZhbWlseU1lbWJlcnMgPSBSZWFjdC51c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCBtZW1iZXJzID0gYXdhaXQgZ2V0RmFtaWx5TWVtYmVycyh1c2VySWQpOwogICAgICBzZXRGYW1pbHlNZW1iZXJzKG1lbWJlcnMpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIGZhbWlseSBtZW1iZXJzOiIsIGVycm9yKTsKICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246ICdDb3VsZCBub3QgbG9hZCBmYW1pbHkgbWVtYmVycy4nIH0pOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgIH0KICB9LCBbdXNlcklkLCB0b2FzdF0pOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgZmV0Y2hGYW1pbHlNZW1iZXJzKCk7CiAgfSwgW2ZldGNoRmFtaWx5TWVtYmVyc10pOwoKICBjb25zdCBoYW5kbGVNYW51YWxSZWZyZXNoID0gKCkgPT4gewogICAgc3RhcnRSZWZyZXNoVHJhbnNpdGlvbihhc3luYyAoKSA9PiB7CiAgICAgIC8vIDEuIFNlbmQgb3V0IGFsbCBsb2NhdGlvbiByZXF1ZXN0cyBpbiBwYXJhbGxlbAogICAgICBjb25zdCBsb2NhdGlvblJlcXVlc3RQcm9taXNlcyA9IGZhbWlseU1lbWJlcnMKICAgICAgICAuZmlsdGVyKG1lbWJlciA9PiBtZW1iZXIudGhleV9hcmVfc2hhcmluZ193aXRoX21lKQogICAgICAgIC5tYXAobWVtYmVyID0+IHJlcXVlc3RMb2NhdGlvblVwZGF0ZShtZW1iZXIuaWQpKTsKICAgICAgCiAgICAgIGF3YWl0IFByb21pc2UuYWxsKGxvY2F0aW9uUmVxdWVzdFByb21pc2VzKTsKICAgICAgCiAgICAgIHRvYXN0KHsgdGl0bGU6ICdSZWZyZXNoaW5nLi4uJywgZGVzY3JpcHRpb246ICdTZW50IGxvY2F0aW9uIHJlcXVlc3RzLiBHaXZlIGl0IGEgbW9tZW50IGZvciBkZXZpY2VzIHRvIHJlc3BvbmQuJyB9KTsKCiAgICAgIC8vIDIuIFdhaXQgYSBtb21lbnQgZm9yIGRldmljZXMgdG8gcmVzcG9uZCBiZWZvcmUgcmUtZmV0Y2hpbmcgZGF0YS4KICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgZmV0Y2hGYW1pbHlNZW1iZXJzKCk7CiAgICAgIH0sIDMwMDApOyAvLyAzLXNlY29uZCBkZWxheQogICAgfSk7CiAgfTsKCiAgaWYgKGlzTG9hZGluZykgewogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS00Ij4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InAtMyBib3JkZXIgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyBmbGV4LTEgbWluLXctMCI+CiAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCIgLz4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIG1pbi13LTAgc3BhY2UteS0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC00IHctMjQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMyB3LTMyIiAvPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTYgdy0xMiIgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICApOwogIH0KCiAgaWYgKGZhbWlseU1lbWJlcnMubGVuZ3RoID09PSAwKSB7CiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1jZW50ZXIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHB5LTQiPllvdSBoYXZlbid0IGFkZGVkIGFueSBmYW1pbHkgbWVtYmVycyB5ZXQuPC9wPgogIH0KICAKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCI+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LXJpZ2h0Ij4KICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9InNtIiBvbkNsaWNrPXtoYW5kbGVNYW51YWxSZWZyZXNofSBkaXNhYmxlZD17aXNSZWZyZXNoaW5nfT4KICAgICAgICAgICAgICB7aXNSZWZyZXNoaW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJoLTQgdy00IG1yLTIgYW5pbWF0ZS1zcGluIiAvPiA6IDxSZWZyZXNoQ3cgY2xhc3NOYW1lPSJoLTQgdy00IG1yLTIiIC8+fQogICAgICAgICAgICAgIFJlZnJlc2ggTGlzdAogICAgICAgICAgPC9CdXR0b24+CiAgICAgIDwvZGl2PgogICAgICB7ZmFtaWx5TWVtYmVycy5tYXAoKG1lbWJlcikgPT4gKAogICAgICAgIDxkaXYKICAgICAgICAgIGtleT17bWVtYmVyLmlkfQogICAgICAgICAgY2xhc3NOYW1lPSJwLTMgYm9yZGVyIHJvdW5kZWQtbGcgaG92ZXI6YmctbXV0ZWQvNTAgdHJhbnNpdGlvbi1jb2xvcnMiCiAgICAgICAgPgogICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgc206aXRlbXMtY2VudGVyIHNtOmp1c3RpZnktYmV0d2VlbiBnYXAtMyI+CiAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvdXNlcnMvJHttZW1iZXIuaWR9YH0gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgZmxleC0xIG1pbi13LTAiPgogICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtMTAgdy0xMCI+CiAgICAgICAgICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17bWVtYmVyLnByb2ZpbGVwaWN0dXJldXJsIHx8IHVuZGVmaW5lZH0gYWx0PXttZW1iZXIubmFtZX0gLz4KICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e21lbWJlci5uYW1lLmNoYXJBdCgwKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIG1pbi13LTAiPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1tZWRpdW0gdGV4dC1zbSB0ZXh0LWZvcmVncm91bmQgdHJ1bmNhdGUiPnttZW1iZXIubmFtZX08L3A+CiAgICAgICAgICAgICAgICAgICAge21lbWJlci50aGV5X2FyZV9zaGFyaW5nX3dpdGhfbWUgJiYgbWVtYmVyLmxhdGl0dWRlICYmIG1lbWJlci5sb25naXR1ZGUgPyAoCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtdC0wLjUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPXtgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL2Rpci8/YXBpPTEmZGVzdGluYXRpb249JHttZW1iZXIubGF0aXR1ZGV9LCR7bWVtYmVyLmxvbmdpdHVkZX1gfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD0iX2JsYW5rIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbD0ibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9InRleHQteHMgdGV4dC1ibHVlLTUwMCBob3Zlcjp1bmRlcmxpbmUgZmxleCBpdGVtcy1jZW50ZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9InctMyBoLTMgbXItMSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZXcgTG9jYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXh0ZXJuYWxMaW5rIGNsYXNzTmFtZT0idy0zIGgtMyBtbC0xIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVtYmVyLmxhc3RfdXBkYXRlZCAmJiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh7Zm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChuZXcgRGF0ZShtZW1iZXIubGFzdF91cGRhdGVkKSwgeyBhZGRTdWZmaXg6IHRydWUgfSl9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICkgOiBtZW1iZXIudGhleV9hcmVfc2hhcmluZ193aXRoX21lID8gKAogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTAuNSI+TG9jYXRpb24gbm90IGF2YWlsYWJsZTwvcD4KICAgICAgICAgICAgICAgICAgICApIDogbnVsbH0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LXNocmluay0wIHNlbGYtZW5kIHNtOnNlbGYtY2VudGVyIj4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlNoYXJlIE15IExvY2F0aW9uPC9zcGFuPgogICAgICAgICAgICAgICAgPExvY2F0aW9uU2hhcmluZ1RvZ2dsZQogICAgICAgICAgICAgICAgICAgIHRhcmdldFVzZXJJZD17bWVtYmVyLmlkfQogICAgICAgICAgICAgICAgICAgIGluaXRpYWxJc1NoYXJpbmc9e21lbWJlci5pX2FtX3NoYXJpbmdfd2l0aF90aGVtfQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgKSl9CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgRmFtaWx5TWVtYmVyc0NhcmQ7Cg==' | base64 -d > /root/localpulse/src/components/family-members-card.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB7IGdldFRvcExwUG9pbnRVc2VycyB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgeyBUcm9waHksIEF3YXJkIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CgpleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBUb3BQZXJmb3JtZXJNYXJxdWVlKCkgewogIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VG9wTHBQb2ludFVzZXJzKCk7CiAgY29uc3QgdG9wVXNlciA9IHVzZXJzPy5bMF07CgogIGlmICghdG9wVXNlcikgewogICAgcmV0dXJuIG51bGw7IC8vIERvbid0IHJlbmRlciBhbnl0aGluZyBpZiB0aGVyZSBhcmUgbm8gdXNlcnMKICB9CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUgZmxleCBvdmVyZmxvdy14LWhpZGRlbiBncm91cCByb3VuZGVkLWxnIGJvcmRlciBiZy1ncmFkaWVudC10by1yIGZyb20teWVsbG93LTUwMC8xMCB2aWEtYW1iZXItNTAwLzEwIHRvLW9yYW5nZS01MDAvMTAgcC0yIGJvcmRlci1hbWJlci01MDAvMzAgc2hhZG93LWlubmVyIj4KICAgICAgPExpbmsgaHJlZj17YC91c2Vycy8ke3RvcFVzZXIuaWR9YH0gY2xhc3NOYW1lPSJmbGV4IGFuaW1hdGUtbWFycXVlZSB3aGl0ZXNwYWNlLW5vd3JhcCBpdGVtcy1jZW50ZXIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWFtYmVyLTgwMCBkYXJrOnRleHQtYW1iZXItMzAwIj4KICAgICAgICA8VHJvcGh5IGNsYXNzTmFtZT0iaC01IHctNSBteC0zIHRleHQteWVsbG93LTUwMCBmbGV4LXNocmluay0wIiAvPgogICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1ib2xkIj4jMSBUb3AgUGVyZm9ybWVyOjwvc3Bhbj4KICAgICAgICA8c3BhbiBjbGFzc05hbWU9Im14LTIgdGV4dC1mb3JlZ3JvdW5kIj57dG9wVXNlci5uYW1lfTwvc3Bhbj4KICAgICAgICA8QXdhcmQgY2xhc3NOYW1lPSJoLTQgdy00IHRleHQtcHJpbWFyeSIgLz4KICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgbWwtMSI+e3RvcFVzZXIubHBfcG9pbnRzfSBMUDwvc3Bhbj4KICAgICAgPC9MaW5rPgogICAgICA8TGluayBocmVmPXtgL3VzZXJzLyR7dG9wVXNlci5pZH1gfSBjbGFzc05hbWU9ImFic29sdXRlIHRvcC0wIGZsZXggYW5pbWF0ZS1tYXJxdWVlMiB3aGl0ZXNwYWNlLW5vd3JhcCBpdGVtcy1jZW50ZXIgaC1mdWxsIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1hbWJlci04MDAgZGFyazp0ZXh0LWFtYmVyLTMwMCBwLTIiPgogICAgICAgIDxUcm9waHkgY2xhc3NOYW1lPSJoLTUgdy01IG14LTMgdGV4dC15ZWxsb3ctNTAwIGZsZXgtc2hyaW5rLTAiIC8+CiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LWJvbGQiPiMxIFRvcCBQZXJmb3JtZXI6PC9zcGFuPgogICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ibXgtMiB0ZXh0LWZvcmVncm91bmQiPnt0b3BVc2VyLm5hbWV9PC9zcGFuPgogICAgICAgIDxBd2FyZCBjbGFzc05hbWU9ImgtNCB3LTQgdGV4dC1wcmltYXJ5IiAvPgogICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtcHJpbWFyeSBtbC0xIj57dG9wVXNlci5scF9wb2ludHN9IExQPC9zcGFuPgogICAgICA8L0xpbms+CiAgICA8L2Rpdj4KICApOwp9Cg==' | base64 -d > /root/localpulse/src/components/top-performer-marquee.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGdldE1hbmRhbHNGb3JGZWVkLCB0b2dnbGVNYW5kYWxMaWtlLCBnZXRNYW5kYWxNZWRpYVBvc3RzLCBzZW5kQWFydGlOb3RpZmljYXRpb24sIHJlZ2lzdGVyRGV2aWNlVG9rZW4gfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKaW1wb3J0IHR5cGUgeyBHYW5wYXRpTWFuZGFsLCBVc2VyLCBQb3N0IH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBDYXJkLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEZvb3RlciwgQ2FyZENvbnRlbnQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBQYXJ0eVBvcHBlciwgTWFwUGluLCBUaHVtYnNVcCwgTG9hZGVyMiwgRmlsdGVyLCBFZGl0LCBCZWxsLCBBbGVydFRyaWFuZ2xlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICcuL3VpL3NrZWxldG9uJzsKaW1wb3J0IHsgTm9Qb3N0c0NvbnRlbnQgfSBmcm9tICcuL3Bvc3QtZmVlZC1jbGllbnQnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCBNYW5kYWxNYW5hZ2VtZW50RGlhbG9nIGZyb20gJy4vbWFuZGFsLW1hbmFnZW1lbnQtZGlhbG9nJzsKaW1wb3J0IHsgU2VsZWN0LCBTZWxlY3RDb250ZW50LCBTZWxlY3RJdGVtLCBTZWxlY3RUcmlnZ2VyLCBTZWxlY3RWYWx1ZSB9IGZyb20gJy4vdWkvc2VsZWN0JzsKaW1wb3J0IE1hbmRhbE1lZGlhVmlld2VyIGZyb20gJy4vbWFuZGFsLW1lZGlhLXZpZXdlcic7CmltcG9ydCBSZWdpc3Rlck1hbmRhbERpYWxvZyBmcm9tICcuL3JlZ2lzdGVyLW1hbmRhbC1kaWFsb2cnOwppbXBvcnQgeyBBbGVydERpYWxvZywgQWxlcnREaWFsb2dBY3Rpb24sIEFsZXJ0RGlhbG9nQ2FuY2VsLCBBbGVydERpYWxvZ0NvbnRlbnQsIEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24sIEFsZXJ0RGlhbG9nRm9vdGVyLCBBbGVydERpYWxvZ0hlYWRlciwgQWxlcnREaWFsb2dUaXRsZSwgQWxlcnREaWFsb2dUcmlnZ2VyIH0gZnJvbSAnLi91aS9hbGVydC1kaWFsb2cnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgeyBnZXRNZXNzYWdpbmcsIGdldFRva2VuIH0gZnJvbSAnZmlyZWJhc2UvbWVzc2FnaW5nJzsKaW1wb3J0IHsgZ2V0QXBwLCBnZXRBcHBzLCBpbml0aWFsaXplQXBwIH0gZnJvbSAnZmlyZWJhc2UvYXBwJzsKCgpjb25zdCBTZW5kQWFydGlOb3RpZmljYXRpb25CdXR0b246IFJlYWN0LkZDPHsgbWFuZGFsOiBHYW5wYXRpTWFuZGFsIH0+ID0gKHsgbWFuZGFsIH0pID0+IHsKICAgIGNvbnN0IFtpc1NlbmRpbmcsIHNldElzU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwoKICAgIGNvbnN0IGhhbmRsZVNlbmQgPSBhc3luYyAoKSA9PiB7CiAgICAgICAgc2V0SXNTZW5kaW5nKHRydWUpOwogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRBYXJ0aU5vdGlmaWNhdGlvbihtYW5kYWwuaWQpOwogICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgICB0b2FzdCh7IHRpdGxlOiAnTm90aWZpY2F0aW9uIFNlbnQhJywgZGVzY3JpcHRpb246IGBTZW50IEFhcnRpIG5vdGlmaWNhdGlvbiB0byAke3Jlc3VsdC5zZW50Q291bnR9IG5lYXJieSB1c2Vycy5gIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdGYWlsZWQgdG8gU2VuZCcsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICAgICAgfQogICAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7CiAgICB9OwoKICAgIHJldHVybiAoCiAgICAgIDxBbGVydERpYWxvZz4KICAgICAgICA8QWxlcnREaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0ic20iIGNsYXNzTmFtZT0iaC05Ij4KICAgICAgICAgICAgICAgIDxCZWxsIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBOb3RpZnkKICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9BbGVydERpYWxvZ1RyaWdnZXI+CiAgICAgICAgPEFsZXJ0RGlhbG9nQ29udGVudD4KICAgICAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGU+U2VuZCBBYXJ0aSBOb3RpZmljYXRpb24gZm9yIHttYW5kYWwubmFtZX0/PC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgVGhpcyB3aWxsIHNlbmQgYSBwdXNoIG5vdGlmaWNhdGlvbiB0byBhbGwgdXNlcnMgd2l0aGluIGEgMWttIHJhZGl1cyBvZiB5b3VyIG1hbmRhbC4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHByb2NlZWQ/CiAgICAgICAgICAgICAgICA8L0FsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICAgIDxBbGVydERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5DYW5jZWw8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nQWN0aW9uIG9uQ2xpY2s9e2hhbmRsZVNlbmR9IGRpc2FibGVkPXtpc1NlbmRpbmd9PgogICAgICAgICAgICAgICAgICAgIHtpc1NlbmRpbmcgJiYgPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIi8+fQogICAgICAgICAgICAgICAgICAgIFllcywgU2VuZCBOb3RpZmljYXRpb24KICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dBY3Rpb24+CiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgPC9BbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgIDwvQWxlcnREaWFsb2c+CiAgICApCn07CgoKY29uc3QgTWFuZGFsQ2FyZDogUmVhY3QuRkM8eyBtYW5kYWw6IEdhbnBhdGlNYW5kYWw7IHNlc3Npb25Vc2VyOiBVc2VyIHwgbnVsbDsgb25VcGRhdGU6ICgpID0+IHZvaWQ7IH0+ID0gKHsgbWFuZGFsOiBpbml0aWFsTWFuZGFsLCBzZXNzaW9uVXNlciwgb25VcGRhdGUgfSkgPT4gewogICAgY29uc3QgW21hbmRhbCwgc2V0TWFuZGFsXSA9IHVzZVN0YXRlKGluaXRpYWxNYW5kYWwpOwogICAgY29uc3QgW21lZGlhUG9zdHMsIHNldE1lZGlhUG9zdHNdID0gdXNlU3RhdGU8UG9zdFtdPihbXSk7CiAgICBjb25zdCBbaXNMb2FkaW5nTWVkaWEsIHNldElzTG9hZGluZ01lZGlhXSA9IHVzZVN0YXRlKHRydWUpOwogICAgY29uc3QgW2lzTGlraW5nLCBzZXRJc0xpa2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbc2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZywgc2V0U2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICAKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgc2V0TWFuZGFsKGluaXRpYWxNYW5kYWwpOwogICAgfSwgW2luaXRpYWxNYW5kYWxdKTsKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIHNldElzTG9hZGluZ01lZGlhKHRydWUpOwogICAgICAgIGdldE1hbmRhbE1lZGlhUG9zdHMobWFuZGFsLmlkKQogICAgICAgICAgICAudGhlbihzZXRNZWRpYVBvc3RzKQogICAgICAgICAgICAuZmluYWxseSgoKSA9PiBzZXRJc0xvYWRpbmdNZWRpYShmYWxzZSkpOwogICAgfSwgW21hbmRhbC5pZF0pOwoKICAgIGNvbnN0IGlzT3duZXIgPSBzZXNzaW9uVXNlcj8uaWQgPT09IG1hbmRhbC5hZG1pbl91c2VyX2lkOwoKICAgIGNvbnN0IHByb2NlZWRXaXRoTGlrZSA9IGFzeW5jICgpID0+IHsKICAgICAgICBzZXRJc0xpa2luZyh0cnVlKTsKICAgICAgICBjb25zdCBuZXdJc0xpa2VkID0gIW1hbmRhbC5pc0xpa2VkQnlDdXJyZW50VXNlcjsKICAgICAgICBjb25zdCBuZXdMaWtlQ291bnQgPSBtYW5kYWwuaXNMaWtlZEJ5Q3VycmVudFVzZXIgPyBtYW5kYWwubGlrZWNvdW50IC0gMSA6IG1hbmRhbC5saWtlY291bnQgKyAxOwogICAgICAgIHNldE1hbmRhbChwcmV2ID0+ICh7IC4uLnByZXYsIGlzTGlrZWRCeUN1cnJlbnRVc2VyOiBuZXdJc0xpa2VkLCBsaWtlY291bnQ6IG5ld0xpa2VDb3VudCB9KSk7CgogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRvZ2dsZU1hbmRhbExpa2UobWFuZGFsLmlkKTsKICAgICAgICBpZiAocmVzdWx0LmVycm9yIHx8ICFyZXN1bHQubWFuZGFsKSB7CiAgICAgICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRmFpbGVkIHRvIHVwZGF0ZSBsaWtlLicgfSk7CiAgICAgICAgICAgICBzZXRNYW5kYWwoaW5pdGlhbE1hbmRhbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgIHNldE1hbmRhbChyZXN1bHQubWFuZGFsKTsKICAgICAgICB9CiAgICAgICAgc2V0SXNMaWtpbmcoZmFsc2UpOwogICAgfTsKCiAgICBjb25zdCBoYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24gPSBhc3luYyAoKTogUHJvbWlzZTxib29sZWFuPiA9PiB7CiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICEoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSkgewogICAgICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAiVW5zdXBwb3J0ZWQiLCBkZXNjcmlwdGlvbjogIk5vdGlmaWNhdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLiJ9KTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHsKICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBBbHJlYWR5IGdyYW50ZWQKICAgICAgICB9CgogICAgICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2RlbmllZCcpIHsKICAgICAgICAgICBzZXRTaG93VHJvdWJsZXNob290aW5nRGlhbG9nKHRydWUpOwogICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc2V0SXNMaWtpbmcodHJ1ZSk7IC8vIFNob3cgbG9hZGluZyBzdGF0ZSBvbiBidXR0b24KICAgICAgICBjb25zdCBmaXJlYmFzZUNvbmZpZyA9IHsKICAgICAgICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSwKICAgICAgICAgIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLAogICAgICAgICAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lELAogICAgICAgICAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQsCiAgICAgICAgICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCwKICAgICAgICAgIGFwcElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQsCiAgICAgICAgfTsKICAgICAgICBjb25zdCB2YXBpZEtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1ZBUElEX0tFWTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb24gPSBhd2FpdCBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTsKICAgICAgICAgIGlmIChwZXJtaXNzaW9uICE9PSAnZ3JhbnRlZCcpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJOb3RpZmljYXRpb24gcGVybWlzc2lvbiB3YXMgbm90IGdyYW50ZWQuIik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCF2YXBpZEtleSkgdGhyb3cgbmV3IEVycm9yKCJXZWIgbm90aWZpY2F0aW9uIGtleSBpcyBub3QgY29uZmlndXJlZC4iKTsKCiAgICAgICAgICBjb25zdCBhcHAgPSBnZXRBcHBzKCkubGVuZ3RoID09PSAwID8gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZykgOiBnZXRBcHAoKTsKICAgICAgICAgIGNvbnN0IG1lc3NhZ2luZyA9IGdldE1lc3NhZ2luZyhhcHApOwogICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRUb2tlbihtZXNzYWdpbmcsIHsgdmFwaWRLZXkgfSk7CgogICAgICAgICAgaWYgKCF0b2tlbikgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZ2V0IGEgbm90aWZpY2F0aW9uIHRva2VuLiIpOwoKICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlZ2lzdGVyRGV2aWNlVG9rZW4odG9rZW4pOwogICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICJTdWNjZXNzISIsIGRlc2NyaXB0aW9uOiAiTm90aWZpY2F0aW9ucyBlbmFibGVkLiBZb3UgY2FuIG5vdyBsaWtlIHRoZSBtYW5kYWwuIn0pOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IgfHwgIkZhaWxlZCB0byByZWdpc3RlciB0b2tlbiB3aXRoIHNlcnZlci4iKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAiUmVnaXN0cmF0aW9uIEZhaWxlZCIsIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlIH0pOwogICAgICAgICAgc2V0U2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZyh0cnVlKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBzZXRJc0xpa2luZyhmYWxzZSk7CiAgICAgICAgfQogICAgfTsKCgogICAgY29uc3QgaGFuZGxlTGlrZSA9IGFzeW5jIChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgaWYgKGlzTGlraW5nKSByZXR1cm47CgogICAgICAgIGlmICghc2Vzc2lvblVzZXIpIHsKICAgICAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0xvZ2luIFJlcXVpcmVkJywgZGVzY3JpcHRpb246ICdQbGVhc2UgbG9nIGluIHRvIGxpa2UgYSBtYW5kYWwuIFJlZGlyZWN0aW5nLi4uJyB9KTsKICAgICAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IGNhblByb2NlZWQgPSBhd2FpdCBoYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24oKTsKICAgICAgICBpZiAoY2FuUHJvY2VlZCkgewogICAgICAgICAgICBhd2FpdCBwcm9jZWVkV2l0aExpa2UoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiAoCiAgICAgICAgPD4KICAgICAgICAgICAgPEFsZXJ0RGlhbG9nIG9wZW49e3Nob3dUcm91Ymxlc2hvb3RpbmdEaWFsb2d9IG9uT3BlbkNoYW5nZT17c2V0U2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZ30+CiAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dDb250ZW50PgogICAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9InctNSBoLTUgbXItMiB0ZXh0LWRlc3RydWN0aXZlIiAvPgogICAgICAgICAgICAgICAgICAgICAgRW5hYmxlIEJhY2tncm91bmQgTm90aWZpY2F0aW9ucwogICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dUaXRsZT4KICAgICAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMgdGV4dC1sZWZ0IHB0LTIgdGV4dC1mb3JlZ3JvdW5kLzgwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHA+VG8gbGlrZSBjb250ZW50LCB5b3UgbXVzdCBmaXJzdCBlbmFibGUgbm90aWZpY2F0aW9ucy4gVGhpcyBhbGxvd3MgdXMgdG8gc2VuZCB5b3UgaW1wb3J0YW50IGNvbW11bml0eSB1cGRhdGVzLjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPHA+SWYgeW91J3ZlIGJsb2NrZWQgbm90aWZpY2F0aW9ucywgcGxlYXNlIGVuYWJsZSB0aGVtIGluIHlvdXIgYnJvd3NlciBzZXR0aW5ncyBmb3IgdGhpcyBzaXRlLjwvcD4KICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgPC9BbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nRm9vdGVyPgogICAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5JJ2xsIGNoZWNrIGxhdGVyPC9BbGVydERpYWxvZ0NhbmNlbD4KICAgICAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dBY3Rpb24gb25DbGljaz17KCkgPT4gc2V0U2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZyhmYWxzZSl9PkdvdCBpdDwvQWxlcnREaWFsb2dBY3Rpb24+CiAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICAgICAgICA8L0FsZXJ0RGlhbG9nQ29udGVudD4KICAgICAgICAgICAgPC9BbGVydERpYWxvZz4KICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1zaGFkb3cgaC1mdWxsIHctZnVsbCBmbGV4IGZsZXgtY29sIj4KICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXByaW1hcnkiPgogICAgICAgICAgICAgICAgICAgICAgICA8UGFydHlQb3BwZXIgY2xhc3NOYW1lPSJ3LTUgaC01IiAvPgogICAgICAgICAgICAgICAgICAgICAgICB7bWFuZGFsLm5hbWV9CiAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgcHQtMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxNYXBQaW4gY2xhc3NOYW1lPSJ3LTQgaC00IiAvPgogICAgICAgICAgICAgICAgICAgICAgICB7bWFuZGFsLmNpdHl9CiAgICAgICAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0icC0wIj4KICAgICAgICAgICAgICAgICAgICB7aXNMb2FkaW5nTWVkaWEgPyAoCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhc3BlY3QtdmlkZW8gdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLW11dGVkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0idy02IGgtNiBhbmltYXRlLXNwaW4gdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgICAgICAgICA8TWFuZGFsTWVkaWFWaWV3ZXIgcG9zdHM9e21lZGlhUG9zdHN9IC8+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9InAtMyBib3JkZXItdCBiZy1tdXRlZC81MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZmxleC13cmFwIGdhcC0yIj4KICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIAogICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSJnaG9zdCIgCiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9InNtIiAKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJmbGV4LTEganVzdGlmeS1zdGFydCBoLTkiCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUxpa2V9CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xpa2luZ30KICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICAgIHtpc0xpa2luZyA/IDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpbiIgLz4gOiA8VGh1bWJzVXAgY2xhc3NOYW1lPXtjbigibXItMiBoLTQgdy00IiwgbWFuZGFsLmlzTGlrZWRCeUN1cnJlbnRVc2VyICYmICJmaWxsLWN1cnJlbnQgdGV4dC1ibHVlLTUwMCIpfSAvPn0KICAgICAgICAgICAgICAgICAgICAgICAge21hbmRhbC5saWtlY291bnR9IExpa2VzCiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAge2lzT3duZXIgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbmRBYXJ0aU5vdGlmaWNhdGlvbkJ1dHRvbiBtYW5kYWw9e21hbmRhbH0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNYW5kYWxNYW5hZ2VtZW50RGlhbG9nIG1hbmRhbD17bWFuZGFsfSBvblVwZGF0ZT17b25VcGRhdGV9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ic2Vjb25kYXJ5IiBzaXplPSJzbSIgY2xhc3NOYW1lPSJoLTkiPk1hbmFnZTwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9NYW5kYWxNYW5hZ2VtZW50RGlhbG9nPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgPC9DYXJkRm9vdGVyPgogICAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgPC8+CiAgICApOwp9OwoKCmNvbnN0IE1hbmRhbExpc3Q6IFJlYWN0LkZDPHsgc2Vzc2lvblVzZXI6IFVzZXIgfCBudWxsLCB1c2VyTG9jYXRpb246IHsgbGF0aXR1ZGU6IG51bWJlciwgbG9uZ2l0dWRlOiBudW1iZXIgfSB8IG51bGwgfT4gPSAoeyBzZXNzaW9uVXNlciwgdXNlckxvY2F0aW9uIH0pID0+IHsKICAgIGNvbnN0IFthbGxNYW5kYWxzLCBzZXRBbGxNYW5kYWxzXSA9IHVzZVN0YXRlPEdhbnBhdGlNYW5kYWxbXT4oW10pOwogICAgY29uc3QgW2ZpbHRlcmVkTWFuZGFscywgc2V0RmlsdGVyZWRNYW5kYWxzXSA9IHVzZVN0YXRlPEdhbnBhdGlNYW5kYWxbXT4oW10pOwogICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwogICAgY29uc3QgW2NpdGllcywgc2V0Q2l0aWVzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7CiAgICBjb25zdCBbc2VsZWN0ZWRDaXR5LCBzZXRTZWxlY3RlZENpdHldID0gdXNlU3RhdGU8c3RyaW5nPignYWxsJyk7CgogICAgY29uc3QgZmV0Y2hNYW5kYWxzID0gdXNlQ2FsbGJhY2soKCkgPT4gewogICAgICAgIHNldElzTG9hZGluZyh0cnVlKTsKICAgICAgICBnZXRNYW5kYWxzRm9yRmVlZChzZXNzaW9uVXNlcj8uaWQpCiAgICAgICAgICAgIC50aGVuKG1hbmRhbHMgPT4gewogICAgICAgICAgICAgICAgc2V0QWxsTWFuZGFscyhtYW5kYWxzKTsKICAgICAgICAgICAgICAgIHNldEZpbHRlcmVkTWFuZGFscyhtYW5kYWxzKTsKICAgICAgICAgICAgICAgIGNvbnN0IHVuaXF1ZUNpdGllcyA9IEFycmF5LmZyb20obmV3IFNldChtYW5kYWxzLm1hcChtID0+IG0uY2l0eSkpKS5zb3J0KCk7CiAgICAgICAgICAgICAgICBzZXRDaXRpZXModW5pcXVlQ2l0aWVzKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggbWFuZGFsczoiLCBlcnIpKQogICAgICAgICAgICAuZmluYWxseSgoKSA9PiBzZXRJc0xvYWRpbmcoZmFsc2UpKTsKICAgIH0sIFtzZXNzaW9uVXNlcl0pOwoKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgZmV0Y2hNYW5kYWxzKCk7CiAgICB9LCBbZmV0Y2hNYW5kYWxzXSk7CgogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBpZiAoc2VsZWN0ZWRDaXR5ID09PSAnYWxsJykgewogICAgICAgICAgICBzZXRGaWx0ZXJlZE1hbmRhbHMoYWxsTWFuZGFscyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgY2l0eUZpbHRlcmVkID0gYWxsTWFuZGFscy5maWx0ZXIobSA9PiBtLmNpdHkgPT09IHNlbGVjdGVkQ2l0eSk7CiAgICAgICAgICAgIHNldEZpbHRlcmVkTWFuZGFscyhjaXR5RmlsdGVyZWQuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSkpOwogICAgICAgIH0KICAgIH0sIFtzZWxlY3RlZENpdHksIGFsbE1hbmRhbHNdKTsKICAgIAogICAgaWYgKGlzTG9hZGluZykgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMCB3LWZ1bGwgbWF4LXcteHMiIC8+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS02Ij4KICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTY0IHctZnVsbCIgLz4KICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTY0IHctZnVsbCIgLz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICApOwogICAgfQogICAgCiAgICBpZiAoYWxsTWFuZGFscy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgcHktMTAiPgogICAgICAgICAgICAgICAgPE5vUG9zdHNDb250ZW50IGZlZWRUeXBlPSJmZXN0aXZhbCIgLz4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtdC02Ij4KICAgICAgICAgICAgICAgICAgICA8UmVnaXN0ZXJNYW5kYWxEaWFsb2cgdXNlckxvY2F0aW9uPXt1c2VyTG9jYXRpb259IHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0vPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICkKICAgIH0KICAgIAogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS00Ij4KICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC00IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC0zIGJvcmRlciBiZy1jYXJkIHJvdW5kZWQtbGciPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+S25vdyBhIE1hbmRhbCBub3QgbGlzdGVkIGhlcmU/PC9wPgogICAgICAgICAgICAgICAgPFJlZ2lzdGVyTWFuZGFsRGlhbG9nIHVzZXJMb2NhdGlvbj17dXNlckxvY2F0aW9ufSBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9IC8+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KICAgICAgICAgICAgICAgIDxGaWx0ZXIgY2xhc3NOYW1lPSJ3LTUgaC01IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCIvPgogICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRDaXR5fSBvblZhbHVlQ2hhbmdlPXtzZXRTZWxlY3RlZENpdHl9PgogICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT0idy1mdWxsIG1heC13LXhzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSJGaWx0ZXIgYnkgY2l0eS4uLiIgLz4KICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSJhbGwiPkFsbCBDaXRpZXMgKGJ5IExpa2VzKTwvU2VsZWN0SXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAge2NpdGllcy5tYXAoY2l0eSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2NpdHl9IHZhbHVlPXtjaXR5fT57Y2l0eX08L1NlbGVjdEl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD4KICAgICAgICAgICAgICAgIDwvU2VsZWN0PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTYiPgogICAgICAgICAgICAgICAge2ZpbHRlcmVkTWFuZGFscy5sZW5ndGggPiAwID8gKAogICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkTWFuZGFscy5tYXAobWFuZGFsID0+ICgKICAgICAgICAgICAgICAgICAgICAgICA8TWFuZGFsQ2FyZCAKICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXttYW5kYWwuaWR9IAogICAgICAgICAgICAgICAgICAgICAgICAgICBtYW5kYWw9e21hbmRhbH0gCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU9e2ZldGNoTWFuZGFsc30KICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgICkpCiAgICAgICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS0xMCB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgICAgICAgICA8cD5ObyBtYW5kYWxzIGZvdW5kIGZvciB0aGUgc2VsZWN0ZWQgY2l0eS48L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICk7Cn07CgpleHBvcnQgZGVmYXVsdCBNYW5kYWxMaXN0Owo=' | base64 -d > /root/localpulse/src/components/mandal-list.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgTG9hZGVyMiwgVXNlclBsdXMsIFVzZXJDaGVjaywgVXNlclgsIENsb2NrIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHR5cGUgeyBGYW1pbHlSZWxhdGlvbnNoaXBTdGF0dXMgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IHNlbmRGYW1pbHlSZXF1ZXN0LCByZXNwb25kVG9GYW1pbHlSZXF1ZXN0LCBjYW5jZWxGYW1pbHlSZXF1ZXN0IH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwoKaW50ZXJmYWNlIEZhbWlseUFjdGlvbkJ1dHRvblByb3BzIHsKICBpbml0aWFsU3RhdHVzOiBGYW1pbHlSZWxhdGlvbnNoaXBTdGF0dXM7CiAgdGFyZ2V0VXNlcklkOiBudW1iZXI7Cn0KCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZhbWlseUFjdGlvbkJ1dHRvbih7IGluaXRpYWxTdGF0dXMsIHRhcmdldFVzZXJJZCB9OiBGYW1pbHlBY3Rpb25CdXR0b25Qcm9wcykgewogIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZTxGYW1pbHlSZWxhdGlvbnNoaXBTdGF0dXM+KGluaXRpYWxTdGF0dXMpOwogIGNvbnN0IFtpc1BlbmRpbmcsIHN0YXJ0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlUmVxdWVzdCA9ICgpID0+IHsKICAgIHN0YXJ0VHJhbnNpdGlvbihhc3luYyAoKSA9PiB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRGYW1pbHlSZXF1ZXN0KHRhcmdldFVzZXJJZCk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIHNldFN0YXR1cygncGVuZGluZ19mcm9tX21lJyk7CiAgICAgICAgdG9hc3QoeyB0aXRsZTogJ1JlcXVlc3QgU2VudCcsIGRlc2NyaXB0aW9uOiBgWW91ciBmYW1pbHkgcmVxdWVzdCBoYXMgYmVlbiBzZW50LmAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB9KTsKICAgICAgfQogICAgfSk7CiAgfTsKICAKICBjb25zdCBoYW5kbGVDYW5jZWxSZXF1ZXN0ID0gKCkgPT4gewogICAgc3RhcnRUcmFuc2l0aW9uKGFzeW5jICgpID0+IHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FuY2VsRmFtaWx5UmVxdWVzdCh0YXJnZXRVc2VySWQpOwogICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICBzZXRTdGF0dXMoJ25vbmUnKTsKICAgICAgICB0b2FzdCh7IHRpdGxlOiAnUmVxdWVzdCBDYW5jZWxlZCcsIGRlc2NyaXB0aW9uOiBgWW91ciBmYW1pbHkgcmVxdWVzdCBoYXMgYmVlbiB3aXRoZHJhd24uYCB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJyb3InLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIH0pOwogICAgICB9CiAgICB9KTsKICB9OwoKICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IChyZXNwb25zZTogJ2FwcHJvdmUnIHwgJ3JlamVjdCcpID0+IHsKICAgIHN0YXJ0VHJhbnNpdGlvbihhc3luYyAoKSA9PiB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbmRUb0ZhbWlseVJlcXVlc3QodGFyZ2V0VXNlcklkLCByZXNwb25zZSk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIHNldFN0YXR1cyhyZXNwb25zZSA9PT0gJ2FwcHJvdmUnID8gJ2FwcHJvdmVkJyA6ICdub25lJyk7CiAgICAgICAgdG9hc3QoeyB0aXRsZTogYFJlcXVlc3QgJHtyZXNwb25zZX1kYCwgZGVzY3JpcHRpb246IGBZb3UgaGF2ZSAke3Jlc3BvbnNlfWQgdGhlIGZhbWlseSByZXF1ZXN0LmAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB9KTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgY29uc3QgaXNUcmFuc2l0aW9uaW5nID0gaXNQZW5kaW5nOwoKICBzd2l0Y2ggKHN0YXR1cykgewogICAgY2FzZSAnbm9uZSc6CiAgICAgIHJldHVybiA8QnV0dG9uIHNpemU9InNtIiBvbkNsaWNrPXtoYW5kbGVSZXF1ZXN0fSBkaXNhYmxlZD17aXNUcmFuc2l0aW9uaW5nfT48VXNlclBsdXMgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+IEFkZCBGYW1pbHk8L0J1dHRvbj47CiAgICBjYXNlICdwZW5kaW5nX2Zyb21fbWUnOgogICAgICByZXR1cm4gPEJ1dHRvbiBzaXplPSJzbSIgdmFyaWFudD0ib3V0bGluZSIgb25DbGljaz17aGFuZGxlQ2FuY2VsUmVxdWVzdH0gZGlzYWJsZWQ9e2lzVHJhbnNpdGlvbmluZ30+PENsb2NrIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBSZXF1ZXN0IFNlbnQ8L0J1dHRvbj47CiAgICBjYXNlICdwZW5kaW5nX2Zyb21fdGhlbSc6CiAgICAgIHJldHVybiAoCiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZ2FwLTIiPgogICAgICAgICAgPEJ1dHRvbiBzaXplPSJzbSIgdmFyaWFudD0iZGVmYXVsdCIgb25DbGljaz17KCkgPT4gaGFuZGxlUmVzcG9uc2UoJ2FwcHJvdmUnKX0gZGlzYWJsZWQ9e2lzVHJhbnNpdGlvbmluZ30+PFVzZXJDaGVjayBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gQWNjZXB0PC9CdXR0b24+CiAgICAgICAgICA8QnV0dG9uIHNpemU9InNtIiB2YXJpYW50PSJkZXN0cnVjdGl2ZSIgb25DbGljaz17KCkgPT4gaGFuZGxlUmVzcG9uc2UoJ3JlamVjdCcpfSBkaXNhYmxlZD17aXNUcmFuc2l0aW9uaW5nfT48VXNlclggY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+IFJlamVjdDwvQnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICApOwogICAgY2FzZSAnYXBwcm92ZWQnOgogICAgICByZXR1cm4gPEJ1dHRvbiBzaXplPSJzbSIgdmFyaWFudD0ic2Vjb25kYXJ5IiBkaXNhYmxlZD48VXNlckNoZWNrIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBGYW1pbHkgTWVtYmVyPC9CdXR0b24+OwogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIG51bGw7CiAgfQp9Cg==' | base64 -d > /root/localpulse/src/components/family-action-button.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NrZWxldG9uJzsKCmV4cG9ydCBjb25zdCBTdGF0dXNGZWVkU2tlbGV0b24gPSAoKSA9PiAoCiAgPGRpdiBjbGFzc05hbWU9InB5LTQgYm9yZGVyLWIiPgogICAgPGRpdiBjbGFzc05hbWU9ImZsZXggc3BhY2UteC00IHAtMiBvdmVyZmxvdy1oaWRkZW4iPgogICAgICB7Wy4uLkFycmF5KDYpXS5tYXAoKF8sIGkpID0+ICgKICAgICAgICA8ZGl2IGtleT17aX0gY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBzcGFjZS15LTIgZmxleC1zaHJpbmstMCI+CiAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTE2IHctMTYgcm91bmRlZC1mdWxsIiAvPgogICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0zIHctMTIiIC8+CiAgICAgICAgPC9kaXY+CiAgICAgICkpfQogICAgPC9kaXY+CiAgPC9kaXY+Cik7Cg==' | base64 -d > /root/localpulse/src/components/status-feed-skeleton.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVN0YXRlLCB1c2VUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgdG9nZ2xlRm9sbG93IH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IExvYWRlcjIsIFVzZXJQbHVzLCBVc2VyQ2hlY2sgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CgppbnRlcmZhY2UgRm9sbG93QnV0dG9uUHJvcHMgewogIHRhcmdldFVzZXJJZDogbnVtYmVyOwogIGluaXRpYWxJc0ZvbGxvd2luZzogYm9vbGVhbjsKfQoKY29uc3QgRm9sbG93QnV0dG9uOiBGQzxGb2xsb3dCdXR0b25Qcm9wcz4gPSAoeyB0YXJnZXRVc2VySWQsIGluaXRpYWxJc0ZvbGxvd2luZyB9KSA9PiB7CiAgY29uc3QgW2lzRm9sbG93aW5nLCBzZXRJc0ZvbGxvd2luZ10gPSB1c2VTdGF0ZShpbml0aWFsSXNGb2xsb3dpbmcpOwogIGNvbnN0IFtpc1BlbmRpbmcsIHN0YXJ0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlRm9sbG93Q2xpY2sgPSAoKSA9PiB7CiAgICBzdGFydFRyYW5zaXRpb24oYXN5bmMgKCkgPT4gewogICAgICAvLyBPcHRpbWlzdGljYWxseSB1cGRhdGUgdGhlIFVJIGZvciBhIHJlc3BvbnNpdmUgZmVlbAogICAgICBzZXRJc0ZvbGxvd2luZyhjdXJyZW50ID0+ICFjdXJyZW50KTsKCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRvZ2dsZUZvbGxvdyh0YXJnZXRVc2VySWQpOwoKICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHR5cGVvZiByZXN1bHQuaXNGb2xsb3dpbmcgPT09ICdib29sZWFuJykgewogICAgICAgIC8vIFVwZGF0ZSB0aGUgc3RhdGUgd2l0aCB0aGUgYXV0aG9yaXRhdGl2ZSB2YWx1ZSBmcm9tIHRoZSBzZXJ2ZXIKICAgICAgICBzZXRJc0ZvbGxvd2luZyhyZXN1bHQuaXNGb2xsb3dpbmcpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIElmIHRoZSBhY3Rpb24gZmFpbGVkLCByZXZlcnQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIGFuZCBzaG93IGFuIGVycm9yCiAgICAgICAgc2V0SXNGb2xsb3dpbmcoY3VycmVudCA9PiAhY3VycmVudCk7IAogICAgICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byB1cGRhdGUgZm9sbG93IHN0YXR1czoiLCByZXN1bHQuZXJyb3IpOwogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgICAgICB0aXRsZTogJ0FjdGlvbiBGYWlsZWQnLAogICAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB8fCAnQ291bGQgbm90IHVwZGF0ZSBmb2xsb3cgc3RhdHVzLicsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIHJldHVybiAoCiAgICA8QnV0dG9uCiAgICAgIG9uQ2xpY2s9e2hhbmRsZUZvbGxvd0NsaWNrfQogICAgICBkaXNhYmxlZD17aXNQZW5kaW5nfQogICAgICBzaXplPSJzbSIKICAgICAgdmFyaWFudD17aXNGb2xsb3dpbmcgPyAnb3V0bGluZScgOiAnZGVmYXVsdCd9CiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgInRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCIsCiAgICAgICAgaXNGb2xsb3dpbmcgPyAidGV4dC1wcmltYXJ5IGJvcmRlci1wcmltYXJ5IGhvdmVyOmJnLXByaW1hcnkvMTAiIDogIiIKICAgICAgKX0KICAgID4KICAgICAge2lzUGVuZGluZyA/ICgKICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+CiAgICAgICkgOiBpc0ZvbGxvd2luZyA/ICgKICAgICAgICA8VXNlckNoZWNrIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICApIDogKAogICAgICAgIDxVc2VyUGx1cyBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4KICAgICAgKX0KICAgICAge2lzRm9sbG93aW5nID8gJ0ZvbGxvd2luZycgOiAnRm9sbG93J30KICAgIDwvQnV0dG9uPgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBGb2xsb3dCdXR0b247Cg==' | base64 -d > /root/localpulse/src/components/follow-button.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBTa2VsZXRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9za2VsZXRvbic7CgpleHBvcnQgY29uc3QgUG9zdENhcmRTa2VsZXRvbiA9ICgpID0+IHsKICByZXR1cm4gKAogICAgPENhcmQgY2xhc3NOYW1lPSJvdmVyZmxvdy1oaWRkZW4gc2hhZG93LXhsIHJvdW5kZWQteGwiPgogICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9ImZsZXggZmxleC1yb3cgaXRlbXMtc3RhcnQgc3BhY2UteC00IHAtNSI+CiAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMiB3LTEyIHJvdW5kZWQtZnVsbCIgLz4KICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIHNwYWNlLXktMiI+CiAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy0zLzQiIC8+CiAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy0xLzIiIC8+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0icHgtNSBwYi01IHNwYWNlLXktMiI+CiAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC00IHctZnVsbCIgLz4KICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy01LzYiIC8+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIHctZnVsbCBhc3BlY3QtWzE2LzEwXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZyBtdC00Ij4KICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtZnVsbCB3LWZ1bGwiIC8+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICA8L0NhcmQ+CiAgKTsKfTsK' | base64 -d > /root/localpulse/src/components/post-card-skeleton.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKaW1wb3J0IFJlYWN0LCB7IHR5cGUgRkMgfSBmcm9tICdyZWFjdCc7IC8vIEltcG9ydCBSZWFjdAppbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCBkeW5hbWljIGZyb20gJ25leHQvZHluYW1pYyc7CmltcG9ydCB7IEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEF2YXRhckltYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2F2YXRhcic7CmltcG9ydCB0eXBlIHsgUG9zdCwgQ29tbWVudCBhcyBDb21tZW50VHlwZSwgVXNlciB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdCB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IHsgVXNlckNpcmNsZSwgTWVzc2FnZUNpcmNsZSwgU2hhcmUyLCBUaHVtYnNVcCwgUGxheUNpcmNsZSwgVm9sdW1lWCwgVm9sdW1lMiwgQWxlcnRUcmlhbmdsZSwgUmVmcmVzaEN3IH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IHRvZ2dsZUxpa2VQb3N0LCBsaWtlUG9zdEFub255bW91c2x5IH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBSZWVsQ29tbWVudHNTa2VsZXRvbiB9IGZyb20gJy4vcmVlbC1jb21tZW50cy1za2VsZXRvbic7CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnLi91aS9za2VsZXRvbic7Cgpjb25zdCBSZWVsQ29tbWVudHMgPSBkeW5hbWljKCgpID0+IGltcG9ydCgnLi9yZWVsLWNvbW1lbnRzJyksIHsKICAgIGxvYWRpbmc6ICgpID0+IDxSZWVsQ29tbWVudHNTa2VsZXRvbiAvPiwKICAgIHNzcjogZmFsc2UsCn0pOwoKCmNvbnN0IGdldEFub255bW91c0xpa2VkUG9zdHMgPSAoKTogbnVtYmVyW10gPT4gewogICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICJ1bmRlZmluZWQiKSByZXR1cm4gW107CiAgICB0cnkgewogICAgICAgIGNvbnN0IGl0ZW0gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2FscHVsc2UtYW5vbnltb3VzLWxpa2VzJyk7CiAgICAgICAgcmV0dXJuIGl0ZW0gPyBKU09OLnBhcnNlKGl0ZW0pIDogW107CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUud2FybigiRXJyb3IgcmVhZGluZyBhbm9ueW1vdXMgbGlrZXMgZnJvbSBsb2NhbFN0b3JhZ2UiLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIFtdOwogICAgfQp9OwoKaW50ZXJmYWNlIFJlZWxJdGVtUHJvcHMgewogIHBvc3Q6IFBvc3Q7CiAgaXNBY3RpdmU6IGJvb2xlYW47CiAgc2Vzc2lvblVzZXI6IFVzZXIgfCBudWxsOwp9CgpleHBvcnQgY29uc3QgUmVlbEl0ZW06IEZDPFJlZWxJdGVtUHJvcHM+ID0gKHsgcG9zdCwgaXNBY3RpdmUsIHNlc3Npb25Vc2VyIH0pID0+IHsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IHRpbWVBZ28gPSBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KG5ldyBEYXRlKHBvc3QuY3JlYXRlZGF0KSwgeyBhZGRTdWZmaXg6IHRydWUgfSk7CgogIGNvbnN0IFtpc0xpa2VkQnlDbGllbnQsIHNldElzTGlrZWRCeUNsaWVudF0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2Rpc3BsYXlMaWtlQ291bnQsIHNldERpc3BsYXlMaWtlQ291bnRdID0gdXNlU3RhdGU8bnVtYmVyPihwb3N0Lmxpa2Vjb3VudCk7CiAgY29uc3QgW2lzTGlraW5nLCBzZXRJc0xpa2luZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7CiAgY29uc3QgW2Rpc3BsYXlDb21tZW50Q291bnQsIHNldERpc3BsYXlDb21tZW50Q291bnRdID0gdXNlU3RhdGU8bnVtYmVyPihwb3N0LmNvbW1lbnRjb3VudCk7CiAgY29uc3QgW3Nob3dDb21tZW50cywgc2V0U2hvd0NvbW1lbnRzXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbY3VycmVudE9yaWdpbiwgc2V0Q3VycmVudE9yaWdpbl0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7CiAgY29uc3QgW2lzTXV0ZWQsIHNldElzTXV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBEZWZhdWx0IHRvIHVubXV0ZWQKICBjb25zdCBbbWVkaWFFcnJvciwgc2V0TWVkaWFFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgc2V0Q3VycmVudE9yaWdpbih3aW5kb3cubG9jYXRpb24ub3JpZ2luKTsKICAgIH0KICB9LCBbXSk7CiAgCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIHNldERpc3BsYXlMaWtlQ291bnQocG9zdC5saWtlY291bnQpOwogICAgc2V0RGlzcGxheUNvbW1lbnRDb3VudChwb3N0LmNvbW1lbnRjb3VudCk7CiAgICBpZiAoc2Vzc2lvblVzZXIpIHsKICAgICAgICBzZXRJc0xpa2VkQnlDbGllbnQocG9zdC5pc0xpa2VkQnlDdXJyZW50VXNlciB8fCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICAgIHNldElzTGlrZWRCeUNsaWVudChnZXRBbm9ueW1vdXNMaWtlZFBvc3RzKCkuaW5jbHVkZXMocG9zdC5pZCkpOwogICAgfQogICAgc2V0U2hvd0NvbW1lbnRzKGZhbHNlKTsKICAgIHNldElzTXV0ZWQoZmFsc2UpOyAvLyBFbnN1cmUgbmV3IHZpZGVvcyBzdGFydCB1bm11dGVkCiAgICBzZXRNZWRpYUVycm9yKGZhbHNlKTsKICAgIAogIH0sIFtwb3N0LmlkLCBwb3N0Lmxpa2Vjb3VudCwgcG9zdC5jb21tZW50Y291bnQsIHBvc3QuaXNMaWtlZEJ5Q3VycmVudFVzZXIsIHNlc3Npb25Vc2VyXSk7CgoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgY29uc3QgdmlkZW9FbGVtZW50ID0gdmlkZW9SZWYuY3VycmVudDsKICAgIGlmICghdmlkZW9FbGVtZW50IHx8IHBvc3QubWVkaWF0eXBlICE9PSAndmlkZW8nIHx8IHBvc3QubWVkaWF1cmxzPy5bMF0/LmluY2x1ZGVzKCd5b3V0dWJlLmNvbS9lbWJlZCcpKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoaXNBY3RpdmUpIHsKICAgICAgdmlkZW9FbGVtZW50Lm11dGVkID0gaXNNdXRlZDsKICAgICAgY29uc3QgcGxheVByb21pc2UgPSB2aWRlb0VsZW1lbnQucGxheSgpOwogICAgICBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHBsYXlQcm9taXNlLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUud2FybigiVW5tdXRlZCBhdXRvcGxheSBmYWlsZWQuIE11dGluZyBhbmQgcmV0cnlpbmcuIiwgZXJyb3IpOwogICAgICAgICAgaWYgKHZpZGVvRWxlbWVudCkgeyAKICAgICAgICAgICAgc2V0SXNNdXRlZCh0cnVlKTsKICAgICAgICAgICAgdmlkZW9FbGVtZW50Lm11dGVkID0gdHJ1ZTsKICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBsYXkoKS5jYXRjaChmaW5hbEVycm9yID0+IHsKICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiTXV0ZWQgYXV0b3BsYXkgYWxzbyBmYWlsZWQuIiwgZmluYWxFcnJvcik7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZpZGVvRWxlbWVudC5wYXVzZSgpOwogICAgfQogIH0sIFtpc0FjdGl2ZSwgcG9zdC5tZWRpYXR5cGUsIHBvc3QubWVkaWF1cmxzLCBpc011dGVkXSk7CiAgCiAgY29uc3QgaGFuZGxlUmV0cnlWaWRlbyA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7CiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHsKICAgICAgICBzZXRNZWRpYUVycm9yKGZhbHNlKTsKICAgICAgICB2aWRlb1JlZi5jdXJyZW50LmxvYWQoKTsKICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnBsYXkoKS5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcigiUmV0cnkgcGxheSBmYWlsZWQiLCBlcnIpKTsKICAgIH0KICB9OwoKICBjb25zdCBoYW5kbGVMaWtlQ2xpY2sgPSBhc3luYyAoKSA9PiB7CiAgICBpZiAoaXNMaWtpbmcpIHJldHVybjsKICAgIHNldElzTGlraW5nKHRydWUpOwoKICAgIGNvbnN0IG9yaWdpbmFsTGlrZVN0YXRlID0gaXNMaWtlZEJ5Q2xpZW50OwogICAgY29uc3Qgb3JpZ2luYWxMaWtlQ291bnQgPSBkaXNwbGF5TGlrZUNvdW50OwoKICAgIHNldElzTGlrZWRCeUNsaWVudCghb3JpZ2luYWxMaWtlU3RhdGUpOwogICAgc2V0RGlzcGxheUxpa2VDb3VudChwcmV2ID0+IG9yaWdpbmFsTGlrZVN0YXRlID8gcHJldiAtIDEgOiBwcmV2ICsgMSk7CgogICAgdHJ5IHsKICAgICAgICBjb25zdCByZXN1bHQgPSBzZXNzaW9uVXNlciAKICAgICAgICAgICAgPyBhd2FpdCB0b2dnbGVMaWtlUG9zdChwb3N0LmlkKSAKICAgICAgICAgICAgOiBhd2FpdCBsaWtlUG9zdEFub255bW91c2x5KHBvc3QuaWQpOwoKICAgICAgICBpZiAocmVzdWx0LmVycm9yIHx8ICFyZXN1bHQucG9zdCkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gdG9nZ2xlIGxpa2U6IiwgcmVzdWx0LmVycm9yKTsKICAgICAgICAgICAgc2V0SXNMaWtlZEJ5Q2xpZW50KG9yaWdpbmFsTGlrZVN0YXRlKTsKICAgICAgICAgICAgc2V0RGlzcGxheUxpa2VDb3VudChvcmlnaW5hbExpa2VDb3VudCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKCFzZXNzaW9uVXNlcikgewogICAgICAgICAgICAgICAgY29uc3QgY3VycmVudExpa2VzID0gZ2V0QW5vbnltb3VzTGlrZWRQb3N0cygpOwogICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2NhbHB1bHNlLWFub255bW91cy1saWtlcycsIEpTT04uc3RyaW5naWZ5KFsuLi5jdXJyZW50TGlrZXMsIHBvc3QuaWRdKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2V0RGlzcGxheUxpa2VDb3VudChyZXN1bHQucG9zdC5saWtlY291bnQpOwogICAgICAgICAgICBzZXRJc0xpa2VkQnlDbGllbnQocmVzdWx0LnBvc3QuaXNMaWtlZEJ5Q3VycmVudFVzZXIgfHwgIXNlc3Npb25Vc2VyKTsKICAgICAgICB9CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkFuIHVuZXhwZWN0ZWQgc2VydmVyIGVycm9yIG9jY3VycmVkIGR1cmluZyBsaWtlIGFjdGlvbjoiLCBlcnJvcik7CiAgICAgICAgc2V0SXNMaWtlZEJ5Q2xpZW50KG9yaWdpbmFsTGlrZVN0YXRlKTsKICAgICAgICBzZXREaXNwbGF5TGlrZUNvdW50KG9yaWdpbmFsTGlrZUNvdW50KTsKICAgIH0gZmluYWxseSB7CiAgICAgICAgc2V0SXNMaWtpbmcoZmFsc2UpOwogICAgfQogIH07CgogIGNvbnN0IGhhbmRsZVNoYXJlID0gYXN5bmMgKCkgPT4gewogICAgY29uc3QgcG9zdFVybCA9IGAke2N1cnJlbnRPcmlnaW59L3Bvc3RzLyR7cG9zdC5pZH1gOwogICAgY29uc3Qgc2hhcmVEYXRhID0gewogICAgICB0aXRsZTogJ0NoZWNrIG91dCB0aGlzIExvY2FsUHVsc2UgUmVlbCEnLAogICAgICB0ZXh0OiBwb3N0LmNvbnRlbnQsCiAgICAgIHVybDogcG9zdFVybCwKICAgIH07CgogICAgaWYgKG5hdmlnYXRvci5zaGFyZSkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IG5hdmlnYXRvci5zaGFyZShzaGFyZURhdGEpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNoYXJpbmc6JywgZXJyb3IpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHBvc3RVcmwpOwogICAgICAgIHRvYXN0KHsgdGl0bGU6ICJMaW5rIENvcGllZCEiLCBkZXNjcmlwdGlvbjogIlRoZSBsaW5rIHRvIHRoaXMgcmVlbCBoYXMgYmVlbiBjb3BpZWQuIiB9KTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGNvcHkgbGluazoiLCBlcnIpOwogICAgICB9CiAgICB9CiAgfTsKCiAgY29uc3QgaGFuZGxlVmlkZW9UYXAgPSAoKSA9PiB7CiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkgewogICAgICBjb25zdCBjdXJyZW50VmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50OwogICAgICBpZiAoY3VycmVudFZpZGVvLnBhdXNlZCkgewogICAgICAgIGN1cnJlbnRWaWRlby5wbGF5KCkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS53YXJuKCJQbGF5IG9uIHRhcCBmYWlsZWQuIEF1dG9wbGF5IG1pZ2h0IGJlIHN0cmljdGx5IGJsb2NrZWQuIiwgZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IG5ld011dGVkU3RhdGUgPSAhY3VycmVudFZpZGVvLm11dGVkOwogICAgICAgIGN1cnJlbnRWaWRlby5tdXRlZCA9IG5ld011dGVkU3RhdGU7CiAgICAgICAgc2V0SXNNdXRlZChuZXdNdXRlZFN0YXRlKTsKICAgICAgfQogICAgfQogIH07CiAgCiAgY29uc3QgaGFuZGxlQ29tbWVudFBvc3RlZCA9IChuZXdDb21tZW50OiBDb21tZW50VHlwZSkgPT4gewogICAgc2V0RGlzcGxheUNvbW1lbnRDb3VudChwcmV2ID0+IHByZXYgKyAxKTsKICB9OwogIAogIGNvbnN0IGlzWW91VHViZVZpZGVvID0gcG9zdC5tZWRpYXVybHM/LlswXT8uaW5jbHVkZXMoJ3lvdXR1YmUuY29tL2VtYmVkJyk7CgogIGNvbnN0IEF1dGhvckluZm86IEZDPHtjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7CiAgICBpZiAocG9zdC5hdXRob3JpZCkgewogICAgICAgIHJldHVybiA8TGluayBocmVmPXtgL3VzZXJzLyR7cG9zdC5hdXRob3JpZH1gfSBjbGFzc05hbWU9ImhvdmVyOm9wYWNpdHktODAgdHJhbnNpdGlvbi1vcGFjaXR5Ij57Y2hpbGRyZW59PC9MaW5rPgogICAgfQogICAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjsKICB9CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iaC1mdWxsIHctZnVsbCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayByZWxhdGl2ZSB0ZXh0LXdoaXRlIj4KICAgICAgPGRpdiBjbGFzc05hbWU9InctZnVsbCBmbGV4LWdyb3cgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuIHJlbGF0aXZlIiBvbkNsaWNrPXtoYW5kbGVWaWRlb1RhcH0+CiAgICAgICAgeyAocG9zdC5tZWRpYXR5cGUgPT09ICdpbWFnZScgfHwgcG9zdC5tZWRpYXR5cGUgPT09ICdnYWxsZXJ5JykgJiYgcG9zdC5tZWRpYXVybHM/LlswXSAmJiAoCiAgICAgICAgICA8SW1hZ2UKICAgICAgICAgICAgc3JjPXtwb3N0Lm1lZGlhdXJsc1swXX0KICAgICAgICAgICAgYWx0PSJSZWVsIGltYWdlIgogICAgICAgICAgICBmaWxsCiAgICAgICAgICAgIHN0eWxlPXt7IG9iamVjdEZpdDogImNvbnRhaW4iIH19CiAgICAgICAgICAgIHNpemVzPSIxMDB2dyIKICAgICAgICAgICAgcHJpb3JpdHk9e2lzQWN0aXZlfQogICAgICAgICAgICBkYXRhLWFpLWhpbnQ9InVzZXIgZ2VuZXJhdGVkIGNvbnRlbnQiCiAgICAgICAgICAvPgogICAgICAgICl9CiAgICAgICAge3Bvc3QubWVkaWF0eXBlID09PSAndmlkZW8nICYmIHBvc3QubWVkaWF1cmxzPy5bMF0gJiYgKAogICAgICAgICAgPD4KICAgICAgICAgICAge2lzWW91VHViZVZpZGVvID8gKAogICAgICAgICAgICAgIDxpZnJhbWUKICAgICAgICAgICAgICAgICAgc3JjPXtwb3N0Lm1lZGlhdXJsc1swXX0KICAgICAgICAgICAgICAgICAgdGl0bGU9IllvdVR1YmUgdmlkZW8gcGxheWVyIgogICAgICAgICAgICAgICAgICBmcmFtZUJvcmRlcj0iMCIKICAgICAgICAgICAgICAgICAgYWxsb3c9ImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSIKICAgICAgICAgICAgICAgICAgYWxsb3dGdWxsU2NyZWVuCiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0idy1mdWxsIGgtZnVsbCIKICAgICAgICAgICAgICA+PC9pZnJhbWU+CiAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgPD4KICAgICAgICAgICAgICAgIDx2aWRlbwogICAgICAgICAgICAgICAgICByZWY9e3ZpZGVvUmVmfQogICAgICAgICAgICAgICAgICBzcmM9e3Bvc3QubWVkaWF1cmxzWzBdfQogICAgICAgICAgICAgICAgICBsb29wCiAgICAgICAgICAgICAgICAgIHBsYXlzSW5saW5lCiAgICAgICAgICAgICAgICAgIHByZWxvYWQ9ImF1dG8iCiAgICAgICAgICAgICAgICAgIG9uRXJyb3I9eygpID0+IHNldE1lZGlhRXJyb3IodHJ1ZSl9CiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvbnRhaW4iLCBtZWRpYUVycm9yICYmICJpbnZpc2libGUiKX0KICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAge21lZGlhRXJyb3IgJiYgKAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhYnNvbHV0ZSBpbnNldC0wIGJnLWJsYWNrLzUwIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgcC00IHotMjAiPgogICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9InctMTIgaC0xMiBtYi0zIHRleHQteWVsbG93LTQwMCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCBtYi00IHRleHQtY2VudGVyIj5UaGlzIFJlZWwgY291bGQgbm90IGJlIGxvYWRlZC48L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlUmV0cnlWaWRlb30gdmFyaWFudD0ic2Vjb25kYXJ5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPSJ3LTQgaC00IG1yLTIiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyeSBBZ2FpbgogICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICB7IW1lZGlhRXJyb3IgJiYgKAogICAgICAgICAgICAgICAgICA8PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gCiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9ImFic29sdXRlIHRvcC00IHJpZ2h0LTQgcC0yIGJnLWJsYWNrLzUwIHJvdW5kZWQtZnVsbCBjdXJzb3ItcG9pbnRlciB6LTEwIgogICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaGFuZGxlVmlkZW9UYXAoKTsgfX0KICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICB7aXNNdXRlZCA/IDxWb2x1bWVYIGNsYXNzTmFtZT0idy01IGgtNSB0ZXh0LXdoaXRlIiAvPiA6IDxWb2x1bWUyIGNsYXNzTmFtZT0idy01IGgtNSB0ZXh0LXdoaXRlIiAvPn0KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICB7dmlkZW9SZWYuY3VycmVudD8ucGF1c2VkICYmIGlzQWN0aXZlICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcG9pbnRlci1ldmVudHMtbm9uZSB6LTAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBsYXlDaXJjbGUgY2xhc3NOYW1lPSJ3LTE2IGgtMTYgdGV4dC13aGl0ZS81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtZnVsbCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgPC8+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIDwvPgogICAgICAgICAgICApfQogICAgICAgICAgPC8+CiAgICAgICAgKX0KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzTmFtZT0iYWJzb2x1dGUgYm90dG9tLTE2IGxlZnQtMCByaWdodC0wIHAtNCBwYi0yIGJnLWdyYWRpZW50LXRvLXQgZnJvbS1ibGFjay82MCB2aWEtYmxhY2svMzAgdG8tdHJhbnNwYXJlbnQgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtZW5kIj4KICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIHNwYWNlLXktMS41IG1heC13LVtjYWxjKDEwMCUtNXJlbSldIj4KICAgICAgICAgIDxBdXRob3JJbmZvPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIj4KICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC05IHctOSBib3JkZXItMiBib3JkZXItd2hpdGUvNjAiPgogICAgICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17cG9zdC5hdXRob3Jwcm9maWxlcGljdHVyZXVybCA/PyB1bmRlZmluZWR9IGFsdD17cG9zdC5hdXRob3JuYW1lIHx8ICdVc2VyJ30gLz4KICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjayBjbGFzc05hbWU9ImJnLWdyYXktNzAwIHRleHQtc20iPgogICAgICAgICAgICAgICAgICA8VXNlckNpcmNsZSBjbGFzc05hbWU9ImgtNiB3LTYiIC8+CiAgICAgICAgICAgICAgICA8L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgIDwvQXZhdGFyPgogICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gZm9udC1zZW1pYm9sZCI+e3Bvc3QuYXV0aG9ybmFtZSB8fCAnQW5vbnltb3VzIFB1bHNhcid9PC9wPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtZ3JheS0zMDAiPnt0aW1lQWdvfSB7cG9zdC5jaXR5ICYmIHBvc3QuY2l0eSAhPT0gIlVua25vd24gQ2l0eSIgPyBgwrcgJHtwb3N0LmNpdHl9YDogJyd9PC9wPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvQXV0aG9ySW5mbz4KICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSBsZWFkaW5nLXRpZ2h0IGxpbmUtY2xhbXAtMiB3aGl0ZXNwYWNlLXByZS13cmFwIGJyZWFrLXdvcmRzIj57cG9zdC5jb250ZW50fTwvcD4KICAgICAgICAgIHtwb3N0Lmhhc2h0YWdzICYmIHBvc3QuaGFzaHRhZ3MubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtdC0xIGZsZXggZmxleC13cmFwIGdhcC0xIG1heC1oLTEwIG92ZXJmbG93LXktaGlkZGVuIj4KICAgICAgICAgICAgICB7cG9zdC5oYXNodGFncy5zbGljZSgwLDMpLm1hcCh0YWcgPT4gKAogICAgICAgICAgICAgICAgPEJhZGdlIGtleT17dGFnfSB2YXJpYW50PSJzZWNvbmRhcnkiIGNsYXNzTmFtZT0idGV4dC1bMTBweF0gcHgtMS41IHB5LTAuNSBiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlLzgwIGhvdmVyOmJnLXdoaXRlLzIwIGJvcmRlci1ub25lIGJhY2tkcm9wLWJsdXItc20iPgogICAgICAgICAgICAgICAgICAge3RhZy5yZXBsYWNlKCcjJywnJyl9CiAgICAgICAgICAgICAgICA8L0JhZGdlPgogICAgICAgICAgICAgICkpfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICl9CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIHNwYWNlLXktMyBpdGVtcy1jZW50ZXIgei0xMCI+CiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9InNtIiBvbkNsaWNrPXtoYW5kbGVMaWtlQ2xpY2t9IGRpc2FibGVkPXtpc0xpa2luZyB8fCAoIXNlc3Npb25Vc2VyICYmIGlzTGlrZWRCeUNsaWVudCl9IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgdGV4dC13aGl0ZSBob3Zlcjp0ZXh0LXBpbmstNDAwIHAtMSBoLWF1dG8gZGlzYWJsZWQ6b3BhY2l0eS01MCI+CiAgICAgICAgICAgICAgPFRodW1ic1VwIGNsYXNzTmFtZT17Y24oInctNiBoLTYiLCBpc0xpa2VkQnlDbGllbnQgPyAidGV4dC1waW5rLTUwMCBmaWxsLXBpbmstNTAwIiA6ICIiKX0gLz4KICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIHRleHQteHMgbXQtMC41Ij57ZGlzcGxheUxpa2VDb3VudH08L3NwYW4+CiAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJzbSIgb25DbGljaz17KCkgPT4geyBzZXRTaG93Q29tbWVudHModHJ1ZSk7IH19IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgdGV4dC13aGl0ZSBob3Zlcjp0ZXh0LWN5YW4tNDAwIHAtMSBoLWF1dG8iPgogICAgICAgICAgICAgIDxNZXNzYWdlQ2lyY2xlIGNsYXNzTmFtZT0idy02IGgtNiIgLz4KICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIHRleHQteHMgbXQtMC41Ij57ZGlzcGxheUNvbW1lbnRDb3VudH08L3NwYW4+CiAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJnaG9zdCIgc2l6ZT0ic20iIG9uQ2xpY2s9e2hhbmRsZVNoYXJlfSBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHRleHQtd2hpdGUgaG92ZXI6dGV4dC1ibHVlLTQwMCBwLTEgaC1hdXRvIj4KICAgICAgICAgICAgICA8U2hhcmUyIGNsYXNzTmFtZT0idy02IGgtNiIgLz4KICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LW1lZGl1bSB0ZXh0LXhzIG10LTAuNSI+U2hhcmU8L3NwYW4+CiAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIHtzaG93Q29tbWVudHMgJiYgKAogICAgICAgIDxSZWVsQ29tbWVudHMKICAgICAgICAgICAgcG9zdElkPXtwb3N0LmlkfQogICAgICAgICAgICBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9CiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dDb21tZW50cyhmYWxzZSl9CiAgICAgICAgICAgIG9uQ29tbWVudFBvc3RlZD17aGFuZGxlQ29tbWVudFBvc3RlZH0KICAgICAgICAgICAgaW5pdGlhbENvbW1lbnRDb3VudD17cG9zdC5jb21tZW50Y291bnR9CiAgICAgICAgLz4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn07CgogICAg' | base64 -d > /root/localpulse/src/components/reel-item.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB0eXBlIHsgUG9zdCB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL3VpL2J1dHRvbic7CmltcG9ydCB7IENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIFZpZGVvLCBJbWFnZUljb24gfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBBbmltYXRlUHJlc2VuY2UsIG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKCmludGVyZmFjZSBNYW5kYWxNZWRpYVZpZXdlclByb3BzIHsKICBwb3N0czogUGljazxQb3N0LCAnaWQnIHwgJ21lZGlhdXJscycgfCAnbWVkaWF0eXBlJz5bXTsKfQoKY29uc3QgdmFyaWFudHMgPSB7CiAgZW50ZXI6IChkaXJlY3Rpb246IG51bWJlcikgPT4gewogICAgcmV0dXJuIHsKICAgICAgeDogZGlyZWN0aW9uID4gMCA/IDEwMDAgOiAtMTAwMCwKICAgICAgb3BhY2l0eTogMAogICAgfTsKICB9LAogIGNlbnRlcjogewogICAgekluZGV4OiAxLAogICAgeDogMCwKICAgIG9wYWNpdHk6IDEKICB9LAogIGV4aXQ6IChkaXJlY3Rpb246IG51bWJlcikgPT4gewogICAgcmV0dXJuIHsKICAgICAgekluZGV4OiAwLAogICAgICB4OiBkaXJlY3Rpb24gPCAwID8gMTAwMCA6IC0xMDAwLAogICAgICBvcGFjaXR5OiAwCiAgICB9OwogIH0KfTsKCmNvbnN0IHN3aXBlQ29uZmlkZW5jZVRocmVzaG9sZCA9IDEwMDAwOwpjb25zdCBzd2lwZVBvd2VyID0gKG9mZnNldDogbnVtYmVyLCB2ZWxvY2l0eTogbnVtYmVyKSA9PiB7CiAgcmV0dXJuIE1hdGguYWJzKG9mZnNldCkgKiB2ZWxvY2l0eTsKfTsKCgpjb25zdCBNYW5kYWxNZWRpYVZpZXdlcjogUmVhY3QuRkM8TWFuZGFsTWVkaWFWaWV3ZXJQcm9wcz4gPSAoeyBwb3N0cyB9KSA9PiB7CiAgY29uc3QgW3BhZ2UsIHNldFBhZ2VdID0gdXNlU3RhdGUoMCk7CiAgY29uc3QgW2RpcmVjdGlvbiwgc2V0RGlyZWN0aW9uXSA9IHVzZVN0YXRlKDApOwoKICBjb25zdCBhbGxNZWRpYSA9IHBvc3RzLmZsYXRNYXAocG9zdCA9PiAKICAgIChwb3N0Lm1lZGlhdXJscyB8fCBbXSkubWFwKHVybCA9PiAoewogICAgICBpZDogcG9zdC5pZCwKICAgICAgdHlwZTogcG9zdC5tZWRpYXR5cGUsCiAgICAgIHVybDogdXJsLAogICAgfSkpCiAgKTsKCiAgY29uc3QgcGFnaW5hdGUgPSAobmV3RGlyZWN0aW9uOiBudW1iZXIpID0+IHsKICAgIHNldFBhZ2UocGFnZSArIG5ld0RpcmVjdGlvbik7CiAgICBzZXREaXJlY3Rpb24obmV3RGlyZWN0aW9uKTsKICB9OwogIAogIC8vIFJvYnVzdCB3YXkgdG8gd3JhcCB0aGUgaW5kZXgsIHByZXZlbnRpbmcgbmVnYXRpdmUgbnVtYmVycy4KICBjb25zdCBpbWFnZUluZGV4ID0gKHBhZ2UgJSBhbGxNZWRpYS5sZW5ndGggKyBhbGxNZWRpYS5sZW5ndGgpICUgYWxsTWVkaWEubGVuZ3RoOwoKICBpZiAoYWxsTWVkaWEubGVuZ3RoID09PSAwKSB7CiAgICByZXR1cm4gKAogICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgcHktMTAgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGJnLW11dGVkLzUwIHJvdW5kZWQtbGciPgogICAgICAgIDxJbWFnZUljb24gY2xhc3NOYW1lPSJteC1hdXRvIGgtMTIgdy0xMiBtYi00IG9wYWNpdHktNTAiIC8+CiAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIj5ObyBNZWRpYSBZZXQ8L3A+CiAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIj5UaGUgTWFuZGFsIGFkbWluIGhhcyBub3QgcG9zdGVkIGFueSBwaG90b3Mgb3IgdmlkZW9zLjwvcD4KICAgICAgPC9kaXY+CiAgICApOwogIH0KCiAgY29uc3QgY3VycmVudE1lZGlhID0gYWxsTWVkaWFbaW1hZ2VJbmRleF07CiAgCiAgLy8gQWRkIGEgZGVmZW5zaXZlIGNoZWNrIGluIGNhc2Ugc29tZXRoaW5nIHN0aWxsIGdvZXMgd3JvbmcKICBpZiAoIWN1cnJlbnRNZWRpYSkgewogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgcHktMTAgdGV4dC1kZXN0cnVjdGl2ZSBiZy1kZXN0cnVjdGl2ZS8xMCByb3VuZGVkLWxnIj4KICAgICAgICAgICAgPHA+RXJyb3I6IENvdWxkIG5vdCBsb2FkIG1lZGlhLjwvcD4KICAgICAgICA8L2Rpdj4KICAgICk7CiAgfQogIAogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUgdy1mdWxsIGFzcGVjdC12aWRlbyBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZyBib3JkZXIgYmctYmxhY2svODAgc2hhZG93LWlubmVyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KICAgICAgPEFuaW1hdGVQcmVzZW5jZSBpbml0aWFsPXtmYWxzZX0gY3VzdG9tPXtkaXJlY3Rpb259PgogICAgICAgIDxtb3Rpb24uZGl2CiAgICAgICAgICAgIGtleT17cGFnZX0KICAgICAgICAgICAgY3VzdG9tPXtkaXJlY3Rpb259CiAgICAgICAgICAgIHZhcmlhbnRzPXt2YXJpYW50c30KICAgICAgICAgICAgaW5pdGlhbD0iZW50ZXIiCiAgICAgICAgICAgIGFuaW1hdGU9ImNlbnRlciIKICAgICAgICAgICAgZXhpdD0iZXhpdCIKICAgICAgICAgICAgdHJhbnNpdGlvbj17ewogICAgICAgICAgICAgICAgeDogeyB0eXBlOiAic3ByaW5nIiwgc3RpZmZuZXNzOiAzMDAsIGRhbXBpbmc6IDMwIH0sCiAgICAgICAgICAgICAgICBvcGFjaXR5OiB7IGR1cmF0aW9uOiAwLjIgfQogICAgICAgICAgICB9fQogICAgICAgICAgICBkcmFnPSJ4IgogICAgICAgICAgICBkcmFnQ29uc3RyYWludHM9e3sgbGVmdDogMCwgcmlnaHQ6IDAgfX0KICAgICAgICAgICAgZHJhZ0VsYXN0aWM9ezF9CiAgICAgICAgICAgIG9uRHJhZ0VuZD17KGUsIHsgb2Zmc2V0LCB2ZWxvY2l0eSB9KSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBzd2lwZSA9IHN3aXBlUG93ZXIob2Zmc2V0LngsIHZlbG9jaXR5LngpOwogICAgICAgICAgICAgICAgaWYgKHN3aXBlIDwgLXN3aXBlQ29uZmlkZW5jZVRocmVzaG9sZCkgewogICAgICAgICAgICAgICAgICAgIHBhZ2luYXRlKDEpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzd2lwZSA+IHN3aXBlQ29uZmlkZW5jZVRocmVzaG9sZCkgewogICAgICAgICAgICAgICAgICAgIHBhZ2luYXRlKC0xKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfX0KICAgICAgICAgICAgY2xhc3NOYW1lPSJhYnNvbHV0ZSB3LWZ1bGwgaC1mdWxsIgogICAgICAgID4KICAgICAgICAgICAge2N1cnJlbnRNZWRpYS50eXBlID09PSAndmlkZW8nID8gKAogICAgICAgICAgICAgICAgPHZpZGVvCiAgICAgICAgICAgICAgICAgICAgc3JjPXtjdXJyZW50TWVkaWEudXJsfQogICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzCiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluIgogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgKSA6ICgKICAgICAgICAgICAgICAgIDxJbWFnZQogICAgICAgICAgICAgICAgICAgIHNyYz17Y3VycmVudE1lZGlhLnVybH0KICAgICAgICAgICAgICAgICAgICBhbHQ9Ik1hbmRhbCBNZWRpYSIKICAgICAgICAgICAgICAgICAgICBmaWxsCiAgICAgICAgICAgICAgICAgICAgc2l6ZXM9IihtYXgtd2lkdGg6IDc2OHB4KSAxMDB2dywgNTB2dyIKICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9Im9iamVjdC1jb250YWluIgogICAgICAgICAgICAgICAgICAgIHByaW9yaXR5CiAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICApfQogICAgICAgIDwvbW90aW9uLmRpdj4KICAgICAgPC9BbmltYXRlUHJlc2VuY2U+CiAgICAgIAogICAgICB7YWxsTWVkaWEubGVuZ3RoID4gMSAmJiAoCiAgICAgICAgPD4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImFic29sdXRlIHRvcC0xLzIgbGVmdC0yIC10cmFuc2xhdGUteS0xLzIgei0xMCI+CiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9InNlY29uZGFyeSIgc2l6ZT0iaWNvbiIgb25DbGljaz17KCkgPT4gcGFnaW5hdGUoLTEpfSBjbGFzc05hbWU9ImgtOCB3LTggcm91bmRlZC1mdWxsIG9wYWNpdHktNzAgaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5Ij4KICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPSJoLTUgdy01IiAvPgogICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iYWJzb2x1dGUgdG9wLTEvMiByaWdodC0yIC10cmFuc2xhdGUteS0xLzIgei0xMCI+CiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9InNlY29uZGFyeSIgc2l6ZT0iaWNvbiIgb25DbGljaz17KCkgPT4gcGFnaW5hdGUoMSl9IGNsYXNzTmFtZT0iaC04IHctOCByb3VuZGVkLWZ1bGwgb3BhY2l0eS03MCBob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkiPgogICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPSJoLTUgdy01IiAvPgogICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iYWJzb2x1dGUgYm90dG9tLTIgbGVmdC0xLzIgLXRyYW5zbGF0ZS14LTEvMiBweC0yIHB5LTEgYmctYmxhY2svNjAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQtbWQgYmFja2Ryb3AtYmx1ci1zbSB6LTEwIj4KICAgICAgICAgICAgICAgIHtpbWFnZUluZGV4ICsgMX0gLyB7YWxsTWVkaWEubGVuZ3RofQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8Lz4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBNYW5kYWxNZWRpYVZpZXdlcjsK' | base64 -d > /root/localpulse/src/components/mandal-media-viewer.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgdHlwZSB7IE1lc3NhZ2UsIFVzZXIsIENvbnZlcnNhdGlvbkRldGFpbHMsIE1lc3NhZ2VSZWFjdGlvbiwgQ29udmVyc2F0aW9uUGFydGljaXBhbnQgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IGdldE1lc3NhZ2VzLCBzZW5kTWVzc2FnZSwgZGVsZXRlTWVzc2FnZSwgdG9nZ2xlTWVzc2FnZVJlYWN0aW9uLCBzZWFyY2hHcm91cE1lbWJlcnMgfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJGYWxsYmFjaywgQXZhdGFySW1hZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYXZhdGFyJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RleHRhcmVhJzsKaW1wb3J0IHsgU2VuZCwgTG9hZGVyMiwgVXNlcnMsIE1vcmVIb3Jpem9udGFsLCBUcmFzaDIsIFNtaWxlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IFNoZWV0LCBTaGVldENvbnRlbnQsIFNoZWV0VHJpZ2dlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9zaGVldCc7CmltcG9ydCB7CiAgRHJvcGRvd25NZW51LAogIERyb3Bkb3duTWVudUNvbnRlbnQsCiAgRHJvcGRvd25NZW51SXRlbSwKICBEcm9wZG93bk1lbnVUcmlnZ2VyLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51JzsKaW1wb3J0IHsKICBBbGVydERpYWxvZywKICBBbGVydERpYWxvZ0FjdGlvbiwKICBBbGVydERpYWxvZ0NhbmNlbCwKICBBbGVydERpYWxvZ0NvbnRlbnQsCiAgQWxlcnREaWFsb2dEZXNjcmlwdGlvbiwKICBBbGVydERpYWxvZ0Zvb3RlciwKICBBbGVydERpYWxvZ0hlYWRlciwKICBBbGVydERpYWxvZ1RpdGxlLAogIEFsZXJ0RGlhbG9nVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQtZGlhbG9nJzsKaW1wb3J0IENoYXRJbmZvU2lkZWJhciBmcm9tICcuL2NoYXQtaW5mby1zaWRlYmFyJzsKaW1wb3J0IHsgUG9wb3ZlciwgUG9wb3ZlckNvbnRlbnQsIFBvcG92ZXJUcmlnZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3BvcG92ZXInOwppbXBvcnQgRW1vamlQaWNrZXIsIHsgVGhlbWUgYXMgRW1vamlUaGVtZSB9IGZyb20gJ2Vtb2ppLXBpY2tlci1yZWFjdCc7CmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnbmV4dC10aGVtZXMnOwppbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhJzsKCmludGVyZmFjZSBDaGF0Q2xpZW50UHJvcHMgewogIGluaXRpYWxNZXNzYWdlczogTWVzc2FnZVtdOwogIGNvbnZlcnNhdGlvbkRldGFpbHM6IENvbnZlcnNhdGlvbkRldGFpbHM7CiAgc2Vzc2lvblVzZXI6IFVzZXI7CiAgY29udmVyc2F0aW9uSWQ6IG51bWJlcjsKfQoKY29uc3QgUE9MTElOR19JTlRFUlZBTCA9IDE1MDA7IC8vIDEuNSBzZWNvbmRzCgovLyBIZWxwZXIgZnVuY3Rpb24gdG8gZXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVycyBmb3IgcmVnZXgKY29uc3QgZXNjYXBlUmVnRXhwID0gKHN0cmluZzogc3RyaW5nKSA9PiB7CiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKTsgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nCn07Cgpjb25zdCBSZWFjdGlvbnNEaXNwbGF5ID0gKHsgcmVhY3Rpb25zLCBvblJlYWN0aW9uQ2xpY2sgfTogeyByZWFjdGlvbnM6IE1lc3NhZ2VSZWFjdGlvbltdOyBvblJlYWN0aW9uQ2xpY2s6IChyZWFjdGlvbjogc3RyaW5nKSA9PiB2b2lkIH0pID0+IHsKICAgIGlmICghcmVhY3Rpb25zIHx8IHJlYWN0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBudWxsOwoKICAgIGNvbnN0IGdyb3VwZWRSZWFjdGlvbnMgPSByZWFjdGlvbnMucmVkdWNlKChhY2MsIHJlYWN0aW9uKSA9PiB7CiAgICAgICAgYWNjW3JlYWN0aW9uLnJlYWN0aW9uXSA9IChhY2NbcmVhY3Rpb24ucmVhY3Rpb25dIHx8IDApICsgMTsKICAgICAgICByZXR1cm4gYWNjOwogICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPik7CgogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBnYXAtMS41IG10LTEuNSBmbGV4LXdyYXAiPgogICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoZ3JvdXBlZFJlYWN0aW9ucykubWFwKChbZW1vamksIGNvdW50XSkgPT4gKAogICAgICAgICAgICAgICAgPGJ1dHRvbgogICAgICAgICAgICAgICAgICAgIGtleT17ZW1vaml9CiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25SZWFjdGlvbkNsaWNrKGVtb2ppKX0KICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTEuNSBweS0wLjUgcm91bmRlZC1mdWxsIGJnLW11dGVkIHRleHQtZm9yZWdyb3VuZCB0ZXh0LXhzIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLXByaW1hcnkgdHJhbnNpdGlvbi1jb2xvcnMiCiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2Vtb2ppfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIj57Y291bnR9PC9zcGFuPgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICkpfQogICAgICAgIDwvZGl2PgogICAgKTsKfTsKCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0Q2xpZW50KHsgaW5pdGlhbE1lc3NhZ2VzLCBjb252ZXJzYXRpb25EZXRhaWxzLCBzZXNzaW9uVXNlciwgY29udmVyc2F0aW9uSWQgfTogQ2hhdENsaWVudFByb3BzKSB7CiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KGluaXRpYWxNZXNzYWdlcyk7CiAgY29uc3QgW25ld01lc3NhZ2UsIHNldE5ld01lc3NhZ2VdID0gdXNlU3RhdGUoJycpOwogIGNvbnN0IFtpc1NlbmRpbmcsIHNldElzU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCB7IHRoZW1lIH0gPSB1c2VUaGVtZSgpOwogIGNvbnN0IFtzaG93TWVudGlvblN1Z2dlc3Rpb25zLCBzZXRTaG93TWVudGlvblN1Z2dlc3Rpb25zXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbbWVudGlvblF1ZXJ5LCBzZXRNZW50aW9uUXVlcnldID0gdXNlU3RhdGUoJycpOwogIGNvbnN0IFttZW50aW9uUmVzdWx0cywgc2V0TWVudGlvblJlc3VsdHNdID0gdXNlU3RhdGU8Q29udmVyc2F0aW9uUGFydGljaXBhbnRbXT4oW10pOwogIAogIGNvbnN0IGlzU2VuZGluZ1JlZiA9IHVzZVJlZihpc1NlbmRpbmcpOwogIGlzU2VuZGluZ1JlZi5jdXJyZW50ID0gaXNTZW5kaW5nOwogIAogIGNvbnN0IG1lc3NhZ2VzUmVmID0gdXNlUmVmKG1lc3NhZ2VzKTsKICBtZXNzYWdlc1JlZi5jdXJyZW50ID0gbWVzc2FnZXM7CgogIGNvbnN0IHBhcnRuZXIgPSAhY29udmVyc2F0aW9uRGV0YWlscy5pc19ncm91cCA/IGNvbnZlcnNhdGlvbkRldGFpbHMucGFydGljaXBhbnRzPy5maW5kKHAgPT4gcC5pZCAhPT0gc2Vzc2lvblVzZXIuaWQpIDogbnVsbDsKICAKICBjb25zdCByZW5kZXJDaGF0TWVzc2FnZUNvbnRlbnQgPSAoY29udGVudDogc3RyaW5nKSA9PiB7CiAgICBpZiAoIWNvbnRlbnQpIHJldHVybiBudWxsOwoKICAgIGNvbnN0IHBhcnRpY2lwYW50TmFtZXMgPSBjb252ZXJzYXRpb25EZXRhaWxzLnBhcnRpY2lwYW50cy5tYXAocCA9PiBlc2NhcGVSZWdFeHAoYEAke3AubmFtZX1gKSk7CiAgICBjb25zdCB1cmxSZWdleCA9IC8oaHR0cHM/OlwvXC9bXlxzXSt8d3d3XC5bXlxzXSspL2c7CiAgICBjb25zdCBtZW50aW9uUmVnZXggPSBwYXJ0aWNpcGFudE5hbWVzLmxlbmd0aCA+IDAgPyBuZXcgUmVnRXhwKGAoJHtwYXJ0aWNpcGFudE5hbWVzLmpvaW4oJ3wnKX0pXFxiYCwgJ2cnKSA6IG51bGw7CgogICAgY29uc3QgYWxsTWF0Y2hlczogeyB0eXBlOiAndXJsJyB8ICdtZW50aW9uJywgdGV4dDogc3RyaW5nLCBpbmRleDogbnVtYmVyIH1bXSA9IFtdOwoKICAgIC8vIEZpbmQgYWxsIFVSTCBtYXRjaGVzCiAgICBmb3IgKGNvbnN0IG1hdGNoIG9mIGNvbnRlbnQubWF0Y2hBbGwodXJsUmVnZXgpKSB7CiAgICAgICAgYWxsTWF0Y2hlcy5wdXNoKHsgdHlwZTogJ3VybCcsIHRleHQ6IG1hdGNoWzBdLCBpbmRleDogbWF0Y2guaW5kZXghIH0pOwogICAgfQogICAgLy8gRmluZCBhbGwgbWVudGlvbiBtYXRjaGVzCiAgICBpZiAobWVudGlvblJlZ2V4KSB7CiAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiBjb250ZW50Lm1hdGNoQWxsKG1lbnRpb25SZWdleCkpIHsKICAgICAgICAgICAgYWxsTWF0Y2hlcy5wdXNoKHsgdHlwZTogJ21lbnRpb24nLCB0ZXh0OiBtYXRjaFswXSwgaW5kZXg6IG1hdGNoLmluZGV4ISB9KTsKICAgICAgICB9CiAgICB9CgogICAgLy8gU29ydCBtYXRjaGVzIGJ5IHRoZWlyIGluZGV4CiAgICBhbGxNYXRjaGVzLnNvcnQoKGEsIGIpID0+IGEuaW5kZXggLSBiLmluZGV4KTsKCiAgICBpZiAoYWxsTWF0Y2hlcy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gY29udGVudDsKICAgIH0KCiAgICBjb25zdCByZXN1bHQ6IChzdHJpbmcgfCBKU1guRWxlbWVudClbXSA9IFtdOwogICAgbGV0IGxhc3RJbmRleCA9IDA7CgogICAgYWxsTWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+IHsKICAgICAgICAvLyBBZGQgdGV4dCBiZWZvcmUgdGhlIG1hdGNoCiAgICAgICAgaWYgKG1hdGNoLmluZGV4ID4gbGFzdEluZGV4KSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbnRlbnQuc3Vic3RyaW5nKGxhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTsKICAgICAgICB9CgogICAgICAgIC8vIEFkZCB0aGUgc3R5bGVkIG1hdGNoCiAgICAgICAgaWYgKG1hdGNoLnR5cGUgPT09ICd1cmwnKSB7CiAgICAgICAgICAgIGNvbnN0IGhyZWYgPSBtYXRjaC50ZXh0LnN0YXJ0c1dpdGgoJ3d3dy4nKSA/IGBodHRwczovL2AgKyBtYXRjaC50ZXh0IDogbWF0Y2gudGV4dDsKICAgICAgICAgICAgcmVzdWx0LnB1c2goCiAgICAgICAgICAgICAgICA8YQogICAgICAgICAgICAgICAgICAgIGtleT17YGxpbmstJHttYXRjaC5pbmRleH1gfQogICAgICAgICAgICAgICAgICAgIGhyZWY9e2hyZWZ9CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PSJfYmxhbmsiCiAgICAgICAgICAgICAgICAgICAgcmVsPSJub29wZW5lciBub3JlZmVycmVyIgogICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0idGV4dC1ibHVlLTQwMCBob3Zlcjp1bmRlcmxpbmUgZm9udC1tZWRpdW0iCiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9CiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAge21hdGNoLnRleHR9CiAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIGlmIChtYXRjaC50eXBlID09PSAnbWVudGlvbicpIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2goCiAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2BtZW50aW9uLSR7bWF0Y2guaW5kZXh9YH0gY2xhc3NOYW1lPSJ0ZXh0LWFjY2VudCBmb250LXNlbWlib2xkIGJnLWFjY2VudC8xMCByb3VuZGVkIHB4LTEgcHktMC41Ij4KICAgICAgICAgICAgICAgICAgICB7bWF0Y2gudGV4dH0KICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgbGFzdEluZGV4ID0gbWF0Y2guaW5kZXggKyBtYXRjaC50ZXh0Lmxlbmd0aDsKICAgIH0pOwoKICAgIC8vIEFkZCBhbnkgcmVtYWluaW5nIHRleHQgYWZ0ZXIgdGhlIGxhc3QgbWF0Y2gKICAgIGlmIChsYXN0SW5kZXggPCBjb250ZW50Lmxlbmd0aCkgewogICAgICAgIHJlc3VsdC5wdXNoKGNvbnRlbnQuc3Vic3RyaW5nKGxhc3RJbmRleCkpOwogICAgfQoKICAgIHJldHVybiByZXN1bHQubWFwKChwYXJ0LCBpbmRleCkgPT4gPFJlYWN0LkZyYWdtZW50IGtleT17aW5kZXh9PntwYXJ0fTwvUmVhY3QuRnJhZ21lbnQ+KTsKICB9OwoKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGxldCBpc01vdW50ZWQgPSB0cnVlOwogICAgY29uc3QgZmV0Y2hNZXNzYWdlcyA9IGFzeW5jICgpID0+IHsKICAgICAgICBpZiAoaXNTZW5kaW5nUmVmLmN1cnJlbnQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IGF3YWl0IGdldE1lc3NhZ2VzKGNvbnZlcnNhdGlvbklkKTsKICAgICAgICAgICAgaWYgKGlzTW91bnRlZCAmJiBKU09OLnN0cmluZ2lmeShtZXNzYWdlc1JlZi5jdXJyZW50KSAhPT0gSlNPTi5zdHJpbmdpZnkobmV3TWVzc2FnZXMpKSB7CiAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcyhuZXdNZXNzYWdlcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggbmV3IG1lc3NhZ2VzOiIsIGVycm9yKTsKICAgICAgICB9CiAgICB9OwogICAgCiAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZmV0Y2hNZXNzYWdlcywgUE9MTElOR19JTlRFUlZBTCk7CgogICAgcmV0dXJuICgpID0+IHsKICAgICAgICBpc01vdW50ZWQgPSBmYWxzZTsKICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpOwogICAgfTsKICB9LCBbY29udmVyc2F0aW9uSWRdKTsKICAKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKHNob3dNZW50aW9uU3VnZ2VzdGlvbnMgJiYgbWVudGlvblF1ZXJ5KSB7CiAgICAgICAgc2VhcmNoR3JvdXBNZW1iZXJzKG1lbnRpb25RdWVyeSwgY29udmVyc2F0aW9uSWQpLnRoZW4oc2V0TWVudGlvblJlc3VsdHMpOwogICAgfSBlbHNlIHsKICAgICAgICBzZXRNZW50aW9uUmVzdWx0cyhbXSk7CiAgICB9CiAgfSwgW21lbnRpb25RdWVyeSwgc2hvd01lbnRpb25TdWdnZXN0aW9ucywgY29udmVyc2F0aW9uSWRdKTsKCiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBpZiAoIW5ld01lc3NhZ2UudHJpbSgpIHx8IGlzU2VuZGluZykgcmV0dXJuOwoKICAgIHNldElzU2VuZGluZyh0cnVlKTsKCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kTWVzc2FnZShjb252ZXJzYXRpb25JZCwgbmV3TWVzc2FnZS50cmltKCkpOwogICAgCiAgICBpZiAocmVzdWx0LmVycm9yIHx8ICFyZXN1bHQubWVzc2FnZSkgewogICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlOicsIHJlc3VsdC5lcnJvcik7CiAgICAgIHRvYXN0KHsKICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICAgIHRpdGxlOiAnTWVzc2FnZSBOb3QgU2VudCcsCiAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB8fCAnQ291bGQgbm90IHNlbmQgdGhlIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4uJywKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFtyZXN1bHQubWVzc2FnZSEsIC4uLnByZXZdKTsKICAgICAgc2V0TmV3TWVzc2FnZSgnJyk7CiAgICB9CiAgICAKICAgIHNldElzU2VuZGluZyhmYWxzZSk7CiAgfTsKICAKICBjb25zdCBoYW5kbGVEZWxldGVNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2VJZDogbnVtYmVyKSA9PiB7CiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG0gPT4gbS5pZCAhPT0gbWVzc2FnZUlkKSk7CgogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGVsZXRlTWVzc2FnZShtZXNzYWdlSWQpOwogICAgaWYgKCFyZXN1bHQuc3VjY2VzcykgewogICAgICB0b2FzdCh7CiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICB0aXRsZTogJ0RlbGV0ZSBGYWlsZWQnLAogICAgICAgIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfHwgJ01lc3NhZ2UgY291bGQgbm90IGJlIGRlbGV0ZWQuIEl0IG1heSBoYXZlIGFscmVhZHkgYmVlbiByZW1vdmVkLicsCiAgICAgIH0pOwogICAgICBnZXRNZXNzYWdlcyhjb252ZXJzYXRpb25JZCkudGhlbihzZXRNZXNzYWdlcyk7CiAgICB9CiAgfTsKCiAgY29uc3QgaGFuZGxlUmVhY3Rpb24gPSBhc3luYyAobWVzc2FnZUlkOiBudW1iZXIsIGVtb2ppOiBzdHJpbmcpID0+IHsKICAgIC8vIE9wdGltaXN0aWMgdXBkYXRlCiAgICBzZXRNZXNzYWdlcyhwcmV2TWVzc2FnZXMgPT4gcHJldk1lc3NhZ2VzLm1hcChtc2cgPT4gewogICAgICAgIGlmIChtc2cuaWQgIT09IG1lc3NhZ2VJZCkgcmV0dXJuIG1zZzsKCiAgICAgICAgY29uc3QgZXhpc3RpbmdSZWFjdGlvbkluZGV4ID0gbXNnLnJlYWN0aW9ucz8uZmluZEluZGV4KHIgPT4gci51c2VyX2lkID09PSBzZXNzaW9uVXNlci5pZCk7CiAgICAgICAgCiAgICAgICAgbGV0IG5ld1JlYWN0aW9ucyA9IFsuLi4obXNnLnJlYWN0aW9ucyB8fCBbXSldOwoKICAgICAgICBpZiAoZXhpc3RpbmdSZWFjdGlvbkluZGV4ICE9PSAtMSkgewogICAgICAgICAgICBpZiAobmV3UmVhY3Rpb25zW2V4aXN0aW5nUmVhY3Rpb25JbmRleF0ucmVhY3Rpb24gPT09IGVtb2ppKSB7CiAgICAgICAgICAgICAgICBuZXdSZWFjdGlvbnMuc3BsaWNlKGV4aXN0aW5nUmVhY3Rpb25JbmRleCwgMSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuZXdSZWFjdGlvbnNbZXhpc3RpbmdSZWFjdGlvbkluZGV4XSA9IHsgLi4ubmV3UmVhY3Rpb25zW2V4aXN0aW5nUmVhY3Rpb25JbmRleF0sIHJlYWN0aW9uOiBlbW9qaSB9OwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3UmVhY3Rpb25zLnB1c2goeyBpZDogLTEsIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCwgdXNlcl9pZDogc2Vzc2lvblVzZXIuaWQsIHJlYWN0aW9uOiBlbW9qaSwgdXNlcl9uYW1lOiBzZXNzaW9uVXNlci5uYW1lIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4geyAuLi5tc2csIHJlYWN0aW9uczogbmV3UmVhY3Rpb25zIH07CiAgICB9KSk7CiAgICAKICAgIGNvbnN0IHsgc3VjY2VzcywgZXJyb3IgfSA9IGF3YWl0IHRvZ2dsZU1lc3NhZ2VSZWFjdGlvbihtZXNzYWdlSWQsIGVtb2ppKTsKICAgIGlmICghc3VjY2VzcykgewogICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdSZWFjdGlvbiBmYWlsZWQnLCBkZXNjcmlwdGlvbjogZXJyb3IgfSk7CiAgICAgICAgZ2V0TWVzc2FnZXMoY29udmVyc2F0aW9uSWQpLnRoZW4oc2V0TWVzc2FnZXMpOwogICAgfQogIH0KCiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHsKICAgIGNvbnN0IHRleHQgPSBlLnRhcmdldC52YWx1ZTsKICAgIHNldE5ld01lc3NhZ2UodGV4dCk7CgogICAgY29uc3QgbWVudGlvbk1hdGNoID0gdGV4dC5tYXRjaCgvQChbXHdcc10qKSQvKTsKICAgIGlmIChtZW50aW9uTWF0Y2gpIHsKICAgICAgc2V0U2hvd01lbnRpb25TdWdnZXN0aW9ucyh0cnVlKTsKICAgICAgc2V0TWVudGlvblF1ZXJ5KG1lbnRpb25NYXRjaFsxXSk7CiAgICB9IGVsc2UgewogICAgICBzZXRTaG93TWVudGlvblN1Z2dlc3Rpb25zKGZhbHNlKTsKICAgIH0KICB9OwoKICBjb25zdCBoYW5kbGVTZWxlY3RNZW50aW9uID0gKHVzZXJuYW1lOiBzdHJpbmcpID0+IHsKICAgIHNldE5ld01lc3NhZ2UocHJldiA9PiBwcmV2LnJlcGxhY2UoL0BbXHdcc10qJC8sIGBAJHt1c2VybmFtZX0gYCkpOwogICAgc2V0U2hvd01lbnRpb25TdWdnZXN0aW9ucyhmYWxzZSk7CiAgICBzZXRNZW50aW9uUmVzdWx0cyhbXSk7CiAgfTsKCgogIGNvbnN0IGhlYWRlckNvbnRlbnQgPSAoCiAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBob3ZlcjpiZy1tdXRlZCBwLTIgcm91bmRlZC1tZCI+CiAgICAgICAgPEF2YXRhcj4KICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17Y29udmVyc2F0aW9uRGV0YWlscy5kaXNwbGF5X2F2YXRhcl91cmwgfHwgdW5kZWZpbmVkfSBhbHQ9e2NvbnZlcnNhdGlvbkRldGFpbHMuZGlzcGxheV9uYW1lfSAvPgogICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e2NvbnZlcnNhdGlvbkRldGFpbHMuaXNfZ3JvdXAgPyA8VXNlcnMgLz4gOiBjb252ZXJzYXRpb25EZXRhaWxzLmRpc3BsYXlfbmFtZS5jaGFyQXQoMCl9PC9BdmF0YXJGYWxsYmFjaz4KICAgICAgICA8L0F2YXRhcj4KICAgICAgICA8ZGl2PgogICAgICAgICAgPGgyIGNsYXNzTmFtZT0idGV4dC1sZyBmb250LXNlbWlib2xkIj57Y29udmVyc2F0aW9uRGV0YWlscy5kaXNwbGF5X25hbWV9PC9oMj4KICAgICAgICAgIHtjb252ZXJzYXRpb25EZXRhaWxzLmlzX2dyb3VwICYmICgKICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj57Y29udmVyc2F0aW9uRGV0YWlscy5wYXJ0aWNpcGFudHMubGVuZ3RofSBtZW1iZXJzPC9wPgogICAgICAgICAgKX0KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgKTsKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGJnLWJhY2tncm91bmQgaC1mdWxsIj4KICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT0iZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBwLTMgYm9yZGVyLWIgYmctY2FyZCI+CiAgICAgICAgICAgIHtjb252ZXJzYXRpb25EZXRhaWxzLmlzX2dyb3VwID8gKAogICAgICAgICAgICAgICAgPFNoZWV0PgogICAgICAgICAgICAgICAgICAgIDxTaGVldFRyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9InctZnVsbCI+e2hlYWRlckNvbnRlbnR9PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9TaGVldFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgPFNoZWV0Q29udGVudCBjbGFzc05hbWU9InctWzMwMHB4XSBzbTp3LVs0MDBweF0gcC0wIiBzaWRlPSJsZWZ0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPENoYXRJbmZvU2lkZWJhciBjb252ZXJzYXRpb25JZD17Y29udmVyc2F0aW9uSWR9IC8+CiAgICAgICAgICAgICAgICAgICAgPC9TaGVldENvbnRlbnQ+CiAgICAgICAgICAgICAgICA8L1NoZWV0PgogICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgPExpbmsgaHJlZj17cGFydG5lciA/IGAvdXNlcnMvJHtwYXJ0bmVyLmlkfWAgOiAnIyd9PgogICAgICAgICAgICAgICAgICAgIHtoZWFkZXJDb250ZW50fQogICAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICApfQogICAgICAgIDwvaGVhZGVyPgoKICAgICAgICB7LyogTWVzc2FnZSBMaXN0IEFyZWEgKi99CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtZ3JvdyBwLTQgb3ZlcmZsb3cteS1hdXRvIGZsZXggZmxleC1jb2wtcmV2ZXJzZSI+CiAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZW5kZXIgPSBtZXNzYWdlLnNlbmRlcl9pZCA9PT0gc2Vzc2lvblVzZXIuaWQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VuZGVyRGV0YWlscyA9IGNvbnZlcnNhdGlvbkRldGFpbHMucGFydGljaXBhbnRzLmZpbmQocCA9PiBwLmlkID09PSBtZXNzYWdlLnNlbmRlcl9pZCk7CgogICAgICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgICAgPGRpdgogICAgICAgICAgICAgICAgICAgICAgICBrZXk9e21lc3NhZ2UuaWR9CiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZmxleCBpdGVtcy1lbmQgZ2FwLTIgbXktMiBncm91cCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlbmRlciA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCcKICAgICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICAgIHshaXNTZW5kZXIgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC04IHctOCBzZWxmLXN0YXJ0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJJbWFnZSBzcmM9e3NlbmRlckRldGFpbHM/LnByb2ZpbGVwaWN0dXJldXJsIHx8IHVuZGVmaW5lZH0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjaz57c2VuZGVyRGV0YWlscz8ubmFtZS5jaGFyQXQoMCl9PC9BdmF0YXJGYWxsYmFjaz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIiBzdHlsZT17eyBhbGlnbkl0ZW1zOiBpc1NlbmRlciA/ICdmbGV4LWVuZCcgOiAnZmxleC1zdGFydCcgfX0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JlbGF0aXZlIG1heC13LXhzIG1kOm1heC13LW1kIGxnOm1heC13LWxnIHAtMyByb3VuZGVkLTJ4bCBmbGV4IGZsZXgtY29sJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZW5kZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCByb3VuZGVkLWJyLW5vbmUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLW11dGVkIHRleHQtZm9yZWdyb3VuZCByb3VuZGVkLWJsLW5vbmUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IWlzU2VuZGVyICYmIGNvbnZlcnNhdGlvbkRldGFpbHMuaXNfZ3JvdXAgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtYWNjZW50IG1iLTEiPntzZW5kZXJEZXRhaWxzPy5uYW1lfTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXAgYnJlYWstd29yZHMiPntyZW5kZXJDaGF0TWVzc2FnZUNvbnRlbnQobWVzc2FnZS5jb250ZW50KX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NuKCd0ZXh0LXhzIG10LTEuNSBvcGFjaXR5LTcwJywgaXNTZW5kZXIgPyAnc2VsZi1lbmQnIDogJ3NlbGYtc3RhcnQnKX0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXQobmV3IERhdGUobWVzc2FnZS5jcmVhdGVkX2F0KSwgJ3AnKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKCJhYnNvbHV0ZSBib3R0b20tWy04cHhdIHotMTAgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSIsIGlzU2VuZGVyID8gJ2xlZnQtWy0xMnB4XScgOiAncmlnaHQtWy0xMnB4XScpfT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wb3ZlclRyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJpY29uIiBjbGFzc05hbWU9ImgtNyB3LTcgcm91bmRlZC1mdWxsIGJnLWJhY2tncm91bmQgYm9yZGVyIHNoYWRvdy1zbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTbWlsZSBjbGFzc05hbWU9ImgtNCB3LTQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3BvdmVyVHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQb3BvdmVyQ29udGVudCBjbGFzc05hbWU9InAtMCBib3JkZXItMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtb2ppUGlja2VyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRW1vamlDbGljaz17KGVtb2ppRGF0YSkgPT4gaGFuZGxlUmVhY3Rpb24obWVzc2FnZS5pZCwgZW1vamlEYXRhLmVtb2ppKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWU9e3RoZW1lID09PSAnZGFyaycgPyBFbW9qaVRoZW1lLkRBUksgOiBFbW9qaVRoZW1lLkxJR0hUfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcG92ZXJDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcG92ZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWFjdGlvbnNEaXNwbGF5IHJlYWN0aW9ucz17bWVzc2FnZS5yZWFjdGlvbnMgfHwgW119IG9uUmVhY3Rpb25DbGljaz17KGVtb2ppKSA9PiBoYW5kbGVSZWFjdGlvbihtZXNzYWdlLmlkLCBlbW9qaSl9IC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAge2lzU2VuZGVyICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51VHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJnaG9zdCIgc2l6ZT0iaWNvbiIgY2xhc3NOYW1lPSJoLTcgdy03IG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgc2VsZi1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNb3JlSG9yaXpvbnRhbCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVUcmlnZ2VyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBhbGlnbj0iZW5kIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ1RyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBjbGFzc05hbWU9InRleHQtZGVzdHJ1Y3RpdmUiIG9uU2VsZWN0PXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gRGVsZXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BbGVydERpYWxvZ1RyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51Q29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nQ29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dUaXRsZT5BcmUgeW91IHN1cmU/PC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLiBUaGlzIHdpbGwgcGVybWFuZW50bHkgZGVsZXRlIHlvdXIgbWVzc2FnZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nRm9vdGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5DYW5jZWw8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0FjdGlvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVNZXNzYWdlKG1lc3NhZ2UuaWQpfT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BbGVydERpYWxvZ0FjdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2c+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudT4KICAgICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSl9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICB7LyogTWVzc2FnZSBJbnB1dCBGb3JtICovfQogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgYm9yZGVyLXQgcmVsYXRpdmUiPgogICAgICAgICAgICB7c2hvd01lbnRpb25TdWdnZXN0aW9ucyAmJiBtZW50aW9uUmVzdWx0cy5sZW5ndGggPiAwICYmICgKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTQgbWItMSB3LTMvNCBtYXgtdy1zbSBiZy1iYWNrZ3JvdW5kIGJvcmRlciByb3VuZGVkLWxnIHNoYWRvdy1sZyB6LTEwIj4KICAgICAgICAgICAgICAgICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9Im1heC1oLTQwIj4KICAgICAgICAgICAgICAgICAgICAgICAge21lbnRpb25SZXN1bHRzLm1hcCh1c2VyID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3VzZXIuaWR9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2VsZWN0TWVudGlvbih1c2VyLm5hbWUpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIHctZnVsbCB0ZXh0LWxlZnQgaG92ZXI6YmctbXV0ZWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9ImgtNyB3LTciPjxBdmF0YXJJbWFnZSBzcmM9e3VzZXIucHJvZmlsZXBpY3R1cmV1cmwgfHwgdW5kZWZpbmVkfS8+PEF2YXRhckZhbGxiYWNrPnt1c2VyLm5hbWUuY2hhckF0KDApfTwvQXZhdGFyRmFsbGJhY2s+PC9BdmF0YXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIj57dXNlci5uYW1lfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICAgICAgICA8L1Njcm9sbEFyZWE+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgKX0KICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVNlbmRNZXNzYWdlfSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIj4KICAgICAgICAgICAgPFRleHRhcmVhCiAgICAgICAgICAgICAgICB2YWx1ZT17bmV3TWVzc2FnZX0KICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX0KICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJUeXBlIGEgbWVzc2FnZS4uLiAodXNlIEAgdG8gbWVudGlvbikiCiAgICAgICAgICAgICAgICBjbGFzc05hbWU9ImZsZXgtMSByZXNpemUtbm9uZSBiZy1jYXJkIGJvcmRlciIKICAgICAgICAgICAgICAgIHJvd3M9ezF9CiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZW5kaW5nfQogICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gewogICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZVNlbmRNZXNzYWdlKGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfX0KICAgICAgICAgICAgLz4KICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIHNpemU9Imljb24iIGRpc2FibGVkPXshbmV3TWVzc2FnZS50cmltKCkgfHwgaXNTZW5kaW5nfT4KICAgICAgICAgICAgICAgIHtpc1NlbmRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9ImFuaW1hdGUtc3BpbiIgLz4gOiA8U2VuZCAvPn0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+U2VuZDwvc3Bhbj4KICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/chat-client.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB7IGdldFRvcE1hbmRhbCB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgeyBQYXJ0eVBvcHBlciwgVGh1bWJzVXAgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwoKZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gVG9wTWFuZGFsTWFycXVlZSgpIHsKICBjb25zdCB0b3BNYW5kYWwgPSBhd2FpdCBnZXRUb3BNYW5kYWwoKTsKCiAgaWYgKCF0b3BNYW5kYWwpIHsKICAgIHJldHVybiBudWxsOyAvLyBEb24ndCByZW5kZXIgYW55dGhpbmcgaWYgdGhlcmUgYXJlIG5vIG1hbmRhbHMKICB9CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0icmVsYXRpdmUgZmxleCBvdmVyZmxvdy14LWhpZGRlbiBncm91cCByb3VuZGVkLWxnIGJvcmRlciBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAvMTAgdmlhLWN5YW4tNTAwLzEwIHRvLXRlYWwtNTAwLzEwIHAtMiBib3JkZXItY3lhbi01MDAvMzAgc2hhZG93LWlubmVyIj4KICAgICAgPExpbmsgaHJlZj17YC9gfSBjbGFzc05hbWU9ImZsZXggYW5pbWF0ZS1tYXJxdWVlIHdoaXRlc3BhY2Utbm93cmFwIGl0ZW1zLWNlbnRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtY3lhbi04MDAgZGFyazp0ZXh0LWN5YW4tMzAwIj4KICAgICAgICA8UGFydHlQb3BwZXIgY2xhc3NOYW1lPSJoLTUgdy01IG14LTMgdGV4dC1ibHVlLTUwMCBmbGV4LXNocmluay0wIiAvPgogICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1ib2xkIj4jMSBUb3AgTWFuZGFsOjwvc3Bhbj4KICAgICAgICA8c3BhbiBjbGFzc05hbWU9Im14LTIgdGV4dC1mb3JlZ3JvdW5kIj57dG9wTWFuZGFsLm5hbWV9ICh7dG9wTWFuZGFsLmNpdHl9KTwvc3Bhbj4KICAgICAgICA8VGh1bWJzVXAgY2xhc3NOYW1lPSJoLTQgdy00IHRleHQtcHJpbWFyeSIgLz4KICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgbWwtMSI+e3RvcE1hbmRhbC5saWtlY291bnR9IExpa2VzPC9zcGFuPgogICAgICA8L0xpbms+CiAgICAgIDxMaW5rIGhyZWY9e2AvYH0gY2xhc3NOYW1lPSJhYnNvbHV0ZSB0b3AtMCBmbGV4IGFuaW1hdGUtbWFycXVlZTIgd2hpdGVzcGFjZS1ub3dyYXAgaXRlbXMtY2VudGVyIGgtZnVsbCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtY3lhbi04MDAgZGFyazp0ZXh0LWN5YW4tMzAwIHAtMiI+CiAgICAgICAgPFBhcnR5UG9wcGVyIGNsYXNzTmFtZT0iaC01IHctNSBteC0zIHRleHQtYmx1ZS01MDAgZmxleC1zaHJpbmstMCIgLz4KICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtYm9sZCI+IzEgVG9wIE1hbmRhbDo8L3NwYW4+CiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJteC0yIHRleHQtZm9yZWdyb3VuZCI+e3RvcE1hbmRhbC5uYW1lfSAoe3RvcE1hbmRhbC5jaXR5fSk8L3NwYW4+CiAgICAgICAgPFRodW1ic1VwIGNsYXNzTmFtZT0iaC00IHctNCB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LWJvbGQgdGV4dC1wcmltYXJ5IG1sLTEiPnt0b3BNYW5kYWwubGlrZWNvdW50fSBMaWtlczwvc3Bhbj4KICAgICAgPC9MaW5rPgogICAgPC9kaXY+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/top-mandal-marquee.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMsIEZvcm1FdmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDb3JuZXJEb3duUmlnaHQsIFNlbmQgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwoKaW1wb3J0IHR5cGUgeyBDb21tZW50IGFzIENvbW1lbnRUeXBlLCBVc2VyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBhZGRDb21tZW50LCBnZXRDb21tZW50cyB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJGYWxsYmFjayB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEnOwppbXBvcnQgeyBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0IH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgeyBTa2VsZXRvbiB9IGZyb20gJy4vdWkvc2tlbGV0b24nOwoKY29uc3QgQ29tbWVudENhcmQ6IEZDPHsgY29tbWVudDogQ29tbWVudFR5cGUgfT4gPSAoeyBjb21tZW50IH0pID0+IHsKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9ImZsZXggc3BhY2UteC0zIHB5LTMgcGwtMiBib3JkZXItbC0yIGJvcmRlci1wcmltYXJ5LzIwIG1sLTEgaG92ZXI6Ym9yZGVyLXByaW1hcnkvNTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGJnLXRyYW5zcGFyZW50IGhvdmVyOmJnLXByaW1hcnkvNSByb3VuZGVkLXItbWQiPgogICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC05IHctOSBib3JkZXItMiBib3JkZXItcHJpbWFyeS80MCBmbGV4LXNocmluay0wIG10LTEgc2hhZG93LXNtIj4KICAgICAgICA8QXZhdGFyRmFsbGJhY2sgY2xhc3NOYW1lPSJiZy1tdXRlZCB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5LzgwIj4KICAgICAgICAgIHtjb21tZW50LmF1dGhvci5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKX0KICAgICAgICA8L0F2YXRhckZhbGxiYWNrPgogICAgICA8L0F2YXRhcj4KICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSBzcGFjZS15LTEiPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4iPgogICAgICAgICAgPGg0IGNsYXNzTmFtZT0idGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZC85MCI+e2NvbW1lbnQuYXV0aG9yfTwvaDQ+CiAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAge2Zvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QobmV3IERhdGUoY29tbWVudC5jcmVhdGVkYXQpLCB7IGFkZFN1ZmZpeDogdHJ1ZSB9KX0KICAgICAgICAgIDwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1mb3JlZ3JvdW5kLzgwIHdoaXRlc3BhY2UtcHJlLXdyYXAgYnJlYWstd29yZHMiPntjb21tZW50LmNvbnRlbnR9PC9wPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn07CgoKaW50ZXJmYWNlIENvbW1lbnRTZWN0aW9uUHJvcHMgewogIHBvc3RJZDogbnVtYmVyOwogIHNlc3Npb25Vc2VyOiBVc2VyIHwgbnVsbDsKICBvbkNvbW1lbnRQb3N0ZWQ6ICgpID0+IHZvaWQ7Cn0KCmNvbnN0IENvbW1lbnRTZWN0aW9uOiBGQzxDb21tZW50U2VjdGlvblByb3BzPiA9ICh7IHBvc3RJZCwgc2Vzc2lvblVzZXIsIG9uQ29tbWVudFBvc3RlZCB9KSA9PiB7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBbY29tbWVudHMsIHNldENvbW1lbnRzXSA9IHVzZVN0YXRlPENvbW1lbnRUeXBlW10+KFtdKTsKICBjb25zdCBbbmV3Q29tbWVudCwgc2V0TmV3Q29tbWVudF0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3QgW2lzTG9hZGluZ0NvbW1lbnRzLCBzZXRJc0xvYWRpbmdDb21tZW50c10gPSB1c2VTdGF0ZSh0cnVlKTsKICBjb25zdCBbaXNTdWJtaXR0aW5nQ29tbWVudCwgc2V0SXNTdWJtaXR0aW5nQ29tbWVudF0gPSB1c2VTdGF0ZShmYWxzZSk7CgogIGNvbnN0IGZldGNoUG9zdENvbW1lbnRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4gewogICAgc2V0SXNMb2FkaW5nQ29tbWVudHModHJ1ZSk7CiAgICB0cnkgewogICAgICBjb25zdCBmZXRjaGVkQ29tbWVudHMgPSBhd2FpdCBnZXRDb21tZW50cyhwb3N0SWQpOwogICAgICBzZXRDb21tZW50cyhmZXRjaGVkQ29tbWVudHMpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgY29tbWVudHM6IiwgZXJyb3IpOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0SXNMb2FkaW5nQ29tbWVudHMoZmFsc2UpOwogICAgfQogIH0sIFtwb3N0SWRdKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGZldGNoUG9zdENvbW1lbnRzKCk7CiAgfSwgW2ZldGNoUG9zdENvbW1lbnRzXSk7CgogIGNvbnN0IGhhbmRsZUNvbW1lbnRTdWJtaXQgPSBhc3luYyAoZTogRm9ybUV2ZW50KSA9PiB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBpZiAoIW5ld0NvbW1lbnQudHJpbSgpKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHNldElzU3VibWl0dGluZ0NvbW1lbnQodHJ1ZSk7CiAgICB0cnkgewogICAgICBjb25zdCBhdXRob3IgPSBzZXNzaW9uVXNlcj8ubmFtZSB8fCAnUHVsc2VGYW4nOwogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZGRDb21tZW50KHsgcG9zdElkLCBjb250ZW50OiBuZXdDb21tZW50LnRyaW0oKSwgYXV0aG9yIH0pOwogICAgICBpZiAocmVzdWx0LmNvbW1lbnQpIHsKICAgICAgICBzZXRDb21tZW50cyhwcmV2ID0+IFtyZXN1bHQuY29tbWVudCEsIC4uLnByZXZdKTsKICAgICAgICBzZXROZXdDb21tZW50KCcnKTsKICAgICAgICBvbkNvbW1lbnRQb3N0ZWQoKTsgLy8gTm90aWZ5IHBhcmVudCB0byB1cGRhdGUgY291bnQKICAgICAgICB0b2FzdCh7IHRpdGxlOiAnQ29tbWVudCBQdWxzZWQhJywgZGVzY3JpcHRpb246ICdZb3VyIHRob3VnaHRzIGFyZSBub3cgcGFydCBvZiB0aGUgdmliZS4nLCBjbGFzc05hbWU6ImJnLWFjY2VudCB0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIiB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBTaWxlbnRseSBmYWlsIGJ1dCBsb2cgdGhlIGVycm9yCiAgICAgICAgY29uc29sZS5lcnJvcigiQ291bGQgbm90IHBvc3QgY29tbWVudDoiLCByZXN1bHQuZXJyb3IpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHBvc3RpbmcgY29tbWVudDoiLCBlcnJvcik7CiAgICB9IGZpbmFsbHkgewogICAgICBzZXRJc1N1Ym1pdHRpbmdDb21tZW50KGZhbHNlKTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InB4LTUgcGItNCBib3JkZXItdCBib3JkZXItYm9yZGVyLzMwIHB0LTQgYmctbXV0ZWQvMjAiPgogICAgICA8aDQgY2xhc3NOYW1lPSJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCBtYi0zIHRleHQtcHJpbWFyeSBmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgPENvcm5lckRvd25SaWdodCBjbGFzc05hbWU9InctNCBoLTQgbXItMiB0ZXh0LWFjY2VudCIvPgogICAgICAgIFZpYmVzICYgVGhvdWdodHMKICAgICAgPC9oND4KICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZUNvbW1lbnRTdWJtaXR9IGNsYXNzTmFtZT0ic3BhY2UteS0zIG1iLTQiPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyI+CiAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC0xMCB3LTEwIGJvcmRlci0yIGJvcmRlci1hY2NlbnQvNTAgZmxleC1zaHJpbmstMCBzaGFkb3ctc20iPgogICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2sgY2xhc3NOYW1lPSJiZy1tdXRlZCB0ZXh0LWFjY2VudCBmb250LXNlbWlib2xkIj4KICAgICAgICAgICAgICB7c2Vzc2lvblVzZXI/Lm5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgfHwgJ1AnfQogICAgICAgICAgICA8L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgICA8VGV4dGFyZWEKICAgICAgICAgICAgcGxhY2Vob2xkZXI9IlNoYXJlIHlvdXIgdmliZSBvbiB0aGlzIHB1bHNlLi4uIgogICAgICAgICAgICB2YWx1ZT17bmV3Q29tbWVudH0KICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdDb21tZW50KGUudGFyZ2V0LnZhbHVlKX0KICAgICAgICAgICAgcm93cz17Mn0KICAgICAgICAgICAgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZsZXgtZ3JvdyBtaW4taC1bNDBweF0gc2hhZG93LWlubmVyIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkvNjAgYmctYmFja2dyb3VuZC83MCByb3VuZGVkLWxnIgogICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nQ29tbWVudH0KICAgICAgICAgIC8+CiAgICAgICAgICA8QnV0dG9uIHR5cGU9InN1Ym1pdCIgc2l6ZT0iaWNvbiIgdmFyaWFudD0iZ2hvc3QiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmdDb21tZW50IHx8ICFuZXdDb21tZW50LnRyaW0oKX0gY2xhc3NOYW1lPSJoLTEwIHctMTAgc2VsZi1lbmQgc2hhZG93LXNtIGhvdmVyOmJnLXByaW1hcnkvMTAgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBob3Zlcjpib3JkZXItcHJpbWFyeS8zMCBncm91cCI+CiAgICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT0idy01IGgtNSB0ZXh0LXByaW1hcnkgZ3JvdXAtaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtIiAvPgogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZm9ybT4KCiAgICAgIHtpc0xvYWRpbmdDb21tZW50cyAmJiAoCiAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCI+CiAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTIgdy1mdWxsIiAvPgogICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTEyIHctZnVsbCIgLz4KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgICAgeyFpc0xvYWRpbmdDb21tZW50cyAmJiBjb21tZW50cy5sZW5ndGggPT09IDAgJiYgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBweS00IGl0YWxpYyI+Tm8gdGhvdWdodHMgc2hhcmVkIHlldC4gQmUgdGhlIGZpcnN0IHRvIHZpYmUhPC9wPn0KCiAgICAgIHshaXNMb2FkaW5nQ29tbWVudHMgJiYgY29tbWVudHMubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMiBtYXgtaC03MiBvdmVyZmxvdy15LWF1dG8gcHItMiByb3VuZGVkLW1kIGJvcmRlci10IGJvcmRlci1ib3JkZXIvMjAgcHQtMyBtdC0zIGN1c3RvbS1zY3JvbGxiYXIiPgogICAgICAgICAge2NvbW1lbnRzLm1hcChjb21tZW50ID0+IDxDb21tZW50Q2FyZCBrZXk9e2NvbW1lbnQuaWR9IGNvbW1lbnQ9e2NvbW1lbnR9IC8+KX0KICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn0KCmV4cG9ydCBkZWZhdWx0IENvbW1lbnRTZWN0aW9uOwoKICAgIA==' | base64 -d > /root/localpulse/src/components/comment-section.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnLi91aS9za2VsZXRvbic7CgpleHBvcnQgY29uc3QgUmVlbENvbW1lbnRzU2tlbGV0b24gPSAoKSA9PiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgcC0zIGJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItbWQgcm91bmRlZC10LWxnIG1heC1oLVs0MCVdIG92ZXJmbG93LXktYXV0byB6LTIwIGZsZXggZmxleC1jb2wiPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMiBmbGV4LXNocmluay0wIj4KICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC01IHctMjQgYmctZ3JheS03MDAvNTAiIC8+CiAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtNyB3LTcgcm91bmRlZC1mdWxsIGJnLWdyYXktNzAwLzUwIiAvPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LWdyb3cgb3ZlcmZsb3cteS1hdXRvIHByLTIgc3BhY2UteS0zIj4KICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMCB3LWZ1bGwgYmctZ3JheS03MDAvNTAiIC8+CiAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTAgdy1mdWxsIGJnLWdyYXktNzAwLzUwIiAvPgogICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTEwIHctZnVsbCBiZy1ncmF5LTcwMC81MCIgLz4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibXQtMyBwdC0zIGJvcmRlci10IGJvcmRlci13aGl0ZS8yMCBmbGV4LXNocmluay0wIj4KICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC04IHctZnVsbCBiZy1ncmF5LTcwMC81MCIgLz4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgopOwo=' | base64 -d > /root/localpulse/src/components/reel-comments-skeleton.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZUZvcm0sIHR5cGUgU3VibWl0SGFuZGxlciB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7CmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnOwppbXBvcnQgKiBhcyB6IGZyb20gJ3pvZCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgdHlwZSB7IEdhbnBhdGlNYW5kYWwgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgewogIERpYWxvZywKICBEaWFsb2dDb250ZW50LAogIERpYWxvZ0Rlc2NyaXB0aW9uLAogIERpYWxvZ0hlYWRlciwKICBEaWFsb2dUaXRsZSwKICBEaWFsb2dUcmlnZ2VyLAogIERpYWxvZ0Zvb3RlciwKICBEaWFsb2dDbG9zZSwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJzsKaW1wb3J0IHsgQmVsbCwgRWRpdCwgRmlsbSwgTG9hZGVyMiwgUGFydHlQb3BwZXIsIFBsdXNDaXJjbGUgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgUG9zdENvbXBvc2VyTG9hZGVyIGZyb20gJy4vcG9zdC1jb21wb3Nlci1sb2FkZXInOwppbXBvcnQgeyB1cGRhdGVNYW5kYWwsIHNlbmRBYXJ0aU5vdGlmaWNhdGlvbiB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgeyBGb3JtLCBGb3JtQ29udHJvbCwgRm9ybUZpZWxkLCBGb3JtSXRlbSwgRm9ybUxhYmVsLCBGb3JtTWVzc2FnZSB9IGZyb20gJy4vdWkvZm9ybSc7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi91aS9pbnB1dCc7CmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnLi91aS90ZXh0YXJlYSc7Cgpjb25zdCBtYW5kYWxFZGl0U2NoZW1hID0gei5vYmplY3QoewogIG5hbWU6IHouc3RyaW5nKCkubWluKDMsICdNYW5kYWwgbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycyBsb25nLicpLAogIGNpdHk6IHouc3RyaW5nKCkubWluKDIsICdDaXR5IG5hbWUgaXMgcmVxdWlyZWQuJyksCiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkubWF4KDUwMCwgJ0Rlc2NyaXB0aW9uIGNhbm5vdCBleGNlZWQgNTAwIGNoYXJhY3RlcnMuJykub3B0aW9uYWwoKSwKfSk7CnR5cGUgTWFuZGFsRWRpdEZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2YgbWFuZGFsRWRpdFNjaGVtYT47CgoKY29uc3QgRWRpdE1hbmRhbEZvcm06IFJlYWN0LkZDPHsgbWFuZGFsOiBHYW5wYXRpTWFuZGFsOyBvblVwZGF0ZVN1Y2Nlc3M6ICgpID0+IHZvaWQgfT4gPSAoeyBtYW5kYWwsIG9uVXBkYXRlU3VjY2VzcyB9KSA9PiB7CiAgICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogICAgY29uc3QgZm9ybSA9IHVzZUZvcm08TWFuZGFsRWRpdEZvcm1EYXRhPih7CiAgICAgICAgcmVzb2x2ZXI6IHpvZFJlc29sdmVyKG1hbmRhbEVkaXRTY2hlbWEpLAogICAgICAgIGRlZmF1bHRWYWx1ZXM6IHsKICAgICAgICAgICAgbmFtZTogbWFuZGFsLm5hbWUsCiAgICAgICAgICAgIGNpdHk6IG1hbmRhbC5jaXR5LAogICAgICAgICAgICBkZXNjcmlwdGlvbjogbWFuZGFsLmRlc2NyaXB0aW9uIHx8ICcnLAogICAgICAgIH0sCiAgICB9KTsKCiAgICBjb25zdCB7IGlzU3VibWl0dGluZyB9ID0gZm9ybS5mb3JtU3RhdGU7CgogICAgY29uc3Qgb25TdWJtaXQ6IFN1Ym1pdEhhbmRsZXI8TWFuZGFsRWRpdEZvcm1EYXRhPiA9IGFzeW5jIChkYXRhKSA9PiB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlTWFuZGFsKG1hbmRhbC5pZCwgZGF0YSk7CiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICdNYW5kYWwgVXBkYXRlZCEnLCBkZXNjcmlwdGlvbjogJ1lvdXIgY2hhbmdlcyBoYXZlIGJlZW4gc2F2ZWQuJyB9KTsKICAgICAgICAgICAgb25VcGRhdGVTdWNjZXNzKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ1VwZGF0ZSBGYWlsZWQnLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIH0pOwogICAgICAgIH0KICAgIH07CgogICAgcmV0dXJuICgKICAgICAgICA8RGlhbG9nPgogICAgICAgICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIj48RWRpdCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gRWRpdCBJbmZvPC9CdXR0b24+CiAgICAgICAgICAgIDwvRGlhbG9nVHJpZ2dlcj4KICAgICAgICAgICAgPERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgICAgICAgICA8RGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgICAgIDxEaWFsb2dUaXRsZT5FZGl0IHttYW5kYWwubmFtZX08L0RpYWxvZ1RpdGxlPgogICAgICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICA8Rm9ybSB7Li4uZm9ybX0+CiAgICAgICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2Zvcm0uaGFuZGxlU3VibWl0KG9uU3VibWl0KX0gY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0gbmFtZT0ibmFtZSIgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+PEZvcm1MYWJlbD5NYW5kYWwgTmFtZTwvRm9ybUxhYmVsPjxGb3JtQ29udHJvbD48SW5wdXQgey4uLmZpZWxkfSAvPjwvRm9ybUNvbnRyb2w+PEZvcm1NZXNzYWdlIC8+PC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgKX0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1GaWVsZCBjb250cm9sPXtmb3JtLmNvbnRyb2x9IG5hbWU9ImNpdHkiIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT48Rm9ybUxhYmVsPkNpdHk8L0Zvcm1MYWJlbD48Rm9ybUNvbnRyb2w+PElucHV0IHsuLi5maWVsZH0gLz48L0Zvcm1Db250cm9sPjxGb3JtTWVzc2FnZSAvPjwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICl9IC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtRmllbGQgY29udHJvbD17Zm9ybS5jb250cm9sfSBuYW1lPSJkZXNjcmlwdGlvbiIgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+PEZvcm1MYWJlbD5EZXNjcmlwdGlvbjwvRm9ybUxhYmVsPjxGb3JtQ29udHJvbD48VGV4dGFyZWEgey4uLmZpZWxkfSAvPjwvRm9ybUNvbnRyb2w+PEZvcm1NZXNzYWdlIC8+PC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgKX0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dDbG9zZSBhc0NoaWxkPjxCdXR0b24gdHlwZT0iYnV0dG9uIiB2YXJpYW50PSJnaG9zdCI+Q2FuY2VsPC9CdXR0b24+PC9EaWFsb2dDbG9zZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT57aXNTdWJtaXR0aW5nICYmIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpbiIvPn0gU2F2ZSBDaGFuZ2VzPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nRm9vdGVyPgogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgIDwvRm9ybT4KICAgICAgICAgICAgPC9EaWFsb2dDb250ZW50PgogICAgICAgIDwvRGlhbG9nPgogICAgKTsKfTsKCmludGVyZmFjZSBNYW5kYWxNYW5hZ2VtZW50RGlhbG9nUHJvcHMgewogIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7CiAgbWFuZGFsOiBHYW5wYXRpTWFuZGFsOwogIG9uVXBkYXRlOiAoKSA9PiB2b2lkOwp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYW5kYWxNYW5hZ2VtZW50RGlhbG9nKHsgY2hpbGRyZW4sIG1hbmRhbCwgb25VcGRhdGUgfTogTWFuZGFsTWFuYWdlbWVudERpYWxvZ1Byb3BzKSB7CiAgICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpOwoKICAgIHJldHVybiAoCiAgICAgICAgPERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17c2V0SXNPcGVufT4KICAgICAgICAgICAgPERpYWxvZ1RyaWdnZXIgYXNDaGlsZD57Y2hpbGRyZW59PC9EaWFsb2dUcmlnZ2VyPgogICAgICAgICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9Im1heC1oLVs5MHZoXSBmbGV4IGZsZXgtY29sIj4KICAgICAgICAgICAgICAgIDxEaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgICAgICA8UGFydHlQb3BwZXIgY2xhc3NOYW1lPSJ3LTYgaC02IHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgTWFuYWdlIHttYW5kYWwubmFtZX0KICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ1RpdGxlPgogICAgICAgICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgRWRpdCBkZXRhaWxzIGFuZCBwb3N0IG1lZGlhIGZvciB5b3VyIG1hbmRhbC4KICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+CgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtZ3JvdyBzcGFjZS15LTYgb3ZlcmZsb3cteS1hdXRvIC1teC02IHB4LTYgcHQtMiI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InAtNCBib3JkZXIgcm91bmRlZC1sZyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPjxFZGl0IGNsYXNzTmFtZT0idy00IGgtNCIgLz4gRWRpdCBEZXRhaWxzPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0xIG1iLTMiPlVwZGF0ZSB5b3VyIG1hbmRhbCdzIGluZm9ybWF0aW9uLjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPEVkaXRNYW5kYWxGb3JtIG1hbmRhbD17bWFuZGFsfSBvblVwZGF0ZVN1Y2Nlc3M9eygpID0+IHsgc2V0SXNPcGVuKGZhbHNlKTsgb25VcGRhdGUoKTsgfX0gLz4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InAtNCBib3JkZXIgcm91bmRlZC1sZyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPjxQbHVzQ2lyY2xlIGNsYXNzTmFtZT0idy00IGgtNCIgLz4gUG9zdCBNZWRpYTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMSBtYi0zIj5TaGFyZSBwaG90b3Mgb3IgdmlkZW9zLiBUaGlzIHdpbGwgb25seSBhcHBlYXIgaW4geW91ciBNYW5kYWwncyBnYWxsZXJ5LjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPFBvc3RDb21wb3NlckxvYWRlciBzZXNzaW9uVXNlcj17bnVsbH0gbWFuZGFsSWQ9e21hbmRhbC5pZH0gaXNNYW5kYWxQb3N0PXt0cnVlfSBvblBvc3RTdWNjZXNzPXsoKSA9PiBzZXRJc09wZW4oZmFsc2UpfSAvPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvRGlhbG9nQ29udGVudD4KICAgICAgICA8L0RpYWxvZz4KICAgICk7Cn0K' | base64 -d > /root/localpulse/src/components/mandal-management-dialog.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsKICBEaWFsb2csCiAgRGlhbG9nQ29udGVudCwKICBEaWFsb2dEZXNjcmlwdGlvbiwKICBEaWFsb2dIZWFkZXIsCiAgRGlhbG9nVGl0bGUsCiAgRGlhbG9nVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJzsKaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYSc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4vdWkvYnV0dG9uJzsKaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICcuL3VpL3NrZWxldG9uJzsKaW1wb3J0IHsgZ2V0UG9pbnRIaXN0b3J5IH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB0eXBlIHsgUG9pbnRUcmFuc2FjdGlvbiwgUG9pbnRUcmFuc2FjdGlvblJlYXNvbiB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgQXdhcmQsIENhbGVuZGFyLCBHaWZ0LCBNZWdhcGhvbmUsIFRodW1ic1VwLCBVc2VyUGx1cyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IHsgQWxlcnQsIEFsZXJ0RGVzY3JpcHRpb24sIEFsZXJ0VGl0bGUgfSBmcm9tICcuL3VpL2FsZXJ0JzsKCmludGVyZmFjZSBMcFBvaW50c0hpc3RvcnlEaWFsb2dQcm9wcyB7CiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKICB1c2VySWQ6IG51bWJlcjsKICBpc093blByb2ZpbGU6IGJvb2xlYW47Cn0KCmNvbnN0IHJlYXNvbkNvbmZpZzogUmVjb3JkPFBvaW50VHJhbnNhY3Rpb25SZWFzb24sIHsgaWNvbjogUmVhY3QuRWxlbWVudFR5cGUsIHRleHQ6IHN0cmluZyB9PiA9IHsKICAgIGluaXRpYWxfc2lnbnVwX2JvbnVzOiB7IGljb246IEdpZnQsIHRleHQ6ICdXZWxjb21lIEJvbnVzJyB9LAogICAgcmVmZXJyYWxfYm9udXM6IHsgaWNvbjogVXNlclBsdXMsIHRleHQ6ICdSZWZlcnJhbCBCb251cycgfSwKICAgIG5ld19wb3N0OiB7IGljb246IE1lZ2FwaG9uZSwgdGV4dDogJ05ldyBQdWxzZScgfSwKICAgIHBvc3RfbGlrZV9taWxlc3RvbmU6IHsgaWNvbjogVGh1bWJzVXAsIHRleHQ6ICdQb3B1bGFyIFB1bHNlJyB9LAp9OwoKY29uc3QgVHJhbnNhY3Rpb25Sb3c6IFJlYWN0LkZDPHsgdHJhbnNhY3Rpb246IFBvaW50VHJhbnNhY3Rpb24gfT4gPSAoeyB0cmFuc2FjdGlvbiB9KSA9PiB7CiAgICBjb25zdCBjb25maWcgPSByZWFzb25Db25maWdbdHJhbnNhY3Rpb24ucmVhc29uXSB8fCB7IGljb246IEF3YXJkLCB0ZXh0OiAnTWlzYyBQb2ludHMnIH07CiAgICBjb25zdCBJY29uID0gY29uZmlnLmljb247CgogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgcC0zIHJvdW5kZWQtbGcgaG92ZXI6YmctbXV0ZWQvNTAgdHJhbnNpdGlvbi1jb2xvcnMiPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibXItNCBwLTIgYmctcHJpbWFyeS8xMCB0ZXh0LXByaW1hcnkgcm91bmRlZC1mdWxsIj4KICAgICAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT0idy01IGgtNSIgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LTEiPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCI+e2NvbmZpZy50ZXh0fTwvcD4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPnt0cmFuc2FjdGlvbi5kZXNjcmlwdGlvbn08L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1yaWdodCI+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtYm9sZCB0ZXh0LWdyZWVuLTYwMCI+K3t0cmFuc2FjdGlvbi5wb2ludHN9PC9wPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAge2Zvcm1hdChuZXcgRGF0ZSh0cmFuc2FjdGlvbi5jcmVhdGVkX2F0KSwgJ01NTSBkLCB5eXl5Jyl9CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgKTsKfTsKCmNvbnN0IGVhcm5pbmdSdWxlcyA9IFsKICAgIHsgaWNvbjogR2lmdCwgdGV4dDogJ1NpZ24gdXAgd2l0aCBhIHJlZmVycmFsJywgcG9pbnRzOiAnMjAnIH0sCiAgICB7IGljb246IFVzZXJQbHVzLCB0ZXh0OiAnUmVmZXIgYSBuZXcgdXNlcicsIHBvaW50czogJzUwJyB9LAogICAgeyBpY29uOiBNZWdhcGhvbmUsIHRleHQ6ICdDcmVhdGUgYSBuZXcgUHVsc2UnLCBwb2ludHM6ICcxMCcgfSwKICAgIHsgaWNvbjogVGh1bWJzVXAsIHRleHQ6ICdQdWxzZSBnZXRzIDEwKyBsaWtlcycsIHBvaW50czogJzIwJyB9LApdOwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTHBQb2ludHNIaXN0b3J5RGlhbG9nKHsgY2hpbGRyZW4sIHVzZXJJZCwgaXNPd25Qcm9maWxlIH06IExwUG9pbnRzSGlzdG9yeURpYWxvZ1Byb3BzKSB7CiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbaGlzdG9yeSwgc2V0SGlzdG9yeV0gPSB1c2VTdGF0ZTxQb2ludFRyYW5zYWN0aW9uW10+KFtdKTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBoYW5kbGVPcGVuQ2hhbmdlID0gYXN5bmMgKG9wZW46IGJvb2xlYW4pID0+IHsKICAgIHNldElzT3BlbihvcGVuKTsKICAgIGlmIChvcGVuICYmIGlzT3duUHJvZmlsZSAmJiBoaXN0b3J5Lmxlbmd0aCA9PT0gMCkgewogICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7CiAgICAgIGNvbnN0IGZldGNoZWRIaXN0b3J5ID0gYXdhaXQgZ2V0UG9pbnRIaXN0b3J5KHVzZXJJZCk7CiAgICAgIHNldEhpc3RvcnkoZmV0Y2hlZEhpc3RvcnkpOwogICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpOwogICAgfQogIH07CgogIHJldHVybiAoCiAgICA8RGlhbG9nIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtoYW5kbGVPcGVuQ2hhbmdlfT4KICAgICAgPERpYWxvZ1RyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJjdXJzb3ItcG9pbnRlciI+e2NoaWxkcmVufTwvZGl2PgogICAgICA8L0RpYWxvZ1RyaWdnZXI+CiAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT0ic206bWF4LXctbWQiPgogICAgICAgIDxEaWFsb2dIZWFkZXI+CiAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgIDxBd2FyZCBjbGFzc05hbWU9Im1yLTIgaC02IHctNiB0ZXh0LWFjY2VudCIgLz4KICAgICAgICAgICAgTFAgUG9pbnRzIEhpc3RvcnkKICAgICAgICAgIDwvRGlhbG9nVGl0bGU+CiAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgIEEgcmVjb3JkIG9mIGFsbCB0aGUgcG9pbnRzIHlvdSd2ZSBlYXJuZWQuIEtlZXAgcHVsc2luZyEKICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgPC9EaWFsb2dIZWFkZXI+CiAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPSJoLTYwIHByLTQgLW1yLTQiPgogICAgICAgICAgICB7aXNMb2FkaW5nID8gKAogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMyBweS0yIj4KICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTE2IHctZnVsbCIgLz4KICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTE2IHctZnVsbCIgLz4KICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSJoLTE2IHctZnVsbCIgLz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApIDogaGlzdG9yeS5sZW5ndGggPiAwID8gKAogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMiI+CiAgICAgICAgICAgICAgICAgICAge2hpc3RvcnkubWFwKCh0eCkgPT4gPFRyYW5zYWN0aW9uUm93IGtleT17dHguaWR9IHRyYW5zYWN0aW9uPXt0eH0gLz4pfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgcHktMTAgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAgICAgICAgICA8cD5ObyB0cmFuc2FjdGlvbiBoaXN0b3J5IHlldC48L3A+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgKX0KICAgICAgICA8L1Njcm9sbEFyZWE+CiAgICAgICAgPEFsZXJ0PgogICAgICAgICAgICA8QXdhcmQgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgICAgICA8QWxlcnRUaXRsZT5Ib3cgdG8gRWFybiBMUCBQb2ludHM8L0FsZXJ0VGl0bGU+CiAgICAgICAgICAgIDxBbGVydERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0ibXQtMiBzcGFjZS15LTIgdGV4dC1mb3JlZ3JvdW5kLzkwIj4KICAgICAgICAgICAgICAgICAgICB7ZWFybmluZ1J1bGVzLm1hcCgocnVsZSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbiA9IHJ1bGUuaWNvbjsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e2luZGV4fSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9InctNCBoLTQgbXItMiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntydWxlLnRleHR9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtZ3JlZW4tNjAwIj4re3J1bGUucG9pbnRzfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfSl9CiAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgPC9BbGVydD4KICAgICAgICA8QWxlcnQ+CiAgICAgICAgICAgIDxDYWxlbmRhciBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgIDxBbGVydFRpdGxlPkNvbWluZyBTb29uITwvQWxlcnRUaXRsZT4KICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICBBbiBleGNpdGluZyByZWRlbXB0aW9uIHN5c3RlbSBpcyBvbiBpdHMgd2F5LiBTdGF5IHR1bmVkIQogICAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgPC9BbGVydD4KICAgICAgPC9EaWFsb2dDb250ZW50PgogICAgPC9EaWFsb2c+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/lp-points-history-dialog.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7CiAgRGlhbG9nLAogIERpYWxvZ0NvbnRlbnQsCiAgRGlhbG9nRGVzY3JpcHRpb24sCiAgRGlhbG9nSGVhZGVyLAogIERpYWxvZ1RpdGxlLAogIERpYWxvZ1RyaWdnZXIsCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2RpYWxvZyc7CmltcG9ydCB7IGdldEZvbGxvd2luZ0xpc3QgfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKaW1wb3J0IHR5cGUgeyBGb2xsb3dVc2VyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckltYWdlLCBBdmF0YXJGYWxsYmFjayB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgeyBTa2VsZXRvbiB9IGZyb20gJy4vdWkvc2tlbGV0b24nOwppbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnLi91aS9zY3JvbGwtYXJlYSc7CgppbnRlcmZhY2UgRm9sbG93aW5nTGlzdERpYWxvZ1Byb3BzIGV4dGVuZHMgUHJvcHNXaXRoQ2hpbGRyZW4gewogIHVzZXJJZDogbnVtYmVyOwp9Cgpjb25zdCBGb2xsb3dpbmdMaXN0RGlhbG9nOiBGQzxGb2xsb3dpbmdMaXN0RGlhbG9nUHJvcHM+ID0gKHsgY2hpbGRyZW4sIHVzZXJJZCB9KSA9PiB7CiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbZm9sbG93aW5nTGlzdCwgc2V0Rm9sbG93aW5nTGlzdF0gPSB1c2VTdGF0ZTxGb2xsb3dVc2VyW10+KFtdKTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBoYW5kbGVPcGVuQ2hhbmdlID0gYXN5bmMgKG9wZW46IGJvb2xlYW4pID0+IHsKICAgIHNldElzT3BlbihvcGVuKTsKICAgIGlmIChvcGVuICYmIGZvbGxvd2luZ0xpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgIHNldElzTG9hZGluZyh0cnVlKTsKICAgICAgY29uc3QgbGlzdCA9IGF3YWl0IGdldEZvbGxvd2luZ0xpc3QodXNlcklkKTsKICAgICAgc2V0Rm9sbG93aW5nTGlzdChsaXN0KTsKICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17aGFuZGxlT3BlbkNoYW5nZX0+CiAgICAgIDxEaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+e2NoaWxkcmVufTwvRGlhbG9nVHJpZ2dlcj4KICAgICAgPERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgPERpYWxvZ0hlYWRlcj4KICAgICAgICAgIDxEaWFsb2dUaXRsZT5Gb2xsb3dpbmc8L0RpYWxvZ1RpdGxlPgogICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICBVc2VycyB0aGlzIHBlcnNvbiBpcyBmb2xsb3dpbmcuCiAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgIDwvRGlhbG9nSGVhZGVyPgogICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT0iaC03MiI+CiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS00IHByLTQiPgogICAgICAgICAgICB7aXNMb2FkaW5nICYmICgKICAgICAgICAgICAgICA8PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCI+PFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCIgLz48U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy1bMjAwcHhdIiAvPjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCI+PFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCIgLz48U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy1bMjAwcHhdIiAvPjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCI+PFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCIgLz48U2tlbGV0b24gY2xhc3NOYW1lPSJoLTQgdy1bMjAwcHhdIiAvPjwvZGl2PgogICAgICAgICAgICAgIDwvPgogICAgICAgICAgICApfQogICAgICAgICAgICB7IWlzTG9hZGluZyAmJiBmb2xsb3dpbmdMaXN0Lmxlbmd0aCA+IDAgJiYgZm9sbG93aW5nTGlzdC5tYXAoKHVzZXIpID0+ICgKICAgICAgICAgICAgICA8TGluawogICAgICAgICAgICAgICAga2V5PXt1c2VyLmlkfQogICAgICAgICAgICAgICAgaHJlZj17YC91c2Vycy8ke3VzZXIuaWR9YH0KICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00IHAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLW11dGVkIgogICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKGZhbHNlKX0KICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICA8QXZhdGFyPgogICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXt1c2VyLnByb2ZpbGVwaWN0dXJldXJsIHx8IHVuZGVmaW5lZH0gYWx0PXt1c2VyLm5hbWV9IC8+CiAgICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjaz57dXNlci5uYW1lLmNoYXJBdCgwKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCI+e3VzZXIubmFtZX08L3NwYW4+CiAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICApKX0KICAgICAgICAgICAgeyFpc0xvYWRpbmcgJiYgZm9sbG93aW5nTGlzdC5sZW5ndGggPT09IDAgJiYgKAogICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtY2VudGVyIHB5LTgiPk5vdCBmb2xsb3dpbmcgYW55b25lIHlldC48L3A+CiAgICAgICAgICAgICl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L1Njcm9sbEFyZWE+CiAgICAgIDwvRGlhbG9nQ29udGVudD4KICAgIDwvRGlhbG9nPgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBGb2xsb3dpbmdMaXN0RGlhbG9nOwo=' | base64 -d > /root/localpulse/src/components/following-list-dialog.tsx
mkdir -p /root/localpulse/src/components
echo 'J3VzZSBjbGllbnQnOwoKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IFRvb2x0aXAsIFRvb2x0aXBDb250ZW50LCBUb29sdGlwUHJvdmlkZXIsIFRvb2x0aXBUcmlnZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Rvb2x0aXAnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgQ29weSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CgppbnRlcmZhY2UgQ29weVJlZmVycmFsQnV0dG9uUHJvcHMgewogICAgY29kZTogc3RyaW5nOwp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb3B5UmVmZXJyYWxCdXR0b24oeyBjb2RlIH06IENvcHlSZWZlcnJhbEJ1dHRvblByb3BzKSB7CiAgICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwoKICAgIGNvbnN0IGhhbmRsZUNvcHkgPSAoKSA9PiB7CiAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29kZSk7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgICB0aXRsZTogJ0NvZGUgQ29waWVkIScsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnWW91ciByZWZlcnJhbCBjb2RlIGhhcyBiZWVuIGNvcGllZCB0byB0aGUgY2xpcGJvYXJkLicsCiAgICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiAoCiAgICAgICAgPFRvb2x0aXBQcm92aWRlcj4KICAgICAgICAgICAgPFRvb2x0aXA+CiAgICAgICAgICAgICAgICA8VG9vbHRpcFRyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICA8QnV0dG9uCiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9Imdob3N0IgogICAgICAgICAgICAgICAgICAgICAgICBzaXplPSJpY29uIgogICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9ImgtNyB3LTciCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvcHl9CiAgICAgICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICAgICAgICA8Q29weSBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPgogICAgICAgICAgICAgICAgPFRvb2x0aXBDb250ZW50PgogICAgICAgICAgICAgICAgICAgIDxwPkNvcHkgQ29kZTwvcD4KICAgICAgICAgICAgICAgIDwvVG9vbHRpcENvbnRlbnQ+CiAgICAgICAgICAgIDwvVG9vbHRpcD4KICAgICAgICA8L1Rvb2x0aXBQcm92aWRlcj4KICAgICk7Cn0K' | base64 -d > /root/localpulse/src/components/copy-referral-button.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB0eXBlIEZDIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMsIHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCB0eXBlIHsgUG9zdCwgVXNlciwgU29ydE9wdGlvbiwgQnVzaW5lc3NVc2VyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBnZXRQb3N0cywgZ2V0RmFtaWx5UG9zdHMsIGdldE5lYXJieUJ1c2luZXNzZXMsIHJlZ2lzdGVyRGV2aWNlVG9rZW4sIHVwZGF0ZVVzZXJMb2NhdGlvbiwgZ2V0VW5yZWFkRmFtaWx5UG9zdENvdW50LCBtYXJrRmFtaWx5RmVlZEFzUmVhZCB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgeyBQb3N0Q2FyZCB9IGZyb20gJ0AvY29tcG9uZW50cy9wb3N0LWNhcmQnOwppbXBvcnQgeyBQb3N0RmVlZFNrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3Bvc3QtZmVlZC1za2VsZXRvbic7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBaYXAsIExvYWRlcjIsIEJlbGwsIEJlbGxPZmYsIEJlbGxSaW5nLCBBbGVydFRyaWFuZ2xlLCBVc2VycywgUnNzLCBGaWx0ZXIsIEJyaWVmY2FzZSwgUGFydHlQb3BwZXIsIExvY2F0ZUZpeGVkLCBIYW5kUGxhdHRlciwgQXJyb3dMZWZ0LCBXaW5kLCBTY2lzc29ycywgTWFwLCBMaXN0LCBDYWxlbmRhckNoZWNrLCBXcmVuY2gsIENhciwgSG9tZSBhcyBIb21lSWNvbiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAiQC9ob29rcy91c2UtdG9hc3QiOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvYnV0dG9uIjsKaW1wb3J0IHsgdXNlU3dpcGVhYmxlIH0gZnJvbSAncmVhY3Qtc3dpcGVhYmxlJzsKaW1wb3J0IHsKICBBbGVydERpYWxvZywKICBBbGVydERpYWxvZ0FjdGlvbiwKICBBbGVydERpYWxvZ0NhbmNlbCwKICBBbGVydERpYWxvZ0NvbnRlbnQsCiAgQWxlcnREaWFsb2dEZXNjcmlwdGlvbiwKICBBbGVydERpYWxvZ0Zvb3RlciwKICBBbGVydERpYWxvZ0hlYWRlciwKICBBbGVydERpYWxvZ1RpdGxlLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydC1kaWFsb2cnOwppbXBvcnQgewogIERyb3Bkb3duTWVudSwKICBEcm9wZG93bk1lbnVDb250ZW50LAogIERyb3Bkb3duTWVudUxhYmVsLAogIERyb3Bkb3duTWVudVNlcGFyYXRvciwKICBEcm9wZG93bk1lbnVUcmlnZ2VyLAogIERyb3Bkb3duTWVudVJhZGlvR3JvdXAsCiAgRHJvcGRvd25NZW51UmFkaW9JdGVtCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnUnOwppbXBvcnQgQnVzaW5lc3NDYXJkIGZyb20gJy4vYnVzaW5lc3MtY2FyZCc7CmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgZ2V0TWVzc2FnaW5nLCBnZXRUb2tlbiB9IGZyb20gJ2ZpcmViYXNlL21lc3NhZ2luZyc7CmltcG9ydCB7IGdldEFwcCwgZ2V0QXBwcywgaW5pdGlhbGl6ZUFwcCB9IGZyb20gJ2ZpcmViYXNlL2FwcCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CgoKaW50ZXJmYWNlIEFuZHJvaWRJbnRlcmZhY2UgewogIGdldEZDTVRva2VuPzogKCkgPT4gc3RyaW5nIHwgbnVsbDsKfQoKZGVjbGFyZSBnbG9iYWwgewogIGludGVyZmFjZSBXaW5kb3cgewogICAgQW5kcm9pZD86IEFuZHJvaWRJbnRlcmZhY2U7CiAgfQp9Cgpjb25zdCBQT1NUU19QRVJfUEFHRSA9IDU7Cgp0eXBlIEZlZWRUeXBlID0gJ25lYXJieScgfCAnZmFtaWx5JyB8ICdzZXJ2aWNlcyc7Cgp0eXBlIEZlZWRTdGF0ZSA9IHsKICAgIHBvc3RzOiBQb3N0W107CiAgICBwYWdlOiBudW1iZXI7CiAgICBoYXNNb3JlOiBib29sZWFuOwogICAgaXNMb2FkaW5nOiBib29sZWFuOwp9OwoKdHlwZSBCdXNpbmVzc0ZlZWRTdGF0ZSA9IHsKICAgIGJ1c2luZXNzZXM6IEJ1c2luZXNzVXNlcltdOwogICAgcGFnZTogbnVtYmVyOwogICAgaGFzTW9yZTogYm9vbGVhbjsKICAgIGlzTG9hZGluZzogYm9vbGVhbjsKICAgIGNhdGVnb3J5Pzogc3RyaW5nOwp9OwoKY29uc3QgaW5pdGlhbEZlZWRTdGF0ZTogRmVlZFN0YXRlID0gewogICAgcG9zdHM6IFtdLAogICAgcGFnZTogMSwKICAgIGhhc01vcmU6IHRydWUsCiAgICBpc0xvYWRpbmc6IHRydWUsCn07Cgpjb25zdCBpbml0aWFsQnVzaW5lc3NGZWVkU3RhdGU6IEJ1c2luZXNzRmVlZFN0YXRlID0gewogICAgYnVzaW5lc3NlczogW10sCiAgICBwYWdlOiAxLAogICAgaGFzTW9yZTogdHJ1ZSwKICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICBjYXRlZ29yeTogdW5kZWZpbmVkLAp9OwoKZnVuY3Rpb24gTm90aWZpY2F0aW9uQnV0dG9uQ29udGVudCh7CiAgbm90aWZpY2F0aW9uUGVybWlzc2lvblN0YXR1cywKfTogewogIG5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXM6ICdkZWZhdWx0JyB8ICdsb2FkaW5nJyB8ICdncmFudGVkJyB8ICdkZW5pZWQnOwp9KSB7CiAgc3dpdGNoIChub3RpZmljYXRpb25QZXJtaXNzaW9uU3RhdHVzKSB7CiAgICBjYXNlICdsb2FkaW5nJzoKICAgICAgcmV0dXJuIDw+PExvYWRlcjIgY2xhc3NOYW1lPSJ3LTUgaC01IG1yLTIgYW5pbWF0ZS1zcGluIiAvPiA8c3BhbiBjbGFzc05hbWU9ImhpZGRlbiBzbTppbmxpbmUiPkNoZWNraW5nLi4uPC9zcGFuPjwvPjsKICAgIGNhc2UgJ2dyYW50ZWQnOgogICAgICByZXR1cm4gPD48QmVsbFJpbmcgY2xhc3NOYW1lPSJ3LTUgaC01IG1yLTIgdGV4dC1ncmVlbi01MDAiIC8+IDxzcGFuIGNsYXNzTmFtZT0iaGlkZGVuIHNtOmlubGluZSI+U3Vic2NyaWJlZDwvc3Bhbj48Lz47CiAgICBjYXNlICdkZW5pZWQnOgogICAgICByZXR1cm4gPD48QmVsbE9mZiBjbGFzc05hbWU9InctNSBoLTUgbXItMiB0ZXh0LWRlc3RydWN0aXZlIiAvPiA8c3BhbiBjbGFzc05hbWU9ImhpZGRlbiBzbTppbmxpbmUiPlNldHVwIEZhaWxlZDwvc3Bhbj48Lz47CiAgICBjYXNlICdkZWZhdWx0JzoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiA8PjxCZWxsIGNsYXNzTmFtZT0idy01IGgtNSBtci0yIiAvPiA8c3BhbiBjbGFzc05hbWU9ImhpZGRlbiBzbTppbmxpbmUiPk5vdGlmaWNhdGlvbnM8L3NwYW4+PC8+OwogIH0KfQoKZXhwb3J0IGZ1bmN0aW9uIE5vUG9zdHNDb250ZW50KHsgZmVlZFR5cGUsIHJhZGl1c0ttLCBvblJhZGl1c0NoYW5nZSwgY2F0ZWdvcnkgfTogeyBmZWVkVHlwZTogRmVlZFR5cGU7IHJhZGl1c0ttPzogbnVtYmVyOyBvblJhZGl1c0NoYW5nZT86IChyYWRpdXM6IG51bWJlcikgPT4gdm9pZDsgY2F0ZWdvcnk/OiBzdHJpbmcgfSkgewogIGNvbnN0IG1lc3NhZ2VzID0gewogICAgbmVhcmJ5OiB7CiAgICAgIHRpdGxlOiAnVGhlIGFpciBpcyBxdWlldCBoZXJlLi4uJywKICAgICAgZGVzY3JpcHRpb246ICdObyBwdWxzZXMgZm91bmQgbmVhcmJ5LiBCZSB0aGUgZmlyc3QgdG8gcG9zdCEnCiAgICB9LAogICAgZmFtaWx5OiB7CiAgICAgIHRpdGxlOiAnTm8gRmFtaWx5IFB1bHNlcyBZZXQnLAogICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgZmFtaWx5IG1lbWJlcnMgaGF2ZSBub3QgcG9zdGVkIGFueXRoaW5nIHlldC4gU2hhcmUgYSBmYW1pbHkgcG9zdCB0byBnZXQgc3RhcnRlZCEnCiAgICB9LAogICAgc2VydmljZXM6IHsKICAgICAgdGl0bGU6IGBObyAke2NhdGVnb3J5IHx8ICdCdXNpbmVzc2VzJ30gRm91bmRgLAogICAgICBkZXNjcmlwdGlvbjogcmFkaXVzS20gPyBgV2UgbG9va2VkIHdpdGhpbiAke3JhZGl1c0ttfSBrbS4gV2FudCB0byB0cnkgYSB3aWRlciByYWRpdXM/YCA6ICdObyBidXNpbmVzc2VzIGZvdW5kIGluIHlvdXIgYXJlYSBmb3IgdGhlIHNlbGVjdGVkIGNhdGVnb3J5LiBUcnkgYSBkaWZmZXJlbnQgZmlsdGVyIScKICAgIH0sCiAgfQogIGNvbnN0IGN1cnJlbnRNZXNzYWdlID0gbWVzc2FnZXNbZmVlZFR5cGVdOwoKICByZXR1cm4gKAogICAgPENhcmQgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS0xNiByb3VuZGVkLXhsIHNoYWRvdy14bCBib3JkZXIgYm9yZGVyLWJvcmRlci80MCBiZy1jYXJkLzgwIGJhY2tkcm9wLWJsdXItc20iPgogICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciI+CiAgICAgICAge2ZlZWRUeXBlID09PSAnc2VydmljZXMnID8gPEJyaWVmY2FzZSBjbGFzc05hbWU9Im14LWF1dG8gaC0yMCB3LTIwIHRleHQtbXV0ZWQtZm9yZWdyb3VuZC8zMCBtYi02IiAvPiA6IDxaYXAgY2xhc3NOYW1lPSJteC1hdXRvIGgtMjAgdy0yMCB0ZXh0LW11dGVkLWZvcmVncm91bmQvMzAgbWItNiIgLz59CiAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LTJ4bCB0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9udC1zZW1pYm9sZCI+e2N1cnJlbnRNZXNzYWdlLnRpdGxlfTwvcD4KICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbWQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzgwIG10LTIiPntjdXJyZW50TWVzc2FnZS5kZXNjcmlwdGlvbn08L3A+CiAgICAgICAge2ZlZWRUeXBlID09PSAnc2VydmljZXMnICYmIG9uUmFkaXVzQ2hhbmdlICYmICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZ2FwLTIgbXQtNCI+CiAgICAgICAgICAgICAge1sxMCwgMTUsIDI1XS5tYXAociA9PiAoCiAgICAgICAgICAgICAgICA8QnV0dG9uIGtleT17cn0gdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0ic20iIG9uQ2xpY2s9eygpID0+IG9uUmFkaXVzQ2hhbmdlKHIpfT4KICAgICAgICAgICAgICAgICAge3J9IGttCiAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgICAgICB7ZmVlZFR5cGUgIT09ICdzZXJ2aWNlcycgJiYgKAogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibXQtNiI+CiAgICAgICAgICAgIDxhCiAgICAgICAgICAgICAgICBocmVmPSIjIgogICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiAic21vb3RoIiB9KTsgfX0KICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0iaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtbWQgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LXNtIGJnLWJhY2tncm91bmQgaG92ZXI6YmctbXV0ZWQiCiAgICAgICAgICAgID4KICAgICAgICAgICAgICAgIFNoYXJlIHlvdXIgZmlyc3QgUHVsc2UKICAgICAgICAgICAgPC9hPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICApfQogICAgICA8L0NhcmRDb250ZW50PgogICAgPC9DYXJkPgogICk7Cn0KCgovLyAtLS0gTWFpbiBDb21wb25lbnQgLS0tCgppbnRlcmZhY2UgUG9zdEZlZWRDbGllbnRQcm9wcyB7CiAgc2Vzc2lvblVzZXI6IFVzZXIgfCBudWxsOwogIGluaXRpYWxQb3N0czogUG9zdFtdOwp9Cgpjb25zdCBzZXJ2aWNlQ2F0ZWdvcmllcyA9IFsKICAgIHsgbmFtZTogJ1BlcnNvbmFsIENhcmUnLCBpY29uOiBTY2lzc29ycywgZGVzY3JpcHRpb246ICJTYWxvb25zLCBCYXJiZXJzLCBTcGFzIiwgc3ViY2F0ZWdvcmllczogWyJTYWxvb24gLyBCYXJiZXIgU2hvcCIsICJCZWF1dHkgUGFybG91ciIsICJTcGEgLyBNYXNzYWdlIENlbnRlciIsICJNZWhlbmRpIC8gVGF0dG9vIEFydGlzdCJdLCBjb2xvcjogJ2JnLXBpbmstMTAwIGRhcms6YmctcGluay05MDAvMzAgYm9yZGVyLXBpbmstMjAwIGRhcms6Ym9yZGVyLXBpbmstODAwLzUwJywgaWNvbkNvbG9yOiAndGV4dC1waW5rLTUwMCcgfSwKICAgIHsgbmFtZTogJ1ZlaGljbGUgU2VydmljZXMnLCBpY29uOiBDYXIsIGRlc2NyaXB0aW9uOiAiV2FzaGluZywgRGV0YWlsaW5nIiwgc3ViY2F0ZWdvcmllczogWyJDYXIvQmlrZSBXYXNoaW5nIl0sIGNvbG9yOiAnYmctYmx1ZS0xMDAgZGFyazpiZy1ibHVlLTkwMC8zMCBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDAvNTAnLCBpY29uQ29sb3I6ICd0ZXh0LWJsdWUtNTAwJyB9LAogICAgeyBuYW1lOiAnSG9tZSBTZXJ2aWNlcycsIGljb246IEhvbWVJY29uLCBkZXNjcmlwdGlvbjogIkVsZWN0cmljaWFucywgUGx1bWJlcnMiLCBzdWJjYXRlZ29yaWVzOiBbIkVsZWN0cmljaWFuIiwgIlBsdW1iZXIiLCAiQ2FycGVudGVyIiwgIlBhaW50ZXIiLCAiQ2l2aWwgV29ya2VyIC8gTWFzb24iLCAiQUMgLyBSZWZyaWdlcmF0b3IgTWVjaGFuaWMiLCAiQ0NUViBJbnN0YWxsZXIiLCAiUk8gLyBXYXRlciBQdXJpZmllciBTZXJ2aWNlIiwgIkdhcyBTdG92ZSBSZXBhaXIiXSwgY29sb3I6ICdiZy1ncmVlbi0xMDAgZGFyazpiZy1ncmVlbi05MDAvMzAgYm9yZGVyLWdyZWVuLTIwMCBkYXJrOmJvcmRlci1ncmVlbi04MDAvNTAnLCBpY29uQ29sb3I6ICd0ZXh0LWdyZWVuLTUwMCcgfSwKICAgIHsgbmFtZTogJ1Byb2Zlc3Npb25hbCBTZXJ2aWNlcycsIGljb246IFdyZW5jaCwgZGVzY3JpcHRpb246ICJSZXBhaXJzLCBMYXVuZHJ5LCBldGMuIiwgc3ViY2F0ZWdvcmllczogWyJDb21wdXRlciBSZXBhaXIgJiBTZXJ2aWNlIiwgIkxhdW5kcnkgLyBEcnkgQ2xlYW5pbmciLCAiQ291cmllciBTZXJ2aWNlIl0sIGNvbG9yOiAnYmctaW5kaWdvLTEwMCBkYXJrOmJnLWluZGlnby05MDAvMzAgYm9yZGVyLWluZGlnby0yMDAgZGFyazpib3JkZXItaW5kaWdvLTgwMC81MCcsIGljb25Db2xvcjogJ3RleHQtaW5kaWdvLTUwMCcgfQpdOwoKY29uc3QgUG9zdEZlZWRDbGllbnQ6IEZDPFBvc3RGZWVkQ2xpZW50UHJvcHM+ID0gKHsgc2Vzc2lvblVzZXIsIGluaXRpYWxQb3N0cyB9KSA9PiB7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgY29uc3QgaGFuZGxlVGFiQ2hhbmdlUm91dGVyID0gKG5ld1RhYjogc3RyaW5nKSA9PiB7CiAgICBjb25zdCB1c3AgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogICAgdXNwLnNldCgndGFiJywgbmV3VGFiKTsKICAgIHJvdXRlci5yZXBsYWNlKGA/JHt1c3AudG9TdHJpbmcoKX1gLCB7IHNjcm9sbDogZmFsc2UgfSk7CiAgfTsKICAKICBjb25zdCBhY3RpdmVUYWIgPSAoc2VhcmNoUGFyYW1zLmdldCgndGFiJykgYXMgRmVlZFR5cGUpIHx8ICduZWFyYnknOwogIAogIGNvbnN0IFtmZWVkcywgc2V0RmVlZHNdID0gdXNlU3RhdGU8eyBba2V5IGluICduZWFyYnknIHwgJ2ZhbWlseSddOiBGZWVkU3RhdGUgfT4oewogICAgbmVhcmJ5OiB7IC4uLmluaXRpYWxGZWVkU3RhdGUsIHBvc3RzOiBpbml0aWFsUG9zdHMsIGlzTG9hZGluZzogaW5pdGlhbFBvc3RzLmxlbmd0aCA9PT0gMCwgaGFzTW9yZTogaW5pdGlhbFBvc3RzLmxlbmd0aCA9PT0gUE9TVFNfUEVSX1BBR0UgfSwKICAgIGZhbWlseTogeyAuLi5pbml0aWFsRmVlZFN0YXRlLCBpc0xvYWRpbmc6IGZhbHNlIH0sIC8vIEZhbWlseSBmZWVkIGRvZXNuJ3QgbG9hZCBpbml0aWFsbHkKICB9KTsKICBjb25zdCBbYnVzaW5lc3NGZWVkLCBzZXRCdXNpbmVzc0ZlZWRdID0gdXNlU3RhdGU8QnVzaW5lc3NGZWVkU3RhdGU+KGluaXRpYWxCdXNpbmVzc0ZlZWRTdGF0ZSk7CgogIGNvbnN0IFtzb3J0QnksIHNldFNvcnRCeV0gPSB1c2VTdGF0ZTxTb3J0T3B0aW9uPignbmVhcmJ5Jyk7CiAgY29uc3QgW3JhZGl1c0ttLCBzZXRSYWRpdXNLbV0gPSB1c2VTdGF0ZSg1KTsKICAKICBjb25zdCBbbG9jYXRpb24sIHNldExvY2F0aW9uXSA9IHVzZVN0YXRlPHsgbGF0aXR1ZGU6IG51bWJlcjsgbG9uZ2l0dWRlOiBudW1iZXIgfSB8IG51bGw+KG51bGwpOwogIGNvbnN0IFtpc1JlZnJlc2hpbmcsIHNldElzUmVmcmVzaGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW25vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXMsIHNldE5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXNdID0gdXNlU3RhdGU8J2RlZmF1bHQnIHwgJ2xvYWRpbmcnIHwgJ2dyYW50ZWQnIHwgJ2RlbmllZCc+KCdkZWZhdWx0Jyk7CiAgY29uc3QgW3Nob3dUcm91Ymxlc2hvb3RpbmdEaWFsb2csIHNldFNob3dUcm91Ymxlc2hvb3RpbmdEaWFsb2ddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFt1bnJlYWRGYW1pbHlQb3N0Q291bnQsIHNldFVucmVhZEZhbWlseVBvc3RDb3VudF0gPSB1c2VTdGF0ZSgwKTsKICBjb25zdCBbbG9jYXRpb25Qcm9tcHRWaXNpYmxlLCBzZXRMb2NhdGlvblByb21wdFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtpc0ZldGNoaW5nTG9jYXRpb24sIHNldElzRmV0Y2hpbmdMb2NhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgCiAgY29uc3QgW3NlbGVjdGVkQ2F0ZWdvcnksIHNldFNlbGVjdGVkQ2F0ZWdvcnldID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgCiAgY29uc3QgZmFtaWx5RmVlZExvYWRlZCA9IHVzZVJlZihmYWxzZSk7CgoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICdOb3RpZmljYXRpb24nIGluIHdpbmRvdykgewogICAgICBzZXROb3RpZmljYXRpb25QZXJtaXNzaW9uU3RhdHVzKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKTsKICAgIH0KICB9LCBbXSk7CiAgCiAgLy8gVGhpcyBlZmZlY3Qgd2lsbCBvbmx5IHBvbGwgZm9yIHRoZSB1bnJlYWQgZmFtaWx5IGNvdW50LgogIC8vIEl0IHdpbGwgTk9UIGNhdXNlIGEgcmUtcmVuZGVyIHRoYXQgcmVzZXRzIHRoZSBidXNpbmVzcyBmZWVkLgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoIXNlc3Npb25Vc2VyKSB7CiAgICAgIHNldFVucmVhZEZhbWlseVBvc3RDb3VudCgwKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgZmV0Y2hDb3VudCA9ICgpID0+IHsKICAgICAgZ2V0VW5yZWFkRmFtaWx5UG9zdENvdW50KCkudGhlbihzZXRVbnJlYWRGYW1pbHlQb3N0Q291bnQpOwogICAgfTsKICAgIGZldGNoQ291bnQoKTsgLy8gSW5pdGlhbCBmZXRjaAogICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZldGNoQ291bnQsIDMwMDAwKTsKICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsSWQpOwogIH0sIFtzZXNzaW9uVXNlcl0pOwoKCiAgY29uc3QgZmV0Y2hQb3N0cyA9IHVzZUNhbGxiYWNrKGFzeW5jIChmZWVkOiAnbmVhcmJ5JyB8ICdmYW1pbHknLCBwYWdlOiBudW1iZXIsIHNvcnQ6IFNvcnRPcHRpb24sIGN1cnJlbnRMb2M6IHsgbGF0aXR1ZGU6IG51bWJlcjsgbG9uZ2l0dWRlOiBudW1iZXIgfSB8IG51bGwpID0+IHsKICAgIHNldEZlZWRzKHByZXYgPT4gKHsgLi4ucHJldiwgW2ZlZWRdOiB7IC4uLnByZXZbZmVlZF0sIGlzTG9hZGluZzogdHJ1ZSB9IH0pKTsKCiAgICB0cnkgewogICAgICAgIGNvbnN0IGZldGNoZXIgPSBmZWVkID09PSAnbmVhcmJ5JwogICAgICAgICAgICA/IGdldFBvc3RzKHsgcGFnZSwgbGltaXQ6IFBPU1RTX1BFUl9QQUdFLCBsYXRpdHVkZTogY3VycmVudExvYz8ubGF0aXR1ZGUsIGxvbmdpdHVkZTogY3VycmVudExvYz8ubG9uZ2l0dWRlLCBzb3J0Qnk6IHNvcnQgfSkKICAgICAgICAgICAgOiBnZXRGYW1pbHlQb3N0cyh7IHBhZ2UsIGxpbWl0OiBQT1NUU19QRVJfUEFHRSwgc29ydEJ5OiBzb3J0IH0pOwoKICAgICAgICBjb25zdCBuZXdQb3N0cyA9IGF3YWl0IGZldGNoZXI7CiAgICAgIAogICAgICAgIHNldEZlZWRzKHByZXYgPT4gewogICAgICAgICAgICBjb25zdCBjdXJyZW50RmVlZCA9IHByZXZbZmVlZF07CiAgICAgICAgICAgIGNvbnN0IGFsbFBvc3RzID0gcGFnZSA9PT0gMSA/IG5ld1Bvc3RzIDogWy4uLmN1cnJlbnRGZWVkLnBvc3RzLCAuLi5uZXdQb3N0cy5maWx0ZXIocCA9PiAhY3VycmVudEZlZWQucG9zdHMuc29tZShlcCA9PiBlcC5pZCA9PT0gcC5pZCkpXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAuLi5wcmV2LAogICAgICAgICAgICAgICAgW2ZlZWRdOiB7CiAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudEZlZWQsCiAgICAgICAgICAgICAgICAgICAgcG9zdHM6IGFsbFBvc3RzLAogICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsCiAgICAgICAgICAgICAgICAgICAgaGFzTW9yZTogbmV3UG9zdHMubGVuZ3RoID09PSBQT1NUU19QRVJfUEFHRSwKICAgICAgICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyAke2ZlZWR9IHBvc3RzOmAsIGVycm9yKTsKICAgICAgICBzZXRGZWVkcyhwcmV2ID0+ICh7IC4uLnByZXYsIFtmZWVkXTogeyAuLi5wcmV2W2ZlZWRdLCBpc0xvYWRpbmc6IGZhbHNlIH0gfSkpOwogICAgfQogIH0sIFtdKTsKCiAgY29uc3QgZmV0Y2hCdXNpbmVzc2VzID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBhZ2U6IG51bWJlciwgY2F0ZWdvcnk/OiBzdHJpbmcpID0+IHsKICAgIGlmICghbG9jYXRpb24pIHsKICAgICAgICBzZXRMb2NhdGlvblByb21wdFZpc2libGUodHJ1ZSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgc2V0TG9jYXRpb25Qcm9tcHRWaXNpYmxlKGZhbHNlKTsKICAgIHNldEJ1c2luZXNzRmVlZChwcmV2ID0+ICh7IC4uLnByZXYsIGlzTG9hZGluZzogdHJ1ZSwgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8IHByZXYuY2F0ZWdvcnkgfSkpOwoKICAgIHRyeSB7CiAgICAgIGNvbnN0IG5ld0J1c2luZXNzZXMgPSBhd2FpdCBnZXROZWFyYnlCdXNpbmVzc2VzKHsgcGFnZSwgbGltaXQ6IFBPU1RTX1BFUl9QQUdFLCBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jYXRpb24ubG9uZ2l0dWRlLCBjYXRlZ29yeSwgcmFkaXVzS20gfSk7CiAgICAgIAogICAgICBzZXRCdXNpbmVzc0ZlZWQocHJldiA9PiB7CiAgICAgICAgY29uc3QgYWxsQnVzaW5lc3NlcyA9IHBhZ2UgPT09IDEgPyBuZXdCdXNpbmVzc2VzIDogWy4uLnByZXYuYnVzaW5lc3NlcywgLi4ubmV3QnVzaW5lc3Nlcy5maWx0ZXIoYiA9PiAhcHJldi5idXNpbmVzc2VzLnNvbWUoZWIgPT4gZWIuaWQgPT09IGIuaWQpKV07CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLnByZXYsCiAgICAgICAgICBidXNpbmVzc2VzOiBhbGxCdXNpbmVzc2VzLAogICAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICAgIGhhc01vcmU6IG5ld0J1c2luZXNzZXMubGVuZ3RoID09PSBQT1NUU19QRVJfUEFHRSwKICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGJ1c2luZXNzZXM6JywgZXJyb3IpOwogICAgICBzZXRCdXNpbmVzc0ZlZWQocHJldiA9PiAoeyAuLi5wcmV2LCBpc0xvYWRpbmc6IGZhbHNlIH0pKTsKICAgIH0KICB9LCBbbG9jYXRpb24sIHJhZGl1c0ttXSk7CgogIGNvbnN0IHJlcXVlc3RMb2NhdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHsKICAgIGlmICghbmF2aWdhdG9yLmdlb2xvY2F0aW9uIHx8IGlzRmV0Y2hpbmdMb2NhdGlvbikgcmV0dXJuOwogICAgCiAgICBzZXRJc0ZldGNoaW5nTG9jYXRpb24odHJ1ZSk7CiAgICBzZXRMb2NhdGlvblByb21wdFZpc2libGUoZmFsc2UpOwogICAgCiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKAogICAgICAocG9zaXRpb24pID0+IHsKICAgICAgICBjb25zdCBuZXdMb2NhdGlvbiA9IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH07CiAgICAgICAgc2V0TG9jYXRpb24obmV3TG9jYXRpb24pOwogICAgICAgIHNldElzRmV0Y2hpbmdMb2NhdGlvbihmYWxzZSk7CiAgICAgICAgCiAgICAgICAgaWYgKHNlc3Npb25Vc2VyKSB7CiAgICAgICAgICB1cGRhdGVVc2VyTG9jYXRpb24obmV3TG9jYXRpb24ubGF0aXR1ZGUsIG5ld0xvY2F0aW9uLmxvbmdpdHVkZSkuY2F0Y2goZXJyID0+IGNvbnNvbGUud2FybigiU2lsZW50IGxvY2F0aW9uIHVwZGF0ZSBmYWlsZWQ6IiwgZXJyKSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGZldGNoUG9zdHMoJ25lYXJieScsIDEsIHNvcnRCeSwgbmV3TG9jYXRpb24pOwogICAgICB9LAogICAgICAoZXJyKSA9PiB7CiAgICAgICAgY29uc29sZS53YXJuKCJDb3VsZCBub3QgZ2V0IHVzZXIgbG9jYXRpb246IiwgZXJyLm1lc3NhZ2UpOwogICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdMb2NhdGlvbiBFcnJvcicsIGRlc2NyaXB0aW9uOiAnQ291bGQgbm90IGFjY2VzcyB5b3VyIGxvY2F0aW9uLiBQbGVhc2UgY2hlY2sgeW91ciBicm93c2VyIHNldHRpbmdzLicgfSk7CiAgICAgICAgc2V0TG9jYXRpb25Qcm9tcHRWaXNpYmxlKHRydWUpOwogICAgICAgIHNldElzRmV0Y2hpbmdMb2NhdGlvbihmYWxzZSk7CiAgICAgIH0sCiAgICAgIHsgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLCB0aW1lb3V0OiAxMDAwMCwgbWF4aW11bUFnZTogMCB9CiAgICApOwogIH0sIFtpc0ZldGNoaW5nTG9jYXRpb24sIHNlc3Npb25Vc2VyLCB0b2FzdCwgZmV0Y2hQb3N0cywgc29ydEJ5XSk7CiAgCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIHJlcXVlc3RMb2NhdGlvbigpOwogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMKICB9LCBbXSk7CiAgCiAgY29uc3QgaGFuZGxlVGFiQ2hhbmdlID0gdXNlQ2FsbGJhY2soKG5ld1RhYjogRmVlZFR5cGUpID0+IHsKICAgIGlmIChuZXdUYWIgPT09ICdmYW1pbHknKSB7CiAgICAgICAgaWYgKHVucmVhZEZhbWlseVBvc3RDb3VudCA+IDApIHsKICAgICAgICAgICAgbWFya0ZhbWlseUZlZWRBc1JlYWQoKTsKICAgICAgICAgICAgc2V0VW5yZWFkRmFtaWx5UG9zdENvdW50KDApOwogICAgICAgIH0KICAgICAgICBpZiAoIWZhbWlseUZlZWRMb2FkZWQuY3VycmVudCkgewogICAgICAgICAgICBmZXRjaFBvc3RzKCdmYW1pbHknLCAxLCBzb3J0QnksIGxvY2F0aW9uKTsKICAgICAgICAgICAgZmFtaWx5RmVlZExvYWRlZC5jdXJyZW50ID0gdHJ1ZTsKICAgICAgICB9CiAgICB9IGVsc2UgaWYgKG5ld1RhYiA9PT0gJ3NlcnZpY2VzJykgewogICAgICAgIHNldFNlbGVjdGVkQ2F0ZWdvcnkobnVsbCk7CiAgICAgICAgc2V0QnVzaW5lc3NGZWVkKGluaXRpYWxCdXNpbmVzc0ZlZWRTdGF0ZSk7IAogICAgICAgIGlmICghbG9jYXRpb24pIHsKICAgICAgICAgICAgc2V0TG9jYXRpb25Qcm9tcHRWaXNpYmxlKHRydWUpOwogICAgICAgIH0KICAgIH0gZWxzZSB7IC8vICduZWFyYnknCiAgICAgICAgc2V0TG9jYXRpb25Qcm9tcHRWaXNpYmxlKGZhbHNlKTsgLy8gSGlkZSBsb2NhdGlvbiBwcm9tcHQgaWYgc3dpdGNoaW5nIGF3YXkgZnJvbSBzZXJ2aWNlcwogICAgICAgIGlmIChmZWVkcy5uZWFyYnkucG9zdHMubGVuZ3RoID09PSAwICYmICFmZWVkcy5uZWFyYnkuaXNMb2FkaW5nKSB7CiAgICAgICAgICAgIGZldGNoUG9zdHMoJ25lYXJieScsIDEsIHNvcnRCeSwgbG9jYXRpb24pOwogICAgICAgIH0KICAgIH0KICB9LCBbdW5yZWFkRmFtaWx5UG9zdENvdW50LCBmZWVkcy5uZWFyYnkucG9zdHMubGVuZ3RoLCBmZWVkcy5uZWFyYnkuaXNMb2FkaW5nLCBmZXRjaFBvc3RzLCBzb3J0QnksIGxvY2F0aW9uXSk7CgoKICAvLyBUaGlzIGVmZmVjdCBub3cgb25seSBydW5zIHdoZW4gdGhlIGFjdGl2ZSB0YWIgY2hhbmdlcyBmcm9tIHRoZSBVUkwKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaGFuZGxlVGFiQ2hhbmdlKGFjdGl2ZVRhYik7CiAgfSwgW2FjdGl2ZVRhYiwgaGFuZGxlVGFiQ2hhbmdlXSk7CgogIGNvbnN0IGhhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbiA9IGFzeW5jICgpID0+IHsKICAgIGlmIChub3RpZmljYXRpb25QZXJtaXNzaW9uU3RhdHVzID09PSAnZ3JhbnRlZCcpIHsKICAgICAgdG9hc3QoeyB0aXRsZTogIk5vdGlmaWNhdGlvbnMgRW5hYmxlZCIsIGRlc2NyaXB0aW9uOiAiWW91IGFyZSBhbHJlYWR5IHNldCB1cCB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnMuIiB9KTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKG5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXMgPT09ICdkZW5pZWQnKSB7CiAgICAgICBzZXRTaG93VHJvdWJsZXNob290aW5nRGlhbG9nKHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgc2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvblN0YXR1cygnbG9hZGluZycpOwogICAgCiAgICAvLyBUaGlzIGlzIHRoZSBjb25zb2xpZGF0ZWQgbG9naWMgZm9yIGdldHRpbmcgYSB0b2tlbiBmcm9tIGVpdGhlciB0aGUgV2ViVmlldyBvciBXZWIgUHVzaCBBUEkKICAgIGNvbnN0IGZpcmViYXNlQ29uZmlnID0gewogICAgICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVksCiAgICAgIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLAogICAgICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQsCiAgICAgIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULAogICAgICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCwKICAgICAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCwKICAgIH07CgogICAgY29uc3QgdmFwaWRLZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9WQVBJRF9LRVk7CgogICAgdHJ5IHsKICAgICAgbGV0IHRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDsKICAgICAgLy8gMS4gRmlyc3QsIHRyeSB0aGUgQW5kcm9pZCBXZWJWaWV3IHBhdGgKICAgICAgaWYgKHdpbmRvdy5BbmRyb2lkICYmIHR5cGVvZiB3aW5kb3cuQW5kcm9pZC5nZXRGQ01Ub2tlbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIGNvbnNvbGUubG9nKCJBdHRlbXB0aW5nIHRvIGdldCB0b2tlbiBmcm9tIEFuZHJvaWQgV2ViVmlldy4uLiIpOwogICAgICAgIHRva2VuID0gd2luZG93LkFuZHJvaWQuZ2V0RkNNVG9rZW4oKTsKICAgICAgfQoKICAgICAgLy8gMi4gSWYgbm90IGluIFdlYlZpZXcgb3IgdG9rZW4gaXMgbnVsbCwgZmFsbCBiYWNrIHRvIFdlYiBQdXNoIEFQSQogICAgICBpZiAoIXRva2VuKSB7CiAgICAgICAgY29uc29sZS5sb2coIk5vdCBpbiBXZWJWaWV3IG9yIHRva2VuIG5vdCBmb3VuZCwgZmFsbGluZyBiYWNrIHRvIFdlYiBQdXNoIEFQSS4iKTsKICAgICAgICBpZiAoIXZhcGlkS2V5KSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIldlYiBub3RpZmljYXRpb24ga2V5IGlzIG5vdCBjb25maWd1cmVkIG9uIHRoZSBzZXJ2ZXIuIik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IHBlcm1pc3Npb24gPSBhd2FpdCBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTsKICAgICAgICBpZiAocGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7CiAgICAgICAgICAgIGNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPT09IDAgPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKSA6IGdldEFwcCgpOwogICAgICAgICAgICBjb25zdCBtZXNzYWdpbmcgPSBnZXRNZXNzYWdpbmcoYXBwKTsKICAgICAgICAgICAgdG9rZW4gPSBhd2FpdCBnZXRUb2tlbihtZXNzYWdpbmcsIHsgdmFwaWRLZXkgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJOb3RpZmljYXRpb24gcGVybWlzc2lvbiB3YXMgZGVuaWVkLiIpOwogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgLy8gMy4gSWYgd2UgaGF2ZSBhIHRva2VuIChmcm9tIGVpdGhlciBzb3VyY2UpLCByZWdpc3RlciBpdC4KICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVnaXN0ZXJEZXZpY2VUb2tlbih0b2tlbiwgbG9jYXRpb24/LmxhdGl0dWRlLCBsb2NhdGlvbj8ubG9uZ2l0dWRlKTsKICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICAgIHNldE5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXMoJ2dyYW50ZWQnKTsKICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICJTdWNjZXNzISIsIGRlc2NyaXB0aW9uOiAiWW91IGFyZSBub3cgc2V0IHVwIGZvciBub3RpZmljYXRpb25zLiJ9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAiRmFpbGVkIHRvIHJlZ2lzdGVyIHRva2VuIHdpdGggc2VydmVyLiIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBnZXQgYSBub3RpZmljYXRpb24gdG9rZW4uIFBsZWFzZSB0cnkgYWdhaW4uIik7CiAgICAgIH0KCiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZHVyaW5nIG5vdGlmaWNhdGlvbiByZWdpc3RyYXRpb246IiwgZXJyb3IpOwogICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICJSZWdpc3RyYXRpb24gRmFpbGVkIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7CiAgICAgICAgc2V0U2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZyh0cnVlKTsKICAgICAgICBzZXROb3RpZmljYXRpb25QZXJtaXNzaW9uU3RhdHVzKCdkZW5pZWQnKTsKICAgIH0KICB9OwoKICBjb25zdCByZWZyZXNoRmVlZCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHsKICAgIHNldElzUmVmcmVzaGluZyh0cnVlKTsKICAgIGlmKGFjdGl2ZVRhYiA9PT0gJ3NlcnZpY2VzJykgewogICAgICAgIGF3YWl0IGZldGNoQnVzaW5lc3NlcygxLCBidXNpbmVzc0ZlZWQuY2F0ZWdvcnkpOwogICAgfSBlbHNlIHsKICAgICAgICBpZiAoYWN0aXZlVGFiID09PSAnZmFtaWx5JykgewogICAgICAgICAgICBzZXRVbnJlYWRGYW1pbHlQb3N0Q291bnQoMCk7CiAgICAgICAgICAgIG1hcmtGYW1pbHlGZWVkQXNSZWFkKCk7CiAgICAgICAgfQogICAgICAgIGF3YWl0IGZldGNoUG9zdHMoYWN0aXZlVGFiLCAxLCBzb3J0QnksIGxvY2F0aW9uKTsKICAgIH0KICAgIHNldElzUmVmcmVzaGluZyhmYWxzZSk7CiAgICBpZiAod2luZG93KSB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTsKICB9LCBbYWN0aXZlVGFiLCBmZXRjaFBvc3RzLCBzb3J0QnksIGZldGNoQnVzaW5lc3NlcywgYnVzaW5lc3NGZWVkLmNhdGVnb3J5LCBsb2NhdGlvbl0pOwogIAogIGNvbnN0IGhhbmRsZUxvYWRNb3JlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4gewogICAgaWYgKGFjdGl2ZVRhYiA9PT0gJ3NlcnZpY2VzJykgewogICAgICAgIGlmIChidXNpbmVzc0ZlZWQuaXNMb2FkaW5nIHx8ICFidXNpbmVzc0ZlZWQuaGFzTW9yZSkgcmV0dXJuOwogICAgICAgIGZldGNoQnVzaW5lc3NlcyhidXNpbmVzc0ZlZWQucGFnZSArIDEsIGJ1c2luZXNzRmVlZC5jYXRlZ29yeSk7CiAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGN1cnJlbnRGZWVkID0gZmVlZHNbYWN0aXZlVGFiXTsKICAgICAgICBpZihjdXJyZW50RmVlZC5pc0xvYWRpbmcgfHwgIWN1cnJlbnRGZWVkLmhhc01vcmUpIHJldHVybjsKICAgICAgICBmZXRjaFBvc3RzKGFjdGl2ZVRhYiwgY3VycmVudEZlZWQucGFnZSArIDEsIHNvcnRCeSwgbG9jYXRpb24pOwogICAgfQogIH0sIFtmZWVkcywgYWN0aXZlVGFiLCBmZXRjaFBvc3RzLCBzb3J0QnksIGJ1c2luZXNzRmVlZCwgZmV0Y2hCdXNpbmVzc2VzLCBsb2NhdGlvbl0pOwoKICBjb25zdCBvYnNlcnZlciA9IHVzZVJlZjxJbnRlcnNlY3Rpb25PYnNlcnZlcj4oKTsKICBjb25zdCBsb2FkZXJSZWYgPSB1c2VDYWxsYmFjaygobm9kZTogSFRNTERpdkVsZW1lbnQgfCBudWxsKSA9PiB7CiAgICBsZXQgaXNMb2FkaW5nID0gZmFsc2U7CiAgICBsZXQgaGFzTW9yZSA9IGZhbHNlOwoKICAgIGlmIChhY3RpdmVUYWIgPT09ICdzZXJ2aWNlcycpIHsKICAgICAgICBpc0xvYWRpbmcgPSBidXNpbmVzc0ZlZWQuaXNMb2FkaW5nOwogICAgICAgIGhhc01vcmUgPSBidXNpbmVzc0ZlZWQuaGFzTW9yZTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgY3VycmVudEZlZWQgPSBmZWVkc1thY3RpdmVUYWJdOwogICAgICAgIGlmKGN1cnJlbnRGZWVkKXsKICAgICAgICAgICAgaXNMb2FkaW5nID0gY3VycmVudEZlZWQuaXNMb2FkaW5nOwogICAgICAgICAgICBoYXNNb3JlID0gY3VycmVudEZlZWQuaGFzTW9yZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGlmIChpc0xvYWRpbmcpIHJldHVybjsKICAgIGlmIChvYnNlcnZlci5jdXJyZW50KSBvYnNlcnZlci5jdXJyZW50LmRpc2Nvbm5lY3QoKTsKCiAgICBvYnNlcnZlci5jdXJyZW50ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4gewogICAgICBpZiAoZW50cmllc1swXS5pc0ludGVyc2VjdGluZyAmJiBoYXNNb3JlKSB7CiAgICAgICAgaGFuZGxlTG9hZE1vcmUoKTsKICAgICAgfQogICAgfSk7CgogICAgaWYgKG5vZGUpIG9ic2VydmVyLmN1cnJlbnQub2JzZXJ2ZShub2RlKTsKICB9LCBbYWN0aXZlVGFiLCBidXNpbmVzc0ZlZWQuaXNMb2FkaW5nLCBidXNpbmVzc0ZlZWQuaGFzTW9yZSwgZmVlZHMsIGhhbmRsZUxvYWRNb3JlXSk7CgogIGNvbnN0IGZlZWRDb250YWluZXJTd2lwZUhhbmRsZXJzID0gdXNlU3dpcGVhYmxlKHsKICAgIG9uU3dpcGVkRG93bjogKCkgPT4gewogICAgICBpZiAod2luZG93LnNjcm9sbFkgPT09IDApIHJlZnJlc2hGZWVkKCk7CiAgICB9LAogICAgdHJhY2tNb3VzZTogdHJ1ZQogIH0pOwoKICBjb25zdCBoYW5kbGVTb3J0Q2hhbmdlID0gKG5ld1NvcnRCeTogU29ydE9wdGlvbikgPT4gewogICAgaWYgKG5ld1NvcnRCeSA9PT0gc29ydEJ5KSByZXR1cm47CiAgICBzZXRTb3J0QnkobmV3U29ydEJ5KTsKICAgIGlmKGFjdGl2ZVRhYiAhPT0gJ3NlcnZpY2VzJyApIHsKICAgICAgICBmZXRjaFBvc3RzKGFjdGl2ZVRhYiwgMSwgbmV3U29ydEJ5LCBsb2NhdGlvbik7CiAgICB9CiAgfTsKICAKICBjb25zdCBoYW5kbGVSYWRpdXNDaGFuZ2UgPSAobmV3UmFkaXVzOiBudW1iZXIpID0+IHsKICAgIHNldFJhZGl1c0ttKG5ld1JhZGl1cyk7CiAgICBmZXRjaEJ1c2luZXNzZXMoMSwgYnVzaW5lc3NGZWVkLmNhdGVnb3J5KTsKICB9CgogIGNvbnN0IHJlbmRlclNlcnZpY2VDYXRlZ29yaWVzID0gKCkgPT4gKAogICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNiI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9InRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgdHJhY2tpbmctdGlnaHQiPkJvb2sgYSBTZXJ2aWNlPC9oMj4KICAgICAgICAgICAge3Nlc3Npb25Vc2VyICYmICgKICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPSIvYWNjb3VudC9teS1ib29raW5ncyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhckNoZWNrIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBNeSBCb29raW5ncwogICAgICAgICAgICAgICAgICAgIDwvTGluaz4KICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0yIGdhcC00Ij4KICAgICAgICAgICAge3NlcnZpY2VDYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+ICgKICAgICAgICAgICAgICAgIDxDYXJkCiAgICAgICAgICAgICAgICAgICAga2V5PXtjYXRlZ29yeS5uYW1lfQogICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlTdHJpbmcgPSBjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLmpvaW4oJywnKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXRlZ29yeShjYXRlZ29yeVN0cmluZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoQnVzaW5lc3NlcygxLCBjYXRlZ29yeVN0cmluZyk7CiAgICAgICAgICAgICAgICAgICAgfX0KICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKCJwLTYgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6c2hhZG93LWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBib3JkZXIiLCBjYXRlZ29yeS5jb2xvcil9CiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgPGNhdGVnb3J5Lmljb24gY2xhc3NOYW1lPXtjbigiaC0xMiB3LTEyIG1iLTMiLCBjYXRlZ29yeS5pY29uQ29sb3IpfS8+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtbGciPntjYXRlZ29yeS5uYW1lfTwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj57Y2F0ZWdvcnkuZGVzY3JpcHRpb259PC9wPgogICAgICAgICAgICAgICAgPC9DYXJkPgogICAgICAgICAgICApKX0KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7CgogIGNvbnN0IHJlbmRlckZlZWRDb250ZW50ID0gKCkgPT4gewogICAgaWYgKGFjdGl2ZVRhYiA9PT0gJ3NlcnZpY2VzJykgewogICAgICAgIGlmICghc2VsZWN0ZWRDYXRlZ29yeSkgewogICAgICAgICAgICByZXR1cm4gcmVuZGVyU2VydmljZUNhdGVnb3JpZXMoKTsKICAgICAgICB9CgogICAgICAgIGlmIChsb2NhdGlvblByb21wdFZpc2libGUpIHsKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgcHktMTYgcm91bmRlZC14bCBzaGFkb3cteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIvNDAgYmctY2FyZC84MCBiYWNrZHJvcC1ibHVyLXNtIj4KICAgICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2NhdGVGaXhlZCBjbGFzc05hbWU9Im14LWF1dG8gaC0yMCB3LTIwIHRleHQtbXV0ZWQtZm9yZWdyb3VuZC8zMCBtYi02IiAvPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtMnhsIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb250LXNlbWlib2xkIj5Mb2NhdGlvbiBOZWVkZWQ8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1tZCB0ZXh0LW11dGVkLWZvcmVncm91bmQvODAgbXQtMiBtYXgtdy1zbSI+VG8gZmluZCBidXNpbmVzc2VzIG5lYXIgeW91LCB3ZSBuZWVkIGFjY2VzcyB0byB5b3VyIGxvY2F0aW9uLjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtyZXF1ZXN0TG9jYXRpb259IGRpc2FibGVkPXtpc0ZldGNoaW5nTG9jYXRpb259IGNsYXNzTmFtZT0ibXQtNiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNGZXRjaGluZ0xvY2F0aW9uID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiA6IDxMb2NhdGVGaXhlZCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz59CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNGZXRjaGluZ0xvY2F0aW9uID8gJ0ZpbmRpbmcgWW91Li4uJyA6ICdHcmFudCBMb2NhdGlvbiBBY2Nlc3MnfQogICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICAgICAgICAgICAgPC9DYXJkPgogICAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAoYnVzaW5lc3NGZWVkLmlzTG9hZGluZyAmJiBidXNpbmVzc0ZlZWQucGFnZSA9PT0gMSkgewogICAgICAgICAgICByZXR1cm4gPFBvc3RGZWVkU2tlbGV0b24gLz47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTYiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0yIj4KICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZENhdGVnb3J5KG51bGwpfT4KICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIvPgogICAgICAgICAgICAgICAgICAgICAgICBCYWNrIHRvIENhdGVnb3JpZXMKICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiIHNpemU9InNtIiBjbGFzc05hbWU9ImgtOSBzaGFkb3ctc20iIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPSIvbWFwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPE1hcCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIvPiBNYXAgVmlldwogICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAge2J1c2luZXNzRmVlZC5idXNpbmVzc2VzLm1hcCgoYnVzaW5lc3MpID0+ICgKICAgICAgICAgICAgICAgICAgICA8QnVzaW5lc3NDYXJkIGtleT17YGRiLSR7YnVzaW5lc3MuaWR9YH0gYnVzaW5lc3M9e2J1c2luZXNzfSB1c2VyTG9jYXRpb249e2xvY2F0aW9ufSBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9Lz4KICAgICAgICAgICAgICAgICkpfQoKICAgICAgICAgICAgICAgIHshYnVzaW5lc3NGZWVkLmlzTG9hZGluZyAmJiBidXNpbmVzc0ZlZWQuYnVzaW5lc3Nlcy5sZW5ndGggPT09IDAgJiYgKAogICAgICAgICAgICAgICAgICAgIDxOb1Bvc3RzQ29udGVudCBmZWVkVHlwZT0nc2VydmljZXMnIHJhZGl1c0ttPXtyYWRpdXNLbX0gb25SYWRpdXNDaGFuZ2U9e2hhbmRsZVJhZGl1c0NoYW5nZX0gY2F0ZWdvcnk9e2J1c2luZXNzRmVlZC5jYXRlZ29yeX0gLz4KICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHtidXNpbmVzc0ZlZWQuaGFzTW9yZSAmJiA8ZGl2IHJlZj17bG9hZGVyUmVmfSBjbGFzc05hbWU9ImgtMSB3LWZ1bGwiIC8+fQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB7YnVzaW5lc3NGZWVkLmlzTG9hZGluZyAmJiBidXNpbmVzc0ZlZWQucGFnZSA+IDEgJiYgKAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBweS02Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJoLTggdy04IGFuaW1hdGUtc3BpbiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICApOwogICAgfQogICAgCiAgICBjb25zdCBmZWVkID0gZmVlZHNbYWN0aXZlVGFiXTsKICAgIGlmICgoZmVlZC5pc0xvYWRpbmcgJiYgZmVlZC5wb3N0cy5sZW5ndGggPT09IDApIHx8IGlzUmVmcmVzaGluZykgewogICAgICByZXR1cm4gPFBvc3RGZWVkU2tlbGV0b24gLz47CiAgICB9CiAgICAKICAgIHJldHVybiAoCiAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTYiPgogICAgICAgIHthY3RpdmVUYWIgPT09ICduZWFyYnknICYmICgKICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIGhvdmVyOnNoYWRvdy1wcmltYXJ5LzEwIHRyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTMwMCBiZy1ibHVlLTUwMC81IGJvcmRlci1ibHVlLTUwMC8yMCI+CiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9InAtNCI+CiAgICAgICAgICAgICAgICA8TGluayBocmVmPSIvP3RhYj1zZXJ2aWNlcyIgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTIgYmctcHJpbWFyeS8xMCByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXByaW1hcnkvMjAiPgogICAgICAgICAgICAgICAgICAgICAgPEhhbmRQbGF0dGVyIGNsYXNzTmFtZT0iaC02IHctNiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9ImZvbnQtYm9sZCB0ZXh0LXByaW1hcnkiPkxvY2FsIFNlcnZpY2VzPC9oMz4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5OZWVkIGEgc2Fsb24gb3IgY2FyIHdhc2g/IEJvb2sgbm93ITwvcD4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgKX0KICAgICAgICB7ZmVlZC5wb3N0cy5sZW5ndGggPiAwID8gKAogICAgICAgICAgZmVlZC5wb3N0cy5tYXAoKHBvc3QpID0+ICgKICAgICAgICAgICAgPFBvc3RDYXJkIGtleT17cG9zdC5pZH0gcG9zdD17cG9zdH0gdXNlckxvY2F0aW9uPXtsb2NhdGlvbn0gc2Vzc2lvblVzZXI9e3Nlc3Npb25Vc2VyfSBmZWVkVHlwZT17YWN0aXZlVGFifSAvPgogICAgICAgICAgKSkKICAgICAgICApIDogKAogICAgICAgICAgPE5vUG9zdHNDb250ZW50IGZlZWRUeXBlPXthY3RpdmVUYWJ9IC8+CiAgICAgICAgKX0KICAgICAgICB7ZmVlZC5oYXNNb3JlICYmIDxkaXYgcmVmPXtsb2FkZXJSZWZ9IGNsYXNzTmFtZT0iaC0xIHctZnVsbCIgLz59CiAgICAgICAge2ZlZWQuaXNMb2FkaW5nICYmIGZlZWQucG9zdHMubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcHktNiI+CiAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0iaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgICAgPC9kaXY+CiAgICApOwogIH07CgogIGNvbnN0IFRBQlMgPSBbCiAgICAgIHsga2V5OiAibmVhcmJ5IiwgbGFiZWw6ICJOZWFyYnkiIH0sCiAgICAgIC4uLihzZXNzaW9uVXNlciA/IFt7IGtleTogImZhbWlseSIsIGxhYmVsOiAiRmFtaWx5IiwgYmFkZ2U6IHVucmVhZEZhbWlseVBvc3RDb3VudCB9XSA6IFtdKSwKICAgICAgeyBrZXk6ICJzZXJ2aWNlcyIsIGxhYmVsOiAiU2VydmljZXMiIH0sCiAgXTsKCiAgcmV0dXJuICgKICAgIDxkaXYgey4uLmZlZWRDb250YWluZXJTd2lwZUhhbmRsZXJzfT4KICAgICAgIDxBbGVydERpYWxvZyBvcGVuPXtzaG93VHJvdWJsZXNob290aW5nRGlhbG9nfSBvbk9wZW5DaGFuZ2U9e3NldFNob3dUcm91Ymxlc2hvb3RpbmdEaWFsb2d9PgogICAgICAgIDxBbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgICA8QWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICAgIDxBbGVydERpYWxvZ1RpdGxlIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT0idy01IGgtNSBtci0yIHRleHQtZGVzdHJ1Y3RpdmUiIC8+CiAgICAgICAgICAgICAgRW5hYmxlIEJhY2tncm91bmQgTm90aWZpY2F0aW9ucwogICAgICAgICAgICA8L0FsZXJ0RGlhbG9nVGl0bGU+CiAgICAgICAgICAgIDxBbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMgdGV4dC1sZWZ0IHB0LTIgdGV4dC1mb3JlZ3JvdW5kLzgwIj4KICAgICAgICAgICAgICAgIDxwPlRvIHJlY2VpdmUgbm90aWZpY2F0aW9ucyByZWxpYWJseSBvbiB5b3VyIGRldmljZSwgcGxlYXNlIGVuYWJsZSB0aGVzZSB0d28gc2V0dGluZ3MgZm9yIHRoZSBMb2NhbFB1bHNlIGFwcDo8L3A+CiAgICAgICAgICAgICAgICA8b2wgY2xhc3NOYW1lPSJsaXN0LWRlY2ltYWwgbGlzdC1pbnNpZGUgc3BhY2UteS0yIGZvbnQtbWVkaXVtIGJnLW11dGVkIHAtMyByb3VuZGVkLW1kIGJvcmRlciI+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCI+RW5hYmxlICJBdXRvc3RhcnQiPC9zcGFuPiAob3IgIkF1dG8tbGF1bmNoIikuPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIj5TZXQgQmF0dGVyeSBTYXZlciB0byAiTm8gcmVzdHJpY3Rpb25zIjwvc3Bhbj4uPC9saT4KICAgICAgICAgICAgICAgIDwvb2w+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHB0LTEiPgogICAgICAgICAgICAgICAgICAgIFRoZXNlIG9wdGlvbnMgYXJlIHVzdWFsbHkgZm91bmQgaW4geW91ciBwaG9uZSdzIFNldHRpbmdzIGFwcCB1bmRlciAiQXBwcyIgb3IgIlNlY3VyaXR5Ii4gVW5mb3J0dW5hdGVseSwgd2UgY2Fubm90IG9wZW4gdGhpcyBwYWdlIGZvciB5b3UgYXV0b21hdGljYWxseS4KICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9BbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgPC9BbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICAgIDxBbGVydERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgICAgPEFsZXJ0RGlhbG9nQ2FuY2VsPkknbGwgY2hlY2sgbGF0ZXI8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgICA8QWxlcnREaWFsb2dBY3Rpb24gb25DbGljaz17KCkgPT4geyBzZXRTaG93VHJvdWJsZXNob290aW5nRGlhbG9nKGZhbHNlKTsgaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uKCk7IH19PkkndmUgY2hlY2tlZCwgVHJ5IEFnYWluPC9BbGVydERpYWxvZ0FjdGlvbj4KICAgICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgPC9BbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgIDwvQWxlcnREaWFsb2c+CgogICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC00IHJvdW5kZWQtbGcgYmctbXV0ZWQgcC0xIj4KICAgICAgICAgIHtUQUJTLm1hcCgodGFiKSA9PiAoCiAgICAgICAgICAgIDxidXR0b24KICAgICAgICAgICAgICBrZXk9e3RhYi5rZXl9CiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVGFiQ2hhbmdlUm91dGVyKHRhYi5rZXkpfQogICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAgICAgICAncmVsYXRpdmUgdy1mdWxsIHJvdW5kZWQtbWQgcHktMS41IHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMnLAogICAgICAgICAgICAgICAgYWN0aXZlVGFiID09PSB0YWIua2V5CiAgICAgICAgICAgICAgICAgID8gJ2JnLXNreS0xMDAgdGV4dC1za3ktNzAwIHNoYWRvdy1pbm5lciBkYXJrOmJnLXNreS05MDAvNTAgZGFyazp0ZXh0LXNreS0yMDAnCiAgICAgICAgICAgICAgICAgIDogJ3RleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3ZlcjpiZy1iYWNrZ3JvdW5kLzUwJwogICAgICAgICAgICAgICl9CiAgICAgICAgICAgID4KICAgICAgICAgICAgICB7dGFiLmxhYmVsfQogICAgICAgICAgICAgIHt0YWIuYmFkZ2UgJiYgdGFiLmJhZGdlID4gMCA/ICgKICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iYWJzb2x1dGUgLXRvcC0xIC1yaWdodC0xIGZsZXggaC00IHctNCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLWFjY2VudCB0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIHRleHQtWzEwcHhdIGZvbnQtYm9sZCI+CiAgICAgICAgICAgICAgICAgICAge3RhYi5iYWRnZSA+IDkgPyAnOSsnIDogdGFiLmJhZGdlfQogICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICkgOiBudWxsfQogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICkpfQogICAgICAgICAgPERyb3Bkb3duTWVudT4KICAgICAgICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9InNtIiBjbGFzc05hbWU9ImgtOSBzaGFkb3ctc20iPgogICAgICAgICAgICAgICAgICAgIDxGaWx0ZXIgY2xhc3NOYW1lPSJ3LTQgaC00IG1yLTIiIC8+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+U29ydDwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+CiAgICAgICAgICAgIDxEcm9wZG93bk1lbnVDb250ZW50IGFsaWduPSJlbmQiPgogICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUxhYmVsPlNvcnQgQnk8L0Ryb3Bkb3duTWVudUxhYmVsPgogICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVNlcGFyYXRvciAvPgogICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVJhZGlvR3JvdXAgdmFsdWU9e3NvcnRCeX0gb25WYWx1ZUNoYW5nZT17KHYpID0+IGhhbmRsZVNvcnRDaGFuZ2UodiBhcyBTb3J0T3B0aW9uKX0+CiAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVJhZGlvSXRlbSB2YWx1ZT0ibmVhcmJ5Ij5OZWFyYnk8L0Ryb3Bkb3duTWVudVJhZGlvSXRlbT4KICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51UmFkaW9JdGVtIHZhbHVlPSJuZXdlc3QiPk5ld2VzdDwvRHJvcGRvd25NZW51UmFkaW9JdGVtPgogICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVSYWRpb0l0ZW0gdmFsdWU9Imxpa2VzIj5Nb3N0IFBvcHVsYXI8L0Ryb3Bkb3duTWVudVJhZGlvSXRlbT4KICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51UmFkaW9JdGVtIHZhbHVlPSJjb21tZW50cyI+TW9zdCBEaXNjdXNzZWQ8L0Ryb3Bkb3duTWVudVJhZGlvSXRlbT4KICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51UmFkaW9Hcm91cD4KICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PgogICAgICAgICAgPC9Ecm9wZG93bk1lbnU+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9Im10LTQiPgogICAgICAgICAge3JlbmRlckZlZWRDb250ZW50KCl9CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgUG9zdEZlZWRDbGllbnQ7CgogICAg' | base64 -d > /root/localpulse/src/components/post-feed-client.tsx
mkdir -p /root/localpulse/src/components
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4vdWkvYnV0dG9uJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IHVwZGF0ZVVzZXJMb2NhdGlvbkFjdGlvbiB9IGZyb20gJ0AvYXBwL3VzZXJzL1t1c2VySWRdL2FjdGlvbnMnOwppbXBvcnQgeyBMb2FkZXIyLCBMb2NhdGVGaXhlZCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7CiAgICBBbGVydERpYWxvZywKICAgIEFsZXJ0RGlhbG9nQWN0aW9uLAogICAgQWxlcnREaWFsb2dDYW5jZWwsCiAgICBBbGVydERpYWxvZ0NvbnRlbnQsCiAgICBBbGVydERpYWxvZ0Rlc2NyaXB0aW9uLAogICAgQWxlcnREaWFsb2dGb290ZXIsCiAgICBBbGVydERpYWxvZ0hlYWRlciwKICAgIEFsZXJ0RGlhbG9nVGl0bGUsCiAgICBBbGVydERpYWxvZ1RyaWdnZXIsCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0LWRpYWxvZyc7CgoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXBkYXRlTG9jYXRpb25CdXR0b24oKSB7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBoYW5kbGVVcGRhdGVMb2NhdGlvbiA9ICgpID0+IHsKICAgIHNldElzTG9hZGluZyh0cnVlKTsKICAgIGlmICghbmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7CiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246ICdHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3Nlci4nIH0pOwogICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKAogICAgICBhc3luYyAocG9zaXRpb24pID0+IHsKICAgICAgICBjb25zdCB7IGxhdGl0dWRlLCBsb25naXR1ZGUgfSA9IHBvc2l0aW9uLmNvb3JkczsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGRhdGVVc2VyTG9jYXRpb25BY3Rpb24obGF0aXR1ZGUsIGxvbmdpdHVkZSk7CiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICdMb2NhdGlvbiBVcGRhdGVkIScsIGRlc2NyaXB0aW9uOiAnWW91ciBidXNpbmVzcyBsb2NhdGlvbiBoYXMgYmVlbiBzZXQgdG8geW91ciBjdXJyZW50IHBvc2l0aW9uLicgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ1VwZGF0ZSBGYWlsZWQnLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIH0pOwogICAgICAgIH0KICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpOwogICAgICB9LAogICAgICAoZXJyb3IpID0+IHsKICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnTG9jYXRpb24gRXJyb3InLCBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB9KTsKICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpOwogICAgICB9LAogICAgICB7IGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSB9CiAgICApOwogIH07CgogIHJldHVybiAoCiAgICA8QWxlcnREaWFsb2c+CiAgICAgICAgPEFsZXJ0RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiPgogICAgICAgICAgICAgICAgPExvY2F0ZUZpeGVkIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBTZXQgQnVzaW5lc3MgTG9jYXRpb24KICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9BbGVydERpYWxvZ1RyaWdnZXI+CiAgICAgICAgPEFsZXJ0RGlhbG9nQ29udGVudD4KICAgICAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGU+U2V0IFlvdXIgQnVzaW5lc3MgTG9jYXRpb24/PC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgVGhpcyB3aWxsIHVzZSB5b3VyIGRldmljZSdzIGN1cnJlbnQgbG9jYXRpb24gYXMgeW91ciBidXNpbmVzcyBhZGRyZXNzLiBQbGVhc2UgZW5zdXJlIHlvdSBhcmUgcGh5c2ljYWxseSBhdCB5b3VyIGJ1c2luZXNzIGxvY2F0aW9uIGJlZm9yZSBjb25maXJtaW5nLgogICAgICAgICAgICAgICAgPC9BbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICA8L0FsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgICA8QWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dDYW5jZWw+Q2FuY2VsPC9BbGVydERpYWxvZ0NhbmNlbD4KICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0FjdGlvbiBvbkNsaWNrPXtoYW5kbGVVcGRhdGVMb2NhdGlvbn0gZGlzYWJsZWQ9e2lzTG9hZGluZ30+CiAgICAgICAgICAgICAgICAgICAge2lzTG9hZGluZyAmJiA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+fQogICAgICAgICAgICAgICAgICAgIENvbmZpcm0gTG9jYXRpb24KICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dBY3Rpb24+CiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgPC9BbGVydERpYWxvZ0NvbnRlbnQ+CiAgICA8L0FsZXJ0RGlhbG9nPgogICk7Cn0K' | base64 -d > /root/localpulse/src/components/update-location-button.tsx
mkdir -p /root/localpulse/src/components
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7CiAgRGlhbG9nLAogIERpYWxvZ0NvbnRlbnQsCiAgRGlhbG9nRGVzY3JpcHRpb24sCiAgRGlhbG9nSGVhZGVyLAogIERpYWxvZ1RpdGxlLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9kaWFsb2cnOwppbXBvcnQgVXBkYXRlTW9iaWxlRm9ybSBmcm9tICcuL3VwZGF0ZS1tb2JpbGUtZm9ybSc7CmltcG9ydCB7IEFsZXJ0LCBBbGVydFRpdGxlLCBBbGVydERlc2NyaXB0aW9uIH0gZnJvbSAnLi91aS9hbGVydCc7CmltcG9ydCB7IEluZm8gfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgVXBkYXRlQnVzaW5lc3NDYXRlZ29yeUZvcm0gZnJvbSAnLi91cGRhdGUtYnVzaW5lc3MtY2F0ZWdvcnktZm9ybSc7CgppbnRlcmZhY2UgVXBkYXRlVXNlckRldGFpbHNNb2RhbFByb3BzIHsKICB1c2VyOiBVc2VyOwp9Cgpjb25zdCBVcGRhdGVVc2VyRGV0YWlsc01vZGFsOiBSZWFjdC5GQzxVcGRhdGVVc2VyRGV0YWlsc01vZGFsUHJvcHM+ID0gKHsgdXNlciB9KSA9PiB7CiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgLy8gQ29ycmVjdGVkIGxvZ2ljOiBDaGVjayBpZiBtb2JpbGVudW1iZXIgaXMgbWlzc2luZyBPUiBkb2Vzbid0IHN0YXJ0IHdpdGggJysnCiAgY29uc3QgbmVlZHNNb2JpbGUgPSAhdXNlci5tb2JpbGVudW1iZXIgfHwgIXVzZXIubW9iaWxlbnVtYmVyLnN0YXJ0c1dpdGgoJysnKTsKICBjb25zdCBuZWVkc0NhdGVnb3J5ID0gdXNlci5yb2xlID09PSAnQnVzaW5lc3MnICYmICF1c2VyLmJ1c2luZXNzX2NhdGVnb3J5OwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgLy8gVGhpcyBlZmZlY3QgY29ycmVjdGx5IHNldHMgdGhlIGRpYWxvZyB0byBvcGVuIG9yIGNsb3NlZAogICAgLy8gYmFzZWQgb24gdGhlIHVzZXIgcHJvcCBpdCByZWNlaXZlcyBmcm9tIHRoZSBzZXJ2ZXIuCiAgICBzZXRJc09wZW4obmVlZHNNb2JpbGUgfHwgbmVlZHNDYXRlZ29yeSk7CiAgfSwgW3VzZXIsIG5lZWRzTW9iaWxlLCBuZWVkc0NhdGVnb3J5XSk7CgogIGNvbnN0IGhhbmRsZVVwZGF0ZSA9ICgpID0+IHsKICAgIC8vIEFmdGVyIGFuIHVwZGF0ZSwgdGhlIHNlcnZlciBhY3Rpb24gcmV2YWxpZGF0ZXMgdGhlIHBhdGguCiAgICAvLyBUaGUgcGFyZW50IHBhZ2Ugd2lsbCByZS1yZW5kZXIsIHBhc3NpbmcgbmV3IHByb3BzIHRvIHRoaXMgY29tcG9uZW50LgogICAgLy8gVGhlIHVzZUVmZmVjdCBhYm92ZSB3aWxsIHRoZW4gcnVuIGFnYWluIHdpdGggdGhlIG5ldyBwcm9wcyBhbmQgY2xvc2UgdGhlIGRpYWxvZwogICAgLy8gYXV0b21hdGljYWxseSBpZiB0aGUgdXBkYXRlIGNvbmRpdGlvbnMgKG5lZWRzTW9iaWxlLCBuZWVkc0NhdGVnb3J5KSBhcmUgbm93IGZhbHNlLgogIH07CgogIHJldHVybiAoCiAgICA8RGlhbG9nIG9wZW49e2lzT3Blbn0+CiAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT0ic206bWF4LXctWzQyNXB4XSIgb25JbnRlcmFjdE91dHNpZGU9eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9PgogICAgICAgIDxEaWFsb2dIZWFkZXI+CiAgICAgICAgICA8RGlhbG9nVGl0bGU+Q29tcGxldGUgWW91ciBQcm9maWxlPC9EaWFsb2dUaXRsZT4KICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgUGxlYXNlIHByb3ZpZGUgc29tZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHRvIGNvbnRpbnVlLgogICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICA8L0RpYWxvZ0hlYWRlcj4KICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icHktNCBzcGFjZS15LTYiPgogICAgICAgICAge25lZWRzTW9iaWxlICYmICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktMyc+CiAgICAgICAgICAgICAgICA8QWxlcnQ+CiAgICAgICAgICAgICAgICAgICAgPEluZm8gY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICAgIDxBbGVydFRpdGxlPk1vYmlsZSBOdW1iZXIgUmVxdWlyZWQ8L0FsZXJ0VGl0bGU+CiAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIFBsZWFzZSBjb25maXJtIHlvdXIgbW9iaWxlIG51bWJlciwgaW5jbHVkaW5nIHlvdXIgY291bnRyeSBjb2RlLCB0byBjb250aW51ZS4KICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICA8L0FsZXJ0PgogICAgICAgICAgICAgICAgPFVwZGF0ZU1vYmlsZUZvcm0gb25VcGRhdGU9e2hhbmRsZVVwZGF0ZX0gdXNlclJvbGU9e3VzZXIucm9sZX0gLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgICAge25lZWRzQ2F0ZWdvcnkgJiYgIW5lZWRzTW9iaWxlICYmICggLy8gU2hvdyBjYXRlZ29yeSBmb3JtIG9ubHkgaWYgbW9iaWxlIGlzIGFscmVhZHkgZmlsbGVkCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTMnPgogICAgICAgICAgICAgICAgPEFsZXJ0PgogICAgICAgICAgICAgICAgICAgIDxJbmZvIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgICA8QWxlcnRUaXRsZT5CdXNpbmVzcyBDYXRlZ29yeSBSZXF1aXJlZDwvQWxlcnRUaXRsZT4KICAgICAgICAgICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgUGxlYXNlIHNlbGVjdCBhIGNhdGVnb3J5IGZvciB5b3VyIGJ1c2luZXNzLgogICAgICAgICAgICAgICAgICAgIDwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIDwvQWxlcnQ+CiAgICAgICAgICAgICAgICA8VXBkYXRlQnVzaW5lc3NDYXRlZ29yeUZvcm0gb25VcGRhdGU9e2hhbmRsZVVwZGF0ZX0gLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgICA8L0RpYWxvZ0NvbnRlbnQ+CiAgICA8L0RpYWxvZz4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgVXBkYXRlVXNlckRldGFpbHNNb2RhbDsK' | base64 -d > /root/localpulse/src/components/update-user-details-modal.tsx
mkdir -p /root/localpulse/src/components
echo 'CmltcG9ydCB7IExvYWRlcjIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwoKZXhwb3J0IGNvbnN0IFJlZWxzUGFnZVNrZWxldG9uID0gKCkgPT4gewogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLWgtc3ZoIGJnLWJsYWNrIHRleHQtd2hpdGUgcC00Ij4KICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJoLTEyIHctMTIgYW5pbWF0ZS1zcGluIHRleHQtcHJpbWFyeSBtYi00IiAvPgogICAgICA8cCBjbGFzc05hbWU9InRleHQtbGciPkxvYWRpbmcgUmVlbHMuLi48L3A+CiAgICA8L2Rpdj4KICApOwp9Owo=' | base64 -d > /root/localpulse/src/components/reels-page-skeleton.tsx
mkdir -p /root/localpulse/src/components/layout
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7IENvZGUsIFNoaWVsZCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7Cgpjb25zdCBGb290ZXI6IEZDID0gKCkgPT4gewogIHJldHVybiAoCiAgICA8Zm9vdGVyIGNsYXNzTmFtZT0icHktNiB0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBiZy1ncmFkaWVudC10by10IGZyb20tYmFja2dyb3VuZCB0by1tdXRlZC8yMCBib3JkZXItdCBib3JkZXItYm9yZGVyLzcwIHNoYWRvdy1pbm5lciBtdC1hdXRvIGhpZGRlbiBzbTpibG9jayI+IHsvKiBIaWRlIGZvb3RlciBvbiBzbWFsbCBzY3JlZW5zICovfQogICAgICA8ZGl2IGNsYXNzTmFtZT0iY29udGFpbmVyIG14LWF1dG8gcHgtNCI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNwYWNlLXgtNCB0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZC84MCI+CiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgPENvZGUgY2xhc3NOYW1lPSJ3LTQgaC00IG1yLTEuNSB0ZXh0LXByaW1hcnkvNzAiIC8+CiAgICAgICAgICAgIERldmVsb3BlZCBieSBTLiBQLiBCb3JnYXZha2FyCiAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9InRleHQtbXV0ZWQtZm9yZWdyb3VuZC81MCI+fDwvc3Bhbj4KICAgICAgICAgIDxMaW5rIGhyZWY9Ii9wcml2YWN5LXBvbGljeSIgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBob3Zlcjp0ZXh0LXByaW1hcnkgdHJhbnNpdGlvbi1jb2xvcnMiPgogICAgICAgICAgICA8U2hpZWxkIGNsYXNzTmFtZT0idy00IGgtNCBtci0xLjUgdGV4dC1wcmltYXJ5LzcwIiAvPgogICAgICAgICAgICBQcml2YWN5ICYgRGVsZXRpb24KICAgICAgICAgIDwvTGluaz4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Zvb3Rlcj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgRm9vdGVyOwo=' | base64 -d > /root/localpulse/src/components/layout/footer.tsx
mkdir -p /root/localpulse/src/components/layout
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7IHVzZVBhdGhuYW1lIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHsgSG9tZSwgRmlsbSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnOwppbXBvcnQgeyBTa2VsZXRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9za2VsZXRvbic7CmltcG9ydCB7IHVzZUlzTW9iaWxlIH0gZnJvbSAnQC9ob29rcy91c2UtbW9iaWxlJzsKCgovLyBEZWZlciBsb2FkaW5nIG9mIHRoZSBVc2VyTmF2IGNvbXBvbmVudCB0byBwcmV2ZW50IGl0cyBKYXZhU2NyaXB0IGZyb20gYmxvY2tpbmcgdGhlIGluaXRpYWwgcmVuZGVyLgpjb25zdCBVc2VyTmF2ID0gZHluYW1pYygoKSA9PiBpbXBvcnQoJy4vdXNlci1uYXYnKS50aGVuKChtb2QpID0+IG1vZC5Vc2VyTmF2KSwgewogIHNzcjogZmFsc2UsCiAgbG9hZGluZzogKCkgPT4gPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0xMiB3LTEyIHJvdW5kZWQtZnVsbCIgLz4sCn0pOwoKCi8vIFRoZSAiUHJpdmFjeSIgbGluayBpcyByZW1vdmVkIHRvIG1ha2Ugc3BhY2UgZm9yIHRoZSBtb3JlIGltcG9ydGFudCB1c2VyIG1lbnUuCmNvbnN0IG5hdkl0ZW1zID0gWwogIHsgaHJlZjogJy8nLCBsYWJlbDogJ0hvbWUnLCBpY29uOiBIb21lIH0sCiAgeyBocmVmOiAnL3JlZWxzJywgbGFiZWw6ICdSZWVscycsIGljb246IEZpbG0gfSwKXTsKCgpjb25zdCBCb3R0b21OYXZCYXI6IEZDID0gKCkgPT4gewogIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTsKICBjb25zdCBpc01vYmlsZSA9IHVzZUlzTW9iaWxlKCk7CiAgCiAgLy8gVGhpcyBjb21wb25lbnQgbm8gbG9uZ2VyIHJlY2VpdmVzIHNlc3Npb24gc3RhdGUgdmlhIHByb3BzLgogIC8vIFVzZXJOYXYgaXMgYSBjbGllbnQgY29tcG9uZW50IHRoYXQgd2lsbCBoYW5kbGUgaXRzIG93biBzZXNzaW9uIGxvZ2ljLgoKICAvLyBEdXJpbmcgU1NSIG9yIGlmIG5vdCBvbiBhIG1vYmlsZSBkZXZpY2UsIHJlbmRlciBub3RoaW5nLgogIGlmIChpc01vYmlsZSA9PT0gdW5kZWZpbmVkIHx8ICFpc01vYmlsZSkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICByZXR1cm4gKAogICAgPG5hdiBjbGFzc05hbWU9ImZpeGVkIGJvdHRvbS0wIGxlZnQtMCByaWdodC0wIHotNDAgZmxleCBoLTE2IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWFyb3VuZCBib3JkZXItdCBib3JkZXItYm9yZGVyLzQwIGJnLWJhY2tncm91bmQvOTUgc2hhZG93LVswXy0ycHhfMTBweF8tM3B4X3JnYmEoMCwwLDAsMC4xKV0gYmFja2Ryb3AtYmx1ci1tZCBzbTpoaWRkZW4iPgogICAgICB7bmF2SXRlbXMubWFwKChpdGVtKSA9PiB7CiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBwYXRobmFtZSA9PT0gaXRlbS5ocmVmOwogICAgICAgIHJldHVybiAoCiAgICAgICAgICA8TGluawogICAgICAgICAgICBrZXk9e2l0ZW0uaHJlZn0KICAgICAgICAgICAgaHJlZj17aXRlbS5ocmVmfQogICAgICAgICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICAgICAgICdmbGV4IGgtZnVsbCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtNCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1iYWNrZ3JvdW5kJywKICAgICAgICAgICAgICBpc0FjdGl2ZSA/ICd0ZXh0LXByaW1hcnknIDogJ3RleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQnCiAgICAgICAgICAgICl9CiAgICAgICAgICAgIGFyaWEtY3VycmVudD17aXNBY3RpdmUgPyAncGFnZScgOiB1bmRlZmluZWR9CiAgICAgICAgICA+CiAgICAgICAgICAgIDxpdGVtLmljb24gY2xhc3NOYW1lPXtjbignbWItMC41IGgtNiB3LTYgZmxleC1zaHJpbmstMCcsIGlzQWN0aXZlID8gJ2ZpbGwtcHJpbWFyeS8yMCcgOiAnJyl9IC8+CiAgICAgICAgICAgIHtpdGVtLmxhYmVsfQogICAgICAgICAgPC9MaW5rPgogICAgICAgICk7CiAgICAgIH0pfQogICAgICB7LyogQWRkIHRoZSBVc2VyTmF2IGNvbXBvbmVudCBkaXJlY3RseSBpbnRvIHRoZSBib3R0b20gYmFyICovfQogICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBoLWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTIiPgogICAgICAgICB7PFVzZXJOYXYgLz59CiAgICAgIDwvZGl2PgogICAgPC9uYXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEJvdHRvbU5hdkJhcjsK' | base64 -d > /root/localpulse/src/components/layout/bottom-nav-bar.tsx
mkdir -p /root/localpulse/src/components/layout
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBkeW5hbWljIGZyb20gJ25leHQvZHluYW1pYyc7CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NrZWxldG9uJzsKCi8vIER5bmFtaWNhbGx5IGltcG9ydCBVc2VyTmF2IHdpdGggU1NSIGRpc2FibGVkLgovLyBUaGlzIGNvbXBvbmVudCBub3cganVzdCBlbnN1cmVzIFVzZXJOYXYgaXMgbG9hZGVkIG9uIHRoZSBjbGllbnQtc2lkZS4KY29uc3QgVXNlck5hdiA9IGR5bmFtaWMoKCkgPT4gaW1wb3J0KCcuL3VzZXItbmF2JykudGhlbigobW9kKSA9PiBtb2QuVXNlck5hdiksIHsKICBzc3I6IGZhbHNlLAogIGxvYWRpbmc6ICgpID0+IDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTAgdy0xMCByb3VuZGVkLWZ1bGwiIC8+LAp9KTsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhlYWRlclVzZXJOYXYoKSB7CiAgcmV0dXJuIDxVc2VyTmF2IC8+Owp9Cg==' | base64 -d > /root/localpulse/src/components/layout/header-user-nav.tsx
mkdir -p /root/localpulse/src/components/layout
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsKICBEcm9wZG93bk1lbnUsCiAgRHJvcGRvd25NZW51Q29udGVudCwKICBEcm9wZG93bk1lbnVHcm91cCwKICBEcm9wZG93bk1lbnVJdGVtLAogIERyb3Bkb3duTWVudUxhYmVsLAogIERyb3Bkb3duTWVudVNlcGFyYXRvciwKICBEcm9wZG93bk1lbnVUcmlnZ2VyLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51JzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJGYWxsYmFjaywgQXZhdGFySW1hZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYXZhdGFyJzsKaW1wb3J0IHsgTG9nSW4sIExvZ091dCwgTWVudSwgVXNlciwgVXNlclBsdXMgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgdHlwZSB7IFVzZXIgYXMgVXNlclR5cGUgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IGxvZ291dCwgZ2V0U2Vzc2lvbiB9IGZyb20gJ0AvYXBwL2F1dGgvYWN0aW9ucyc7CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NrZWxldG9uJzsKCi8vIEFkZCB0eXBlIGRlZmluaXRpb24gZm9yIHRoZSBBbmRyb2lkIGludGVyZmFjZQpkZWNsYXJlIGdsb2JhbCB7CiAgaW50ZXJmYWNlIFdpbmRvdyB7CiAgICBBbmRyb2lkPzogewogICAgICBzZXRMb2dpblN0YXR1cz86IChpc0xvZ2dlZEluOiBib29sZWFuKSA9PiB2b2lkOwogICAgICBsb2dvdXQ/OiAoKSA9PiB2b2lkOwogICAgICBjbGVhckNvb2tpZXM/OiAoKSA9PiB2b2lkOwogICAgfTsKICB9Cn0KCmV4cG9ydCBjb25zdCBVc2VyTmF2OiBGQyA9ICgpID0+IHsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7CiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlclR5cGUgfCBudWxsPihudWxsKTsKICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIHNldExvYWRpbmcodHJ1ZSk7CiAgICBnZXRTZXNzaW9uKCkudGhlbihzZXNzaW9uID0+IHsKICAgICAgc2V0VXNlcihzZXNzaW9uLnVzZXIpOwogICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgIH0pOwogIH0sIFtwYXRobmFtZV0pOyAvLyBSZWZldGNoIHNlc3Npb24gb24gZXZlcnkgcm91dGUgY2hhbmdlCgogIGNvbnN0IGhhbmRsZUxvZ291dCA9IGFzeW5jICgpID0+IHsKICAgIC8vIC0tLSBDb21tdW5pY2F0ZSB3aXRoIEFuZHJvaWQgQXBwIC0tLQogICAgaWYgKHdpbmRvdy5BbmRyb2lkKSB7CiAgICAgIGlmICh3aW5kb3cuQW5kcm9pZC5sb2dvdXQpIHsKICAgICAgICB3aW5kb3cuQW5kcm9pZC5sb2dvdXQoKTsKICAgICAgfQogICAgICBpZiAod2luZG93LkFuZHJvaWQuY2xlYXJDb29raWVzKSB7CiAgICAgICAgLy8gRXhwbGljaXRseSBjbGVhciBjb29raWVzIHRvIGhhbmRsZSBKV1MgZXJyb3JzCiAgICAgICAgd2luZG93LkFuZHJvaWQuY2xlYXJDb29raWVzKCk7CiAgICAgIH0KICAgIH0KICAgIC8vIC0tLSBFTkQgLS0tCiAgICBhd2FpdCBsb2dvdXQoKTsKICAgIHJvdXRlci5yZWZyZXNoKCk7CiAgfTsKICAKICBpZiAobG9hZGluZykgewogICAgcmV0dXJuIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTAgdy0xMCByb3VuZGVkLWZ1bGwiIC8+OwogIH0KCiAgcmV0dXJuICgKICAgIDxEcm9wZG93bk1lbnU+CiAgICAgIDxEcm9wZG93bk1lbnVUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJnaG9zdCIgY2xhc3NOYW1lPSJyZWxhdGl2ZSBoLTEwIHctMTAgcm91bmRlZC1mdWxsIiBhcmlhLWxhYmVsPSJVc2VyIG1lbnUiPgogICAgICAgICAge3VzZXIgPyAoCiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPSJoLTEwIHctMTAiPgogICAgICAgICAgICAgIDxBdmF0YXJJbWFnZSBzcmM9e3VzZXIucHJvZmlsZXBpY3R1cmV1cmwgPz8gdW5kZWZpbmVkfSBhbHQ9e3VzZXIubmFtZX0gLz4KICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e3VzZXIubmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICA8L0F2YXRhcj4KICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICA8TWVudSBjbGFzc05hbWU9ImgtNiB3LTYiIC8+CiAgICAgICAgICApfQogICAgICAgIDwvQnV0dG9uPgogICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+CiAgICAgIDxEcm9wZG93bk1lbnVDb250ZW50IGNsYXNzTmFtZT0idy01NiIgYWxpZ249ImVuZCIgZm9yY2VNb3VudD4KICAgICAgICB7dXNlciA/ICgKICAgICAgICAgIDw+CiAgICAgICAgICAgIDxEcm9wZG93bk1lbnVMYWJlbCBjbGFzc05hbWU9ImZvbnQtbm9ybWFsIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBzcGFjZS15LTEiPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIGxlYWRpbmctbm9uZSI+e3VzZXIubmFtZX08L3A+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgbGVhZGluZy1ub25lIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgIHt1c2VyLmVtYWlsfQogICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyBsZWFkaW5nLW5vbmUgdGV4dC1wcmltYXJ5IHB0LTEgZm9udC1zZW1pYm9sZCI+CiAgICAgICAgICAgICAgICAgIHt1c2VyLnJvbGV9CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51TGFiZWw+CiAgICAgICAgICAgIDxEcm9wZG93bk1lbnVTZXBhcmF0b3IgLz4KICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gYXNDaGlsZD4KICAgICAgICAgICAgICA8TGluayBocmVmPXtgL3VzZXJzLyR7dXNlci5pZH1gfSBjbGFzc05hbWU9ImN1cnNvci1wb2ludGVyIj4KICAgICAgICAgICAgICAgIDxVc2VyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgPHNwYW4+TXkgUHJvZmlsZTwvc3Bhbj4KICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT4KICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17aGFuZGxlTG9nb3V0fSBjbGFzc05hbWU9ImN1cnNvci1wb2ludGVyIj4KICAgICAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgIDxzcGFuPkxvZyBvdXQ8L3NwYW4+CiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT4KICAgICAgICAgIDwvPgogICAgICAgICkgOiAoCiAgICAgICAgICA8PgogICAgICAgICAgICA8RHJvcGRvd25NZW51R3JvdXA+CiAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gYXNDaGlsZD4KICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9Ii9sb2dpbiIgY2xhc3NOYW1lPSJjdXJzb3ItcG9pbnRlciI+CiAgICAgICAgICAgICAgICAgIDxMb2dJbiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgPHNwYW4+TG9naW48L3NwYW4+CiAgICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPgogICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICA8TGluayBocmVmPSIvc2lnbnVwIiBjbGFzc05hbWU9ImN1cnNvci1wb2ludGVyIj4KICAgICAgICAgICAgICAgICAgPFVzZXJQbHVzIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICA8c3Bhbj5TaWduIFVwPC9zcGFuPgogICAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT4KICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVHcm91cD4KICAgICAgICAgIDwvPgogICAgICAgICl9CiAgICAgIDwvRHJvcGRvd25NZW51Q29udGVudD4KICAgIDwvRHJvcGRvd25NZW51PgogICk7Cn07Cg==' | base64 -d > /root/localpulse/src/components/layout/user-nav.tsx
mkdir -p /root/localpulse/src/components/layout
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7IFJzcyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCBIZWFkZXJVc2VyTmF2IGZyb20gJy4vaGVhZGVyLXVzZXItbmF2JzsKCmNvbnN0IEhlYWRlcjogRkMgPSAoKSA9PiB7CiAgcmV0dXJuICgKICAgIDxoZWFkZXIgY2xhc3NOYW1lPSJzdGlja3kgdG9wLTAgei01MCB3LWZ1bGwgYm9yZGVyLWIgYm9yZGVyLWJvcmRlci80MCBiZy1iYWNrZ3JvdW5kLzk1IGJhY2tkcm9wLWJsdXIgc3VwcG9ydHMtW2JhY2tkcm9wLWZpbHRlcl06YmctYmFja2dyb3VuZC82MCI+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJjb250YWluZXIgZmxleCBoLTE0IG1heC13LXNjcmVlbi0yeGwgaXRlbXMtY2VudGVyIHB4LTQiPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtci00IGZsZXgiPgogICAgICAgICAgPExpbmsgaHJlZj0iLyIgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIiPgogICAgICAgICAgICA8UnNzIGNsYXNzTmFtZT0iaC02IHctNiB0ZXh0LWFjY2VudCIgLz4KICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LWJvbGQgdGV4dC1wcmltYXJ5Ij4KICAgICAgICAgICAgICBMb2NhbFB1bHNlCiAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgIDwvTGluaz4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LTEgaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIHNwYWNlLXgtMiI+CiAgICAgICAgICA8SGVhZGVyVXNlck5hdiAvPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvaGVhZGVyPgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBIZWFkZXI7Cg==' | base64 -d > /root/localpulse/src/components/layout/header.tsx
mkdir -p /root/localpulse/src/components/account/manage-business
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENhcmQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkQ29udGVudCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IFBsdXNDaXJjbGUsIEVkaXQsIFRyYXNoMiwgVGFnLCBDbG9jaywgTG9hZGVyMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7CiAgRGlhbG9nLAogIERpYWxvZ0NvbnRlbnQsCiAgRGlhbG9nRGVzY3JpcHRpb24sCiAgRGlhbG9nRm9vdGVyLAogIERpYWxvZ0hlYWRlciwKICBEaWFsb2dUaXRsZSwKICBEaWFsb2dUcmlnZ2VyLAogIERpYWxvZ0Nsb3NlLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9kaWFsb2cnOwppbXBvcnQgeyBGb3JtLCBGb3JtQ29udHJvbCwgRm9ybUZpZWxkLCBGb3JtSXRlbSwgRm9ybUxhYmVsLCBGb3JtTWVzc2FnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9mb3JtJzsKaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgdXNlRm9ybSB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7CmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnOwppbXBvcnQgKiBhcyB6IGZyb20gJ3pvZCc7CmltcG9ydCB7IGFkZEJ1c2luZXNzU2VydmljZSwgdXBkYXRlQnVzaW5lc3NTZXJ2aWNlLCBkZWxldGVCdXNpbmVzc1NlcnZpY2UgfSBmcm9tICcuL2FjdGlvbnMnOwppbXBvcnQgdHlwZSB7IEJ1c2luZXNzU2VydmljZSB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJ0AvYXBwL2F1dGgvYWN0aW9ucyc7Cgpjb25zdCBzZXJ2aWNlU2NoZW1hID0gei5vYmplY3QoewogIG5hbWU6IHouc3RyaW5nKCkubWluKDIsICdTZXJ2aWNlIG5hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMuJyksCiAgcHJpY2U6IHouY29lcmNlLm51bWJlcigpLm1pbigwLCAnUHJpY2UgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci4nKSwKICBkdXJhdGlvbl9taW51dGVzOiB6LmNvZXJjZS5udW1iZXIoKS5pbnQoKS5taW4oNSwgJ0R1cmF0aW9uIG11c3QgYmUgYXQgbGVhc3QgNSBtaW51dGVzLicpLAp9KTsKCnR5cGUgU2VydmljZUZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2Ygc2VydmljZVNjaGVtYT47CgppbnRlcmZhY2UgU2VydmljZUZvcm1EaWFsb2dQcm9wcyB7CiAgc2VydmljZT86IEJ1c2luZXNzU2VydmljZTsKICBvblN1Y2Nlc3M6ICgpID0+IHZvaWQ7CiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKfQoKY29uc3QgU2VydmljZUZvcm1EaWFsb2c6IFJlYWN0LkZDPFNlcnZpY2VGb3JtRGlhbG9nUHJvcHM+ID0gKHsgc2VydmljZSwgb25TdWNjZXNzLCBjaGlsZHJlbiB9KSA9PiB7CiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IGZvcm0gPSB1c2VGb3JtPFNlcnZpY2VGb3JtRGF0YT4oewogICAgcmVzb2x2ZXI6IHpvZFJlc29sdmVyKHNlcnZpY2VTY2hlbWEpLAogICAgZGVmYXVsdFZhbHVlczogc2VydmljZSB8fCB7CiAgICAgIG5hbWU6ICcnLAogICAgICBwcmljZTogMCwKICAgICAgZHVyYXRpb25fbWludXRlczogMzAsCiAgICB9LAogIH0pOwoKICBjb25zdCB7IGlzU3VibWl0dGluZyB9ID0gZm9ybS5mb3JtU3RhdGU7CgogIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKGRhdGE6IFNlcnZpY2VGb3JtRGF0YSkgPT4gewogICAgY29uc3QgcmVzdWx0ID0gc2VydmljZQogICAgICA/IGF3YWl0IHVwZGF0ZUJ1c2luZXNzU2VydmljZShzZXJ2aWNlLmlkLCBkYXRhKQogICAgICA6IGF3YWl0IGFkZEJ1c2luZXNzU2VydmljZShkYXRhKTsKCiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgdG9hc3QoeyB0aXRsZTogYFNlcnZpY2UgJHtzZXJ2aWNlID8gJ1VwZGF0ZWQnIDogJ0FkZGVkJ30hYCB9KTsKICAgICAgb25TdWNjZXNzKCk7CiAgICAgIHNldElzT3BlbihmYWxzZSk7CiAgICAgIGZvcm0ucmVzZXQoc2VydmljZSB8fCB7IG5hbWU6ICcnLCBwcmljZTogMCwgZHVyYXRpb25fbWludXRlczogMzAgfSk7CiAgICB9IGVsc2UgewogICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJyb3InLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIH0pOwogICAgfQogIH07CgogIHJldHVybiAoCiAgICA8RGlhbG9nIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRJc09wZW59PgogICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPntjaGlsZHJlbn08L0RpYWxvZ1RyaWdnZXI+CiAgICAgIDxEaWFsb2dDb250ZW50PgogICAgICAgIDxEaWFsb2dIZWFkZXI+CiAgICAgICAgICA8RGlhbG9nVGl0bGU+e3NlcnZpY2UgPyAnRWRpdCBTZXJ2aWNlJyA6ICdBZGQgTmV3IFNlcnZpY2UnfTwvRGlhbG9nVGl0bGU+CiAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgIHtzZXJ2aWNlID8gYFVwZGF0ZSB0aGUgZGV0YWlscyBmb3IgIiR7c2VydmljZS5uYW1lfSIuYCA6ICdEZWZpbmUgYSBuZXcgc2VydmljZSB5b3VyIGJ1c2luZXNzIG9mZmVycy4nfQogICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICA8L0RpYWxvZ0hlYWRlcj4KICAgICAgICA8Rm9ybSB7Li4uZm9ybX0+CiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9InNwYWNlLXktNCBweS00Ij4KICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICBuYW1lPSJuYW1lIgogICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlNlcnZpY2UgTmFtZTwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPSJlLmcuLCBIYWlyY3V0LCBCZWFyZCBUcmltIiB7Li4uZmllbGR9IC8+CiAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICApfQogICAgICAgICAgICAvPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZ3JpZCBncmlkLWNvbHMtMiBnYXAtNCI+CiAgICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgbmFtZT0icHJpY2UiCiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+UHJpY2UgKOKCuSk8L0Zvcm1MYWJlbD4KICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgdHlwZT0ibnVtYmVyIiB7Li4uZmllbGR9IC8+CiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICBuYW1lPSJkdXJhdGlvbl9taW51dGVzIgogICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPkR1cmF0aW9uIChtaW4pPC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgPElucHV0IHR5cGU9Im51bWJlciIgc3RlcD0iNSIgey4uLmZpZWxkfSAvPgogICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIC8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8RGlhbG9nRm9vdGVyPgogICAgICAgICAgICAgIDxEaWFsb2dDbG9zZSBhc0NoaWxkPjxCdXR0b24gdmFyaWFudD0ib3V0bGluZSI+Q2FuY2VsPC9CdXR0b24+PC9EaWFsb2dDbG9zZT4KICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9InN1Ym1pdCIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+CiAgICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nICYmIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpbiIgLz59CiAgICAgICAgICAgICAgICB7c2VydmljZSA/ICdTYXZlIENoYW5nZXMnIDogJ0FkZCBTZXJ2aWNlJ30KICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9EaWFsb2dGb290ZXI+CiAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgPC9Gb3JtPgogICAgICA8L0RpYWxvZ0NvbnRlbnQ+CiAgICA8L0RpYWxvZz4KICApOwp9OwoKCmludGVyZmFjZSBNYW5hZ2VTZXJ2aWNlc0NsaWVudFByb3BzIHsKICBpbml0aWFsU2VydmljZXM6IEJ1c2luZXNzU2VydmljZVtdOwp9Cgpjb25zdCBNYW5hZ2VTZXJ2aWNlc0NsaWVudDogUmVhY3QuRkM8TWFuYWdlU2VydmljZXNDbGllbnRQcm9wcz4gPSAoeyBpbml0aWFsU2VydmljZXMgfSkgPT4gewogIGNvbnN0IFtzZXJ2aWNlcywgc2V0U2VydmljZXNdID0gdXNlU3RhdGUoaW5pdGlhbFNlcnZpY2VzKTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CgogIGNvbnN0IGZldGNoU2VydmljZXMgPSBhc3luYyAoKSA9PiB7CiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmKCF1c2VyKSByZXR1cm47CiAgICBjb25zdCB7IGdldEJ1c2luZXNzU2VydmljZXMgfSA9IGF3YWl0IGltcG9ydCgnLi9hY3Rpb25zJyk7CiAgICBjb25zdCB1cGRhdGVkU2VydmljZXMgPSBhd2FpdCBnZXRCdXNpbmVzc1NlcnZpY2VzKHVzZXIuaWQpOwogICAgc2V0U2VydmljZXModXBkYXRlZFNlcnZpY2VzKTsKICAgIHNldElzTG9hZGluZyhmYWxzZSk7CiAgfTsKICAKICBjb25zdCBoYW5kbGVEZWxldGUgPSBhc3luYyAoc2VydmljZUlkOiBudW1iZXIpID0+IHsKICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRlbGV0ZUJ1c2luZXNzU2VydmljZShzZXJ2aWNlSWQpOwogICAgaWYocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgdG9hc3QoeyB0aXRsZTogJ1NlcnZpY2UgRGVsZXRlZCcgfSk7CiAgICAgIGZldGNoU2VydmljZXMoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdFcnJvcicsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gKAogICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGcgYm9yZGVyLWJvcmRlci82MCI+CiAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT0iZmxleCBmbGV4LXJvdyBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIj4KICAgICAgICA8ZGl2PgogICAgICAgICAgPENhcmRUaXRsZT5Zb3VyIFNlcnZpY2VzPC9DYXJkVGl0bGU+CiAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPlRoZSBsaXN0IG9mIGJvb2thYmxlIHNlcnZpY2VzIHlvdSBvZmZlciB0byBjdXN0b21lcnMuPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPFNlcnZpY2VGb3JtRGlhbG9nIG9uU3VjY2Vzcz17ZmV0Y2hTZXJ2aWNlc30+CiAgICAgICAgICAgIDxCdXR0b24+CiAgICAgICAgICAgICAgICA8UGx1c0NpcmNsZSBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gQWRkIFNlcnZpY2UKICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9TZXJ2aWNlRm9ybURpYWxvZz4KICAgICAgPC9DYXJkSGVhZGVyPgogICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAge2lzTG9hZGluZyA/ICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIHB5LTgiPgogICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJteC1hdXRvIGgtOCB3LTggYW5pbWF0ZS1zcGluIHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgKSA6IHNlcnZpY2VzLmxlbmd0aCA9PT0gMCA/ICgKICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS0xMCB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICA8cD5Zb3UgaGF2ZW4ndCBhZGRlZCBhbnkgc2VydmljZXMgeWV0LjwvcD4KICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIj5DbGljayAiQWRkIFNlcnZpY2UiIHRvIGdldCBzdGFydGVkLjwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICkgOiAoCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAge3NlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKAogICAgICAgICAgICAgIDxkaXYga2V5PXtzZXJ2aWNlLmlkfSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgcm91bmRlZC1tZCBib3JkZXIgYmctbXV0ZWQvMzAiPgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIj57c2VydmljZS5uYW1lfTwvcD4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC00IHRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTEiPgogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41Ij48VGFnIGNsYXNzTmFtZT0idy0zIGgtMyB0ZXh0LXByaW1hcnkiLz4g4oK5e3NlcnZpY2UucHJpY2V9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41Ij48Q2xvY2sgY2xhc3NOYW1lPSJ3LTMgaC0zIHRleHQtcHJpbWFyeSIvPiB7c2VydmljZS5kdXJhdGlvbl9taW51dGVzfSBtaW48L3NwYW4+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgIDxTZXJ2aWNlRm9ybURpYWxvZyBzZXJ2aWNlPXtzZXJ2aWNlfSBvblN1Y2Nlc3M9e2ZldGNoU2VydmljZXN9PgogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJpY29uIj48RWRpdCBjbGFzc05hbWU9InctNCBoLTQiIC8+PC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9TZXJ2aWNlRm9ybURpYWxvZz4KICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJpY29uIiBjbGFzc05hbWU9InRleHQtZGVzdHJ1Y3RpdmUiIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZShzZXJ2aWNlLmlkKX0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSJ3LTQgaC00IiAvPgogICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICkpfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgICAgPC9DYXJkQ29udGVudD4KICAgIDwvQ2FyZD4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgTWFuYWdlU2VydmljZXNDbGllbnQ7Cg==' | base64 -d > /root/localpulse/src/components/account/manage-business/manage-services-client.tsx
mkdir -p /root/localpulse/src/components/account/manage-business
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBQbHVzQ2lyY2xlLCBFZGl0LCBUcmFzaDIsIExvYWRlcjIsIEFybWNoYWlyIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsKICBEaWFsb2csCiAgRGlhbG9nQ29udGVudCwKICBEaWFsb2dEZXNjcmlwdGlvbiwKICBEaWFsb2dGb290ZXIsCiAgRGlhbG9nSGVhZGVyLAogIERpYWxvZ1RpdGxlLAogIERpYWxvZ1RyaWdnZXIsCiAgRGlhbG9nQ2xvc2UsCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2RpYWxvZyc7CmltcG9ydCB7IEZvcm0sIEZvcm1Db250cm9sLCBGb3JtRmllbGQsIEZvcm1JdGVtLCBGb3JtTGFiZWwsIEZvcm1NZXNzYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Zvcm0nOwppbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJzsKaW1wb3J0IHsgem9kUmVzb2x2ZXIgfSBmcm9tICdAaG9va2Zvcm0vcmVzb2x2ZXJzL3pvZCc7CmltcG9ydCAqIGFzIHogZnJvbSAnem9kJzsKaW1wb3J0IHsgYWRkQnVzaW5lc3NSZXNvdXJjZSwgdXBkYXRlQnVzaW5lc3NSZXNvdXJjZSwgZGVsZXRlQnVzaW5lc3NSZXNvdXJjZSB9IGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCB0eXBlIHsgQnVzaW5lc3NSZXNvdXJjZSB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJ0AvYXBwL2F1dGgvYWN0aW9ucyc7Cgpjb25zdCByZXNvdXJjZVNjaGVtYSA9IHoub2JqZWN0KHsKICBuYW1lOiB6LnN0cmluZygpLm1pbigyLCAnUmVzb3VyY2UgbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycy4nKSwKfSk7Cgp0eXBlIFJlc291cmNlRm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiByZXNvdXJjZVNjaGVtYT47CgppbnRlcmZhY2UgUmVzb3VyY2VGb3JtRGlhbG9nUHJvcHMgewogIHJlc291cmNlPzogQnVzaW5lc3NSZXNvdXJjZTsKICBvblN1Y2Nlc3M6ICgpID0+IHZvaWQ7CiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKfQoKY29uc3QgUmVzb3VyY2VGb3JtRGlhbG9nOiBSZWFjdC5GQzxSZXNvdXJjZUZvcm1EaWFsb2dQcm9wcz4gPSAoeyByZXNvdXJjZSwgb25TdWNjZXNzLCBjaGlsZHJlbiB9KSA9PiB7CiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IGZvcm0gPSB1c2VGb3JtPFJlc291cmNlRm9ybURhdGE+KHsKICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihyZXNvdXJjZVNjaGVtYSksCiAgICBkZWZhdWx0VmFsdWVzOiByZXNvdXJjZSB8fCB7IG5hbWU6ICcnIH0sCiAgfSk7CgogIGNvbnN0IHsgaXNTdWJtaXR0aW5nIH0gPSBmb3JtLmZvcm1TdGF0ZTsKCiAgY29uc3Qgb25TdWJtaXQgPSBhc3luYyAoZGF0YTogUmVzb3VyY2VGb3JtRGF0YSkgPT4gewogICAgY29uc3QgcmVzdWx0ID0gcmVzb3VyY2UKICAgICAgPyBhd2FpdCB1cGRhdGVCdXNpbmVzc1Jlc291cmNlKHJlc291cmNlLmlkLCBkYXRhKQogICAgICA6IGF3YWl0IGFkZEJ1c2luZXNzUmVzb3VyY2UoZGF0YSk7CgogICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgIHRvYXN0KHsgdGl0bGU6IGBSZXNvdXJjZSAke3Jlc291cmNlID8gJ1VwZGF0ZWQnIDogJ0FkZGVkJ30hYCB9KTsKICAgICAgb25TdWNjZXNzKCk7CiAgICAgIHNldElzT3BlbihmYWxzZSk7CiAgICAgIGZvcm0ucmVzZXQoeyBuYW1lOiAnJyB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdFcnJvcicsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICB9CiAgfTsKCiAgcmV0dXJuICgKICAgIDxEaWFsb2cgb3Blbj17aXNPcGVufSBvbk9wZW5DaGFuZ2U9e3NldElzT3Blbn0+CiAgICAgIDxEaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+e2NoaWxkcmVufTwvRGlhbG9nVHJpZ2dlcj4KICAgICAgPERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgPERpYWxvZ0hlYWRlcj4KICAgICAgICAgIDxEaWFsb2dUaXRsZT57cmVzb3VyY2UgPyAnRWRpdCBSZXNvdXJjZScgOiAnQWRkIE5ldyBSZXNvdXJjZSd9PC9EaWFsb2dUaXRsZT4KICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAge3Jlc291cmNlID8gYFVwZGF0ZSB0aGUgbmFtZSBmb3IgIiR7cmVzb3VyY2UubmFtZX0iLmAgOiAnRGVmaW5lIGEgbmV3IGJvb2thYmxlIHJlc291cmNlLCBlLmcuLCAiU3R5bGlzdCBDaGFpciAxIi4nfQogICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICA8L0RpYWxvZ0hlYWRlcj4KICAgICAgICA8Rm9ybSB7Li4uZm9ybX0+CiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9InNwYWNlLXktNCBweS00Ij4KICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICBuYW1lPSJuYW1lIgogICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlJlc291cmNlIE5hbWU8L0Zvcm1MYWJlbD4KICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj0iZS5nLiwgQ2hhaXIgMSwgV2FzaGluZyBCYXkgQSIgey4uLmZpZWxkfSAvPgogICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgLz4KICAgICAgICAgICAgPERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgICAgICA8RGlhbG9nQ2xvc2UgYXNDaGlsZD48QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiPkNhbmNlbDwvQnV0dG9uPjwvRGlhbG9nQ2xvc2U+CiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PgogICAgICAgICAgICAgICAge2lzU3VibWl0dGluZyAmJiA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+fQogICAgICAgICAgICAgICAge3Jlc291cmNlID8gJ1NhdmUgQ2hhbmdlcycgOiAnQWRkIFJlc291cmNlJ30KICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9EaWFsb2dGb290ZXI+CiAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgPC9Gb3JtPgogICAgICA8L0RpYWxvZ0NvbnRlbnQ+CiAgICA8L0RpYWxvZz4KICApOwp9OwoKCmludGVyZmFjZSBNYW5hZ2VSZXNvdXJjZXNDbGllbnRQcm9wcyB7CiAgaW5pdGlhbFJlc291cmNlczogQnVzaW5lc3NSZXNvdXJjZVtdOwp9Cgpjb25zdCBNYW5hZ2VSZXNvdXJjZXNDbGllbnQ6IFJlYWN0LkZDPE1hbmFnZVJlc291cmNlc0NsaWVudFByb3BzPiA9ICh7IGluaXRpYWxSZXNvdXJjZXMgfSkgPT4gewogIGNvbnN0IFtyZXNvdXJjZXMsIHNldFJlc291cmNlc10gPSB1c2VTdGF0ZShpbml0aWFsUmVzb3VyY2VzKTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CgogIGNvbnN0IGZldGNoUmVzb3VyY2VzID0gYXN5bmMgKCkgPT4gewogICAgc2V0SXNMb2FkaW5nKHRydWUpOwogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZighdXNlcikgcmV0dXJuOwogICAgY29uc3QgeyBnZXRCdXNpbmVzc1Jlc291cmNlcyB9ID0gYXdhaXQgaW1wb3J0KCcuL2FjdGlvbnMnKTsKICAgIGNvbnN0IHVwZGF0ZWRSZXNvdXJjZXMgPSBhd2FpdCBnZXRCdXNpbmVzc1Jlc291cmNlcyh1c2VyLmlkKTsKICAgIHNldFJlc291cmNlcyh1cGRhdGVkUmVzb3VyY2VzKTsKICAgIHNldElzTG9hZGluZyhmYWxzZSk7CiAgfTsKICAKICBjb25zdCBoYW5kbGVEZWxldGUgPSBhc3luYyAocmVzb3VyY2VJZDogbnVtYmVyKSA9PiB7CiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVCdXNpbmVzc1Jlc291cmNlKHJlc291cmNlSWQpOwogICAgaWYocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgdG9hc3QoeyB0aXRsZTogJ1Jlc291cmNlIERlbGV0ZWQnIH0pOwogICAgICBmZXRjaFJlc291cmNlcygpOwogICAgfSBlbHNlIHsKICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB9KTsKICAgIH0KICB9CgogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktZW5kIG1iLTQiPgogICAgICAgICAgICA8UmVzb3VyY2VGb3JtRGlhbG9nIG9uU3VjY2Vzcz17ZmV0Y2hSZXNvdXJjZXN9PgogICAgICAgICAgICAgICAgPEJ1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8UGx1c0NpcmNsZSBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gQWRkIFJlc291cmNlCiAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9SZXNvdXJjZUZvcm1EaWFsb2c+CiAgICAgICAgPC9kaXY+CgogICAgICAgIHtpc0xvYWRpbmcgPyAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS04Ij4KICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXgtYXV0byBoLTggdy04IGFuaW1hdGUtc3BpbiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICkgOiByZXNvdXJjZXMubGVuZ3RoID09PSAwID8gKAogICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIHB5LTEwIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBib3JkZXIgcm91bmRlZC1sZyI+CiAgICAgICAgICAgIDxBcm1jaGFpciBjbGFzc05hbWU9Im14LWF1dG8gaC0xMCB3LTEwIG1iLTIgb3BhY2l0eS01MCIgLz4KICAgICAgICAgICAgPHA+WW91IGhhdmVuJ3QgYWRkZWQgYW55IHJlc291cmNlcyB5ZXQuPC9wPgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20iPkNsaWNrICJBZGQgUmVzb3VyY2UiIHRvIGdldCBzdGFydGVkLjwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICkgOiAoCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAge3Jlc291cmNlcy5tYXAoKHJlc291cmNlKSA9PiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e3Jlc291cmNlLmlkfSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgcm91bmRlZC1tZCBib3JkZXIgYmctbXV0ZWQvMzAiPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIj57cmVzb3VyY2UubmFtZX08L3A+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZUZvcm1EaWFsb2cgcmVzb3VyY2U9e3Jlc291cmNlfSBvblN1Y2Nlc3M9e2ZldGNoUmVzb3VyY2VzfT4KICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJnaG9zdCIgc2l6ZT0iaWNvbiI+PEVkaXQgY2xhc3NOYW1lPSJ3LTQgaC00IiAvPjwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvUmVzb3VyY2VGb3JtRGlhbG9nPgogICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9Imljb24iIGNsYXNzTmFtZT0idGV4dC1kZXN0cnVjdGl2ZSIgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlKHJlc291cmNlLmlkKX0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSJ3LTQgaC00IiAvPgogICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICkpfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBNYW5hZ2VSZXNvdXJjZXNDbGllbnQ7Cg==' | base64 -d > /root/localpulse/src/components/account/manage-business/manage-resources-client.tsx
mkdir -p /root/localpulse/src/components/account/manage-business
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVRyYW5zaXRpb24gfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZUZvcm0sIHVzZUZpZWxkQXJyYXksIENvbnRyb2xsZXIgfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nOwppbXBvcnQgeyB6b2RSZXNvbHZlciB9IGZyb20gJ0Bob29rZm9ybS9yZXNvbHZlcnMvem9kJzsKaW1wb3J0ICogYXMgeiBmcm9tICd6b2QnOwppbXBvcnQgeyBDYXJkIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2hlY2tib3gnOwppbXBvcnQgeyBMYWJlbCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9sYWJlbCc7CmltcG9ydCB7IExvYWRlcjIsIFNhdmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgdHlwZSB7IEJ1c2luZXNzSG91ciB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IHVwZGF0ZUJ1c2luZXNzSG91cnMgfSBmcm9tICdAL2FwcC9hY2NvdW50L21hbmFnZS1idXNpbmVzcy9hY3Rpb25zJzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VsZWN0JzsKCmNvbnN0IFRJTUVfT1BUSU9OUyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDQ4IH0sIChfLCBpKSA9PiB7CiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IoaSAvIDIpOwogICAgY29uc3QgbWludXRlcyA9IChpICUgMikgKiAzMDsKICAgIGNvbnN0IGZvcm1hdHRlZEhvdXJzID0gU3RyaW5nKGhvdXJzKS5wYWRTdGFydCgyLCAnMCcpOwogICAgY29uc3QgZm9ybWF0dGVkTWludXRlcyA9IFN0cmluZyhtaW51dGVzKS5wYWRTdGFydCgyLCAnMCcpOwogICAgcmV0dXJuIGAke2Zvcm1hdHRlZEhvdXJzfToke2Zvcm1hdHRlZE1pbnV0ZXN9YDsKfSk7Cgpjb25zdCBzY2hlZHVsZVNjaGVtYSA9IHoub2JqZWN0KHsKICBzY2hlZHVsZTogei5hcnJheSgKICAgIHoub2JqZWN0KHsKICAgICAgZGF5X29mX3dlZWs6IHoubnVtYmVyKCksCiAgICAgIGlzX2Nsb3NlZDogei5ib29sZWFuKCksCiAgICAgIHN0YXJ0X3RpbWU6IHouc3RyaW5nKCkubnVsbGFibGUoKSwKICAgICAgZW5kX3RpbWU6IHouc3RyaW5nKCkubnVsbGFibGUoKSwKICAgIH0pCiAgKS5zdXBlclJlZmluZSgoc2NoZWR1bGUsIGN0eCkgPT4gewogICAgc2NoZWR1bGUuZm9yRWFjaCgoZGF5LCBpbmRleCkgPT4gewogICAgICAgIGlmKCFkYXkuaXNfY2xvc2VkICYmIGRheS5zdGFydF90aW1lICYmIGRheS5lbmRfdGltZSAmJiBkYXkuc3RhcnRfdGltZSA+PSBkYXkuZW5kX3RpbWUpIHsKICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsKICAgICAgICAgICAgICAgIHBhdGg6IFtgc2NoZWR1bGVgLCBpbmRleCwgJ2VuZF90aW1lJ10sCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRW5kIHRpbWUgbXVzdCBiZSBhZnRlciBzdGFydCB0aW1lLicsCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0pOwogIH0pLAp9KTsKCnR5cGUgU2NoZWR1bGVGb3JtRGF0YSA9IHouaW5mZXI8dHlwZW9mIHNjaGVkdWxlU2NoZW1hPjsKCmNvbnN0IERBWVNfT0ZfV0VFSyA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTsKCmludGVyZmFjZSBNYW5hZ2VTY2hlZHVsZUNsaWVudFByb3BzIHsKICBpbml0aWFsSG91cnM6IEJ1c2luZXNzSG91cltdOwp9Cgpjb25zdCBNYW5hZ2VTY2hlZHVsZUNsaWVudDogUmVhY3QuRkM8TWFuYWdlU2NoZWR1bGVDbGllbnRQcm9wcz4gPSAoeyBpbml0aWFsSG91cnMgfSkgPT4gewogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CiAgY29uc3QgW2lzUGVuZGluZywgc3RhcnRUcmFuc2l0aW9uXSA9IHVzZVRyYW5zaXRpb24oKTsKCiAgY29uc3QgZ2V0RGVmYXVsdFZhbHVlcyA9ICgpID0+IHsKICAgIGNvbnN0IGRlZmF1bHRTY2hlZHVsZSA9IERBWVNfT0ZfV0VFSy5tYXAoKF8sIGluZGV4KSA9PiB7CiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBpbml0aWFsSG91cnMuZmluZChoID0+IGguZGF5X29mX3dlZWsgPT09IGluZGV4KTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkYXlfb2Zfd2VlazogaW5kZXgsCiAgICAgICAgICAgIGlzX2Nsb3NlZDogZXhpc3Rpbmc/LmlzX2Nsb3NlZCA/PyB0cnVlLAogICAgICAgICAgICBzdGFydF90aW1lOiBleGlzdGluZz8uc3RhcnRfdGltZSA/PyAnMDk6MDAnLAogICAgICAgICAgICBlbmRfdGltZTogZXhpc3Rpbmc/LmVuZF90aW1lID8/ICcxODowMCcsCiAgICAgICAgfTsKICAgIH0pOwogICAgcmV0dXJuIHsgc2NoZWR1bGU6IGRlZmF1bHRTY2hlZHVsZSB9OwogIH07CgogIGNvbnN0IGZvcm0gPSB1c2VGb3JtPFNjaGVkdWxlRm9ybURhdGE+KHsKICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihzY2hlZHVsZVNjaGVtYSksCiAgICBkZWZhdWx0VmFsdWVzOiBnZXREZWZhdWx0VmFsdWVzKCksCiAgICBtb2RlOiAnb25DaGFuZ2UnLAogIH0pOwoKICBjb25zdCB7IGZpZWxkcyB9ID0gdXNlRmllbGRBcnJheSh7CiAgICBjb250cm9sOiBmb3JtLmNvbnRyb2wsCiAgICBuYW1lOiAnc2NoZWR1bGUnLAogIH0pOwoKICBjb25zdCB7IGZvcm1TdGF0ZTogeyBlcnJvcnMgfSB9ID0gZm9ybTsKCiAgY29uc3Qgb25TdWJtaXQgPSAoZGF0YTogU2NoZWR1bGVGb3JtRGF0YSkgPT4gewogICAgc3RhcnRUcmFuc2l0aW9uKGFzeW5jICgpID0+IHsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGRhdGVCdXNpbmVzc0hvdXJzKGRhdGEuc2NoZWR1bGUpOwogICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgICB0b2FzdCh7IHRpdGxlOiAnU2NoZWR1bGUgVXBkYXRlZCEnLCBkZXNjcmlwdGlvbjogJ1lvdXIgd29ya2luZyBob3VycyBoYXZlIGJlZW4gc2F2ZWQuJyB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJyb3InLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIH0pOwogICAgICAgIH0KICAgIH0pOwogIH07CgogIHJldHVybiAoCiAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9InNwYWNlLXktNCI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMyByb3VuZGVkLW1kIGJvcmRlciBwLTQiPgogICAgICAgIHtmaWVsZHMubWFwKChmaWVsZCwgaW5kZXgpID0+IHsKICAgICAgICAgIGNvbnN0IGlzQ2xvc2VkID0gZm9ybS53YXRjaChgc2NoZWR1bGUuJHtpbmRleH0uaXNfY2xvc2VkYCk7CiAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICA8ZGl2IGtleT17ZmllbGQuaWR9IGNsYXNzTmFtZT17Y24oImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTMgaXRlbXMtY2VudGVyIHAtMiByb3VuZGVkLW1kIiwgaXNDbG9zZWQgJiYgJ29wYWNpdHktNjAnKX0+CiAgICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCBjb2wtc3Bhbi0zIHNtOmNvbC1zcGFuLTEiPntEQVlTX09GX1dFRUtbaW5kZXhdfTwvTGFiZWw+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC00IGNvbC1zcGFuLTMgc206Y29sLXNwYW4tMiI+CiAgICAgICAgICAgICAgICA8Q29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICBuYW1lPXtgc2NoZWR1bGUuJHtpbmRleH0uaXNfY2xvc2VkYH0KICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkOiBjaGVja2JveEZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tib3ggCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2Bpc19jbG9zZWRfJHtpbmRleH1gfSAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjaGVja2JveEZpZWxkLnZhbHVlfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hlY2tlZENoYW5nZT17Y2hlY2tib3hGaWVsZC5vbkNoYW5nZX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj17YGlzX2Nsb3NlZF8ke2luZGV4fWB9IGNsYXNzTmFtZT0idGV4dC1zbSI+Q2xvc2VkPC9MYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgIHshaXNDbG9zZWQgJiYgKAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LWdyb3ciPgogICAgICAgICAgICAgICAgICAgICAgICA8Q29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT17YHNjaGVkdWxlLiR7aW5kZXh9LnN0YXJ0X3RpbWVgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZDogdGltZUZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e3RpbWVGaWVsZC5vbkNoYW5nZX0gdmFsdWU9e3RpbWVGaWVsZC52YWx1ZSB8fCAnMDk6MDAnfT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+PFNlbGVjdFZhbHVlLz48L1NlbGVjdFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PntUSU1FX09QVElPTlMubWFwKHQgPT4gPFNlbGVjdEl0ZW0ga2V5PXtgc3RhcnQtJHt0fWB9IHZhbHVlPXt0fT57dH08L1NlbGVjdEl0ZW0+KX08L1NlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+dG88L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICA8Q29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT17YHNjaGVkdWxlLiR7aW5kZXh9LmVuZF90aW1lYH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQ6IHRpbWVGaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17dGltZUZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17dGltZUZpZWxkLnZhbHVlIHx8ICcxODowMCd9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj48U2VsZWN0VmFsdWUvPjwvU2VsZWN0VHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+e1RJTUVfT1BUSU9OUy5tYXAodCA9PiA8U2VsZWN0SXRlbSBrZXk9e2BlbmQtJHt0fWB9IHZhbHVlPXt0fT57dH08L1NlbGVjdEl0ZW0+KX08L1NlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgIHtlcnJvcnMuc2NoZWR1bGU/LltpbmRleF0/LmVuZF90aW1lICYmIDxwIGNsYXNzTmFtZT0idGV4dC1kZXN0cnVjdGl2ZSB0ZXh0LXhzIGNvbC1zcGFuLTMgdGV4dC1yaWdodCAtbXQtMiI+e2Vycm9ycy5zY2hlZHVsZVtpbmRleF0hLmVuZF90aW1lIS5tZXNzYWdlfTwvcD59CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKQogICAgICAgIH0pfQogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1lbmQiPgogICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBkaXNhYmxlZD17aXNQZW5kaW5nfT4KICAgICAgICAgICAge2lzUGVuZGluZyAmJiA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iLz59CiAgICAgICAgICAgIDxTYXZlIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00Ii8+CiAgICAgICAgICAgIFNhdmUgU2NoZWR1bGUKICAgICAgICA8L0J1dHRvbj4KICAgICAgPC9kaXY+CiAgICA8L2Zvcm0+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IE1hbmFnZVNjaGVkdWxlQ2xpZW50Owo=' | base64 -d > /root/localpulse/src/components/account/manage-business/manage-schedule-client.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CiJ1c2UgY2xpZW50IgoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCAqIGFzIFNlcGFyYXRvclByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3Qtc2VwYXJhdG9yIgoKaW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmNvbnN0IFNlcGFyYXRvciA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2VwYXJhdG9yUHJpbWl0aXZlLlJvb3Q+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2VwYXJhdG9yUHJpbWl0aXZlLlJvb3Q+Cj4oCiAgKAogICAgeyBjbGFzc05hbWUsIG9yaWVudGF0aW9uID0gImhvcml6b250YWwiLCBkZWNvcmF0aXZlID0gdHJ1ZSwgLi4ucHJvcHMgfSwKICAgIHJlZgogICkgPT4gKAogICAgPFNlcGFyYXRvclByaW1pdGl2ZS5Sb290CiAgICAgIHJlZj17cmVmfQogICAgICBkZWNvcmF0aXZlPXtkZWNvcmF0aXZlfQogICAgICBvcmllbnRhdGlvbj17b3JpZW50YXRpb259CiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgInNocmluay0wIGJnLWJvcmRlciIsCiAgICAgICAgb3JpZW50YXRpb24gPT09ICJob3Jpem9udGFsIiA/ICJoLVsxcHhdIHctZnVsbCIgOiAiaC1mdWxsIHctWzFweF0iLAogICAgICAgIGNsYXNzTmFtZQogICAgICApfQogICAgICB7Li4ucHJvcHN9CiAgICAvPgogICkKKQpTZXBhcmF0b3IuZGlzcGxheU5hbWUgPSBTZXBhcmF0b3JQcmltaXRpdmUuUm9vdC5kaXNwbGF5TmFtZQoKZXhwb3J0IHsgU2VwYXJhdG9yIH0K' | base64 -d > /root/localpulse/src/components/ui/separator.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'aW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmZ1bmN0aW9uIFNrZWxldG9uKHsKICBjbGFzc05hbWUsCiAgLi4ucHJvcHMKfTogUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+KSB7CiAgcmV0dXJuICgKICAgIDxkaXYKICAgICAgY2xhc3NOYW1lPXtjbigiYW5pbWF0ZS1wdWxzZSByb3VuZGVkLW1kIGJnLW11dGVkIiwgY2xhc3NOYW1lKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICApCn0KCmV4cG9ydCB7IFNrZWxldG9uIH0K' | base64 -d > /root/localpulse/src/components/ui/skeleton.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgTWVudWJhclByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3QtbWVudWJhciIKaW1wb3J0IHsgQ2hlY2ssIENoZXZyb25SaWdodCwgQ2lyY2xlIH0gZnJvbSAibHVjaWRlLXJlYWN0IgoKaW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmZ1bmN0aW9uIE1lbnViYXJNZW51KHsKICAuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5NZW51PikgewogIHJldHVybiA8TWVudWJhclByaW1pdGl2ZS5NZW51IHsuLi5wcm9wc30gLz4KfQoKZnVuY3Rpb24gTWVudWJhckdyb3VwKHsKICAuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5Hcm91cD4pIHsKICByZXR1cm4gPE1lbnViYXJQcmltaXRpdmUuR3JvdXAgey4uLnByb3BzfSAvPgp9CgpmdW5jdGlvbiBNZW51YmFyUG9ydGFsKHsKICAuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5Qb3J0YWw+KSB7CiAgcmV0dXJuIDxNZW51YmFyUHJpbWl0aXZlLlBvcnRhbCB7Li4ucHJvcHN9IC8+Cn0KCmZ1bmN0aW9uIE1lbnViYXJSYWRpb0dyb3VwKHsKICAuLi5wcm9wcwp9OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5SYWRpb0dyb3VwPikgewogIHJldHVybiA8TWVudWJhclByaW1pdGl2ZS5SYWRpb0dyb3VwIHsuLi5wcm9wc30gLz4KfQoKZnVuY3Rpb24gTWVudWJhclN1Yih7CiAgLi4ucHJvcHMKfTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuU3ViPikgewogIHJldHVybiA8TWVudWJhclByaW1pdGl2ZS5TdWIgZGF0YS1zbG90PSJtZW51YmFyLXN1YiIgey4uLnByb3BzfSAvPgp9Cgpjb25zdCBNZW51YmFyID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBNZW51YmFyUHJpbWl0aXZlLlJvb3Q+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5Sb290Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPE1lbnViYXJQcmltaXRpdmUuUm9vdAogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiZmxleCBoLTEwIGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgcm91bmRlZC1tZCBib3JkZXIgYmctYmFja2dyb3VuZCBwLTEiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKTWVudWJhci5kaXNwbGF5TmFtZSA9IE1lbnViYXJQcmltaXRpdmUuUm9vdC5kaXNwbGF5TmFtZQoKY29uc3QgTWVudWJhclRyaWdnZXIgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuVHJpZ2dlcj4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBNZW51YmFyUHJpbWl0aXZlLlRyaWdnZXI+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8TWVudWJhclByaW1pdGl2ZS5UcmlnZ2VyCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJmbGV4IGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB4LTMgcHktMS41IHRleHQtc20gZm9udC1tZWRpdW0gb3V0bGluZS1ub25lIGZvY3VzOmJnLWFjY2VudCBmb2N1czp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGRhdGEtW3N0YXRlPW9wZW5dOmJnLWFjY2VudCBkYXRhLVtzdGF0ZT1vcGVuXTp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCk1lbnViYXJUcmlnZ2VyLmRpc3BsYXlOYW1lID0gTWVudWJhclByaW1pdGl2ZS5UcmlnZ2VyLmRpc3BsYXlOYW1lCgpjb25zdCBNZW51YmFyU3ViVHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5TdWJUcmlnZ2VyPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuU3ViVHJpZ2dlcj4gJiB7CiAgICBpbnNldD86IGJvb2xlYW4KICB9Cj4oKHsgY2xhc3NOYW1lLCBpbnNldCwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxNZW51YmFyUHJpbWl0aXZlLlN1YlRyaWdnZXIKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgImZsZXggY3Vyc29yLWRlZmF1bHQgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIHJvdW5kZWQtc20gcHgtMiBweS0xLjUgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6YmctYWNjZW50IGZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGF0YS1bc3RhdGU9b3Blbl06YmctYWNjZW50IGRhdGEtW3N0YXRlPW9wZW5dOnRleHQtYWNjZW50LWZvcmVncm91bmQiLAogICAgICBpbnNldCAmJiAicGwtOCIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICA+CiAgICB7Y2hpbGRyZW59CiAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT0ibWwtYXV0byBoLTQgdy00IiAvPgogIDwvTWVudWJhclByaW1pdGl2ZS5TdWJUcmlnZ2VyPgopKQpNZW51YmFyU3ViVHJpZ2dlci5kaXNwbGF5TmFtZSA9IE1lbnViYXJQcmltaXRpdmUuU3ViVHJpZ2dlci5kaXNwbGF5TmFtZQoKY29uc3QgTWVudWJhclN1YkNvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuU3ViQ29udGVudD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBNZW51YmFyUHJpbWl0aXZlLlN1YkNvbnRlbnQ+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8TWVudWJhclByaW1pdGl2ZS5TdWJDb250ZW50CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJ6LTUwIG1pbi13LVs4cmVtXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1tZCBib3JkZXIgYmctcG9wb3ZlciBwLTEgdGV4dC1wb3BvdmVyLWZvcmVncm91bmQgZGF0YS1bc3RhdGU9b3Blbl06YW5pbWF0ZS1pbiBkYXRhLVtzdGF0ZT1jbG9zZWRdOmFuaW1hdGUtb3V0IGRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtMCBkYXRhLVtzdGF0ZT1vcGVuXTpmYWRlLWluLTAgZGF0YS1bc3RhdGU9Y2xvc2VkXTp6b29tLW91dC05NSBkYXRhLVtzdGF0ZT1vcGVuXTp6b29tLWluLTk1IGRhdGEtW3NpZGU9Ym90dG9tXTpzbGlkZS1pbi1mcm9tLXRvcC0yIGRhdGEtW3NpZGU9bGVmdF06c2xpZGUtaW4tZnJvbS1yaWdodC0yIGRhdGEtW3NpZGU9cmlnaHRdOnNsaWRlLWluLWZyb20tbGVmdC0yIGRhdGEtW3NpZGU9dG9wXTpzbGlkZS1pbi1mcm9tLWJvdHRvbS0yIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCk1lbnViYXJTdWJDb250ZW50LmRpc3BsYXlOYW1lID0gTWVudWJhclByaW1pdGl2ZS5TdWJDb250ZW50LmRpc3BsYXlOYW1lCgpjb25zdCBNZW51YmFyQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5Db250ZW50PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuQ29udGVudD4KPigKICAoCiAgICB7IGNsYXNzTmFtZSwgYWxpZ24gPSAic3RhcnQiLCBhbGlnbk9mZnNldCA9IC00LCBzaWRlT2Zmc2V0ID0gOCwgLi4ucHJvcHMgfSwKICAgIHJlZgogICkgPT4gKAogICAgPE1lbnViYXJQcmltaXRpdmUuUG9ydGFsPgogICAgICA8TWVudWJhclByaW1pdGl2ZS5Db250ZW50CiAgICAgICAgcmVmPXtyZWZ9CiAgICAgICAgYWxpZ249e2FsaWdufQogICAgICAgIGFsaWduT2Zmc2V0PXthbGlnbk9mZnNldH0KICAgICAgICBzaWRlT2Zmc2V0PXtzaWRlT2Zmc2V0fQogICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAiei01MCBtaW4tdy1bMTJyZW1dIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLW1kIGJvcmRlciBiZy1wb3BvdmVyIHAtMSB0ZXh0LXBvcG92ZXItZm9yZWdyb3VuZCBzaGFkb3ctbWQgZGF0YS1bc3RhdGU9b3Blbl06YW5pbWF0ZS1pbiBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIGRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSBkYXRhLVtzaWRlPWJvdHRvbV06c2xpZGUtaW4tZnJvbS10b3AtMiBkYXRhLVtzaWRlPWxlZnRdOnNsaWRlLWluLWZyb20tcmlnaHQtMiBkYXRhLVtzaWRlPXJpZ2h0XTpzbGlkZS1pbi1mcm9tLWxlZnQtMiBkYXRhLVtzaWRlPXRvcF06c2xpZGUtaW4tZnJvbS1ib3R0b20tMiIsCiAgICAgICAgICBjbGFzc05hbWUKICAgICAgICApfQogICAgICAgIHsuLi5wcm9wc30KICAgICAgLz4KICAgIDwvTWVudWJhclByaW1pdGl2ZS5Qb3J0YWw+CiAgKQopCk1lbnViYXJDb250ZW50LmRpc3BsYXlOYW1lID0gTWVudWJhclByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lCgpjb25zdCBNZW51YmFySXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5JdGVtPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuSXRlbT4gJiB7CiAgICBpbnNldD86IGJvb2xlYW4KICB9Cj4oKHsgY2xhc3NOYW1lLCBpbnNldCwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPE1lbnViYXJQcmltaXRpdmUuSXRlbQogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAicmVsYXRpdmUgZmxleCBjdXJzb3ItZGVmYXVsdCBzZWxlY3Qtbm9uZSBpdGVtcy1jZW50ZXIgcm91bmRlZC1zbSBweC0yIHB5LTEuNSB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpiZy1hY2NlbnQgZm9jdXM6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCBkYXRhLVtkaXNhYmxlZF06cG9pbnRlci1ldmVudHMtbm9uZSBkYXRhLVtkaXNhYmxlZF06b3BhY2l0eS01MCIsCiAgICAgIGluc2V0ICYmICJwbC04IiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCk1lbnViYXJJdGVtLmRpc3BsYXlOYW1lID0gTWVudWJhclByaW1pdGl2ZS5JdGVtLmRpc3BsYXlOYW1lCgpjb25zdCBNZW51YmFyQ2hlY2tib3hJdGVtID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBNZW51YmFyUHJpbWl0aXZlLkNoZWNrYm94SXRlbT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBNZW51YmFyUHJpbWl0aXZlLkNoZWNrYm94SXRlbT4KPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCBjaGVja2VkLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8TWVudWJhclByaW1pdGl2ZS5DaGVja2JveEl0ZW0KICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgInJlbGF0aXZlIGZsZXggY3Vyc29yLWRlZmF1bHQgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIHJvdW5kZWQtc20gcHktMS41IHBsLTggcHItMiB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpiZy1hY2NlbnQgZm9jdXM6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCBkYXRhLVtkaXNhYmxlZF06cG9pbnRlci1ldmVudHMtbm9uZSBkYXRhLVtkaXNhYmxlZF06b3BhY2l0eS01MCIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIGNoZWNrZWQ9e2NoZWNrZWR9CiAgICB7Li4ucHJvcHN9CiAgPgogICAgPHNwYW4gY2xhc3NOYW1lPSJhYnNvbHV0ZSBsZWZ0LTIgZmxleCBoLTMuNSB3LTMuNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiPgogICAgICA8TWVudWJhclByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPgogICAgICAgIDxDaGVjayBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgIDwvTWVudWJhclByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPgogICAgPC9zcGFuPgogICAge2NoaWxkcmVufQogIDwvTWVudWJhclByaW1pdGl2ZS5DaGVja2JveEl0ZW0+CikpCk1lbnViYXJDaGVja2JveEl0ZW0uZGlzcGxheU5hbWUgPSBNZW51YmFyUHJpbWl0aXZlLkNoZWNrYm94SXRlbS5kaXNwbGF5TmFtZQoKY29uc3QgTWVudWJhclJhZGlvSXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5SYWRpb0l0ZW0+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5SYWRpb0l0ZW0+Cj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPE1lbnViYXJQcmltaXRpdmUuUmFkaW9JdGVtCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJyZWxhdGl2ZSBmbGV4IGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB5LTEuNSBwbC04IHByLTIgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6YmctYWNjZW50IGZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGF0YS1bZGlzYWJsZWRdOnBvaW50ZXItZXZlbnRzLW5vbmUgZGF0YS1bZGlzYWJsZWRdOm9wYWNpdHktNTAiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgPgogICAgPHNwYW4gY2xhc3NOYW1lPSJhYnNvbHV0ZSBsZWZ0LTIgZmxleCBoLTMuNSB3LTMuNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiPgogICAgICA8TWVudWJhclByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPgogICAgICAgIDxDaXJjbGUgY2xhc3NOYW1lPSJoLTIgdy0yIGZpbGwtY3VycmVudCIgLz4KICAgICAgPC9NZW51YmFyUHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+CiAgICA8L3NwYW4+CiAgICB7Y2hpbGRyZW59CiAgPC9NZW51YmFyUHJpbWl0aXZlLlJhZGlvSXRlbT4KKSkKTWVudWJhclJhZGlvSXRlbS5kaXNwbGF5TmFtZSA9IE1lbnViYXJQcmltaXRpdmUuUmFkaW9JdGVtLmRpc3BsYXlOYW1lCgpjb25zdCBNZW51YmFyTGFiZWwgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuTGFiZWw+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgTWVudWJhclByaW1pdGl2ZS5MYWJlbD4gJiB7CiAgICBpbnNldD86IGJvb2xlYW4KICB9Cj4oKHsgY2xhc3NOYW1lLCBpbnNldCwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPE1lbnViYXJQcmltaXRpdmUuTGFiZWwKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgInB4LTIgcHktMS41IHRleHQtc20gZm9udC1zZW1pYm9sZCIsCiAgICAgIGluc2V0ICYmICJwbC04IiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCk1lbnViYXJMYWJlbC5kaXNwbGF5TmFtZSA9IE1lbnViYXJQcmltaXRpdmUuTGFiZWwuZGlzcGxheU5hbWUKCmNvbnN0IE1lbnViYXJTZXBhcmF0b3IgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuU2VwYXJhdG9yPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIE1lbnViYXJQcmltaXRpdmUuU2VwYXJhdG9yPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPE1lbnViYXJQcmltaXRpdmUuU2VwYXJhdG9yCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oIi1teC0xIG15LTEgaC1weCBiZy1tdXRlZCIsIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKTWVudWJhclNlcGFyYXRvci5kaXNwbGF5TmFtZSA9IE1lbnViYXJQcmltaXRpdmUuU2VwYXJhdG9yLmRpc3BsYXlOYW1lCgpjb25zdCBNZW51YmFyU2hvcnRjdXQgPSAoewogIGNsYXNzTmFtZSwKICAuLi5wcm9wcwp9OiBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MU3BhbkVsZW1lbnQ+KSA9PiB7CiAgcmV0dXJuICgKICAgIDxzcGFuCiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgIm1sLWF1dG8gdGV4dC14cyB0cmFja2luZy13aWRlc3QgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIiwKICAgICAgICBjbGFzc05hbWUKICAgICAgKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICApCn0KTWVudWJhclNob3J0Y3V0LmRpc3BsYXluYW1lID0gIk1lbnViYXJTaG9ydGN1dCIKCmV4cG9ydCB7CiAgTWVudWJhciwKICBNZW51YmFyTWVudSwKICBNZW51YmFyVHJpZ2dlciwKICBNZW51YmFyQ29udGVudCwKICBNZW51YmFySXRlbSwKICBNZW51YmFyU2VwYXJhdG9yLAogIE1lbnViYXJMYWJlbCwKICBNZW51YmFyQ2hlY2tib3hJdGVtLAogIE1lbnViYXJSYWRpb0dyb3VwLAogIE1lbnViYXJSYWRpb0l0ZW0sCiAgTWVudWJhclBvcnRhbCwKICBNZW51YmFyU3ViQ29udGVudCwKICBNZW51YmFyU3ViVHJpZ2dlciwKICBNZW51YmFyR3JvdXAsCiAgTWVudWJhclN1YiwKICBNZW51YmFyU2hvcnRjdXQsCn0K' | base64 -d > /root/localpulse/src/components/ui/menubar.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gInJlYWN0IgppbXBvcnQgeyBTbG90IH0gZnJvbSAiQHJhZGl4LXVpL3JlYWN0LXNsb3QiCmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHkiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoCiAgImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3aGl0ZXNwYWNlLW5vd3JhcCByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW0gcmluZy1vZmZzZXQtYmFja2dyb3VuZCB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIiwKICB7CiAgICB2YXJpYW50czogewogICAgICB2YXJpYW50OiB7CiAgICAgICAgZGVmYXVsdDogImJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgaG92ZXI6YmctcHJpbWFyeS85MCIsCiAgICAgICAgZGVzdHJ1Y3RpdmU6CiAgICAgICAgICAiYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIGhvdmVyOmJnLWRlc3RydWN0aXZlLzkwIiwKICAgICAgICBvdXRsaW5lOgogICAgICAgICAgImJvcmRlciBib3JkZXItaW5wdXQgYmctYmFja2dyb3VuZCBob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCIsCiAgICAgICAgc2Vjb25kYXJ5OgogICAgICAgICAgImJnLXNlY29uZGFyeSB0ZXh0LXNlY29uZGFyeS1mb3JlZ3JvdW5kIGhvdmVyOmJnLXNlY29uZGFyeS84MCIsCiAgICAgICAgZ2hvc3Q6ICJob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCIsCiAgICAgICAgbGluazogInRleHQtcHJpbWFyeSB1bmRlcmxpbmUtb2Zmc2V0LTQgaG92ZXI6dW5kZXJsaW5lIiwKICAgICAgfSwKICAgICAgc2l6ZTogewogICAgICAgIGRlZmF1bHQ6ICJoLTEwIHB4LTQgcHktMiIsCiAgICAgICAgc206ICJoLTkgcm91bmRlZC1tZCBweC0zIiwKICAgICAgICBsZzogImgtMTEgcm91bmRlZC1tZCBweC04IiwKICAgICAgICBpY29uOiAiaC0xMCB3LTEwIiwKICAgICAgfSwKICAgIH0sCiAgICBkZWZhdWx0VmFyaWFudHM6IHsKICAgICAgdmFyaWFudDogImRlZmF1bHQiLAogICAgICBzaXplOiAiZGVmYXVsdCIsCiAgICB9LAogIH0KKQoKZXhwb3J0IGludGVyZmFjZSBCdXR0b25Qcm9wcwogIGV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+LAogICAgVmFyaWFudFByb3BzPHR5cGVvZiBidXR0b25WYXJpYW50cz4gewogIGFzQ2hpbGQ/OiBib29sZWFuCn0KCmNvbnN0IEJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTEJ1dHRvbkVsZW1lbnQsIEJ1dHRvblByb3BzPigKICAoeyBjbGFzc05hbWUsIHZhcmlhbnQsIHNpemUsIGFzQ2hpbGQgPSBmYWxzZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3QgOiAiYnV0dG9uIgogICAgcmV0dXJuICgKICAgICAgPENvbXAKICAgICAgICBjbGFzc05hbWU9e2NuKGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgY2xhc3NOYW1lIH0pKX0KICAgICAgICByZWY9e3JlZn0KICAgICAgICB7Li4ucHJvcHN9CiAgICAgIC8+CiAgICApCiAgfQopCkJ1dHRvbi5kaXNwbGF5TmFtZSA9ICJCdXR0b24iCgpleHBvcnQgeyBCdXR0b24sIGJ1dHRvblZhcmlhbnRzIH0K' | base64 -d > /root/localpulse/src/components/ui/button.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgQ2FyZCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTERpdkVsZW1lbnQsCiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8ZGl2CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJyb3VuZGVkLWxnIGJvcmRlciBiZy1jYXJkIHRleHQtY2FyZC1mb3JlZ3JvdW5kIHNoYWRvdy1zbSIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpDYXJkLmRpc3BsYXlOYW1lID0gIkNhcmQiCgpjb25zdCBDYXJkSGVhZGVyID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxkaXYKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigiZmxleCBmbGV4LWNvbCBzcGFjZS15LTEuNSBwLTYiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpCkNhcmRIZWFkZXIuZGlzcGxheU5hbWUgPSAiQ2FyZEhlYWRlciIKCmNvbnN0IENhcmRUaXRsZSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTERpdkVsZW1lbnQsCiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8ZGl2CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIGxlYWRpbmctbm9uZSB0cmFja2luZy10aWdodCIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpDYXJkVGl0bGUuZGlzcGxheU5hbWUgPSAiQ2FyZFRpdGxlIgoKY29uc3QgQ2FyZERlc2NyaXB0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxkaXYKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpCkNhcmREZXNjcmlwdGlvbi5kaXNwbGF5TmFtZSA9ICJDYXJkRGVzY3JpcHRpb24iCgpjb25zdCBDYXJkQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTERpdkVsZW1lbnQsCiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8ZGl2IHJlZj17cmVmfSBjbGFzc05hbWU9e2NuKCJwLTYgcHQtMCIsIGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz4KKSkKQ2FyZENvbnRlbnQuZGlzcGxheU5hbWUgPSAiQ2FyZENvbnRlbnQiCgpjb25zdCBDYXJkRm9vdGVyID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxkaXYKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigiZmxleCBpdGVtcy1jZW50ZXIgcC02IHB0LTAiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpCkNhcmRGb290ZXIuZGlzcGxheU5hbWUgPSAiQ2FyZEZvb3RlciIKCmV4cG9ydCB7IENhcmQsIENhcmRIZWFkZXIsIENhcmRGb290ZXIsIENhcmRUaXRsZSwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkQ29udGVudCB9Cg==' | base64 -d > /root/localpulse/src/components/ui/card.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgVG9hc3RQcmltaXRpdmVzIGZyb20gIkByYWRpeC11aS9yZWFjdC10b2FzdCIKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSIKaW1wb3J0IHsgWCB9IGZyb20gImx1Y2lkZS1yZWFjdCIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCgpjb25zdCBUb2FzdFByb3ZpZGVyID0gVG9hc3RQcmltaXRpdmVzLlByb3ZpZGVyCgpjb25zdCBUb2FzdFZpZXdwb3J0ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuVmlld3BvcnQ+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgVG9hc3RQcmltaXRpdmVzLlZpZXdwb3J0Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFRvYXN0UHJpbWl0aXZlcy5WaWV3cG9ydAogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiZml4ZWQgdG9wLTAgei1bMTAwXSBmbGV4IG1heC1oLXNjcmVlbiB3LWZ1bGwgZmxleC1jb2wtcmV2ZXJzZSBwLTQgc206Ym90dG9tLTAgc206cmlnaHQtMCBzbTp0b3AtYXV0byBzbTpmbGV4LWNvbCBtZDptYXgtdy1bNDIwcHhdIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpClRvYXN0Vmlld3BvcnQuZGlzcGxheU5hbWUgPSBUb2FzdFByaW1pdGl2ZXMuVmlld3BvcnQuZGlzcGxheU5hbWUKCmNvbnN0IHRvYXN0VmFyaWFudHMgPSBjdmEoCiAgImdyb3VwIHBvaW50ZXItZXZlbnRzLWF1dG8gcmVsYXRpdmUgZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzcGFjZS14LTQgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIHAtNiBwci04IHNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkYXRhLVtzd2lwZT1jYW5jZWxdOnRyYW5zbGF0ZS14LTAgZGF0YS1bc3dpcGU9ZW5kXTp0cmFuc2xhdGUteC1bdmFyKC0tcmFkaXgtdG9hc3Qtc3dpcGUtZW5kLXgpXSBkYXRhLVtzd2lwZT1tb3ZlXTp0cmFuc2xhdGUteC1bdmFyKC0tcmFkaXgtdG9hc3Qtc3dpcGUtbW92ZS14KV0gZGF0YS1bc3dpcGU9bW92ZV06dHJhbnNpdGlvbi1ub25lIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzd2lwZT1lbmRdOmFuaW1hdGUtb3V0IGRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtODAgZGF0YS1bc3RhdGU9Y2xvc2VkXTpzbGlkZS1vdXQtdG8tcmlnaHQtZnVsbCBkYXRhLVtzdGF0ZT1vcGVuXTpzbGlkZS1pbi1mcm9tLXRvcC1mdWxsIGRhdGEtW3N0YXRlPW9wZW5dOnNtOnNsaWRlLWluLWZyb20tYm90dG9tLWZ1bGwiLAogIHsKICAgIHZhcmlhbnRzOiB7CiAgICAgIHZhcmlhbnQ6IHsKICAgICAgICBkZWZhdWx0OiAiYm9yZGVyIGJnLWJhY2tncm91bmQgdGV4dC1mb3JlZ3JvdW5kIiwKICAgICAgICBkZXN0cnVjdGl2ZToKICAgICAgICAgICJkZXN0cnVjdGl2ZSBncm91cCBib3JkZXItZGVzdHJ1Y3RpdmUgYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIiwKICAgICAgfSwKICAgIH0sCiAgICBkZWZhdWx0VmFyaWFudHM6IHsKICAgICAgdmFyaWFudDogImRlZmF1bHQiLAogICAgfSwKICB9CikKCmNvbnN0IFRvYXN0ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuUm9vdD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuUm9vdD4gJgogICAgVmFyaWFudFByb3BzPHR5cGVvZiB0b2FzdFZhcmlhbnRzPgo+KCh7IGNsYXNzTmFtZSwgdmFyaWFudCwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CiAgcmV0dXJuICgKICAgIDxUb2FzdFByaW1pdGl2ZXMuUm9vdAogICAgICByZWY9e3JlZn0KICAgICAgY2xhc3NOYW1lPXtjbih0b2FzdFZhcmlhbnRzKHsgdmFyaWFudCB9KSwgY2xhc3NOYW1lKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICApCn0pClRvYXN0LmRpc3BsYXlOYW1lID0gVG9hc3RQcmltaXRpdmVzLlJvb3QuZGlzcGxheU5hbWUKCmNvbnN0IFRvYXN0QWN0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuQWN0aW9uPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFRvYXN0UHJpbWl0aXZlcy5BY3Rpb24+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8VG9hc3RQcmltaXRpdmVzLkFjdGlvbgogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiaW5saW5lLWZsZXggaC04IHNocmluay0wIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLW1kIGJvcmRlciBiZy10cmFuc3BhcmVudCBweC0zIHRleHQtc20gZm9udC1tZWRpdW0gcmluZy1vZmZzZXQtYmFja2dyb3VuZCB0cmFuc2l0aW9uLWNvbG9ycyBob3ZlcjpiZy1zZWNvbmRhcnkgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXJpbmcgZm9jdXM6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgZ3JvdXAtWy5kZXN0cnVjdGl2ZV06Ym9yZGVyLW11dGVkLzQwIGdyb3VwLVsuZGVzdHJ1Y3RpdmVdOmhvdmVyOmJvcmRlci1kZXN0cnVjdGl2ZS8zMCBncm91cC1bLmRlc3RydWN0aXZlXTpob3ZlcjpiZy1kZXN0cnVjdGl2ZSBncm91cC1bLmRlc3RydWN0aXZlXTpob3Zlcjp0ZXh0LWRlc3RydWN0aXZlLWZvcmVncm91bmQgZ3JvdXAtWy5kZXN0cnVjdGl2ZV06Zm9jdXM6cmluZy1kZXN0cnVjdGl2ZSIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpUb2FzdEFjdGlvbi5kaXNwbGF5TmFtZSA9IFRvYXN0UHJpbWl0aXZlcy5BY3Rpb24uZGlzcGxheU5hbWUKCmNvbnN0IFRvYXN0Q2xvc2UgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFRvYXN0UHJpbWl0aXZlcy5DbG9zZT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuQ2xvc2U+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8VG9hc3RQcmltaXRpdmVzLkNsb3NlCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJhYnNvbHV0ZSByaWdodC0yIHRvcC0yIHJvdW5kZWQtbWQgcC0xIHRleHQtZm9yZWdyb3VuZC81MCBvcGFjaXR5LTAgdHJhbnNpdGlvbi1vcGFjaXR5IGhvdmVyOnRleHQtZm9yZWdyb3VuZCBmb2N1czpvcGFjaXR5LTEwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIGdyb3VwLVsuZGVzdHJ1Y3RpdmVdOnRleHQtcmVkLTMwMCBncm91cC1bLmRlc3RydWN0aXZlXTpob3Zlcjp0ZXh0LXJlZC01MCBncm91cC1bLmRlc3RydWN0aXZlXTpmb2N1czpyaW5nLXJlZC00MDAgZ3JvdXAtWy5kZXN0cnVjdGl2ZV06Zm9jdXM6cmluZy1vZmZzZXQtcmVkLTYwMCIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHRvYXN0LWNsb3NlPSIiCiAgICB7Li4ucHJvcHN9CiAgPgogICAgPFggY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogIDwvVG9hc3RQcmltaXRpdmVzLkNsb3NlPgopKQpUb2FzdENsb3NlLmRpc3BsYXlOYW1lID0gVG9hc3RQcmltaXRpdmVzLkNsb3NlLmRpc3BsYXlOYW1lCgpjb25zdCBUb2FzdFRpdGxlID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuVGl0bGU+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgVG9hc3RQcmltaXRpdmVzLlRpdGxlPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFRvYXN0UHJpbWl0aXZlcy5UaXRsZQogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpClRvYXN0VGl0bGUuZGlzcGxheU5hbWUgPSBUb2FzdFByaW1pdGl2ZXMuVGl0bGUuZGlzcGxheU5hbWUKCmNvbnN0IFRvYXN0RGVzY3JpcHRpb24gPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFRvYXN0UHJpbWl0aXZlcy5EZXNjcmlwdGlvbj4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuRGVzY3JpcHRpb24+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8VG9hc3RQcmltaXRpdmVzLkRlc2NyaXB0aW9uCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oInRleHQtc20gb3BhY2l0eS05MCIsIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKVG9hc3REZXNjcmlwdGlvbi5kaXNwbGF5TmFtZSA9IFRvYXN0UHJpbWl0aXZlcy5EZXNjcmlwdGlvbi5kaXNwbGF5TmFtZQoKdHlwZSBUb2FzdFByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUb2FzdD4KCnR5cGUgVG9hc3RBY3Rpb25FbGVtZW50ID0gUmVhY3QuUmVhY3RFbGVtZW50PHR5cGVvZiBUb2FzdEFjdGlvbj4KCmV4cG9ydCB7CiAgdHlwZSBUb2FzdFByb3BzLAogIHR5cGUgVG9hc3RBY3Rpb25FbGVtZW50LAogIFRvYXN0UHJvdmlkZXIsCiAgVG9hc3RWaWV3cG9ydCwKICBUb2FzdCwKICBUb2FzdFRpdGxlLAogIFRvYXN0RGVzY3JpcHRpb24sCiAgVG9hc3RDbG9zZSwKICBUb2FzdEFjdGlvbiwKfQo=' | base64 -d > /root/localpulse/src/components/ui/toast.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CiJ1c2UgY2xpZW50IgoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCAqIGFzIFNjcm9sbEFyZWFQcmltaXRpdmUgZnJvbSAiQHJhZGl4LXVpL3JlYWN0LXNjcm9sbC1hcmVhIgoKaW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmNvbnN0IFNjcm9sbEFyZWEgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3Q+Cj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdAogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKCJyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4iLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogID4KICAgIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlZpZXdwb3J0IGNsYXNzTmFtZT0iaC1mdWxsIHctZnVsbCByb3VuZGVkLVtpbmhlcml0XSI+CiAgICAgIHtjaGlsZHJlbn0KICAgIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5WaWV3cG9ydD4KICAgIDxTY3JvbGxCYXIgLz4KICAgIDxTY3JvbGxBcmVhUHJpbWl0aXZlLkNvcm5lciAvPgogIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5Sb290PgopKQpTY3JvbGxBcmVhLmRpc3BsYXlOYW1lID0gU2Nyb2xsQXJlYVByaW1pdGl2ZS5Sb290LmRpc3BsYXlOYW1lCgpjb25zdCBTY3JvbGxCYXIgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuU2Nyb2xsQXJlYVNjcm9sbGJhcj4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXI+Cj4oKHsgY2xhc3NOYW1lLCBvcmllbnRhdGlvbiA9ICJ2ZXJ0aWNhbCIsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXIKICAgIHJlZj17cmVmfQogICAgb3JpZW50YXRpb249e29yaWVudGF0aW9ufQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgImZsZXggdG91Y2gtbm9uZSBzZWxlY3Qtbm9uZSB0cmFuc2l0aW9uLWNvbG9ycyIsCiAgICAgIG9yaWVudGF0aW9uID09PSAidmVydGljYWwiICYmCiAgICAgICAgImgtZnVsbCB3LTIuNSBib3JkZXItbCBib3JkZXItbC10cmFuc3BhcmVudCBwLVsxcHhdIiwKICAgICAgb3JpZW50YXRpb24gPT09ICJob3Jpem9udGFsIiAmJgogICAgICAgICJoLTIuNSBmbGV4LWNvbCBib3JkZXItdCBib3JkZXItdC10cmFuc3BhcmVudCBwLVsxcHhdIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogID4KICAgIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFUaHVtYiBjbGFzc05hbWU9InJlbGF0aXZlIGZsZXgtMSByb3VuZGVkLWZ1bGwgYmctYm9yZGVyIiAvPgogIDwvU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyPgopKQpTY3JvbGxCYXIuZGlzcGxheU5hbWUgPSBTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXIuZGlzcGxheU5hbWUKCmV4cG9ydCB7IFNjcm9sbEFyZWEsIFNjcm9sbEJhciB9Cg==' | base64 -d > /root/localpulse/src/components/ui/scroll-area.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgRHJvcGRvd25NZW51UHJpbWl0aXZlIGZyb20gIkByYWRpeC11aS9yZWFjdC1kcm9wZG93bi1tZW51IgppbXBvcnQgeyBDaGVjaywgQ2hldnJvblJpZ2h0LCBDaXJjbGUgfSBmcm9tICJsdWNpZGUtcmVhY3QiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgRHJvcGRvd25NZW51ID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlJvb3QKCmNvbnN0IERyb3Bkb3duTWVudVRyaWdnZXIgPSBEcm9wZG93bk1lbnVQcmltaXRpdmUuVHJpZ2dlcgoKY29uc3QgRHJvcGRvd25NZW51R3JvdXAgPSBEcm9wZG93bk1lbnVQcmltaXRpdmUuR3JvdXAKCmNvbnN0IERyb3Bkb3duTWVudVBvcnRhbCA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5Qb3J0YWwKCmNvbnN0IERyb3Bkb3duTWVudVN1YiA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWIKCmNvbnN0IERyb3Bkb3duTWVudVJhZGlvR3JvdXAgPSBEcm9wZG93bk1lbnVQcmltaXRpdmUuUmFkaW9Hcm91cAoKY29uc3QgRHJvcGRvd25NZW51U3ViVHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXI+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXI+ICYgewogICAgaW5zZXQ/OiBib29sZWFuCiAgfQo+KCh7IGNsYXNzTmFtZSwgaW5zZXQsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXIKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgImZsZXggY3Vyc29yLWRlZmF1bHQgZ2FwLTIgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIHJvdW5kZWQtc20gcHgtMiBweS0xLjUgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6YmctYWNjZW50IGRhdGEtW3N0YXRlPW9wZW5dOmJnLWFjY2VudCBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnXTpzaXplLTQgWyZfc3ZnXTpzaHJpbmstMCIsCiAgICAgIGluc2V0ICYmICJwbC04IiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogID4KICAgIHtjaGlsZHJlbn0KICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPSJtbC1hdXRvIiAvPgogIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXI+CikpCkRyb3Bkb3duTWVudVN1YlRyaWdnZXIuZGlzcGxheU5hbWUgPQogIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJUcmlnZ2VyLmRpc3BsYXlOYW1lCgpjb25zdCBEcm9wZG93bk1lbnVTdWJDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViQ29udGVudD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViQ29udGVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViQ29udGVudAogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiei01MCBtaW4tdy1bOHJlbV0gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXBvcG92ZXIgcC0xIHRleHQtcG9wb3Zlci1mb3JlZ3JvdW5kIHNoYWRvdy1sZyBkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWluIGRhdGEtW3N0YXRlPWNsb3NlZF06YW5pbWF0ZS1vdXQgZGF0YS1bc3RhdGU9Y2xvc2VkXTpmYWRlLW91dC0wIGRhdGEtW3N0YXRlPW9wZW5dOmZhZGUtaW4tMCBkYXRhLVtzdGF0ZT1jbG9zZWRdOnpvb20tb3V0LTk1IGRhdGEtW3N0YXRlPW9wZW5dOnpvb20taW4tOTUgZGF0YS1bc2lkZT1ib3R0b21dOnNsaWRlLWluLWZyb20tdG9wLTIgZGF0YS1bc2lkZT1sZWZ0XTpzbGlkZS1pbi1mcm9tLXJpZ2h0LTIgZGF0YS1bc2lkZT1yaWdodF06c2xpZGUtaW4tZnJvbS1sZWZ0LTIgZGF0YS1bc2lkZT10b3BdOnNsaWRlLWluLWZyb20tYm90dG9tLTIiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKRHJvcGRvd25NZW51U3ViQ29udGVudC5kaXNwbGF5TmFtZSA9CiAgRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YkNvbnRlbnQuZGlzcGxheU5hbWUKCmNvbnN0IERyb3Bkb3duTWVudUNvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5Db250ZW50PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5Db250ZW50Pgo+KCh7IGNsYXNzTmFtZSwgc2lkZU9mZnNldCA9IDQsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuUG9ydGFsPgogICAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5Db250ZW50CiAgICAgIHJlZj17cmVmfQogICAgICBzaWRlT2Zmc2V0PXtzaWRlT2Zmc2V0fQogICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICJ6LTUwIG1pbi13LVs4cmVtXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1tZCBib3JkZXIgYmctcG9wb3ZlciBwLTEgdGV4dC1wb3BvdmVyLWZvcmVncm91bmQgc2hhZG93LW1kIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIGRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSBkYXRhLVtzaWRlPWJvdHRvbV06c2xpZGUtaW4tZnJvbS10b3AtMiBkYXRhLVtzaWRlPWxlZnRdOnNsaWRlLWluLWZyb20tcmlnaHQtMiBkYXRhLVtzaWRlPXJpZ2h0XTpzbGlkZS1pbi1mcm9tLWxlZnQtMiBkYXRhLVtzaWRlPXRvcF06c2xpZGUtaW4tZnJvbS1ib3R0b20tMiIsCiAgICAgICAgY2xhc3NOYW1lCiAgICAgICl9CiAgICAgIHsuLi5wcm9wc30KICAgIC8+CiAgPC9Ecm9wZG93bk1lbnVQcmltaXRpdmUuUG9ydGFsPgopKQpEcm9wZG93bk1lbnVDb250ZW50LmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLkNvbnRlbnQuZGlzcGxheU5hbWUKCmNvbnN0IERyb3Bkb3duTWVudUl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtPiAmIHsKICAgIGluc2V0PzogYm9vbGVhbgogIH0KPigoeyBjbGFzc05hbWUsIGluc2V0LCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW0KICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgInJlbGF0aXZlIGZsZXggY3Vyc29yLWRlZmF1bHQgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtc20gcHgtMiBweS0xLjUgdGV4dC1zbSBvdXRsaW5lLW5vbmUgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6YmctYWNjZW50IGZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGF0YS1bZGlzYWJsZWRdOnBvaW50ZXItZXZlbnRzLW5vbmUgZGF0YS1bZGlzYWJsZWRdOm9wYWNpdHktNTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Z106c2l6ZS00IFsmX3N2Z106c2hyaW5rLTAiLAogICAgICBpbnNldCAmJiAicGwtOCIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpEcm9wZG93bk1lbnVJdGVtLmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW0uZGlzcGxheU5hbWUKCmNvbnN0IERyb3Bkb3duTWVudUNoZWNrYm94SXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkNoZWNrYm94SXRlbT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuQ2hlY2tib3hJdGVtPgo+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIGNoZWNrZWQsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuQ2hlY2tib3hJdGVtCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJyZWxhdGl2ZSBmbGV4IGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB5LTEuNSBwbC04IHByLTIgdGV4dC1zbSBvdXRsaW5lLW5vbmUgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6YmctYWNjZW50IGZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGF0YS1bZGlzYWJsZWRdOnBvaW50ZXItZXZlbnRzLW5vbmUgZGF0YS1bZGlzYWJsZWRdOm9wYWNpdHktNTAiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICBjaGVja2VkPXtjaGVja2VkfQogICAgey4uLnByb3BzfQogID4KICAgIDxzcGFuIGNsYXNzTmFtZT0iYWJzb2x1dGUgbGVmdC0yIGZsZXggaC0zLjUgdy0zLjUgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KICAgICAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPgogICAgICAgIDxDaGVjayBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+CiAgICA8L3NwYW4+CiAgICB7Y2hpbGRyZW59CiAgPC9Ecm9wZG93bk1lbnVQcmltaXRpdmUuQ2hlY2tib3hJdGVtPgopKQpEcm9wZG93bk1lbnVDaGVja2JveEl0ZW0uZGlzcGxheU5hbWUgPQogIERyb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0uZGlzcGxheU5hbWUKCmNvbnN0IERyb3Bkb3duTWVudVJhZGlvSXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuUmFkaW9JdGVtPgo+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuUmFkaW9JdGVtCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJyZWxhdGl2ZSBmbGV4IGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB5LTEuNSBwbC04IHByLTIgdGV4dC1zbSBvdXRsaW5lLW5vbmUgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6YmctYWNjZW50IGZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGF0YS1bZGlzYWJsZWRdOnBvaW50ZXItZXZlbnRzLW5vbmUgZGF0YS1bZGlzYWJsZWRdOm9wYWNpdHktNTAiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgPgogICAgPHNwYW4gY2xhc3NOYW1lPSJhYnNvbHV0ZSBsZWZ0LTIgZmxleCBoLTMuNSB3LTMuNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiPgogICAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+CiAgICAgICAgPENpcmNsZSBjbGFzc05hbWU9ImgtMiB3LTIgZmlsbC1jdXJyZW50IiAvPgogICAgICA8L0Ryb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPgogICAgPC9zcGFuPgogICAge2NoaWxkcmVufQogIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbT4KKSkKRHJvcGRvd25NZW51UmFkaW9JdGVtLmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbS5kaXNwbGF5TmFtZQoKY29uc3QgRHJvcGRvd25NZW51TGFiZWwgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5MYWJlbD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuTGFiZWw+ICYgewogICAgaW5zZXQ/OiBib29sZWFuCiAgfQo+KCh7IGNsYXNzTmFtZSwgaW5zZXQsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuTGFiZWwKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgInB4LTIgcHktMS41IHRleHQtc20gZm9udC1zZW1pYm9sZCIsCiAgICAgIGluc2V0ICYmICJwbC04IiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCkRyb3Bkb3duTWVudUxhYmVsLmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLkxhYmVsLmRpc3BsYXlOYW1lCgpjb25zdCBEcm9wZG93bk1lbnVTZXBhcmF0b3IgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TZXBhcmF0b3I+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlNlcGFyYXRvcj4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuU2VwYXJhdG9yCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oIi1teC0xIG15LTEgaC1weCBiZy1tdXRlZCIsIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKRHJvcGRvd25NZW51U2VwYXJhdG9yLmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlNlcGFyYXRvci5kaXNwbGF5TmFtZQoKY29uc3QgRHJvcGRvd25NZW51U2hvcnRjdXQgPSAoewogIGNsYXNzTmFtZSwKICAuLi5wcm9wcwp9OiBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MU3BhbkVsZW1lbnQ+KSA9PiB7CiAgcmV0dXJuICgKICAgIDxzcGFuCiAgICAgIGNsYXNzTmFtZT17Y24oIm1sLWF1dG8gdGV4dC14cyB0cmFja2luZy13aWRlc3Qgb3BhY2l0eS02MCIsIGNsYXNzTmFtZSl9CiAgICAgIHsuLi5wcm9wc30KICAgIC8+CiAgKQp9CkRyb3Bkb3duTWVudVNob3J0Y3V0LmRpc3BsYXlOYW1lID0gIkRyb3Bkb3duTWVudVNob3J0Y3V0IgoKZXhwb3J0IHsKICBEcm9wZG93bk1lbnUsCiAgRHJvcGRvd25NZW51VHJpZ2dlciwKICBEcm9wZG93bk1lbnVDb250ZW50LAogIERyb3Bkb3duTWVudUl0ZW0sCiAgRHJvcGRvd25NZW51Q2hlY2tib3hJdGVtLAogIERyb3Bkb3duTWVudVJhZGlvSXRlbSwKICBEcm9wZG93bk1lbnVMYWJlbCwKICBEcm9wZG93bk1lbnVTZXBhcmF0b3IsCiAgRHJvcGRvd25NZW51U2hvcnRjdXQsCiAgRHJvcGRvd25NZW51R3JvdXAsCiAgRHJvcGRvd25NZW51UG9ydGFsLAogIERyb3Bkb3duTWVudVN1YiwKICBEcm9wZG93bk1lbnVTdWJDb250ZW50LAogIERyb3Bkb3duTWVudVN1YlRyaWdnZXIsCiAgRHJvcGRvd25NZW51UmFkaW9Hcm91cCwKfQo=' | base64 -d > /root/localpulse/src/components/ui/dropdown-menu.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgUHJvZ3Jlc3NQcmltaXRpdmUgZnJvbSAiQHJhZGl4LXVpL3JlYWN0LXByb2dyZXNzIgoKaW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmNvbnN0IFByb2dyZXNzID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcm9ncmVzc1ByaW1pdGl2ZS5Sb290PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByb2dyZXNzUHJpbWl0aXZlLlJvb3Q+Cj4oKHsgY2xhc3NOYW1lLCB2YWx1ZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFByb2dyZXNzUHJpbWl0aXZlLlJvb3QKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgInJlbGF0aXZlIGgtNCB3LWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtZnVsbCBiZy1zZWNvbmRhcnkiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgPgogICAgPFByb2dyZXNzUHJpbWl0aXZlLkluZGljYXRvcgogICAgICBjbGFzc05hbWU9ImgtZnVsbCB3LWZ1bGwgZmxleC0xIGJnLXByaW1hcnkgdHJhbnNpdGlvbi1hbGwiCiAgICAgIHN0eWxlPXt7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoLSR7MTAwIC0gKHZhbHVlIHx8IDApfSUpYCB9fQogICAgLz4KICA8L1Byb2dyZXNzUHJpbWl0aXZlLlJvb3Q+CikpClByb2dyZXNzLmRpc3BsYXlOYW1lID0gUHJvZ3Jlc3NQcmltaXRpdmUuUm9vdC5kaXNwbGF5TmFtZQoKZXhwb3J0IHsgUHJvZ3Jlc3MgfQo=' | base64 -d > /root/localpulse/src/components/ui/progress.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgSW5wdXQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxJbnB1dEVsZW1lbnQsIFJlYWN0LkNvbXBvbmVudFByb3BzPCJpbnB1dCI+PigKICAoeyBjbGFzc05hbWUsIHR5cGUsIC4uLnByb3BzIH0sIHJlZikgPT4gewogICAgcmV0dXJuICgKICAgICAgPGlucHV0CiAgICAgICAgdHlwZT17dHlwZX0KICAgICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICAgImZsZXggaC0xMCB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWlucHV0IGJnLWJhY2tncm91bmQgcHgtMyBweS0yIHRleHQtYmFzZSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIGZpbGU6Ym9yZGVyLTAgZmlsZTpiZy10cmFuc3BhcmVudCBmaWxlOnRleHQtc20gZmlsZTpmb250LW1lZGl1bSBmaWxlOnRleHQtZm9yZWdyb3VuZCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwIHNtOnRleHQtc20iLAogICAgICAgICAgY2xhc3NOYW1lCiAgICAgICAgKX0KICAgICAgICByZWY9e3JlZn0KICAgICAgICB7Li4ucHJvcHN9CiAgICAgIC8+CiAgICApCiAgfQopCklucHV0LmRpc3BsYXlOYW1lID0gIklucHV0IgoKZXhwb3J0IHsgSW5wdXQgfQo=' | base64 -d > /root/localpulse/src/components/ui/input.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgUmFkaW9Hcm91cFByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3QtcmFkaW8tZ3JvdXAiCmltcG9ydCB7IENpcmNsZSB9IGZyb20gImx1Y2lkZS1yZWFjdCIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCgpjb25zdCBSYWRpb0dyb3VwID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBSYWRpb0dyb3VwUHJpbWl0aXZlLlJvb3Q+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgUmFkaW9Hcm91cFByaW1pdGl2ZS5Sb290Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CiAgcmV0dXJuICgKICAgIDxSYWRpb0dyb3VwUHJpbWl0aXZlLlJvb3QKICAgICAgY2xhc3NOYW1lPXtjbigiZ3JpZCBnYXAtMiIsIGNsYXNzTmFtZSl9CiAgICAgIHsuLi5wcm9wc30KICAgICAgcmVmPXtyZWZ9CiAgICAvPgogICkKfSkKUmFkaW9Hcm91cC5kaXNwbGF5TmFtZSA9IFJhZGlvR3JvdXBQcmltaXRpdmUuUm9vdC5kaXNwbGF5TmFtZQoKY29uc3QgUmFkaW9Hcm91cEl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFJhZGlvR3JvdXBQcmltaXRpdmUuSXRlbT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBSYWRpb0dyb3VwUHJpbWl0aXZlLkl0ZW0+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICByZXR1cm4gKAogICAgPFJhZGlvR3JvdXBQcmltaXRpdmUuSXRlbQogICAgICByZWY9e3JlZn0KICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAiYXNwZWN0LXNxdWFyZSBoLTQgdy00IHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXByaW1hcnkgdGV4dC1wcmltYXJ5IHJpbmctb2Zmc2V0LWJhY2tncm91bmQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCIsCiAgICAgICAgY2xhc3NOYW1lCiAgICAgICl9CiAgICAgIHsuLi5wcm9wc30KICAgID4KICAgICAgPFJhZGlvR3JvdXBQcmltaXRpdmUuSW5kaWNhdG9yIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiPgogICAgICAgIDxDaXJjbGUgY2xhc3NOYW1lPSJoLTIuNSB3LTIuNSBmaWxsLWN1cnJlbnQgdGV4dC1jdXJyZW50IiAvPgogICAgICA8L1JhZGlvR3JvdXBQcmltaXRpdmUuSW5kaWNhdG9yPgogICAgPC9SYWRpb0dyb3VwUHJpbWl0aXZlLkl0ZW0+CiAgKQp9KQpSYWRpb0dyb3VwSXRlbS5kaXNwbGF5TmFtZSA9IFJhZGlvR3JvdXBQcmltaXRpdmUuSXRlbS5kaXNwbGF5TmFtZQoKZXhwb3J0IHsgUmFkaW9Hcm91cCwgUmFkaW9Hcm91cEl0ZW0gfQo=' | base64 -d > /root/localpulse/src/components/ui/radio-group.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CiJ1c2UgY2xpZW50IgoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCAqIGFzIERpYWxvZ1ByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3QtZGlhbG9nIgppbXBvcnQgeyBYIH0gZnJvbSAibHVjaWRlLXJlYWN0IgoKaW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmNvbnN0IERpYWxvZyA9IERpYWxvZ1ByaW1pdGl2ZS5Sb290Cgpjb25zdCBEaWFsb2dUcmlnZ2VyID0gRGlhbG9nUHJpbWl0aXZlLlRyaWdnZXIKCmNvbnN0IERpYWxvZ1BvcnRhbCA9IERpYWxvZ1ByaW1pdGl2ZS5Qb3J0YWwKCmNvbnN0IERpYWxvZ0Nsb3NlID0gRGlhbG9nUHJpbWl0aXZlLkNsb3NlCgpjb25zdCBEaWFsb2dPdmVybGF5ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuT3ZlcmxheT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuT3ZlcmxheT4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxEaWFsb2dQcmltaXRpdmUuT3ZlcmxheQogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiZml4ZWQgaW5zZXQtMCB6LTUwIGJnLWJsYWNrLzgwIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCkRpYWxvZ092ZXJsYXkuZGlzcGxheU5hbWUgPSBEaWFsb2dQcmltaXRpdmUuT3ZlcmxheS5kaXNwbGF5TmFtZQoKY29uc3QgRGlhbG9nQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLkNvbnRlbnQ+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLkNvbnRlbnQ+Cj4oKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPERpYWxvZ1BvcnRhbD4KICAgIDxEaWFsb2dPdmVybGF5IC8+CiAgICA8RGlhbG9nUHJpbWl0aXZlLkNvbnRlbnQKICAgICAgcmVmPXtyZWZ9CiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgImZpeGVkIGxlZnQtWzUwJV0gdG9wLVs1MCVdIHotNTAgZ3JpZCB3LWZ1bGwgbWF4LXctbGcgdHJhbnNsYXRlLXgtWy01MCVdIHRyYW5zbGF0ZS15LVstNTAlXSBnYXAtNCBib3JkZXIgYmctYmFja2dyb3VuZCBwLTYgc2hhZG93LWxnIGR1cmF0aW9uLTIwMCBkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWluIGRhdGEtW3N0YXRlPWNsb3NlZF06YW5pbWF0ZS1vdXQgZGF0YS1bc3RhdGU9Y2xvc2VkXTpmYWRlLW91dC0wIGRhdGEtW3N0YXRlPW9wZW5dOmZhZGUtaW4tMCBkYXRhLVtzdGF0ZT1jbG9zZWRdOnpvb20tb3V0LTk1IGRhdGEtW3N0YXRlPW9wZW5dOnpvb20taW4tOTUgZGF0YS1bc3RhdGU9Y2xvc2VkXTpzbGlkZS1vdXQtdG8tbGVmdC0xLzIgZGF0YS1bc3RhdGU9Y2xvc2VkXTpzbGlkZS1vdXQtdG8tdG9wLVs0OCVdIGRhdGEtW3N0YXRlPW9wZW5dOnNsaWRlLWluLWZyb20tbGVmdC0xLzIgZGF0YS1bc3RhdGU9b3Blbl06c2xpZGUtaW4tZnJvbS10b3AtWzQ4JV0gc206cm91bmRlZC1sZyIsCiAgICAgICAgY2xhc3NOYW1lCiAgICAgICl9CiAgICAgIHsuLi5wcm9wc30KICAgID4KICAgICAge2NoaWxkcmVufQogICAgICA8RGlhbG9nUHJpbWl0aXZlLkNsb3NlIGNsYXNzTmFtZT0iYWJzb2x1dGUgcmlnaHQtNCB0b3AtNCByb3VuZGVkLXNtIG9wYWNpdHktNzAgcmluZy1vZmZzZXQtYmFja2dyb3VuZCB0cmFuc2l0aW9uLW9wYWNpdHkgaG92ZXI6b3BhY2l0eS0xMDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXJpbmcgZm9jdXM6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRhdGEtW3N0YXRlPW9wZW5dOmJnLWFjY2VudCBkYXRhLVtzdGF0ZT1vcGVuXTp0ZXh0LW11dGVkLWZvcmVncm91bmQgei01MCI+CiAgICAgICAgPFggY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+Q2xvc2U8L3NwYW4+CiAgICAgIDwvRGlhbG9nUHJpbWl0aXZlLkNsb3NlPgogICAgPC9EaWFsb2dQcmltaXRpdmUuQ29udGVudD4KICA8L0RpYWxvZ1BvcnRhbD4KKSkKRGlhbG9nQ29udGVudC5kaXNwbGF5TmFtZSA9IERpYWxvZ1ByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lCgpjb25zdCBEaWFsb2dIZWFkZXIgPSAoewogIGNsYXNzTmFtZSwKICAuLi5wcm9wcwp9OiBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4pID0+ICgKICA8ZGl2CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiZmxleCBmbGV4LWNvbCBzcGFjZS15LTEuNSB0ZXh0LWNlbnRlciBzbTp0ZXh0LWxlZnQiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKQpEaWFsb2dIZWFkZXIuZGlzcGxheU5hbWUgPSAiRGlhbG9nSGVhZGVyIgoKY29uc3QgRGlhbG9nRm9vdGVyID0gKHsKICBjbGFzc05hbWUsCiAgLi4ucHJvcHMKfTogUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+KSA9PiAoCiAgPGRpdgogICAgY2xhc3NOYW1lPXtjbigKICAgICAgImZsZXggZmxleC1jb2wtcmV2ZXJzZSBzbTpmbGV4LXJvdyBzbTpqdXN0aWZ5LWVuZCBzbTpzcGFjZS14LTIiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKQpEaWFsb2dGb290ZXIuZGlzcGxheU5hbWUgPSAiRGlhbG9nRm9vdGVyIgoKY29uc3QgRGlhbG9nVGl0bGUgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5UaXRsZT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuVGl0bGU+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8RGlhbG9nUHJpbWl0aXZlLlRpdGxlCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbGVhZGluZy1ub25lIHRyYWNraW5nLXRpZ2h0IiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCkRpYWxvZ1RpdGxlLmRpc3BsYXlOYW1lID0gRGlhbG9nUHJpbWl0aXZlLlRpdGxlLmRpc3BsYXlOYW1lCgpjb25zdCBEaWFsb2dEZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLkRlc2NyaXB0aW9uPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5EZXNjcmlwdGlvbj4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxEaWFsb2dQcmltaXRpdmUuRGVzY3JpcHRpb24KICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpCkRpYWxvZ0Rlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gRGlhbG9nUHJpbWl0aXZlLkRlc2NyaXB0aW9uLmRpc3BsYXlOYW1lCgpleHBvcnQgewogIERpYWxvZywKICBEaWFsb2dQb3J0YWwsCiAgRGlhbG9nT3ZlcmxheSwKICBEaWFsb2dDbG9zZSwKICBEaWFsb2dUcmlnZ2VyLAogIERpYWxvZ0NvbnRlbnQsCiAgRGlhbG9nSGVhZGVyLAogIERpYWxvZ0Zvb3RlciwKICBEaWFsb2dUaXRsZSwKICBEaWFsb2dEZXNjcmlwdGlvbiwKfQo=' | base64 -d > /root/localpulse/src/components/ui/dialog.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgQWxlcnREaWFsb2dQcmltaXRpdmUgZnJvbSAiQHJhZGl4LXVpL3JlYWN0LWFsZXJ0LWRpYWxvZyIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCmltcG9ydCB7IGJ1dHRvblZhcmlhbnRzIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2J1dHRvbiIKCmNvbnN0IEFsZXJ0RGlhbG9nID0gQWxlcnREaWFsb2dQcmltaXRpdmUuUm9vdAoKY29uc3QgQWxlcnREaWFsb2dUcmlnZ2VyID0gQWxlcnREaWFsb2dQcmltaXRpdmUuVHJpZ2dlcgoKY29uc3QgQWxlcnREaWFsb2dQb3J0YWwgPSBBbGVydERpYWxvZ1ByaW1pdGl2ZS5Qb3J0YWwKCmNvbnN0IEFsZXJ0RGlhbG9nT3ZlcmxheSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQWxlcnREaWFsb2dQcmltaXRpdmUuT3ZlcmxheT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBBbGVydERpYWxvZ1ByaW1pdGl2ZS5PdmVybGF5Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPEFsZXJ0RGlhbG9nUHJpbWl0aXZlLk92ZXJsYXkKICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJmaXhlZCBpbnNldC0wIHotNTAgYmctYmxhY2svODAgIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogICAgcmVmPXtyZWZ9CiAgLz4KKSkKQWxlcnREaWFsb2dPdmVybGF5LmRpc3BsYXlOYW1lID0gQWxlcnREaWFsb2dQcmltaXRpdmUuT3ZlcmxheS5kaXNwbGF5TmFtZQoKY29uc3QgQWxlcnREaWFsb2dDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBBbGVydERpYWxvZ1ByaW1pdGl2ZS5Db250ZW50PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFsZXJ0RGlhbG9nUHJpbWl0aXZlLkNvbnRlbnQ+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8QWxlcnREaWFsb2dQb3J0YWw+CiAgICA8QWxlcnREaWFsb2dPdmVybGF5IC8+CiAgICA8QWxlcnREaWFsb2dQcmltaXRpdmUuQ29udGVudAogICAgICByZWY9e3JlZn0KICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAiZml4ZWQgbGVmdC1bNTAlXSB0b3AtWzUwJV0gei01MCBncmlkIHctZnVsbCBtYXgtdy1sZyB0cmFuc2xhdGUteC1bLTUwJV0gdHJhbnNsYXRlLXktWy01MCVdIGdhcC00IGJvcmRlciBiZy1iYWNrZ3JvdW5kIHAtNiBzaGFkb3ctbGcgZHVyYXRpb24tMjAwIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIGRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSBkYXRhLVtzdGF0ZT1jbG9zZWRdOnNsaWRlLW91dC10by1sZWZ0LTEvMiBkYXRhLVtzdGF0ZT1jbG9zZWRdOnNsaWRlLW91dC10by10b3AtWzQ4JV0gZGF0YS1bc3RhdGU9b3Blbl06c2xpZGUtaW4tZnJvbS1sZWZ0LTEvMiBkYXRhLVtzdGF0ZT1vcGVuXTpzbGlkZS1pbi1mcm9tLXRvcC1bNDglXSBzbTpyb3VuZGVkLWxnIiwKICAgICAgICBjbGFzc05hbWUKICAgICAgKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICA8L0FsZXJ0RGlhbG9nUG9ydGFsPgopKQpBbGVydERpYWxvZ0NvbnRlbnQuZGlzcGxheU5hbWUgPSBBbGVydERpYWxvZ1ByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lCgpjb25zdCBBbGVydERpYWxvZ0hlYWRlciA9ICh7CiAgY2xhc3NOYW1lLAogIC4uLnByb3BzCn06IFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PikgPT4gKAogIDxkaXYKICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJmbGV4IGZsZXgtY29sIHNwYWNlLXktMiB0ZXh0LWNlbnRlciBzbTp0ZXh0LWxlZnQiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKQpBbGVydERpYWxvZ0hlYWRlci5kaXNwbGF5TmFtZSA9ICJBbGVydERpYWxvZ0hlYWRlciIKCmNvbnN0IEFsZXJ0RGlhbG9nRm9vdGVyID0gKHsKICBjbGFzc05hbWUsCiAgLi4ucHJvcHMKfTogUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+KSA9PiAoCiAgPGRpdgogICAgY2xhc3NOYW1lPXtjbigKICAgICAgImZsZXggZmxleC1jb2wtcmV2ZXJzZSBzbTpmbGV4LXJvdyBzbTpqdXN0aWZ5LWVuZCBzbTpzcGFjZS14LTIiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKQpBbGVydERpYWxvZ0Zvb3Rlci5kaXNwbGF5TmFtZSA9ICJBbGVydERpYWxvZ0Zvb3RlciIKCmNvbnN0IEFsZXJ0RGlhbG9nVGl0bGUgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIEFsZXJ0RGlhbG9nUHJpbWl0aXZlLlRpdGxlPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFsZXJ0RGlhbG9nUHJpbWl0aXZlLlRpdGxlPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPEFsZXJ0RGlhbG9nUHJpbWl0aXZlLlRpdGxlCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oInRleHQtbGcgZm9udC1zZW1pYm9sZCIsIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKQWxlcnREaWFsb2dUaXRsZS5kaXNwbGF5TmFtZSA9IEFsZXJ0RGlhbG9nUHJpbWl0aXZlLlRpdGxlLmRpc3BsYXlOYW1lCgpjb25zdCBBbGVydERpYWxvZ0Rlc2NyaXB0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBBbGVydERpYWxvZ1ByaW1pdGl2ZS5EZXNjcmlwdGlvbj4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBBbGVydERpYWxvZ1ByaW1pdGl2ZS5EZXNjcmlwdGlvbj4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxBbGVydERpYWxvZ1ByaW1pdGl2ZS5EZXNjcmlwdGlvbgogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCIsIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKQWxlcnREaWFsb2dEZXNjcmlwdGlvbi5kaXNwbGF5TmFtZSA9CiAgQWxlcnREaWFsb2dQcmltaXRpdmUuRGVzY3JpcHRpb24uZGlzcGxheU5hbWUKCmNvbnN0IEFsZXJ0RGlhbG9nQWN0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBBbGVydERpYWxvZ1ByaW1pdGl2ZS5BY3Rpb24+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgQWxlcnREaWFsb2dQcmltaXRpdmUuQWN0aW9uPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPEFsZXJ0RGlhbG9nUHJpbWl0aXZlLkFjdGlvbgogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKGJ1dHRvblZhcmlhbnRzKCksIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKQWxlcnREaWFsb2dBY3Rpb24uZGlzcGxheU5hbWUgPSBBbGVydERpYWxvZ1ByaW1pdGl2ZS5BY3Rpb24uZGlzcGxheU5hbWUKCmNvbnN0IEFsZXJ0RGlhbG9nQ2FuY2VsID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBBbGVydERpYWxvZ1ByaW1pdGl2ZS5DYW5jZWw+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgQWxlcnREaWFsb2dQcmltaXRpdmUuQ2FuY2VsPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPEFsZXJ0RGlhbG9nUHJpbWl0aXZlLkNhbmNlbAogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICBidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6ICJvdXRsaW5lIiB9KSwKICAgICAgIm10LTIgc206bXQtMCIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpBbGVydERpYWxvZ0NhbmNlbC5kaXNwbGF5TmFtZSA9IEFsZXJ0RGlhbG9nUHJpbWl0aXZlLkNhbmNlbC5kaXNwbGF5TmFtZQoKZXhwb3J0IHsKICBBbGVydERpYWxvZywKICBBbGVydERpYWxvZ1BvcnRhbCwKICBBbGVydERpYWxvZ092ZXJsYXksCiAgQWxlcnREaWFsb2dUcmlnZ2VyLAogIEFsZXJ0RGlhbG9nQ29udGVudCwKICBBbGVydERpYWxvZ0hlYWRlciwKICBBbGVydERpYWxvZ0Zvb3RlciwKICBBbGVydERpYWxvZ1RpdGxlLAogIEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24sCiAgQWxlcnREaWFsb2dBY3Rpb24sCiAgQWxlcnREaWFsb2dDYW5jZWwsCn0K' | base64 -d > /root/localpulse/src/components/ui/alert-dialog.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgUmVjaGFydHNQcmltaXRpdmUgZnJvbSAicmVjaGFydHMiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKLy8gRm9ybWF0OiB7IFRIRU1FX05BTUU6IENTU19TRUxFQ1RPUiB9CmNvbnN0IFRIRU1FUyA9IHsgbGlnaHQ6ICIiLCBkYXJrOiAiLmRhcmsiIH0gYXMgY29uc3QKCmV4cG9ydCB0eXBlIENoYXJ0Q29uZmlnID0gewogIFtrIGluIHN0cmluZ106IHsKICAgIGxhYmVsPzogUmVhY3QuUmVhY3ROb2RlCiAgICBpY29uPzogUmVhY3QuQ29tcG9uZW50VHlwZQogIH0gJiAoCiAgICB8IHsgY29sb3I/OiBzdHJpbmc7IHRoZW1lPzogbmV2ZXIgfQogICAgfCB7IGNvbG9yPzogbmV2ZXI7IHRoZW1lOiBSZWNvcmQ8a2V5b2YgdHlwZW9mIFRIRU1FUywgc3RyaW5nPiB9CiAgKQp9Cgp0eXBlIENoYXJ0Q29udGV4dFByb3BzID0gewogIGNvbmZpZzogQ2hhcnRDb25maWcKfQoKY29uc3QgQ2hhcnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxDaGFydENvbnRleHRQcm9wcyB8IG51bGw+KG51bGwpCgpmdW5jdGlvbiB1c2VDaGFydCgpIHsKICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDaGFydENvbnRleHQpCgogIGlmICghY29udGV4dCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJ1c2VDaGFydCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgPENoYXJ0Q29udGFpbmVyIC8+IikKICB9CgogIHJldHVybiBjb250ZXh0Cn0KCmNvbnN0IENoYXJ0Q29udGFpbmVyID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiZGl2Ij4gJiB7CiAgICBjb25maWc6IENoYXJ0Q29uZmlnCiAgICBjaGlsZHJlbjogUmVhY3QuQ29tcG9uZW50UHJvcHM8CiAgICAgIHR5cGVvZiBSZWNoYXJ0c1ByaW1pdGl2ZS5SZXNwb25zaXZlQ29udGFpbmVyCiAgICA+WyJjaGlsZHJlbiJdCiAgfQo+KCh7IGlkLCBjbGFzc05hbWUsIGNoaWxkcmVuLCBjb25maWcsIC4uLnByb3BzIH0sIHJlZikgPT4gewogIGNvbnN0IHVuaXF1ZUlkID0gUmVhY3QudXNlSWQoKQogIGNvbnN0IGNoYXJ0SWQgPSBgY2hhcnQtJHtpZCB8fCB1bmlxdWVJZC5yZXBsYWNlKC86L2csICIiKX1gCgogIHJldHVybiAoCiAgICA8Q2hhcnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGNvbmZpZyB9fT4KICAgICAgPGRpdgogICAgICAgIGRhdGEtY2hhcnQ9e2NoYXJ0SWR9CiAgICAgICAgcmVmPXtyZWZ9CiAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICJmbGV4IGFzcGVjdC12aWRlbyBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzIFsmXy5yZWNoYXJ0cy1jYXJ0ZXNpYW4tYXhpcy10aWNrX3RleHRdOmZpbGwtbXV0ZWQtZm9yZWdyb3VuZCBbJl8ucmVjaGFydHMtY2FydGVzaWFuLWdyaWRfbGluZVtzdHJva2U9JyNjY2MnXV06c3Ryb2tlLWJvcmRlci81MCBbJl8ucmVjaGFydHMtY3VydmUucmVjaGFydHMtdG9vbHRpcC1jdXJzb3JdOnN0cm9rZS1ib3JkZXIgWyZfLnJlY2hhcnRzLWRvdFtzdHJva2U9JyNmZmYnXV06c3Ryb2tlLXRyYW5zcGFyZW50IFsmXy5yZWNoYXJ0cy1sYXllcl06b3V0bGluZS1ub25lIFsmXy5yZWNoYXJ0cy1wb2xhci1ncmlkX1tzdHJva2U9JyNjY2MnXV06c3Ryb2tlLWJvcmRlciBbJl8ucmVjaGFydHMtcmFkaWFsLWJhci1iYWNrZ3JvdW5kLXNlY3Rvcl06ZmlsbC1tdXRlZCBbJl8ucmVjaGFydHMtcmVjdGFuZ2xlLnJlY2hhcnRzLXRvb2x0aXAtY3Vyc29yXTpmaWxsLW11dGVkIFsmXy5yZWNoYXJ0cy1yZWZlcmVuY2UtbGluZV9bc3Ryb2tlPScjY2NjJ11dOnN0cm9rZS1ib3JkZXIgWyZfLnJlY2hhcnRzLXNlY3RvcltzdHJva2U9JyNmZmYnXV06c3Ryb2tlLXRyYW5zcGFyZW50IFsmXy5yZWNoYXJ0cy1zZWN0b3JdOm91dGxpbmUtbm9uZSBbJl8ucmVjaGFydHMtc3VyZmFjZV06b3V0bGluZS1ub25lIiwKICAgICAgICAgIGNsYXNzTmFtZQogICAgICAgICl9CiAgICAgICAgey4uLnByb3BzfQogICAgICA+CiAgICAgICAgPENoYXJ0U3R5bGUgaWQ9e2NoYXJ0SWR9IGNvbmZpZz17Y29uZmlnfSAvPgogICAgICAgIDxSZWNoYXJ0c1ByaW1pdGl2ZS5SZXNwb25zaXZlQ29udGFpbmVyPgogICAgICAgICAge2NoaWxkcmVufQogICAgICAgIDwvUmVjaGFydHNQcmltaXRpdmUuUmVzcG9uc2l2ZUNvbnRhaW5lcj4KICAgICAgPC9kaXY+CiAgICA8L0NoYXJ0Q29udGV4dC5Qcm92aWRlcj4KICApCn0pCkNoYXJ0Q29udGFpbmVyLmRpc3BsYXlOYW1lID0gIkNoYXJ0IgoKY29uc3QgQ2hhcnRTdHlsZSA9ICh7IGlkLCBjb25maWcgfTogeyBpZDogc3RyaW5nOyBjb25maWc6IENoYXJ0Q29uZmlnIH0pID0+IHsKICBjb25zdCBjb2xvckNvbmZpZyA9IE9iamVjdC5lbnRyaWVzKGNvbmZpZykuZmlsdGVyKAogICAgKFssIGNvbmZpZ10pID0+IGNvbmZpZy50aGVtZSB8fCBjb25maWcuY29sb3IKICApCgogIGlmICghY29sb3JDb25maWcubGVuZ3RoKSB7CiAgICByZXR1cm4gbnVsbAogIH0KCiAgcmV0dXJuICgKICAgIDxzdHlsZQogICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17ewogICAgICAgIF9faHRtbDogT2JqZWN0LmVudHJpZXMoVEhFTUVTKQogICAgICAgICAgLm1hcCgKICAgICAgICAgICAgKFt0aGVtZSwgcHJlZml4XSkgPT4gYAoke3ByZWZpeH0gW2RhdGEtY2hhcnQ9JHtpZH1dIHsKJHtjb2xvckNvbmZpZwogIC5tYXAoKFtrZXksIGl0ZW1Db25maWddKSA9PiB7CiAgICBjb25zdCBjb2xvciA9CiAgICAgIGl0ZW1Db25maWcudGhlbWU/Llt0aGVtZSBhcyBrZXlvZiB0eXBlb2YgaXRlbUNvbmZpZy50aGVtZV0gfHwKICAgICAgaXRlbUNvbmZpZy5jb2xvcgogICAgcmV0dXJuIGNvbG9yID8gYCAgLS1jb2xvci0ke2tleX06ICR7Y29sb3J9O2AgOiBudWxsCiAgfSkKICAuam9pbigiXG4iKX0KfQpgCiAgICAgICAgICApCiAgICAgICAgICAuam9pbigiXG4iKSwKICAgICAgfX0KICAgIC8+CiAgKQp9Cgpjb25zdCBDaGFydFRvb2x0aXAgPSBSZWNoYXJ0c1ByaW1pdGl2ZS5Ub29sdGlwCgpjb25zdCBDaGFydFRvb2x0aXBDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgUmVjaGFydHNQcmltaXRpdmUuVG9vbHRpcD4gJgogICAgUmVhY3QuQ29tcG9uZW50UHJvcHM8ImRpdiI+ICYgewogICAgICBoaWRlTGFiZWw/OiBib29sZWFuCiAgICAgIGhpZGVJbmRpY2F0b3I/OiBib29sZWFuCiAgICAgIGluZGljYXRvcj86ICJsaW5lIiB8ICJkb3QiIHwgImRhc2hlZCIKICAgICAgbmFtZUtleT86IHN0cmluZwogICAgICBsYWJlbEtleT86IHN0cmluZwogICAgfQo+KAogICgKICAgIHsKICAgICAgYWN0aXZlLAogICAgICBwYXlsb2FkLAogICAgICBjbGFzc05hbWUsCiAgICAgIGluZGljYXRvciA9ICJkb3QiLAogICAgICBoaWRlTGFiZWwgPSBmYWxzZSwKICAgICAgaGlkZUluZGljYXRvciA9IGZhbHNlLAogICAgICBsYWJlbCwKICAgICAgbGFiZWxGb3JtYXR0ZXIsCiAgICAgIGxhYmVsQ2xhc3NOYW1lLAogICAgICBmb3JtYXR0ZXIsCiAgICAgIGNvbG9yLAogICAgICBuYW1lS2V5LAogICAgICBsYWJlbEtleSwKICAgIH0sCiAgICByZWYKICApID0+IHsKICAgIGNvbnN0IHsgY29uZmlnIH0gPSB1c2VDaGFydCgpCgogICAgY29uc3QgdG9vbHRpcExhYmVsID0gUmVhY3QudXNlTWVtbygoKSA9PiB7CiAgICAgIGlmIChoaWRlTGFiZWwgfHwgIXBheWxvYWQ/Lmxlbmd0aCkgewogICAgICAgIHJldHVybiBudWxsCiAgICAgIH0KCiAgICAgIGNvbnN0IFtpdGVtXSA9IHBheWxvYWQKICAgICAgY29uc3Qga2V5ID0gYCR7bGFiZWxLZXkgfHwgaXRlbS5kYXRhS2V5IHx8IGl0ZW0ubmFtZSB8fCAidmFsdWUifWAKICAgICAgY29uc3QgaXRlbUNvbmZpZyA9IGdldFBheWxvYWRDb25maWdGcm9tUGF5bG9hZChjb25maWcsIGl0ZW0sIGtleSkKICAgICAgY29uc3QgdmFsdWUgPQogICAgICAgICFsYWJlbEtleSAmJiB0eXBlb2YgbGFiZWwgPT09ICJzdHJpbmciCiAgICAgICAgICA/IGNvbmZpZ1tsYWJlbCBhcyBrZXlvZiB0eXBlb2YgY29uZmlnXT8ubGFiZWwgfHwgbGFiZWwKICAgICAgICAgIDogaXRlbUNvbmZpZz8ubGFiZWwKCiAgICAgIGlmIChsYWJlbEZvcm1hdHRlcikgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y24oImZvbnQtbWVkaXVtIiwgbGFiZWxDbGFzc05hbWUpfT4KICAgICAgICAgICAge2xhYmVsRm9ybWF0dGVyKHZhbHVlLCBwYXlsb2FkKX0KICAgICAgICAgIDwvZGl2PgogICAgICAgICkKICAgICAgfQoKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIHJldHVybiBudWxsCiAgICAgIH0KCiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y24oImZvbnQtbWVkaXVtIiwgbGFiZWxDbGFzc05hbWUpfT57dmFsdWV9PC9kaXY+CiAgICB9LCBbCiAgICAgIGxhYmVsLAogICAgICBsYWJlbEZvcm1hdHRlciwKICAgICAgcGF5bG9hZCwKICAgICAgaGlkZUxhYmVsLAogICAgICBsYWJlbENsYXNzTmFtZSwKICAgICAgY29uZmlnLAogICAgICBsYWJlbEtleSwKICAgIF0pCgogICAgaWYgKCFhY3RpdmUgfHwgIXBheWxvYWQ/Lmxlbmd0aCkgewogICAgICByZXR1cm4gbnVsbAogICAgfQoKICAgIGNvbnN0IG5lc3RMYWJlbCA9IHBheWxvYWQubGVuZ3RoID09PSAxICYmIGluZGljYXRvciAhPT0gImRvdCIKCiAgICByZXR1cm4gKAogICAgICA8ZGl2CiAgICAgICAgcmVmPXtyZWZ9CiAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICJncmlkIG1pbi13LVs4cmVtXSBpdGVtcy1zdGFydCBnYXAtMS41IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIvNTAgYmctYmFja2dyb3VuZCBweC0yLjUgcHktMS41IHRleHQteHMgc2hhZG93LXhsIiwKICAgICAgICAgIGNsYXNzTmFtZQogICAgICAgICl9CiAgICAgID4KICAgICAgICB7IW5lc3RMYWJlbCA/IHRvb2x0aXBMYWJlbCA6IG51bGx9CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImdyaWQgZ2FwLTEuNSI+CiAgICAgICAgICB7cGF5bG9hZC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGtleSA9IGAke25hbWVLZXkgfHwgaXRlbS5uYW1lIHx8IGl0ZW0uZGF0YUtleSB8fCAidmFsdWUifWAKICAgICAgICAgICAgY29uc3QgaXRlbUNvbmZpZyA9IGdldFBheWxvYWRDb25maWdGcm9tUGF5bG9hZChjb25maWcsIGl0ZW0sIGtleSkKICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9yQ29sb3IgPSBjb2xvciB8fCBpdGVtLnBheWxvYWQuZmlsbCB8fCBpdGVtLmNvbG9yCgogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICAgIGtleT17aXRlbS5kYXRhS2V5fQogICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgICAgICAgImZsZXggdy1mdWxsIGZsZXgtd3JhcCBpdGVtcy1zdHJldGNoIGdhcC0yIFsmPnN2Z106aC0yLjUgWyY+c3ZnXTp3LTIuNSBbJj5zdmddOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCIsCiAgICAgICAgICAgICAgICAgIGluZGljYXRvciA9PT0gImRvdCIgJiYgIml0ZW1zLWNlbnRlciIKICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAge2Zvcm1hdHRlciAmJiBpdGVtPy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIGl0ZW0ubmFtZSA/ICgKICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyKGl0ZW0udmFsdWUsIGl0ZW0ubmFtZSwgaXRlbSwgaW5kZXgsIGl0ZW0ucGF5bG9hZCkKICAgICAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICAgIDw+CiAgICAgICAgICAgICAgICAgICAge2l0ZW1Db25maWc/Lmljb24gPyAoCiAgICAgICAgICAgICAgICAgICAgICA8aXRlbUNvbmZpZy5pY29uIC8+CiAgICAgICAgICAgICAgICAgICAgKSA6ICgKICAgICAgICAgICAgICAgICAgICAgICFoaWRlSW5kaWNhdG9yICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdgogICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hyaW5rLTAgcm91bmRlZC1bMnB4XSBib3JkZXItWy0tY29sb3ItYm9yZGVyXSBiZy1bLS1jb2xvci1iZ10iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaC0yLjUgdy0yLjUiOiBpbmRpY2F0b3IgPT09ICJkb3QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidy0xIjogaW5kaWNhdG9yID09PSAibGluZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3LTAgYm9yZGVyLVsxLjVweF0gYm9yZGVyLWRhc2hlZCBiZy10cmFuc3BhcmVudCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yID09PSAiZGFzaGVkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm15LTAuNSI6IG5lc3RMYWJlbCAmJiBpbmRpY2F0b3IgPT09ICJkYXNoZWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLS1jb2xvci1iZyI6IGluZGljYXRvckNvbG9yLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLS1jb2xvci1ib3JkZXIiOiBpbmRpY2F0b3JDb2xvciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAgICAgICAgICAgICAgICJmbGV4IGZsZXgtMSBqdXN0aWZ5LWJldHdlZW4gbGVhZGluZy1ub25lIiwKICAgICAgICAgICAgICAgICAgICAgICAgbmVzdExhYmVsID8gIml0ZW1zLWVuZCIgOiAiaXRlbXMtY2VudGVyIgogICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZ3JpZCBnYXAtMS41Ij4KICAgICAgICAgICAgICAgICAgICAgICAge25lc3RMYWJlbCA/IHRvb2x0aXBMYWJlbCA6IG51bGx9CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0idGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbUNvbmZpZz8ubGFiZWwgfHwgaXRlbS5uYW1lfQogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLnZhbHVlICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LW1vbm8gZm9udC1tZWRpdW0gdGFidWxhci1udW1zIHRleHQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0udmFsdWUudG9Mb2NhbGVTdHJpbmcoKX0KICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC8+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApCiAgICAgICAgICB9KX0KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICApCiAgfQopCkNoYXJ0VG9vbHRpcENvbnRlbnQuZGlzcGxheU5hbWUgPSAiQ2hhcnRUb29sdGlwIgoKY29uc3QgQ2hhcnRMZWdlbmQgPSBSZWNoYXJ0c1ByaW1pdGl2ZS5MZWdlbmQKCmNvbnN0IENoYXJ0TGVnZW5kQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTERpdkVsZW1lbnQsCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8ImRpdiI+ICYKICAgIFBpY2s8UmVjaGFydHNQcmltaXRpdmUuTGVnZW5kUHJvcHMsICJwYXlsb2FkIiB8ICJ2ZXJ0aWNhbEFsaWduIj4gJiB7CiAgICAgIGhpZGVJY29uPzogYm9vbGVhbgogICAgICBuYW1lS2V5Pzogc3RyaW5nCiAgICB9Cj4oCiAgKAogICAgeyBjbGFzc05hbWUsIGhpZGVJY29uID0gZmFsc2UsIHBheWxvYWQsIHZlcnRpY2FsQWxpZ24gPSAiYm90dG9tIiwgbmFtZUtleSB9LAogICAgcmVmCiAgKSA9PiB7CiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdXNlQ2hhcnQoKQoKICAgIGlmICghcGF5bG9hZD8ubGVuZ3RoKSB7CiAgICAgIHJldHVybiBudWxsCiAgICB9CgogICAgcmV0dXJuICgKICAgICAgPGRpdgogICAgICAgIHJlZj17cmVmfQogICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTQiLAogICAgICAgICAgdmVydGljYWxBbGlnbiA9PT0gInRvcCIgPyAicGItMyIgOiAicHQtMyIsCiAgICAgICAgICBjbGFzc05hbWUKICAgICAgICApfQogICAgICA+CiAgICAgICAge3BheWxvYWQubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICBjb25zdCBrZXkgPSBgJHtuYW1lS2V5IHx8IGl0ZW0uZGF0YUtleSB8fCAidmFsdWUifWAKICAgICAgICAgIGNvbnN0IGl0ZW1Db25maWcgPSBnZXRQYXlsb2FkQ29uZmlnRnJvbVBheWxvYWQoY29uZmlnLCBpdGVtLCBrZXkpCgogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgPGRpdgogICAgICAgICAgICAgIGtleT17aXRlbS52YWx1ZX0KICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICAgICAgICAgImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgWyY+c3ZnXTpoLTMgWyY+c3ZnXTp3LTMgWyY+c3ZnXTp0ZXh0LW11dGVkLWZvcmVncm91bmQiCiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPgogICAgICAgICAgICAgIHtpdGVtQ29uZmlnPy5pY29uICYmICFoaWRlSWNvbiA/ICgKICAgICAgICAgICAgICAgIDxpdGVtQ29uZmlnLmljb24gLz4KICAgICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgPGRpdgogICAgICAgICAgICAgICAgICBjbGFzc05hbWU9ImgtMiB3LTIgc2hyaW5rLTAgcm91bmRlZC1bMnB4XSIKICAgICAgICAgICAgICAgICAgc3R5bGU9e3sKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGl0ZW0uY29sb3IsCiAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAge2l0ZW1Db25maWc/LmxhYmVsfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICkKICAgICAgICB9KX0KICAgICAgPC9kaXY+CiAgICApCiAgfQopCkNoYXJ0TGVnZW5kQ29udGVudC5kaXNwbGF5TmFtZSA9ICJDaGFydExlZ2VuZCIKCi8vIEhlbHBlciB0byBleHRyYWN0IGl0ZW0gY29uZmlnIGZyb20gYSBwYXlsb2FkLgpmdW5jdGlvbiBnZXRQYXlsb2FkQ29uZmlnRnJvbVBheWxvYWQoCiAgY29uZmlnOiBDaGFydENvbmZpZywKICBwYXlsb2FkOiB1bmtub3duLAogIGtleTogc3RyaW5nCikgewogIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gIm9iamVjdCIgfHwgcGF5bG9hZCA9PT0gbnVsbCkgewogICAgcmV0dXJuIHVuZGVmaW5lZAogIH0KCiAgY29uc3QgcGF5bG9hZFBheWxvYWQgPQogICAgInBheWxvYWQiIGluIHBheWxvYWQgJiYKICAgIHR5cGVvZiBwYXlsb2FkLnBheWxvYWQgPT09ICJvYmplY3QiICYmCiAgICBwYXlsb2FkLnBheWxvYWQgIT09IG51bGwKICAgICAgPyBwYXlsb2FkLnBheWxvYWQKICAgICAgOiB1bmRlZmluZWQKCiAgbGV0IGNvbmZpZ0xhYmVsS2V5OiBzdHJpbmcgPSBrZXkKCiAgaWYgKAogICAga2V5IGluIHBheWxvYWQgJiYKICAgIHR5cGVvZiBwYXlsb2FkW2tleSBhcyBrZXlvZiB0eXBlb2YgcGF5bG9hZF0gPT09ICJzdHJpbmciCiAgKSB7CiAgICBjb25maWdMYWJlbEtleSA9IHBheWxvYWRba2V5IGFzIGtleW9mIHR5cGVvZiBwYXlsb2FkXSBhcyBzdHJpbmcKICB9IGVsc2UgaWYgKAogICAgcGF5bG9hZFBheWxvYWQgJiYKICAgIGtleSBpbiBwYXlsb2FkUGF5bG9hZCAmJgogICAgdHlwZW9mIHBheWxvYWRQYXlsb2FkW2tleSBhcyBrZXlvZiB0eXBlb2YgcGF5bG9hZFBheWxvYWRdID09PSAic3RyaW5nIgogICkgewogICAgY29uZmlnTGFiZWxLZXkgPSBwYXlsb2FkUGF5bG9hZFsKICAgICAga2V5IGFzIGtleW9mIHR5cGVvZiBwYXlsb2FkUGF5bG9hZAogICAgXSBhcyBzdHJpbmcKICB9CgogIHJldHVybiBjb25maWdMYWJlbEtleSBpbiBjb25maWcKICAgID8gY29uZmlnW2NvbmZpZ0xhYmVsS2V5XQogICAgOiBjb25maWdba2V5IGFzIGtleW9mIHR5cGVvZiBjb25maWddCn0KCmV4cG9ydCB7CiAgQ2hhcnRDb250YWluZXIsCiAgQ2hhcnRUb29sdGlwLAogIENoYXJ0VG9vbHRpcENvbnRlbnQsCiAgQ2hhcnRMZWdlbmQsCiAgQ2hhcnRMZWdlbmRDb250ZW50LAogIENoYXJ0U3R5bGUsCn0K' | base64 -d > /root/localpulse/src/components/ui/chart.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0IHsgU2xvdCB9IGZyb20gIkByYWRpeC11aS9yZWFjdC1zbG90IgppbXBvcnQgeyBWYXJpYW50UHJvcHMsIGN2YSB9IGZyb20gImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSIKaW1wb3J0IHsgUGFuZWxMZWZ0IH0gZnJvbSAibHVjaWRlLXJlYWN0IgoKaW1wb3J0IHsgdXNlSXNNb2JpbGUgfSBmcm9tICJAL2hvb2tzL3VzZS1tb2JpbGUiCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gIkAvY29tcG9uZW50cy91aS9idXR0b24iCmltcG9ydCB7IElucHV0IH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2lucHV0IgppbXBvcnQgeyBTZXBhcmF0b3IgfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvc2VwYXJhdG9yIgppbXBvcnQgeyBTaGVldCwgU2hlZXRDb250ZW50IH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL3NoZWV0IgppbXBvcnQgeyBTa2VsZXRvbiB9IGZyb20gIkAvY29tcG9uZW50cy91aS9za2VsZXRvbiIKaW1wb3J0IHsKICBUb29sdGlwLAogIFRvb2x0aXBDb250ZW50LAogIFRvb2x0aXBQcm92aWRlciwKICBUb29sdGlwVHJpZ2dlciwKfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvdG9vbHRpcCIKCmNvbnN0IFNJREVCQVJfQ09PS0lFX05BTUUgPSAic2lkZWJhcl9zdGF0ZSIKY29uc3QgU0lERUJBUl9DT09LSUVfTUFYX0FHRSA9IDYwICogNjAgKiAyNCAqIDcKY29uc3QgU0lERUJBUl9XSURUSCA9ICIxNnJlbSIKY29uc3QgU0lERUJBUl9XSURUSF9NT0JJTEUgPSAiMThyZW0iCmNvbnN0IFNJREVCQVJfV0lEVEhfSUNPTiA9ICIzcmVtIgpjb25zdCBTSURFQkFSX0tFWUJPQVJEX1NIT1JUQ1VUID0gImIiCgp0eXBlIFNpZGViYXJDb250ZXh0ID0gewogIHN0YXRlOiAiZXhwYW5kZWQiIHwgImNvbGxhcHNlZCIKICBvcGVuOiBib29sZWFuCiAgc2V0T3BlbjogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQKICBvcGVuTW9iaWxlOiBib29sZWFuCiAgc2V0T3Blbk1vYmlsZTogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQKICBpc01vYmlsZTogYm9vbGVhbgogIHRvZ2dsZVNpZGViYXI6ICgpID0+IHZvaWQKfQoKY29uc3QgU2lkZWJhckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFNpZGViYXJDb250ZXh0IHwgbnVsbD4obnVsbCkKCmZ1bmN0aW9uIHVzZVNpZGViYXIoKSB7CiAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoU2lkZWJhckNvbnRleHQpCiAgaWYgKCFjb250ZXh0KSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoInVzZVNpZGViYXIgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFNpZGViYXJQcm92aWRlci4iKQogIH0KCiAgcmV0dXJuIGNvbnRleHQKfQoKY29uc3QgU2lkZWJhclByb3ZpZGVyID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiZGl2Ij4gJiB7CiAgICBkZWZhdWx0T3Blbj86IGJvb2xlYW4KICAgIG9wZW4/OiBib29sZWFuCiAgICBvbk9wZW5DaGFuZ2U/OiAob3BlbjogYm9vbGVhbikgPT4gdm9pZAogIH0KPigKICAoCiAgICB7CiAgICAgIGRlZmF1bHRPcGVuID0gdHJ1ZSwKICAgICAgb3Blbjogb3BlblByb3AsCiAgICAgIG9uT3BlbkNoYW5nZTogc2V0T3BlblByb3AsCiAgICAgIGNsYXNzTmFtZSwKICAgICAgc3R5bGUsCiAgICAgIGNoaWxkcmVuLAogICAgICAuLi5wcm9wcwogICAgfSwKICAgIHJlZgogICkgPT4gewogICAgY29uc3QgaXNNb2JpbGUgPSB1c2VJc01vYmlsZSgpCiAgICBjb25zdCBbb3Blbk1vYmlsZSwgc2V0T3Blbk1vYmlsZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSkKCiAgICAvLyBUaGlzIGlzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgc2lkZWJhci4KICAgIC8vIFdlIHVzZSBvcGVuUHJvcCBhbmQgc2V0T3BlblByb3AgZm9yIGNvbnRyb2wgZnJvbSBvdXRzaWRlIHRoZSBjb21wb25lbnQuCiAgICBjb25zdCBbX29wZW4sIF9zZXRPcGVuXSA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRPcGVuKQogICAgY29uc3Qgb3BlbiA9IG9wZW5Qcm9wID8/IF9vcGVuCiAgICBjb25zdCBzZXRPcGVuID0gUmVhY3QudXNlQ2FsbGJhY2soCiAgICAgICh2YWx1ZTogYm9vbGVhbiB8ICgodmFsdWU6IGJvb2xlYW4pID0+IGJvb2xlYW4pKSA9PiB7CiAgICAgICAgY29uc3Qgb3BlblN0YXRlID0gdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdmFsdWUob3BlbikgOiB2YWx1ZQogICAgICAgIGlmIChzZXRPcGVuUHJvcCkgewogICAgICAgICAgc2V0T3BlblByb3Aob3BlblN0YXRlKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfc2V0T3BlbihvcGVuU3RhdGUpCiAgICAgICAgfQoKICAgICAgICAvLyBUaGlzIHNldHMgdGhlIGNvb2tpZSB0byBrZWVwIHRoZSBzaWRlYmFyIHN0YXRlLgogICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke1NJREVCQVJfQ09PS0lFX05BTUV9PSR7b3BlblN0YXRlfTsgcGF0aD0vOyBtYXgtYWdlPSR7U0lERUJBUl9DT09LSUVfTUFYX0FHRX1gCiAgICAgIH0sCiAgICAgIFtzZXRPcGVuUHJvcCwgb3Blbl0KICAgICkKCiAgICAvLyBIZWxwZXIgdG8gdG9nZ2xlIHRoZSBzaWRlYmFyLgogICAgY29uc3QgdG9nZ2xlU2lkZWJhciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHsKICAgICAgcmV0dXJuIGlzTW9iaWxlCiAgICAgICAgPyBzZXRPcGVuTW9iaWxlKChvcGVuKSA9PiAhb3BlbikKICAgICAgICA6IHNldE9wZW4oKG9wZW4pID0+ICFvcGVuKQogICAgfSwgW2lzTW9iaWxlLCBzZXRPcGVuLCBzZXRPcGVuTW9iaWxlXSkKCiAgICAvLyBBZGRzIGEga2V5Ym9hcmQgc2hvcnRjdXQgdG8gdG9nZ2xlIHRoZSBzaWRlYmFyLgogICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsKICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gewogICAgICAgIGlmICgKICAgICAgICAgIGV2ZW50LmtleSA9PT0gU0lERUJBUl9LRVlCT0FSRF9TSE9SVENVVCAmJgogICAgICAgICAgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSkKICAgICAgICApIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgIHRvZ2dsZVNpZGViYXIoKQogICAgICAgIH0KICAgICAgfQoKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBoYW5kbGVLZXlEb3duKQogICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBoYW5kbGVLZXlEb3duKQogICAgfSwgW3RvZ2dsZVNpZGViYXJdKQoKICAgIC8vIFdlIGFkZCBhIHN0YXRlIHNvIHRoYXQgd2UgY2FuIGRvIGRhdGEtc3RhdGU9ImV4cGFuZGVkIiBvciAiY29sbGFwc2VkIi4KICAgIC8vIFRoaXMgbWFrZXMgaXQgZWFzaWVyIHRvIHN0eWxlIHRoZSBzaWRlYmFyIHdpdGggVGFpbHdpbmQgY2xhc3Nlcy4KICAgIGNvbnN0IHN0YXRlID0gb3BlbiA/ICJleHBhbmRlZCIgOiAiY29sbGFwc2VkIgoKICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IFJlYWN0LnVzZU1lbW88U2lkZWJhckNvbnRleHQ+KAogICAgICAoKSA9PiAoewogICAgICAgIHN0YXRlLAogICAgICAgIG9wZW4sCiAgICAgICAgc2V0T3BlbiwKICAgICAgICBpc01vYmlsZSwKICAgICAgICBvcGVuTW9iaWxlLAogICAgICAgIHNldE9wZW5Nb2JpbGUsCiAgICAgICAgdG9nZ2xlU2lkZWJhciwKICAgICAgfSksCiAgICAgIFtzdGF0ZSwgb3Blbiwgc2V0T3BlbiwgaXNNb2JpbGUsIG9wZW5Nb2JpbGUsIHNldE9wZW5Nb2JpbGUsIHRvZ2dsZVNpZGViYXJdCiAgICApCgogICAgcmV0dXJuICgKICAgICAgPFNpZGViYXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWV9PgogICAgICAgIDxUb29sdGlwUHJvdmlkZXIgZGVsYXlEdXJhdGlvbj17MH0+CiAgICAgICAgICA8ZGl2CiAgICAgICAgICAgIHN0eWxlPXsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiLS1zaWRlYmFyLXdpZHRoIjogU0lERUJBUl9XSURUSCwKICAgICAgICAgICAgICAgICItLXNpZGViYXItd2lkdGgtaWNvbiI6IFNJREVCQVJfV0lEVEhfSUNPTiwKICAgICAgICAgICAgICAgIC4uLnN0eWxlLAogICAgICAgICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAgICAgImdyb3VwL3NpZGViYXItd3JhcHBlciBmbGV4IG1pbi1oLXN2aCB3LWZ1bGwgaGFzLVtbZGF0YS12YXJpYW50PWluc2V0XV06Ymctc2lkZWJhciIsCiAgICAgICAgICAgICAgY2xhc3NOYW1lCiAgICAgICAgICAgICl9CiAgICAgICAgICAgIHJlZj17cmVmfQogICAgICAgICAgICB7Li4ucHJvcHN9CiAgICAgICAgICA+CiAgICAgICAgICAgIHtjaGlsZHJlbn0KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvVG9vbHRpcFByb3ZpZGVyPgogICAgICA8L1NpZGViYXJDb250ZXh0LlByb3ZpZGVyPgogICAgKQogIH0KKQpTaWRlYmFyUHJvdmlkZXIuZGlzcGxheU5hbWUgPSAiU2lkZWJhclByb3ZpZGVyIgoKY29uc3QgU2lkZWJhciA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTERpdkVsZW1lbnQsCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8ImRpdiI+ICYgewogICAgc2lkZT86ICJsZWZ0IiB8ICJyaWdodCIKICAgIHZhcmlhbnQ/OiAic2lkZWJhciIgfCAiZmxvYXRpbmciIHwgImluc2V0IgogICAgY29sbGFwc2libGU/OiAib2ZmY2FudmFzIiB8ICJpY29uIiB8ICJub25lIgogIH0KPigKICAoCiAgICB7CiAgICAgIHNpZGUgPSAibGVmdCIsCiAgICAgIHZhcmlhbnQgPSAic2lkZWJhciIsCiAgICAgIGNvbGxhcHNpYmxlID0gIm9mZmNhbnZhcyIsCiAgICAgIGNsYXNzTmFtZSwKICAgICAgY2hpbGRyZW4sCiAgICAgIC4uLnByb3BzCiAgICB9LAogICAgcmVmCiAgKSA9PiB7CiAgICBjb25zdCB7IGlzTW9iaWxlLCBzdGF0ZSwgb3Blbk1vYmlsZSwgc2V0T3Blbk1vYmlsZSB9ID0gdXNlU2lkZWJhcigpCgogICAgaWYgKGNvbGxhcHNpYmxlID09PSAibm9uZSIpIHsKICAgICAgcmV0dXJuICgKICAgICAgICA8ZGl2CiAgICAgICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICAgICAiZmxleCBoLWZ1bGwgdy1bLS1zaWRlYmFyLXdpZHRoXSBmbGV4LWNvbCBiZy1zaWRlYmFyIHRleHQtc2lkZWJhci1mb3JlZ3JvdW5kIiwKICAgICAgICAgICAgY2xhc3NOYW1lCiAgICAgICAgICApfQogICAgICAgICAgcmVmPXtyZWZ9CiAgICAgICAgICB7Li4ucHJvcHN9CiAgICAgICAgPgogICAgICAgICAge2NoaWxkcmVufQogICAgICAgIDwvZGl2PgogICAgICApCiAgICB9CgogICAgaWYgKGlzTW9iaWxlKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgPFNoZWV0IG9wZW49e29wZW5Nb2JpbGV9IG9uT3BlbkNoYW5nZT17c2V0T3Blbk1vYmlsZX0gey4uLnByb3BzfT4KICAgICAgICAgIDxTaGVldENvbnRlbnQKICAgICAgICAgICAgZGF0YS1zaWRlYmFyPSJzaWRlYmFyIgogICAgICAgICAgICBkYXRhLW1vYmlsZT0idHJ1ZSIKICAgICAgICAgICAgY2xhc3NOYW1lPSJ3LVstLXNpZGViYXItd2lkdGhdIGJnLXNpZGViYXIgcC0wIHRleHQtc2lkZWJhci1mb3JlZ3JvdW5kIFsmPmJ1dHRvbl06aGlkZGVuIgogICAgICAgICAgICBzdHlsZT17CiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIi0tc2lkZWJhci13aWR0aCI6IFNJREVCQVJfV0lEVEhfTU9CSUxFLAogICAgICAgICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNpZGU9e3NpZGV9CiAgICAgICAgICA+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGgtZnVsbCB3LWZ1bGwgZmxleC1jb2wiPntjaGlsZHJlbn08L2Rpdj4KICAgICAgICAgIDwvU2hlZXRDb250ZW50PgogICAgICAgIDwvU2hlZXQ+CiAgICAgICkKICAgIH0KCiAgICByZXR1cm4gKAogICAgICA8ZGl2CiAgICAgICAgcmVmPXtyZWZ9CiAgICAgICAgY2xhc3NOYW1lPSJncm91cCBwZWVyIGhpZGRlbiBtZDpibG9jayB0ZXh0LXNpZGViYXItZm9yZWdyb3VuZCIKICAgICAgICBkYXRhLXN0YXRlPXtzdGF0ZX0KICAgICAgICBkYXRhLWNvbGxhcHNpYmxlPXtzdGF0ZSA9PT0gImNvbGxhcHNlZCIgPyBjb2xsYXBzaWJsZSA6ICIifQogICAgICAgIGRhdGEtdmFyaWFudD17dmFyaWFudH0KICAgICAgICBkYXRhLXNpZGU9e3NpZGV9CiAgICAgID4KICAgICAgICB7LyogVGhpcyBpcyB3aGF0IGhhbmRsZXMgdGhlIHNpZGViYXIgZ2FwIG9uIGRlc2t0b3AgKi99CiAgICAgICAgPGRpdgogICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgImR1cmF0aW9uLTIwMCByZWxhdGl2ZSBoLXN2aCB3LVstLXNpZGViYXItd2lkdGhdIGJnLXRyYW5zcGFyZW50IHRyYW5zaXRpb24tW3dpZHRoXSBlYXNlLWxpbmVhciIsCiAgICAgICAgICAgICJncm91cC1kYXRhLVtjb2xsYXBzaWJsZT1vZmZjYW52YXNdOnctMCIsCiAgICAgICAgICAgICJncm91cC1kYXRhLVtzaWRlPXJpZ2h0XTpyb3RhdGUtMTgwIiwKICAgICAgICAgICAgdmFyaWFudCA9PT0gImZsb2F0aW5nIiB8fCB2YXJpYW50ID09PSAiaW5zZXQiCiAgICAgICAgICAgICAgPyAiZ3JvdXAtZGF0YS1bY29sbGFwc2libGU9aWNvbl06dy1bY2FsYyh2YXIoLS1zaWRlYmFyLXdpZHRoLWljb24pXytfdGhlbWUoc3BhY2luZy40KSldIgogICAgICAgICAgICAgIDogImdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPWljb25dOnctWy0tc2lkZWJhci13aWR0aC1pY29uXSIKICAgICAgICAgICl9CiAgICAgICAgLz4KICAgICAgICA8ZGl2CiAgICAgICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICAgICAiZHVyYXRpb24tMjAwIGZpeGVkIGluc2V0LXktMCB6LTEwIGhpZGRlbiBoLXN2aCB3LVstLXNpZGViYXItd2lkdGhdIHRyYW5zaXRpb24tW2xlZnQscmlnaHQsd2lkdGhdIGVhc2UtbGluZWFyIG1kOmZsZXgiLAogICAgICAgICAgICBzaWRlID09PSAibGVmdCIKICAgICAgICAgICAgICA/ICJsZWZ0LTAgZ3JvdXAtZGF0YS1bY29sbGFwc2libGU9b2ZmY2FudmFzXTpsZWZ0LVtjYWxjKHZhcigtLXNpZGViYXItd2lkdGgpKi0xKV0iCiAgICAgICAgICAgICAgOiAicmlnaHQtMCBncm91cC1kYXRhLVtjb2xsYXBzaWJsZT1vZmZjYW52YXNdOnJpZ2h0LVtjYWxjKHZhcigtLXNpZGViYXItd2lkdGgpKi0xKV0iLAogICAgICAgICAgICAvLyBBZGp1c3QgdGhlIHBhZGRpbmcgZm9yIGZsb2F0aW5nIGFuZCBpbnNldCB2YXJpYW50cy4KICAgICAgICAgICAgdmFyaWFudCA9PT0gImZsb2F0aW5nIiB8fCB2YXJpYW50ID09PSAiaW5zZXQiCiAgICAgICAgICAgICAgPyAicC0yIGdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPWljb25dOnctW2NhbGModmFyKC0tc2lkZWJhci13aWR0aC1pY29uKV8rX3RoZW1lKHNwYWNpbmcuNClfKzJweCldIgogICAgICAgICAgICAgIDogImdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPWljb25dOnctWy0tc2lkZWJhci13aWR0aC1pY29uXSBncm91cC1kYXRhLVtzaWRlPWxlZnRdOmJvcmRlci1yIGdyb3VwLWRhdGEtW3NpZGU9cmlnaHRdOmJvcmRlci1sIiwKICAgICAgICAgICAgY2xhc3NOYW1lCiAgICAgICAgICApfQogICAgICAgICAgey4uLnByb3BzfQogICAgICAgID4KICAgICAgICAgIDxkaXYKICAgICAgICAgICAgZGF0YS1zaWRlYmFyPSJzaWRlYmFyIgogICAgICAgICAgICBjbGFzc05hbWU9ImZsZXggaC1mdWxsIHctZnVsbCBmbGV4LWNvbCBiZy1zaWRlYmFyIGdyb3VwLWRhdGEtW3ZhcmlhbnQ9ZmxvYXRpbmddOnJvdW5kZWQtbGcgZ3JvdXAtZGF0YS1bdmFyaWFudD1mbG9hdGluZ106Ym9yZGVyIGdyb3VwLWRhdGEtW3ZhcmlhbnQ9ZmxvYXRpbmddOmJvcmRlci1zaWRlYmFyLWJvcmRlciBncm91cC1kYXRhLVt2YXJpYW50PWZsb2F0aW5nXTpzaGFkb3ciCiAgICAgICAgICA+CiAgICAgICAgICAgIHtjaGlsZHJlbn0KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICkKICB9CikKU2lkZWJhci5kaXNwbGF5TmFtZSA9ICJTaWRlYmFyIgoKY29uc3QgU2lkZWJhclRyaWdnZXIgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIEJ1dHRvbj4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIEJ1dHRvbj4KPigoeyBjbGFzc05hbWUsIG9uQ2xpY2ssIC4uLnByb3BzIH0sIHJlZikgPT4gewogIGNvbnN0IHsgdG9nZ2xlU2lkZWJhciB9ID0gdXNlU2lkZWJhcigpCgogIHJldHVybiAoCiAgICA8QnV0dG9uCiAgICAgIHJlZj17cmVmfQogICAgICBkYXRhLXNpZGViYXI9InRyaWdnZXIiCiAgICAgIHZhcmlhbnQ9Imdob3N0IgogICAgICBzaXplPSJpY29uIgogICAgICBjbGFzc05hbWU9e2NuKCJoLTcgdy03IiwgY2xhc3NOYW1lKX0KICAgICAgb25DbGljaz17KGV2ZW50KSA9PiB7CiAgICAgICAgb25DbGljaz8uKGV2ZW50KQogICAgICAgIHRvZ2dsZVNpZGViYXIoKQogICAgICB9fQogICAgICB7Li4ucHJvcHN9CiAgICA+CiAgICAgIDxQYW5lbExlZnQgLz4KICAgICAgPHNwYW4gY2xhc3NOYW1lPSJzci1vbmx5Ij5Ub2dnbGUgU2lkZWJhcjwvc3Bhbj4KICAgIDwvQnV0dG9uPgogICkKfSkKU2lkZWJhclRyaWdnZXIuZGlzcGxheU5hbWUgPSAiU2lkZWJhclRyaWdnZXIiCgpjb25zdCBTaWRlYmFyUmFpbCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTEJ1dHRvbkVsZW1lbnQsCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8ImJ1dHRvbiI+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICBjb25zdCB7IHRvZ2dsZVNpZGViYXIgfSA9IHVzZVNpZGViYXIoKQoKICByZXR1cm4gKAogICAgPGJ1dHRvbgogICAgICByZWY9e3JlZn0KICAgICAgZGF0YS1zaWRlYmFyPSJyYWlsIgogICAgICBhcmlhLWxhYmVsPSJUb2dnbGUgU2lkZWJhciIKICAgICAgdGFiSW5kZXg9ey0xfQogICAgICBvbkNsaWNrPXt0b2dnbGVTaWRlYmFyfQogICAgICB0aXRsZT0iVG9nZ2xlIFNpZGViYXIiCiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgImFic29sdXRlIGluc2V0LXktMCB6LTIwIGhpZGRlbiB3LTQgLXRyYW5zbGF0ZS14LTEvMiB0cmFuc2l0aW9uLWFsbCBlYXNlLWxpbmVhciBhZnRlcjphYnNvbHV0ZSBhZnRlcjppbnNldC15LTAgYWZ0ZXI6bGVmdC0xLzIgYWZ0ZXI6dy1bMnB4XSBob3ZlcjphZnRlcjpiZy1zaWRlYmFyLWJvcmRlciBncm91cC1kYXRhLVtzaWRlPWxlZnRdOi1yaWdodC00IGdyb3VwLWRhdGEtW3NpZGU9cmlnaHRdOmxlZnQtMCBzbTpmbGV4IiwKICAgICAgICAiW1tkYXRhLXNpZGU9bGVmdF1fJl06Y3Vyc29yLXctcmVzaXplIFtbZGF0YS1zaWRlPXJpZ2h0XV8mXTpjdXJzb3ItZS1yZXNpemUiLAogICAgICAgICJbW2RhdGEtc2lkZT1sZWZ0XVtkYXRhLXN0YXRlPWNvbGxhcHNlZF1fJl06Y3Vyc29yLWUtcmVzaXplIFtbZGF0YS1zaWRlPXJpZ2h0XVtkYXRhLXN0YXRlPWNvbGxhcHNlZF1fJl06Y3Vyc29yLXctcmVzaXplIiwKICAgICAgICAiZ3JvdXAtZGF0YS1bY29sbGFwc2libGU9b2ZmY2FudmFzXTp0cmFuc2xhdGUteC0wIGdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPW9mZmNhbnZhc106YWZ0ZXI6bGVmdC1mdWxsIGdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPW9mZmNhbnZhc106aG92ZXI6Ymctc2lkZWJhciIsCiAgICAgICAgIltbZGF0YS1zaWRlPWxlZnRdW2RhdGEtY29sbGFwc2libGU9b2ZmY2FudmFzXV8mXTotcmlnaHQtMiIsCiAgICAgICAgIltbZGF0YS1zaWRlPXJpZ2h0XVtkYXRhLWNvbGxhcHNpYmxlPW9mZmNhbnZhc11fJl06LWxlZnQtMiIsCiAgICAgICAgY2xhc3NOYW1lCiAgICAgICl9CiAgICAgIHsuLi5wcm9wc30KICAgIC8+CiAgKQp9KQpTaWRlYmFyUmFpbC5kaXNwbGF5TmFtZSA9ICJTaWRlYmFyUmFpbCIKCmNvbnN0IFNpZGViYXJJbnNldCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTERpdkVsZW1lbnQsCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8Im1haW4iPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CiAgcmV0dXJuICgKICAgIDxtYWluCiAgICAgIHJlZj17cmVmfQogICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICJyZWxhdGl2ZSBmbGV4IG1pbi1oLXN2aCBmbGV4LTEgZmxleC1jb2wgYmctYmFja2dyb3VuZCIsCiAgICAgICAgInBlZXItZGF0YS1bdmFyaWFudD1pbnNldF06bWluLWgtW2NhbGMoMTAwc3ZoLXRoZW1lKHNwYWNpbmcuNCkpXSBtZDpwZWVyLWRhdGEtW3ZhcmlhbnQ9aW5zZXRdOm0tMiBtZDpwZWVyLWRhdGEtW3N0YXRlPWNvbGxhcHNlZF06cGVlci1kYXRhLVt2YXJpYW50PWluc2V0XTptbC0yIG1kOnBlZXItZGF0YS1bdmFyaWFudD1pbnNldF06bWwtMCBtZDpwZWVyLWRhdGEtW3ZhcmlhbnQ9aW5zZXRdOnJvdW5kZWQteGwgbWQ6cGVlci1kYXRhLVt2YXJpYW50PWluc2V0XTpzaGFkb3ciLAogICAgICAgIGNsYXNzTmFtZQogICAgICApfQogICAgICB7Li4ucHJvcHN9CiAgICAvPgogICkKfSkKU2lkZWJhckluc2V0LmRpc3BsYXlOYW1lID0gIlNpZGViYXJJbnNldCIKCmNvbnN0IFNpZGViYXJJbnB1dCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgSW5wdXQ+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBJbnB1dD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gewogIHJldHVybiAoCiAgICA8SW5wdXQKICAgICAgcmVmPXtyZWZ9CiAgICAgIGRhdGEtc2lkZWJhcj0iaW5wdXQiCiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgImgtOCB3LWZ1bGwgYmctYmFja2dyb3VuZCBzaGFkb3ctbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctc2lkZWJhci1yaW5nIiwKICAgICAgICBjbGFzc05hbWUKICAgICAgKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICApCn0pClNpZGViYXJJbnB1dC5kaXNwbGF5TmFtZSA9ICJTaWRlYmFySW5wdXQiCgpjb25zdCBTaWRlYmFySGVhZGVyID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiZGl2Ij4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gewogIHJldHVybiAoCiAgICA8ZGl2CiAgICAgIHJlZj17cmVmfQogICAgICBkYXRhLXNpZGViYXI9ImhlYWRlciIKICAgICAgY2xhc3NOYW1lPXtjbigiZmxleCBmbGV4LWNvbCBnYXAtMiBwLTIiLCBjbGFzc05hbWUpfQogICAgICB7Li4ucHJvcHN9CiAgICAvPgogICkKfSkKU2lkZWJhckhlYWRlci5kaXNwbGF5TmFtZSA9ICJTaWRlYmFySGVhZGVyIgoKY29uc3QgU2lkZWJhckZvb3RlciA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTERpdkVsZW1lbnQsCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8ImRpdiI+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICByZXR1cm4gKAogICAgPGRpdgogICAgICByZWY9e3JlZn0KICAgICAgZGF0YS1zaWRlYmFyPSJmb290ZXIiCiAgICAgIGNsYXNzTmFtZT17Y24oImZsZXggZmxleC1jb2wgZ2FwLTIgcC0yIiwgY2xhc3NOYW1lKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICApCn0pClNpZGViYXJGb290ZXIuZGlzcGxheU5hbWUgPSAiU2lkZWJhckZvb3RlciIKCmNvbnN0IFNpZGViYXJTZXBhcmF0b3IgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNlcGFyYXRvcj4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIFNlcGFyYXRvcj4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gewogIHJldHVybiAoCiAgICA8U2VwYXJhdG9yCiAgICAgIHJlZj17cmVmfQogICAgICBkYXRhLXNpZGViYXI9InNlcGFyYXRvciIKICAgICAgY2xhc3NOYW1lPXtjbigibXgtMiB3LWF1dG8gYmctc2lkZWJhci1ib3JkZXIiLCBjbGFzc05hbWUpfQogICAgICB7Li4ucHJvcHN9CiAgICAvPgogICkKfSkKU2lkZWJhclNlcGFyYXRvci5kaXNwbGF5TmFtZSA9ICJTaWRlYmFyU2VwYXJhdG9yIgoKY29uc3QgU2lkZWJhckNvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxEaXZFbGVtZW50LAogIFJlYWN0LkNvbXBvbmVudFByb3BzPCJkaXYiPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CiAgcmV0dXJuICgKICAgIDxkaXYKICAgICAgcmVmPXtyZWZ9CiAgICAgIGRhdGEtc2lkZWJhcj0iY29udGVudCIKICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAiZmxleCBtaW4taC0wIGZsZXgtMSBmbGV4LWNvbCBnYXAtMiBvdmVyZmxvdy1hdXRvIGdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPWljb25dOm92ZXJmbG93LWhpZGRlbiIsCiAgICAgICAgY2xhc3NOYW1lCiAgICAgICl9CiAgICAgIHsuLi5wcm9wc30KICAgIC8+CiAgKQp9KQpTaWRlYmFyQ29udGVudC5kaXNwbGF5TmFtZSA9ICJTaWRlYmFyQ29udGVudCIKCmNvbnN0IFNpZGViYXJHcm91cCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTERpdkVsZW1lbnQsCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8ImRpdiI+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICByZXR1cm4gKAogICAgPGRpdgogICAgICByZWY9e3JlZn0KICAgICAgZGF0YS1zaWRlYmFyPSJncm91cCIKICAgICAgY2xhc3NOYW1lPXtjbigicmVsYXRpdmUgZmxleCB3LWZ1bGwgbWluLXctMCBmbGV4LWNvbCBwLTIiLCBjbGFzc05hbWUpfQogICAgICB7Li4ucHJvcHN9CiAgICAvPgogICkKfSkKU2lkZWJhckdyb3VwLmRpc3BsYXlOYW1lID0gIlNpZGViYXJHcm91cCIKCmNvbnN0IFNpZGViYXJHcm91cExhYmVsID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiZGl2Ij4gJiB7IGFzQ2hpbGQ/OiBib29sZWFuIH0KPigoeyBjbGFzc05hbWUsIGFzQ2hpbGQgPSBmYWxzZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CiAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90IDogImRpdiIKCiAgcmV0dXJuICgKICAgIDxDb21wCiAgICAgIHJlZj17cmVmfQogICAgICBkYXRhLXNpZGViYXI9Imdyb3VwLWxhYmVsIgogICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICJkdXJhdGlvbi0yMDAgZmxleCBoLTggc2hyaW5rLTAgaXRlbXMtY2VudGVyIHJvdW5kZWQtbWQgcHgtMiB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2lkZWJhci1mb3JlZ3JvdW5kLzcwIG91dGxpbmUtbm9uZSByaW5nLXNpZGViYXItcmluZyB0cmFuc2l0aW9uLVttYXJnaW4sb3BhXSBlYXNlLWxpbmVhciBmb2N1cy12aXNpYmxlOnJpbmctMiBbJj5zdmddOnNpemUtNCBbJj5zdmddOnNocmluay0wIiwKICAgICAgICAiZ3JvdXAtZGF0YS1bY29sbGFwc2libGU9aWNvbl06LW10LTggZ3JvdXAtZGF0YS1bY29sbGFwc2libGU9aWNvbl06b3BhY2l0eS0wIiwKICAgICAgICBjbGFzc05hbWUKICAgICAgKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICApCn0pClNpZGViYXJHcm91cExhYmVsLmRpc3BsYXlOYW1lID0gIlNpZGViYXJHcm91cExhYmVsIgoKY29uc3QgU2lkZWJhckdyb3VwQWN0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MQnV0dG9uRWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiYnV0dG9uIj4gJiB7IGFzQ2hpbGQ/OiBib29sZWFuIH0KPigoeyBjbGFzc05hbWUsIGFzQ2hpbGQgPSBmYWxzZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CiAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90IDogImJ1dHRvbiIKCiAgcmV0dXJuICgKICAgIDxDb21wCiAgICAgIHJlZj17cmVmfQogICAgICBkYXRhLXNpZGViYXI9Imdyb3VwLWFjdGlvbiIKICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAiYWJzb2x1dGUgcmlnaHQtMyB0b3AtMy41IGZsZXggYXNwZWN0LXNxdWFyZSB3LTUgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgcC0wIHRleHQtc2lkZWJhci1mb3JlZ3JvdW5kIG91dGxpbmUtbm9uZSByaW5nLXNpZGViYXItcmluZyB0cmFuc2l0aW9uLXRyYW5zZm9ybSBob3ZlcjpiZy1zaWRlYmFyLWFjY2VudCBob3Zlcjp0ZXh0LXNpZGViYXItYWNjZW50LWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpyaW5nLTIgWyY+c3ZnXTpzaXplLTQgWyY+c3ZnXTpzaHJpbmstMCIsCiAgICAgICAgLy8gSW5jcmVhc2VzIHRoZSBoaXQgYXJlYSBvZiB0aGUgYnV0dG9uIG9uIG1vYmlsZS4KICAgICAgICAiYWZ0ZXI6YWJzb2x1dGUgYWZ0ZXI6LWluc2V0LTIgYWZ0ZXI6bWQ6aGlkZGVuIiwKICAgICAgICAiZ3JvdXAtZGF0YS1bY29sbGFwc2libGU9aWNvbl06aGlkZGVuIiwKICAgICAgICBjbGFzc05hbWUKICAgICAgKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICApCn0pClNpZGViYXJHcm91cEFjdGlvbi5kaXNwbGF5TmFtZSA9ICJTaWRlYmFyR3JvdXBBY3Rpb24iCgpjb25zdCBTaWRlYmFyR3JvdXBDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiZGl2Ij4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxkaXYKICAgIHJlZj17cmVmfQogICAgZGF0YS1zaWRlYmFyPSJncm91cC1jb250ZW50IgogICAgY2xhc3NOYW1lPXtjbigidy1mdWxsIHRleHQtc20iLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpClNpZGViYXJHcm91cENvbnRlbnQuZGlzcGxheU5hbWUgPSAiU2lkZWJhckdyb3VwQ29udGVudCIKCmNvbnN0IFNpZGViYXJNZW51ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MVUxpc3RFbGVtZW50LAogIFJlYWN0LkNvbXBvbmVudFByb3BzPCJ1bCI+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8dWwKICAgIHJlZj17cmVmfQogICAgZGF0YS1zaWRlYmFyPSJtZW51IgogICAgY2xhc3NOYW1lPXtjbigiZmxleCB3LWZ1bGwgbWluLXctMCBmbGV4LWNvbCBnYXAtMSIsIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKU2lkZWJhck1lbnUuZGlzcGxheU5hbWUgPSAiU2lkZWJhck1lbnUiCgpjb25zdCBTaWRlYmFyTWVudUl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxMSUVsZW1lbnQsCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8ImxpIj4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxsaQogICAgcmVmPXtyZWZ9CiAgICBkYXRhLXNpZGViYXI9Im1lbnUtaXRlbSIKICAgIGNsYXNzTmFtZT17Y24oImdyb3VwL21lbnUtaXRlbSByZWxhdGl2ZSIsIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKU2lkZWJhck1lbnVJdGVtLmRpc3BsYXlOYW1lID0gIlNpZGViYXJNZW51SXRlbSIKCmNvbnN0IHNpZGViYXJNZW51QnV0dG9uVmFyaWFudHMgPSBjdmEoCiAgInBlZXIvbWVudS1idXR0b24gZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGdhcC0yIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLW1kIHAtMiB0ZXh0LWxlZnQgdGV4dC1zbSBvdXRsaW5lLW5vbmUgcmluZy1zaWRlYmFyLXJpbmcgdHJhbnNpdGlvbi1bd2lkdGgsaGVpZ2h0LHBhZGRpbmddIGhvdmVyOmJnLXNpZGViYXItYWNjZW50IGhvdmVyOnRleHQtc2lkZWJhci1hY2NlbnQtZm9yZWdyb3VuZCBmb2N1cy12aXNpYmxlOnJpbmctMiBhY3RpdmU6Ymctc2lkZWJhci1hY2NlbnQgYWN0aXZlOnRleHQtc2lkZWJhci1hY2NlbnQtZm9yZWdyb3VuZCBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgZ3JvdXAtaGFzLVtbZGF0YS1zaWRlYmFyPW1lbnUtYWN0aW9uXV0vbWVudS1pdGVtOnByLTggYXJpYS1kaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGFyaWEtZGlzYWJsZWQ6b3BhY2l0eS01MCBkYXRhLVthY3RpdmU9dHJ1ZV06Ymctc2lkZWJhci1hY2NlbnQgZGF0YS1bYWN0aXZlPXRydWVdOmZvbnQtbWVkaXVtIGRhdGEtW2FjdGl2ZT10cnVlXTp0ZXh0LXNpZGViYXItYWNjZW50LWZvcmVncm91bmQgZGF0YS1bc3RhdGU9b3Blbl06aG92ZXI6Ymctc2lkZWJhci1hY2NlbnQgZGF0YS1bc3RhdGU9b3Blbl06aG92ZXI6dGV4dC1zaWRlYmFyLWFjY2VudC1mb3JlZ3JvdW5kIGdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPWljb25dOiFzaXplLTggZ3JvdXAtZGF0YS1bY29sbGFwc2libGU9aWNvbl06IXAtMiBbJj5zcGFuOmxhc3QtY2hpbGRdOnRydW5jYXRlIFsmPnN2Z106c2l6ZS00IFsmPnN2Z106c2hyaW5rLTAiLAogIHsKICAgIHZhcmlhbnRzOiB7CiAgICAgIHZhcmlhbnQ6IHsKICAgICAgICBkZWZhdWx0OiAiaG92ZXI6Ymctc2lkZWJhci1hY2NlbnQgaG92ZXI6dGV4dC1zaWRlYmFyLWFjY2VudC1mb3JlZ3JvdW5kIiwKICAgICAgICBvdXRsaW5lOgogICAgICAgICAgImJnLWJhY2tncm91bmQgc2hhZG93LVswXzBfMF8xcHhfaHNsKHZhcigtLXNpZGViYXItYm9yZGVyKSldIGhvdmVyOmJnLXNpZGViYXItYWNjZW50IGhvdmVyOnRleHQtc2lkZWJhci1hY2NlbnQtZm9yZWdyb3VuZCBob3ZlcjpzaGFkb3ctWzBfMF8wXzFweF9oc2wodmFyKC0tc2lkZWJhci1hY2NlbnQpKV0iLAogICAgICB9LAogICAgICBzaXplOiB7CiAgICAgICAgZGVmYXVsdDogImgtOCB0ZXh0LXNtIiwKICAgICAgICBzbTogImgtNyB0ZXh0LXhzIiwKICAgICAgICBsZzogImgtMTIgdGV4dC1zbSBncm91cC1kYXRhLVtjb2xsYXBzaWJsZT1pY29uXTohcC0wIiwKICAgICAgfSwKICAgIH0sCiAgICBkZWZhdWx0VmFyaWFudHM6IHsKICAgICAgdmFyaWFudDogImRlZmF1bHQiLAogICAgICBzaXplOiAiZGVmYXVsdCIsCiAgICB9LAogIH0KKQoKY29uc3QgU2lkZWJhck1lbnVCdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxCdXR0b25FbGVtZW50LAogIFJlYWN0LkNvbXBvbmVudFByb3BzPCJidXR0b24iPiAmIHsKICAgIGFzQ2hpbGQ/OiBib29sZWFuCiAgICBpc0FjdGl2ZT86IGJvb2xlYW4KICAgIHRvb2x0aXA/OiBzdHJpbmcgfCBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgVG9vbHRpcENvbnRlbnQ+CiAgfSAmIFZhcmlhbnRQcm9wczx0eXBlb2Ygc2lkZWJhck1lbnVCdXR0b25WYXJpYW50cz4KPigKICAoCiAgICB7CiAgICAgIGFzQ2hpbGQgPSBmYWxzZSwKICAgICAgaXNBY3RpdmUgPSBmYWxzZSwKICAgICAgdmFyaWFudCA9ICJkZWZhdWx0IiwKICAgICAgc2l6ZSA9ICJkZWZhdWx0IiwKICAgICAgdG9vbHRpcCwKICAgICAgY2xhc3NOYW1lLAogICAgICAuLi5wcm9wcwogICAgfSwKICAgIHJlZgogICkgPT4gewogICAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90IDogImJ1dHRvbiIKICAgIGNvbnN0IHsgaXNNb2JpbGUsIHN0YXRlIH0gPSB1c2VTaWRlYmFyKCkKCiAgICBjb25zdCBidXR0b24gPSAoCiAgICAgIDxDb21wCiAgICAgICAgcmVmPXtyZWZ9CiAgICAgICAgZGF0YS1zaWRlYmFyPSJtZW51LWJ1dHRvbiIKICAgICAgICBkYXRhLXNpemU9e3NpemV9CiAgICAgICAgZGF0YS1hY3RpdmU9e2lzQWN0aXZlfQogICAgICAgIGNsYXNzTmFtZT17Y24oc2lkZWJhck1lbnVCdXR0b25WYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksIGNsYXNzTmFtZSl9CiAgICAgICAgey4uLnByb3BzfQogICAgICAvPgogICAgKQoKICAgIGlmICghdG9vbHRpcCkgewogICAgICByZXR1cm4gYnV0dG9uCiAgICB9CgogICAgaWYgKHR5cGVvZiB0b29sdGlwID09PSAic3RyaW5nIikgewogICAgICB0b29sdGlwID0gewogICAgICAgIGNoaWxkcmVuOiB0b29sdGlwLAogICAgICB9CiAgICB9CgogICAgcmV0dXJuICgKICAgICAgPFRvb2x0aXA+CiAgICAgICAgPFRvb2x0aXBUcmlnZ2VyIGFzQ2hpbGQ+e2J1dHRvbn08L1Rvb2x0aXBUcmlnZ2VyPgogICAgICAgIDxUb29sdGlwQ29udGVudAogICAgICAgICAgc2lkZT0icmlnaHQiCiAgICAgICAgICBhbGlnbj0iY2VudGVyIgogICAgICAgICAgaGlkZGVuPXtzdGF0ZSAhPT0gImNvbGxhcHNlZCIgfHwgaXNNb2JpbGV9CiAgICAgICAgICB7Li4udG9vbHRpcH0KICAgICAgICAvPgogICAgICA8L1Rvb2x0aXA+CiAgICApCiAgfQopClNpZGViYXJNZW51QnV0dG9uLmRpc3BsYXlOYW1lID0gIlNpZGViYXJNZW51QnV0dG9uIgoKY29uc3QgU2lkZWJhck1lbnVBY3Rpb24gPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxCdXR0b25FbGVtZW50LAogIFJlYWN0LkNvbXBvbmVudFByb3BzPCJidXR0b24iPiAmIHsKICAgIGFzQ2hpbGQ/OiBib29sZWFuCiAgICBzaG93T25Ib3Zlcj86IGJvb2xlYW4KICB9Cj4oKHsgY2xhc3NOYW1lLCBhc0NoaWxkID0gZmFsc2UsIHNob3dPbkhvdmVyID0gZmFsc2UsIC4uLnByb3BzIH0sIHJlZikgPT4gewogIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdCA6ICJidXR0b24iCgogIHJldHVybiAoCiAgICA8Q29tcAogICAgICByZWY9e3JlZn0KICAgICAgZGF0YS1zaWRlYmFyPSJtZW51LWFjdGlvbiIKICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAiYWJzb2x1dGUgcmlnaHQtMSB0b3AtMS41IGZsZXggYXNwZWN0LXNxdWFyZSB3LTUgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgcC0wIHRleHQtc2lkZWJhci1mb3JlZ3JvdW5kIG91dGxpbmUtbm9uZSByaW5nLXNpZGViYXItcmluZyB0cmFuc2l0aW9uLXRyYW5zZm9ybSBob3ZlcjpiZy1zaWRlYmFyLWFjY2VudCBob3Zlcjp0ZXh0LXNpZGViYXItYWNjZW50LWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpyaW5nLTIgcGVlci1ob3Zlci9tZW51LWJ1dHRvbjp0ZXh0LXNpZGViYXItYWNjZW50LWZvcmVncm91bmQgWyY+c3ZnXTpzaXplLTQgWyY+c3ZnXTpzaHJpbmstMCIsCiAgICAgICAgLy8gSW5jcmVhc2VzIHRoZSBoaXQgYXJlYSBvZiB0aGUgYnV0dG9uIG9uIG1vYmlsZS4KICAgICAgICAiYWZ0ZXI6YWJzb2x1dGUgYWZ0ZXI6LWluc2V0LTIgYWZ0ZXI6bWQ6aGlkZGVuIiwKICAgICAgICAicGVlci1kYXRhLVtzaXplPXNtXS9tZW51LWJ1dHRvbjp0b3AtMSIsCiAgICAgICAgInBlZXItZGF0YS1bc2l6ZT1kZWZhdWx0XS9tZW51LWJ1dHRvbjp0b3AtMS41IiwKICAgICAgICAicGVlci1kYXRhLVtzaXplPWxnXS9tZW51LWJ1dHRvbjp0b3AtMi41IiwKICAgICAgICAiZ3JvdXAtZGF0YS1bY29sbGFwc2libGU9aWNvbl06aGlkZGVuIiwKICAgICAgICBzaG93T25Ib3ZlciAmJgogICAgICAgICAgImdyb3VwLWZvY3VzLXdpdGhpbi9tZW51LWl0ZW06b3BhY2l0eS0xMDAgZ3JvdXAtaG92ZXIvbWVudS1pdGVtOm9wYWNpdHktMTAwIGRhdGEtW3N0YXRlPW9wZW5dOm9wYWNpdHktMTAwIHBlZXItZGF0YS1bYWN0aXZlPXRydWVdL21lbnUtYnV0dG9uOnRleHQtc2lkZWJhci1hY2NlbnQtZm9yZWdyb3VuZCBtZDpvcGFjaXR5LTAiLAogICAgICAgIGNsYXNzTmFtZQogICAgICApfQogICAgICB7Li4ucHJvcHN9CiAgICAvPgogICkKfSkKU2lkZWJhck1lbnVBY3Rpb24uZGlzcGxheU5hbWUgPSAiU2lkZWJhck1lbnVBY3Rpb24iCgpjb25zdCBTaWRlYmFyTWVudUJhZGdlID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiZGl2Ij4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxkaXYKICAgIHJlZj17cmVmfQogICAgZGF0YS1zaWRlYmFyPSJtZW51LWJhZGdlIgogICAgY2xhc3NOYW1lPXtjbigKICAgICAgImFic29sdXRlIHJpZ2h0LTEgZmxleCBoLTUgbWluLXctNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBweC0xIHRleHQteHMgZm9udC1tZWRpdW0gdGFidWxhci1udW1zIHRleHQtc2lkZWJhci1mb3JlZ3JvdW5kIHNlbGVjdC1ub25lIHBvaW50ZXItZXZlbnRzLW5vbmUiLAogICAgICAicGVlci1ob3Zlci9tZW51LWJ1dHRvbjp0ZXh0LXNpZGViYXItYWNjZW50LWZvcmVncm91bmQgcGVlci1kYXRhLVthY3RpdmU9dHJ1ZV0vbWVudS1idXR0b246dGV4dC1zaWRlYmFyLWFjY2VudC1mb3JlZ3JvdW5kIiwKICAgICAgInBlZXItZGF0YS1bc2l6ZT1zbV0vbWVudS1idXR0b246dG9wLTEiLAogICAgICAicGVlci1kYXRhLVtzaXplPWRlZmF1bHRdL21lbnUtYnV0dG9uOnRvcC0xLjUiLAogICAgICAicGVlci1kYXRhLVtzaXplPWxnXS9tZW51LWJ1dHRvbjp0b3AtMi41IiwKICAgICAgImdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPWljb25dOmhpZGRlbiIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpTaWRlYmFyTWVudUJhZGdlLmRpc3BsYXlOYW1lID0gIlNpZGViYXJNZW51QmFkZ2UiCgpjb25zdCBTaWRlYmFyTWVudVNrZWxldG9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MRGl2RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiZGl2Ij4gJiB7CiAgICBzaG93SWNvbj86IGJvb2xlYW4KICB9Cj4oKHsgY2xhc3NOYW1lLCBzaG93SWNvbiA9IGZhbHNlLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICAvLyBSYW5kb20gd2lkdGggYmV0d2VlbiA1MCB0byA5MCUuCiAgY29uc3Qgd2lkdGggPSBSZWFjdC51c2VNZW1vKCgpID0+IHsKICAgIHJldHVybiBgJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCkgKyA1MH0lYAogIH0sIFtdKQoKICByZXR1cm4gKAogICAgPGRpdgogICAgICByZWY9e3JlZn0KICAgICAgZGF0YS1zaWRlYmFyPSJtZW51LXNrZWxldG9uIgogICAgICBjbGFzc05hbWU9e2NuKCJyb3VuZGVkLW1kIGgtOCBmbGV4IGdhcC0yIHB4LTIgaXRlbXMtY2VudGVyIiwgY2xhc3NOYW1lKX0KICAgICAgey4uLnByb3BzfQogICAgPgogICAgICB7c2hvd0ljb24gJiYgKAogICAgICAgIDxTa2VsZXRvbgogICAgICAgICAgY2xhc3NOYW1lPSJzaXplLTQgcm91bmRlZC1tZCIKICAgICAgICAgIGRhdGEtc2lkZWJhcj0ibWVudS1za2VsZXRvbi1pY29uIgogICAgICAgIC8+CiAgICAgICl9CiAgICAgIDxTa2VsZXRvbgogICAgICAgIGNsYXNzTmFtZT0iaC00IGZsZXgtMSBtYXgtdy1bLS1za2VsZXRvbi13aWR0aF0iCiAgICAgICAgZGF0YS1zaWRlYmFyPSJtZW51LXNrZWxldG9uLXRleHQiCiAgICAgICAgc3R5bGU9ewogICAgICAgICAgewogICAgICAgICAgICAiLS1za2VsZXRvbi13aWR0aCI6IHdpZHRoLAogICAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzCiAgICAgICAgfQogICAgICAvPgogICAgPC9kaXY+CiAgKQp9KQpTaWRlYmFyTWVudVNrZWxldG9uLmRpc3BsYXlOYW1lID0gIlNpZGViYXJNZW51U2tlbGV0b24iCgpjb25zdCBTaWRlYmFyTWVudVN1YiA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTFVMaXN0RWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwidWwiPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPHVsCiAgICByZWY9e3JlZn0KICAgIGRhdGEtc2lkZWJhcj0ibWVudS1zdWIiCiAgICBjbGFzc05hbWU9e2NuKAogICAgICAibXgtMy41IGZsZXggbWluLXctMCB0cmFuc2xhdGUteC1weCBmbGV4LWNvbCBnYXAtMSBib3JkZXItbCBib3JkZXItc2lkZWJhci1ib3JkZXIgcHgtMi41IHB5LTAuNSIsCiAgICAgICJncm91cC1kYXRhLVtjb2xsYXBzaWJsZT1pY29uXTpoaWRkZW4iLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKU2lkZWJhck1lbnVTdWIuZGlzcGxheU5hbWUgPSAiU2lkZWJhck1lbnVTdWIiCgpjb25zdCBTaWRlYmFyTWVudVN1Ykl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxMSUVsZW1lbnQsCiAgUmVhY3QuQ29tcG9uZW50UHJvcHM8ImxpIj4KPigoeyAuLi5wcm9wcyB9LCByZWYpID0+IDxsaSByZWY9e3JlZn0gey4uLnByb3BzfSAvPikKU2lkZWJhck1lbnVTdWJJdGVtLmRpc3BsYXlOYW1lID0gIlNpZGViYXJNZW51U3ViSXRlbSIKCmNvbnN0IFNpZGViYXJNZW51U3ViQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MQW5jaG9yRWxlbWVudCwKICBSZWFjdC5Db21wb25lbnRQcm9wczwiYSI+ICYgewogICAgYXNDaGlsZD86IGJvb2xlYW4KICAgIHNpemU/OiAic20iIHwgIm1kIgogICAgaXNBY3RpdmU/OiBib29sZWFuCiAgfQo+KCh7IGFzQ2hpbGQgPSBmYWxzZSwgc2l6ZSA9ICJtZCIsIGlzQWN0aXZlLCBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gewogIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdCA6ICJhIgoKICByZXR1cm4gKAogICAgPENvbXAKICAgICAgcmVmPXtyZWZ9CiAgICAgIGRhdGEtc2lkZWJhcj0ibWVudS1zdWItYnV0dG9uIgogICAgICBkYXRhLXNpemU9e3NpemV9CiAgICAgIGRhdGEtYWN0aXZlPXtpc0FjdGl2ZX0KICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAiZmxleCBoLTcgbWluLXctMCAtdHJhbnNsYXRlLXgtcHggaXRlbXMtY2VudGVyIGdhcC0yIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLW1kIHB4LTIgdGV4dC1zaWRlYmFyLWZvcmVncm91bmQgb3V0bGluZS1ub25lIHJpbmctc2lkZWJhci1yaW5nIGhvdmVyOmJnLXNpZGViYXItYWNjZW50IGhvdmVyOnRleHQtc2lkZWJhci1hY2NlbnQtZm9yZWdyb3VuZCBmb2N1cy12aXNpYmxlOnJpbmctMiBhY3RpdmU6Ymctc2lkZWJhci1hY2NlbnQgYWN0aXZlOnRleHQtc2lkZWJhci1hY2NlbnQtZm9yZWdyb3VuZCBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgYXJpYS1kaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGFyaWEtZGlzYWJsZWQ6b3BhY2l0eS01MCBbJj5zcGFuOmxhc3QtY2hpbGRdOnRydW5jYXRlIFsmPnN2Z106c2l6ZS00IFsmPnN2Z106c2hyaW5rLTAgWyY+c3ZnXTp0ZXh0LXNpZGViYXItYWNjZW50LWZvcmVncm91bmQiLAogICAgICAgICJkYXRhLVthY3RpdmU9dHJ1ZV06Ymctc2lkZWJhci1hY2NlbnQgZGF0YS1bYWN0aXZlPXRydWVdOnRleHQtc2lkZWJhci1hY2NlbnQtZm9yZWdyb3VuZCIsCiAgICAgICAgc2l6ZSA9PT0gInNtIiAmJiAidGV4dC14cyIsCiAgICAgICAgc2l6ZSA9PT0gIm1kIiAmJiAidGV4dC1zbSIsCiAgICAgICAgImdyb3VwLWRhdGEtW2NvbGxhcHNpYmxlPWljb25dOmhpZGRlbiIsCiAgICAgICAgY2xhc3NOYW1lCiAgICAgICl9CiAgICAgIHsuLi5wcm9wc30KICAgIC8+CiAgKQp9KQpTaWRlYmFyTWVudVN1YkJ1dHRvbi5kaXNwbGF5TmFtZSA9ICJTaWRlYmFyTWVudVN1YkJ1dHRvbiIKCmV4cG9ydCB7CiAgU2lkZWJhciwKICBTaWRlYmFyQ29udGVudCwKICBTaWRlYmFyRm9vdGVyLAogIFNpZGViYXJHcm91cCwKICBTaWRlYmFyR3JvdXBBY3Rpb24sCiAgU2lkZWJhckdyb3VwQ29udGVudCwKICBTaWRlYmFyR3JvdXBMYWJlbCwKICBTaWRlYmFySGVhZGVyLAogIFNpZGViYXJJbnB1dCwKICBTaWRlYmFySW5zZXQsCiAgU2lkZWJhck1lbnUsCiAgU2lkZWJhck1lbnVBY3Rpb24sCiAgU2lkZWJhck1lbnVCYWRnZSwKICBTaWRlYmFyTWVudUJ1dHRvbiwKICBTaWRlYmFyTWVudUl0ZW0sCiAgU2lkZWJhck1lbnVTa2VsZXRvbiwKICBTaWRlYmFyTWVudVN1YiwKICBTaWRlYmFyTWVudVN1YkJ1dHRvbiwKICBTaWRlYmFyTWVudVN1Ykl0ZW0sCiAgU2lkZWJhclByb3ZpZGVyLAogIFNpZGViYXJSYWlsLAogIFNpZGViYXJTZXBhcmF0b3IsCiAgU2lkZWJhclRyaWdnZXIsCiAgdXNlU2lkZWJhciwKfQo=' | base64 -d > /root/localpulse/src/components/ui/sidebar.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CiJ1c2UgY2xpZW50IgoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCAqIGFzIFRhYnNQcmltaXRpdmUgZnJvbSAiQHJhZGl4LXVpL3JlYWN0LXRhYnMiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgVGFicyA9IFRhYnNQcmltaXRpdmUuUm9vdAoKY29uc3QgVGFic0xpc3QgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFRhYnNQcmltaXRpdmUuTGlzdD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUYWJzUHJpbWl0aXZlLkxpc3Q+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8VGFic1ByaW1pdGl2ZS5MaXN0CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJpbmxpbmUtZmxleCBoLTEwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLW1kIGJnLW11dGVkIHAtMSB0ZXh0LW11dGVkLWZvcmVncm91bmQiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKVGFic0xpc3QuZGlzcGxheU5hbWUgPSBUYWJzUHJpbWl0aXZlLkxpc3QuZGlzcGxheU5hbWUKCmNvbnN0IFRhYnNUcmlnZ2VyID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBUYWJzUHJpbWl0aXZlLlRyaWdnZXI+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgVGFic1ByaW1pdGl2ZS5UcmlnZ2VyPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFRhYnNQcmltaXRpdmUuVHJpZ2dlcgogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHdoaXRlc3BhY2Utbm93cmFwIHJvdW5kZWQtc20gcHgtMyBweS0xLjUgdGV4dC1zbSBmb250LW1lZGl1bSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIHRyYW5zaXRpb24tYWxsIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgZGF0YS1bc3RhdGU9YWN0aXZlXTpiZy1iYWNrZ3JvdW5kIGRhdGEtW3N0YXRlPWFjdGl2ZV06dGV4dC1mb3JlZ3JvdW5kIGRhdGEtW3N0YXRlPWFjdGl2ZV06c2hhZG93LXNtIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpClRhYnNUcmlnZ2VyLmRpc3BsYXlOYW1lID0gVGFic1ByaW1pdGl2ZS5UcmlnZ2VyLmRpc3BsYXlOYW1lCgpjb25zdCBUYWJzQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVGFic1ByaW1pdGl2ZS5Db250ZW50PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFRhYnNQcmltaXRpdmUuQ29udGVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxUYWJzUHJpbWl0aXZlLkNvbnRlbnQKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgIm10LTIgcmluZy1vZmZzZXQtYmFja2dyb3VuZCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKVGFic0NvbnRlbnQuZGlzcGxheU5hbWUgPSBUYWJzUHJpbWl0aXZlLkNvbnRlbnQuZGlzcGxheU5hbWUKCmV4cG9ydCB7IFRhYnMsIFRhYnNMaXN0LCBUYWJzVHJpZ2dlciwgVGFic0NvbnRlbnQgfQo=' | base64 -d > /root/localpulse/src/components/ui/tabs.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0IHsgQ2hldnJvbkxlZnQsIENoZXZyb25SaWdodCB9IGZyb20gImx1Y2lkZS1yZWFjdCIKaW1wb3J0IHsgRGF5UGlja2VyIH0gZnJvbSAicmVhY3QtZGF5LXBpY2tlciIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCmltcG9ydCB7IGJ1dHRvblZhcmlhbnRzIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2J1dHRvbiIKCmV4cG9ydCB0eXBlIENhbGVuZGFyUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRGF5UGlja2VyPgoKZnVuY3Rpb24gQ2FsZW5kYXIoewogIGNsYXNzTmFtZSwKICBjbGFzc05hbWVzLAogIHNob3dPdXRzaWRlRGF5cyA9IHRydWUsCiAgLi4ucHJvcHMKfTogQ2FsZW5kYXJQcm9wcykgewogIHJldHVybiAoCiAgICA8RGF5UGlja2VyCiAgICAgIHNob3dPdXRzaWRlRGF5cz17c2hvd091dHNpZGVEYXlzfQogICAgICBjbGFzc05hbWU9e2NuKCJwLTMiLCBjbGFzc05hbWUpfQogICAgICBjbGFzc05hbWVzPXt7CiAgICAgICAgbW9udGhzOiAiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzcGFjZS15LTQgc206c3BhY2UteC00IHNtOnNwYWNlLXktMCIsCiAgICAgICAgbW9udGg6ICJzcGFjZS15LTQiLAogICAgICAgIGNhcHRpb246ICJmbGV4IGp1c3RpZnktY2VudGVyIHB0LTEgcmVsYXRpdmUgaXRlbXMtY2VudGVyIiwKICAgICAgICBjYXB0aW9uX2xhYmVsOiAidGV4dC1zbSBmb250LW1lZGl1bSIsCiAgICAgICAgbmF2OiAic3BhY2UteC0xIGZsZXggaXRlbXMtY2VudGVyIiwKICAgICAgICBuYXZfYnV0dG9uOiBjbigKICAgICAgICAgIGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudDogIm91dGxpbmUiIH0pLAogICAgICAgICAgImgtNyB3LTcgYmctdHJhbnNwYXJlbnQgcC0wIG9wYWNpdHktNTAgaG92ZXI6b3BhY2l0eS0xMDAiCiAgICAgICAgKSwKICAgICAgICBuYXZfYnV0dG9uX3ByZXZpb3VzOiAiYWJzb2x1dGUgbGVmdC0xIiwKICAgICAgICBuYXZfYnV0dG9uX25leHQ6ICJhYnNvbHV0ZSByaWdodC0xIiwKICAgICAgICB0YWJsZTogInctZnVsbCBib3JkZXItY29sbGFwc2Ugc3BhY2UteS0xIiwKICAgICAgICBoZWFkX3JvdzogImZsZXgiLAogICAgICAgIGhlYWRfY2VsbDoKICAgICAgICAgICJ0ZXh0LW11dGVkLWZvcmVncm91bmQgcm91bmRlZC1tZCB3LTkgZm9udC1ub3JtYWwgdGV4dC1bMC44cmVtXSIsCiAgICAgICAgcm93OiAiZmxleCB3LWZ1bGwgbXQtMiIsCiAgICAgICAgY2VsbDogImgtOSB3LTkgdGV4dC1jZW50ZXIgdGV4dC1zbSBwLTAgcmVsYXRpdmUgWyY6aGFzKFthcmlhLXNlbGVjdGVkXS5kYXktcmFuZ2UtZW5kKV06cm91bmRlZC1yLW1kIFsmOmhhcyhbYXJpYS1zZWxlY3RlZF0uZGF5LW91dHNpZGUpXTpiZy1hY2NlbnQvNTAgWyY6aGFzKFthcmlhLXNlbGVjdGVkXSldOmJnLWFjY2VudCBmaXJzdDpbJjpoYXMoW2FyaWEtc2VsZWN0ZWRdKV06cm91bmRlZC1sLW1kIGxhc3Q6WyY6aGFzKFthcmlhLXNlbGVjdGVkXSldOnJvdW5kZWQtci1tZCBmb2N1cy13aXRoaW46cmVsYXRpdmUgZm9jdXMtd2l0aGluOnotMjAiLAogICAgICAgIGRheTogY24oCiAgICAgICAgICBidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6ICJnaG9zdCIgfSksCiAgICAgICAgICAiaC05IHctOSBwLTAgZm9udC1ub3JtYWwgYXJpYS1zZWxlY3RlZDpvcGFjaXR5LTEwMCIKICAgICAgICApLAogICAgICAgIGRheV9yYW5nZV9lbmQ6ICJkYXktcmFuZ2UtZW5kIiwKICAgICAgICBkYXlfc2VsZWN0ZWQ6CiAgICAgICAgICAiYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1wcmltYXJ5IGhvdmVyOnRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIGZvY3VzOmJnLXByaW1hcnkgZm9jdXM6dGV4dC1wcmltYXJ5LWZvcmVncm91bmQiLAogICAgICAgIGRheV90b2RheTogImJnLWFjY2VudCB0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIiwKICAgICAgICBkYXlfb3V0c2lkZToKICAgICAgICAgICJkYXktb3V0c2lkZSB0ZXh0LW11dGVkLWZvcmVncm91bmQgYXJpYS1zZWxlY3RlZDpiZy1hY2NlbnQvNTAgYXJpYS1zZWxlY3RlZDp0ZXh0LW11dGVkLWZvcmVncm91bmQiLAogICAgICAgIGRheV9kaXNhYmxlZDogInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBvcGFjaXR5LTUwIiwKICAgICAgICBkYXlfcmFuZ2VfbWlkZGxlOgogICAgICAgICAgImFyaWEtc2VsZWN0ZWQ6YmctYWNjZW50IGFyaWEtc2VsZWN0ZWQ6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCIsCiAgICAgICAgZGF5X2hpZGRlbjogImludmlzaWJsZSIsCiAgICAgICAgLi4uY2xhc3NOYW1lcywKICAgICAgfX0KICAgICAgY29tcG9uZW50cz17ewogICAgICAgIEljb25MZWZ0OiAoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0pID0+ICgKICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9e2NuKCJoLTQgdy00IiwgY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPgogICAgICAgICksCiAgICAgICAgSWNvblJpZ2h0OiAoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0pID0+ICgKICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPXtjbigiaC00IHctNCIsIGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz4KICAgICAgICApLAogICAgICB9fQogICAgICB7Li4ucHJvcHN9CiAgICAvPgogICkKfQpDYWxlbmRhci5kaXNwbGF5TmFtZSA9ICJDYWxlbmRhciIKCmV4cG9ydCB7IENhbGVuZGFyIH0K' | base64 -d > /root/localpulse/src/components/ui/calendar.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CiJ1c2UgY2xpZW50IgoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCAqIGFzIENoZWNrYm94UHJpbWl0aXZlIGZyb20gIkByYWRpeC11aS9yZWFjdC1jaGVja2JveCIKaW1wb3J0IHsgQ2hlY2sgfSBmcm9tICJsdWNpZGUtcmVhY3QiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgQ2hlY2tib3ggPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIENoZWNrYm94UHJpbWl0aXZlLlJvb3Q+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgQ2hlY2tib3hQcmltaXRpdmUuUm9vdD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxDaGVja2JveFByaW1pdGl2ZS5Sb290CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJwZWVyIGgtNCB3LTQgc2hyaW5rLTAgcm91bmRlZC1zbSBib3JkZXIgYm9yZGVyLXByaW1hcnkgcmluZy1vZmZzZXQtYmFja2dyb3VuZCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAgZGF0YS1bc3RhdGU9Y2hlY2tlZF06YmctcHJpbWFyeSBkYXRhLVtzdGF0ZT1jaGVja2VkXTp0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICA+CiAgICA8Q2hlY2tib3hQcmltaXRpdmUuSW5kaWNhdG9yCiAgICAgIGNsYXNzTmFtZT17Y24oImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtY3VycmVudCIpfQogICAgPgogICAgICA8Q2hlY2sgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgPC9DaGVja2JveFByaW1pdGl2ZS5JbmRpY2F0b3I+CiAgPC9DaGVja2JveFByaW1pdGl2ZS5Sb290PgopKQpDaGVja2JveC5kaXNwbGF5TmFtZSA9IENoZWNrYm94UHJpbWl0aXZlLlJvb3QuZGlzcGxheU5hbWUKCmV4cG9ydCB7IENoZWNrYm94IH0K' | base64 -d > /root/localpulse/src/components/ui/checkbox.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgU2hlZXRQcmltaXRpdmUgZnJvbSAiQHJhZGl4LXVpL3JlYWN0LWRpYWxvZyIKaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSIKaW1wb3J0IHsgWCB9IGZyb20gImx1Y2lkZS1yZWFjdCIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCgpjb25zdCBTaGVldCA9IFNoZWV0UHJpbWl0aXZlLlJvb3QKCmNvbnN0IFNoZWV0VHJpZ2dlciA9IFNoZWV0UHJpbWl0aXZlLlRyaWdnZXIKCmNvbnN0IFNoZWV0Q2xvc2UgPSBTaGVldFByaW1pdGl2ZS5DbG9zZQoKY29uc3QgU2hlZXRQb3J0YWwgPSBTaGVldFByaW1pdGl2ZS5Qb3J0YWwKCmNvbnN0IFNoZWV0T3ZlcmxheSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2hlZXRQcmltaXRpdmUuT3ZlcmxheT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTaGVldFByaW1pdGl2ZS5PdmVybGF5Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFNoZWV0UHJpbWl0aXZlLk92ZXJsYXkKICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJmaXhlZCBpbnNldC0wIHotNTAgYmctYmxhY2svODAgIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogICAgcmVmPXtyZWZ9CiAgLz4KKSkKU2hlZXRPdmVybGF5LmRpc3BsYXlOYW1lID0gU2hlZXRQcmltaXRpdmUuT3ZlcmxheS5kaXNwbGF5TmFtZQoKY29uc3Qgc2hlZXRWYXJpYW50cyA9IGN2YSgKICAiZml4ZWQgei01MCBnYXAtNCBiZy1iYWNrZ3JvdW5kIHAtNiBzaGFkb3ctbGcgdHJhbnNpdGlvbiBlYXNlLWluLW91dCBkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWluIGRhdGEtW3N0YXRlPWNsb3NlZF06YW5pbWF0ZS1vdXQgZGF0YS1bc3RhdGU9Y2xvc2VkXTpkdXJhdGlvbi0zMDAgZGF0YS1bc3RhdGU9b3Blbl06ZHVyYXRpb24tNTAwIiwKICB7CiAgICB2YXJpYW50czogewogICAgICBzaWRlOiB7CiAgICAgICAgdG9wOiAiaW5zZXQteC0wIHRvcC0wIGJvcmRlci1iIGRhdGEtW3N0YXRlPWNsb3NlZF06c2xpZGUtb3V0LXRvLXRvcCBkYXRhLVtzdGF0ZT1vcGVuXTpzbGlkZS1pbi1mcm9tLXRvcCIsCiAgICAgICAgYm90dG9tOgogICAgICAgICAgImluc2V0LXgtMCBib3R0b20tMCBib3JkZXItdCBkYXRhLVtzdGF0ZT1jbG9zZWRdOnNsaWRlLW91dC10by1ib3R0b20gZGF0YS1bc3RhdGU9b3Blbl06c2xpZGUtaW4tZnJvbS1ib3R0b20iLAogICAgICAgIGxlZnQ6ICJpbnNldC15LTAgbGVmdC0wIGgtZnVsbCB3LTMvNCBib3JkZXItciBkYXRhLVtzdGF0ZT1jbG9zZWRdOnNsaWRlLW91dC10by1sZWZ0IGRhdGEtW3N0YXRlPW9wZW5dOnNsaWRlLWluLWZyb20tbGVmdCBzbTptYXgtdy1zbSIsCiAgICAgICAgcmlnaHQ6CiAgICAgICAgICAiaW5zZXQteS0wIHJpZ2h0LTAgaC1mdWxsIHctMy80ICBib3JkZXItbCBkYXRhLVtzdGF0ZT1jbG9zZWRdOnNsaWRlLW91dC10by1yaWdodCBkYXRhLVtzdGF0ZT1vcGVuXTpzbGlkZS1pbi1mcm9tLXJpZ2h0IHNtOm1heC13LXNtIiwKICAgICAgfSwKICAgIH0sCiAgICBkZWZhdWx0VmFyaWFudHM6IHsKICAgICAgc2lkZTogInJpZ2h0IiwKICAgIH0sCiAgfQopCgppbnRlcmZhY2UgU2hlZXRDb250ZW50UHJvcHMKICBleHRlbmRzIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2hlZXRQcmltaXRpdmUuQ29udGVudD4sCiAgICBWYXJpYW50UHJvcHM8dHlwZW9mIHNoZWV0VmFyaWFudHM+IHt9Cgpjb25zdCBTaGVldENvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNoZWV0UHJpbWl0aXZlLkNvbnRlbnQ+LAogIFNoZWV0Q29udGVudFByb3BzCj4oKHsgc2lkZSA9ICJyaWdodCIsIGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxTaGVldFBvcnRhbD4KICAgIDxTaGVldE92ZXJsYXkgLz4KICAgIDxTaGVldFByaW1pdGl2ZS5Db250ZW50CiAgICAgIHJlZj17cmVmfQogICAgICBjbGFzc05hbWU9e2NuKHNoZWV0VmFyaWFudHMoeyBzaWRlIH0pLCBjbGFzc05hbWUpfQogICAgICB7Li4ucHJvcHN9CiAgICA+CiAgICAgIHtjaGlsZHJlbn0KICAgICAgPFNoZWV0UHJpbWl0aXZlLkNsb3NlIGNsYXNzTmFtZT0iYWJzb2x1dGUgcmlnaHQtNCB0b3AtNCByb3VuZGVkLXNtIG9wYWNpdHktNzAgcmluZy1vZmZzZXQtYmFja2dyb3VuZCB0cmFuc2l0aW9uLW9wYWNpdHkgaG92ZXI6b3BhY2l0eS0xMDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXJpbmcgZm9jdXM6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRhdGEtW3N0YXRlPW9wZW5dOmJnLXNlY29uZGFyeSI+CiAgICAgICAgPFggY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ic3Itb25seSI+Q2xvc2U8L3NwYW4+CiAgICAgIDwvU2hlZXRQcmltaXRpdmUuQ2xvc2U+CiAgICA8L1NoZWV0UHJpbWl0aXZlLkNvbnRlbnQ+CiAgPC9TaGVldFBvcnRhbD4KKSkKU2hlZXRDb250ZW50LmRpc3BsYXlOYW1lID0gU2hlZXRQcmltaXRpdmUuQ29udGVudC5kaXNwbGF5TmFtZQoKY29uc3QgU2hlZXRIZWFkZXIgPSAoewogIGNsYXNzTmFtZSwKICAuLi5wcm9wcwp9OiBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4pID0+ICgKICA8ZGl2CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiZmxleCBmbGV4LWNvbCBzcGFjZS15LTIgdGV4dC1jZW50ZXIgc206dGV4dC1sZWZ0IiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikKU2hlZXRIZWFkZXIuZGlzcGxheU5hbWUgPSAiU2hlZXRIZWFkZXIiCgpjb25zdCBTaGVldEZvb3RlciA9ICh7CiAgY2xhc3NOYW1lLAogIC4uLnByb3BzCn06IFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PikgPT4gKAogIDxkaXYKICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJmbGV4IGZsZXgtY29sLXJldmVyc2Ugc206ZmxleC1yb3cgc206anVzdGlmeS1lbmQgc206c3BhY2UteC0yIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikKU2hlZXRGb290ZXIuZGlzcGxheU5hbWUgPSAiU2hlZXRGb290ZXIiCgpjb25zdCBTaGVldFRpdGxlID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTaGVldFByaW1pdGl2ZS5UaXRsZT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTaGVldFByaW1pdGl2ZS5UaXRsZT4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxTaGVldFByaW1pdGl2ZS5UaXRsZQogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kIiwgY2xhc3NOYW1lKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpTaGVldFRpdGxlLmRpc3BsYXlOYW1lID0gU2hlZXRQcmltaXRpdmUuVGl0bGUuZGlzcGxheU5hbWUKCmNvbnN0IFNoZWV0RGVzY3JpcHRpb24gPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNoZWV0UHJpbWl0aXZlLkRlc2NyaXB0aW9uPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNoZWV0UHJpbWl0aXZlLkRlc2NyaXB0aW9uPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFNoZWV0UHJpbWl0aXZlLkRlc2NyaXB0aW9uCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIiwgY2xhc3NOYW1lKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpTaGVldERlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gU2hlZXRQcmltaXRpdmUuRGVzY3JpcHRpb24uZGlzcGxheU5hbWUKCmV4cG9ydCB7CiAgU2hlZXQsCiAgU2hlZXRQb3J0YWwsCiAgU2hlZXRPdmVybGF5LAogIFNoZWV0VHJpZ2dlciwKICBTaGVldENsb3NlLAogIFNoZWV0Q29udGVudCwKICBTaGVldEhlYWRlciwKICBTaGVldEZvb3RlciwKICBTaGVldFRpdGxlLAogIFNoZWV0RGVzY3JpcHRpb24sCn0K' | base64 -d > /root/localpulse/src/components/ui/sheet.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CiJ1c2UgY2xpZW50IgoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCAqIGFzIEFjY29yZGlvblByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3QtYWNjb3JkaW9uIgppbXBvcnQgeyBDaGV2cm9uRG93biB9IGZyb20gImx1Y2lkZS1yZWFjdCIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCgpjb25zdCBBY2NvcmRpb24gPSBBY2NvcmRpb25QcmltaXRpdmUuUm9vdAoKY29uc3QgQWNjb3JkaW9uSXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQWNjb3JkaW9uUHJpbWl0aXZlLkl0ZW0+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgQWNjb3JkaW9uUHJpbWl0aXZlLkl0ZW0+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8QWNjb3JkaW9uUHJpbWl0aXZlLkl0ZW0KICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigiYm9yZGVyLWIiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpCkFjY29yZGlvbkl0ZW0uZGlzcGxheU5hbWUgPSAiQWNjb3JkaW9uSXRlbSIKCmNvbnN0IEFjY29yZGlvblRyaWdnZXIgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIEFjY29yZGlvblByaW1pdGl2ZS5UcmlnZ2VyPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEFjY29yZGlvblByaW1pdGl2ZS5UcmlnZ2VyPgo+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxBY2NvcmRpb25QcmltaXRpdmUuSGVhZGVyIGNsYXNzTmFtZT0iZmxleCI+CiAgICA8QWNjb3JkaW9uUHJpbWl0aXZlLlRyaWdnZXIKICAgICAgcmVmPXtyZWZ9CiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgImZsZXggZmxleC0xIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHktNCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBob3Zlcjp1bmRlcmxpbmUgWyZbZGF0YS1zdGF0ZT1vcGVuXT5zdmddOnJvdGF0ZS0xODAiLAogICAgICAgIGNsYXNzTmFtZQogICAgICApfQogICAgICB7Li4ucHJvcHN9CiAgICA+CiAgICAgIHtjaGlsZHJlbn0KICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT0iaC00IHctNCBzaHJpbmstMCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDAiIC8+CiAgICA8L0FjY29yZGlvblByaW1pdGl2ZS5UcmlnZ2VyPgogIDwvQWNjb3JkaW9uUHJpbWl0aXZlLkhlYWRlcj4KKSkKQWNjb3JkaW9uVHJpZ2dlci5kaXNwbGF5TmFtZSA9IEFjY29yZGlvblByaW1pdGl2ZS5UcmlnZ2VyLmRpc3BsYXlOYW1lCgpjb25zdCBBY2NvcmRpb25Db250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBBY2NvcmRpb25QcmltaXRpdmUuQ29udGVudD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBBY2NvcmRpb25QcmltaXRpdmUuQ29udGVudD4KPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8QWNjb3JkaW9uUHJpbWl0aXZlLkNvbnRlbnQKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPSJvdmVyZmxvdy1oaWRkZW4gdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmFuaW1hdGUtYWNjb3JkaW9uLXVwIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtYWNjb3JkaW9uLWRvd24iCiAgICB7Li4ucHJvcHN9CiAgPgogICAgPGRpdiBjbGFzc05hbWU9e2NuKCJwYi00IHB0LTAiLCBjbGFzc05hbWUpfT57Y2hpbGRyZW59PC9kaXY+CiAgPC9BY2NvcmRpb25QcmltaXRpdmUuQ29udGVudD4KKSkKCkFjY29yZGlvbkNvbnRlbnQuZGlzcGxheU5hbWUgPSBBY2NvcmRpb25QcmltaXRpdmUuQ29udGVudC5kaXNwbGF5TmFtZQoKZXhwb3J0IHsgQWNjb3JkaW9uLCBBY2NvcmRpb25JdGVtLCBBY2NvcmRpb25UcmlnZ2VyLCBBY2NvcmRpb25Db250ZW50IH0K' | base64 -d > /root/localpulse/src/components/ui/accordion.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CiJ1c2UgY2xpZW50IgoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCAqIGFzIFNlbGVjdFByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3Qtc2VsZWN0IgppbXBvcnQgeyBDaGVjaywgQ2hldnJvbkRvd24sIENoZXZyb25VcCB9IGZyb20gImx1Y2lkZS1yZWFjdCIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCgpjb25zdCBTZWxlY3QgPSBTZWxlY3RQcmltaXRpdmUuUm9vdAoKY29uc3QgU2VsZWN0R3JvdXAgPSBTZWxlY3RQcmltaXRpdmUuR3JvdXAKCmNvbnN0IFNlbGVjdFZhbHVlID0gU2VsZWN0UHJpbWl0aXZlLlZhbHVlCgpjb25zdCBTZWxlY3RUcmlnZ2VyID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuVHJpZ2dlcj4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuVHJpZ2dlcj4KPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8U2VsZWN0UHJpbWl0aXZlLlRyaWdnZXIKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgImZsZXggaC0xMCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItaW5wdXQgYmctYmFja2dyb3VuZCBweC0zIHB5LTIgdGV4dC1zbSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIHBsYWNlaG9sZGVyOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcmluZyBmb2N1czpyaW5nLW9mZnNldC0yIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwIFsmPnNwYW5dOmxpbmUtY2xhbXAtMSIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICA+CiAgICB7Y2hpbGRyZW59CiAgICA8U2VsZWN0UHJpbWl0aXZlLkljb24gYXNDaGlsZD4KICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT0iaC00IHctNCBvcGFjaXR5LTUwIiAvPgogICAgPC9TZWxlY3RQcmltaXRpdmUuSWNvbj4KICA8L1NlbGVjdFByaW1pdGl2ZS5UcmlnZ2VyPgopKQpTZWxlY3RUcmlnZ2VyLmRpc3BsYXlOYW1lID0gU2VsZWN0UHJpbWl0aXZlLlRyaWdnZXIuZGlzcGxheU5hbWUKCmNvbnN0IFNlbGVjdFNjcm9sbFVwQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2Nyb2xsVXBCdXR0b24+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLlNjcm9sbFVwQnV0dG9uPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxVcEJ1dHRvbgogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiZmxleCBjdXJzb3ItZGVmYXVsdCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktMSIsCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICA+CiAgICA8Q2hldnJvblVwIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICA8L1NlbGVjdFByaW1pdGl2ZS5TY3JvbGxVcEJ1dHRvbj4KKSkKU2VsZWN0U2Nyb2xsVXBCdXR0b24uZGlzcGxheU5hbWUgPSBTZWxlY3RQcmltaXRpdmUuU2Nyb2xsVXBCdXR0b24uZGlzcGxheU5hbWUKCmNvbnN0IFNlbGVjdFNjcm9sbERvd25CdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJmbGV4IGN1cnNvci1kZWZhdWx0IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogID4KICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgPC9TZWxlY3RQcmltaXRpdmUuU2Nyb2xsRG93bkJ1dHRvbj4KKSkKU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbi5kaXNwbGF5TmFtZSA9CiAgU2VsZWN0UHJpbWl0aXZlLlNjcm9sbERvd25CdXR0b24uZGlzcGxheU5hbWUKCmNvbnN0IFNlbGVjdENvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5Db250ZW50PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5Db250ZW50Pgo+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIHBvc2l0aW9uID0gInBvcHBlciIsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxTZWxlY3RQcmltaXRpdmUuUG9ydGFsPgogICAgPFNlbGVjdFByaW1pdGl2ZS5Db250ZW50CiAgICAgIHJlZj17cmVmfQogICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICJyZWxhdGl2ZSB6LTUwIG1heC1oLTk2IG1pbi13LVs4cmVtXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1tZCBib3JkZXIgYmctcG9wb3ZlciB0ZXh0LXBvcG92ZXItZm9yZWdyb3VuZCBzaGFkb3ctbWQgZGF0YS1bc3RhdGU9b3Blbl06YW5pbWF0ZS1pbiBkYXRhLVtzdGF0ZT1jbG9zZWRdOmFuaW1hdGUtb3V0IGRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtMCBkYXRhLVtzdGF0ZT1vcGVuXTpmYWRlLWluLTAgZGF0YS1bc3RhdGU9Y2xvc2VkXTp6b29tLW91dC05NSBkYXRhLVtzdGF0ZT1vcGVuXTp6b29tLWluLTk1IGRhdGEtW3NpZGU9Ym90dG9tXTpzbGlkZS1pbi1mcm9tLXRvcC0yIGRhdGEtW3NpZGU9bGVmdF06c2xpZGUtaW4tZnJvbS1yaWdodC0yIGRhdGEtW3NpZGU9cmlnaHRdOnNsaWRlLWluLWZyb20tbGVmdC0yIGRhdGEtW3NpZGU9dG9wXTpzbGlkZS1pbi1mcm9tLWJvdHRvbS0yIiwKICAgICAgICBwb3NpdGlvbiA9PT0gInBvcHBlciIgJiYKICAgICAgICAgICJkYXRhLVtzaWRlPWJvdHRvbV06dHJhbnNsYXRlLXktMSBkYXRhLVtzaWRlPWxlZnRdOi10cmFuc2xhdGUteC0xIGRhdGEtW3NpZGU9cmlnaHRdOnRyYW5zbGF0ZS14LTEgZGF0YS1bc2lkZT10b3BdOi10cmFuc2xhdGUteS0xIiwKICAgICAgICBjbGFzc05hbWUKICAgICAgKX0KICAgICAgcG9zaXRpb249e3Bvc2l0aW9ufQogICAgICB7Li4ucHJvcHN9CiAgICA+CiAgICAgIDxTZWxlY3RTY3JvbGxVcEJ1dHRvbiAvPgogICAgICA8U2VsZWN0UHJpbWl0aXZlLlZpZXdwb3J0CiAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICJwLTEiLAogICAgICAgICAgcG9zaXRpb24gPT09ICJwb3BwZXIiICYmCiAgICAgICAgICAgICJoLVt2YXIoLS1yYWRpeC1zZWxlY3QtdHJpZ2dlci1oZWlnaHQpXSB3LWZ1bGwgbWluLXctW3ZhcigtLXJhZGl4LXNlbGVjdC10cmlnZ2VyLXdpZHRoKV0iCiAgICAgICAgKX0KICAgICAgPgogICAgICAgIHtjaGlsZHJlbn0KICAgICAgPC9TZWxlY3RQcmltaXRpdmUuVmlld3BvcnQ+CiAgICAgIDxTZWxlY3RTY3JvbGxEb3duQnV0dG9uIC8+CiAgICA8L1NlbGVjdFByaW1pdGl2ZS5Db250ZW50PgogIDwvU2VsZWN0UHJpbWl0aXZlLlBvcnRhbD4KKSkKU2VsZWN0Q29udGVudC5kaXNwbGF5TmFtZSA9IFNlbGVjdFByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lCgpjb25zdCBTZWxlY3RMYWJlbCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLkxhYmVsPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5MYWJlbD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxTZWxlY3RQcmltaXRpdmUuTGFiZWwKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigicHktMS41IHBsLTIgcHItMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpClNlbGVjdExhYmVsLmRpc3BsYXlOYW1lID0gU2VsZWN0UHJpbWl0aXZlLkxhYmVsLmRpc3BsYXlOYW1lCgpjb25zdCBTZWxlY3RJdGVtID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuSXRlbT4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuSXRlbT4KPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8U2VsZWN0UHJpbWl0aXZlLkl0ZW0KICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgInJlbGF0aXZlIGZsZXggdy1mdWxsIGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB5LTEuNSBwbC04IHByLTIgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6YmctYWNjZW50IGZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGF0YS1bZGlzYWJsZWRdOnBvaW50ZXItZXZlbnRzLW5vbmUgZGF0YS1bZGlzYWJsZWRdOm9wYWNpdHktNTAiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgPgogICAgPHNwYW4gY2xhc3NOYW1lPSJhYnNvbHV0ZSBsZWZ0LTIgZmxleCBoLTMuNSB3LTMuNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiPgogICAgICA8U2VsZWN0UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+CiAgICAgICAgPENoZWNrIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgPC9TZWxlY3RQcmltaXRpdmUuSXRlbUluZGljYXRvcj4KICAgIDwvc3Bhbj4KCiAgICA8U2VsZWN0UHJpbWl0aXZlLkl0ZW1UZXh0PntjaGlsZHJlbn08L1NlbGVjdFByaW1pdGl2ZS5JdGVtVGV4dD4KICA8L1NlbGVjdFByaW1pdGl2ZS5JdGVtPgopKQpTZWxlY3RJdGVtLmRpc3BsYXlOYW1lID0gU2VsZWN0UHJpbWl0aXZlLkl0ZW0uZGlzcGxheU5hbWUKCmNvbnN0IFNlbGVjdFNlcGFyYXRvciA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLlNlcGFyYXRvcj4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2VwYXJhdG9yPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFNlbGVjdFByaW1pdGl2ZS5TZXBhcmF0b3IKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigiLW14LTEgbXktMSBoLXB4IGJnLW11dGVkIiwgY2xhc3NOYW1lKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpTZWxlY3RTZXBhcmF0b3IuZGlzcGxheU5hbWUgPSBTZWxlY3RQcmltaXRpdmUuU2VwYXJhdG9yLmRpc3BsYXlOYW1lCgpleHBvcnQgewogIFNlbGVjdCwKICBTZWxlY3RHcm91cCwKICBTZWxlY3RWYWx1ZSwKICBTZWxlY3RUcmlnZ2VyLAogIFNlbGVjdENvbnRlbnQsCiAgU2VsZWN0TGFiZWwsCiAgU2VsZWN0SXRlbSwKICBTZWxlY3RTZXBhcmF0b3IsCiAgU2VsZWN0U2Nyb2xsVXBCdXR0b24sCiAgU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbiwKfQo=' | base64 -d > /root/localpulse/src/components/ui/select.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgVG9vbHRpcFByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3QtdG9vbHRpcCIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCgpjb25zdCBUb29sdGlwUHJvdmlkZXIgPSBUb29sdGlwUHJpbWl0aXZlLlByb3ZpZGVyCgpjb25zdCBUb29sdGlwID0gVG9vbHRpcFByaW1pdGl2ZS5Sb290Cgpjb25zdCBUb29sdGlwVHJpZ2dlciA9IFRvb2x0aXBQcmltaXRpdmUuVHJpZ2dlcgoKY29uc3QgVG9vbHRpcENvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFRvb2x0aXBQcmltaXRpdmUuQ29udGVudD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUb29sdGlwUHJpbWl0aXZlLkNvbnRlbnQ+Cj4oKHsgY2xhc3NOYW1lLCBzaWRlT2Zmc2V0ID0gNCwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPFRvb2x0aXBQcmltaXRpdmUuQ29udGVudAogICAgcmVmPXtyZWZ9CiAgICBzaWRlT2Zmc2V0PXtzaWRlT2Zmc2V0fQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgInotNTAgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXBvcG92ZXIgcHgtMyBweS0xLjUgdGV4dC1zbSB0ZXh0LXBvcG92ZXItZm9yZWdyb3VuZCBzaGFkb3ctbWQgYW5pbWF0ZS1pbiBmYWRlLWluLTAgem9vbS1pbi05NSBkYXRhLVtzdGF0ZT1jbG9zZWRdOmFuaW1hdGUtb3V0IGRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtMCBkYXRhLVtzdGF0ZT1jbG9zZWRdOnpvb20tb3V0LTk1IGRhdGEtW3NpZGU9Ym90dG9tXTpzbGlkZS1pbi1mcm9tLXRvcC0yIGRhdGEtW3NpZGU9bGVmdF06c2xpZGUtaW4tZnJvbS1yaWdodC0yIGRhdGEtW3NpZGU9cmlnaHRdOnNsaWRlLWluLWZyb20tbGVmdC0yIGRhdGEtW3NpZGU9dG9wXTpzbGlkZS1pbi1mcm9tLWJvdHRvbS0yIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpClRvb2x0aXBDb250ZW50LmRpc3BsYXlOYW1lID0gVG9vbHRpcFByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lCgpleHBvcnQgeyBUb29sdGlwLCBUb29sdGlwVHJpZ2dlciwgVG9vbHRpcENvbnRlbnQsIFRvb2x0aXBQcm92aWRlciB9Cg==' | base64 -d > /root/localpulse/src/components/ui/tooltip.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHkiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgYWxlcnRWYXJpYW50cyA9IGN2YSgKICAicmVsYXRpdmUgdy1mdWxsIHJvdW5kZWQtbGcgYm9yZGVyIHAtNCBbJj5zdmd+Kl06cGwtNyBbJj5zdmcrZGl2XTp0cmFuc2xhdGUteS1bLTNweF0gWyY+c3ZnXTphYnNvbHV0ZSBbJj5zdmddOmxlZnQtNCBbJj5zdmddOnRvcC00IFsmPnN2Z106dGV4dC1mb3JlZ3JvdW5kIiwKICB7CiAgICB2YXJpYW50czogewogICAgICB2YXJpYW50OiB7CiAgICAgICAgZGVmYXVsdDogImJnLWJhY2tncm91bmQgdGV4dC1mb3JlZ3JvdW5kIiwKICAgICAgICBkZXN0cnVjdGl2ZToKICAgICAgICAgICJib3JkZXItZGVzdHJ1Y3RpdmUvNTAgdGV4dC1kZXN0cnVjdGl2ZSBkYXJrOmJvcmRlci1kZXN0cnVjdGl2ZSBbJj5zdmddOnRleHQtZGVzdHJ1Y3RpdmUiLAogICAgICB9LAogICAgfSwKICAgIGRlZmF1bHRWYXJpYW50czogewogICAgICB2YXJpYW50OiAiZGVmYXVsdCIsCiAgICB9LAogIH0KKQoKY29uc3QgQWxlcnQgPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxEaXZFbGVtZW50LAogIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiAmIFZhcmlhbnRQcm9wczx0eXBlb2YgYWxlcnRWYXJpYW50cz4KPigoeyBjbGFzc05hbWUsIHZhcmlhbnQsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxkaXYKICAgIHJlZj17cmVmfQogICAgcm9sZT0iYWxlcnQiCiAgICBjbGFzc05hbWU9e2NuKGFsZXJ0VmFyaWFudHMoeyB2YXJpYW50IH0pLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpCkFsZXJ0LmRpc3BsYXlOYW1lID0gIkFsZXJ0IgoKY29uc3QgQWxlcnRUaXRsZSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTFBhcmFncmFwaEVsZW1lbnQsCiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTEhlYWRpbmdFbGVtZW50Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPGg1CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oIm1iLTEgZm9udC1tZWRpdW0gbGVhZGluZy1ub25lIHRyYWNraW5nLXRpZ2h0IiwgY2xhc3NOYW1lKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpBbGVydFRpdGxlLmRpc3BsYXlOYW1lID0gIkFsZXJ0VGl0bGUiCgpjb25zdCBBbGVydERlc2NyaXB0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MUGFyYWdyYXBoRWxlbWVudCwKICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MUGFyYWdyYXBoRWxlbWVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxkaXYKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigidGV4dC1zbSBbJl9wXTpsZWFkaW5nLXJlbGF4ZWQiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpCkFsZXJ0RGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSAiQWxlcnREZXNjcmlwdGlvbiIKCmV4cG9ydCB7IEFsZXJ0LCBBbGVydFRpdGxlLCBBbGVydERlc2NyaXB0aW9uIH0K' | base64 -d > /root/localpulse/src/components/ui/alert.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgVGFibGUgPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxUYWJsZUVsZW1lbnQsCiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFRhYmxlRWxlbWVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSB3LWZ1bGwgb3ZlcmZsb3ctYXV0byI+CiAgICA8dGFibGUKICAgICAgcmVmPXtyZWZ9CiAgICAgIGNsYXNzTmFtZT17Y24oInctZnVsbCBjYXB0aW9uLWJvdHRvbSB0ZXh0LXNtIiwgY2xhc3NOYW1lKX0KICAgICAgey4uLnByb3BzfQogICAgLz4KICA8L2Rpdj4KKSkKVGFibGUuZGlzcGxheU5hbWUgPSAiVGFibGUiCgpjb25zdCBUYWJsZUhlYWRlciA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQsCiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8dGhlYWQgcmVmPXtyZWZ9IGNsYXNzTmFtZT17Y24oIlsmX3RyXTpib3JkZXItYiIsIGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz4KKSkKVGFibGVIZWFkZXIuZGlzcGxheU5hbWUgPSAiVGFibGVIZWFkZXIiCgpjb25zdCBUYWJsZUJvZHkgPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50LAogIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPHRib2R5CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oIlsmX3RyOmxhc3QtY2hpbGRdOmJvcmRlci0wIiwgY2xhc3NOYW1lKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpUYWJsZUJvZHkuZGlzcGxheU5hbWUgPSAiVGFibGVCb2R5IgoKY29uc3QgVGFibGVGb290ZXIgPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50LAogIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPHRmb290CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJib3JkZXItdCBiZy1tdXRlZC81MCBmb250LW1lZGl1bSBbJj50cl06bGFzdDpib3JkZXItYi0wIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpClRhYmxlRm9vdGVyLmRpc3BsYXlOYW1lID0gIlRhYmxlRm9vdGVyIgoKY29uc3QgVGFibGVSb3cgPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxUYWJsZVJvd0VsZW1lbnQsCiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFRhYmxlUm93RWxlbWVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDx0cgogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKAogICAgICAiYm9yZGVyLWIgdHJhbnNpdGlvbi1jb2xvcnMgaG92ZXI6YmctbXV0ZWQvNTAgZGF0YS1bc3RhdGU9c2VsZWN0ZWRdOmJnLW11dGVkIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpClRhYmxlUm93LmRpc3BsYXlOYW1lID0gIlRhYmxlUm93IgoKY29uc3QgVGFibGVIZWFkID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MVGFibGVDZWxsRWxlbWVudCwKICBSZWFjdC5UaEhUTUxBdHRyaWJ1dGVzPEhUTUxUYWJsZUNlbGxFbGVtZW50Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPHRoCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJoLTEyIHB4LTQgdGV4dC1sZWZ0IGFsaWduLW1pZGRsZSBmb250LW1lZGl1bSB0ZXh0LW11dGVkLWZvcmVncm91bmQgWyY6aGFzKFtyb2xlPWNoZWNrYm94XSldOnByLTAiLAogICAgICBjbGFzc05hbWUKICAgICl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKVGFibGVIZWFkLmRpc3BsYXlOYW1lID0gIlRhYmxlSGVhZCIKCmNvbnN0IFRhYmxlQ2VsbCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTFRhYmxlQ2VsbEVsZW1lbnQsCiAgUmVhY3QuVGRIVE1MQXR0cmlidXRlczxIVE1MVGFibGVDZWxsRWxlbWVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDx0ZAogICAgcmVmPXtyZWZ9CiAgICBjbGFzc05hbWU9e2NuKCJwLTQgYWxpZ24tbWlkZGxlIFsmOmhhcyhbcm9sZT1jaGVja2JveF0pXTpwci0wIiwgY2xhc3NOYW1lKX0KICAgIHsuLi5wcm9wc30KICAvPgopKQpUYWJsZUNlbGwuZGlzcGxheU5hbWUgPSAiVGFibGVDZWxsIgoKY29uc3QgVGFibGVDYXB0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MVGFibGVDYXB0aW9uRWxlbWVudCwKICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MVGFibGVDYXB0aW9uRWxlbWVudD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxjYXB0aW9uCiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oIm10LTQgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiLCBjbGFzc05hbWUpfQogICAgey4uLnByb3BzfQogIC8+CikpClRhYmxlQ2FwdGlvbi5kaXNwbGF5TmFtZSA9ICJUYWJsZUNhcHRpb24iCgpleHBvcnQgewogIFRhYmxlLAogIFRhYmxlSGVhZGVyLAogIFRhYmxlQm9keSwKICBUYWJsZUZvb3RlciwKICBUYWJsZUhlYWQsCiAgVGFibGVSb3csCiAgVGFibGVDZWxsLAogIFRhYmxlQ2FwdGlvbiwKfQo=' | base64 -d > /root/localpulse/src/components/ui/table.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgU3dpdGNoUHJpbWl0aXZlcyBmcm9tICJAcmFkaXgtdWkvcmVhY3Qtc3dpdGNoIgoKaW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmNvbnN0IFN3aXRjaCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU3dpdGNoUHJpbWl0aXZlcy5Sb290PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFN3aXRjaFByaW1pdGl2ZXMuUm9vdD4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxTd2l0Y2hQcmltaXRpdmVzLlJvb3QKICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJwZWVyIGlubGluZS1mbGV4IGgtNiB3LTExIHNocmluay0wIGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXRyYW5zcGFyZW50IHRyYW5zaXRpb24tY29sb3JzIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LWJhY2tncm91bmQgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAgZGF0YS1bc3RhdGU9Y2hlY2tlZF06YmctcHJpbWFyeSBkYXRhLVtzdGF0ZT11bmNoZWNrZWRdOmJnLWlucHV0IiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogICAgcmVmPXtyZWZ9CiAgPgogICAgPFN3aXRjaFByaW1pdGl2ZXMuVGh1bWIKICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAicG9pbnRlci1ldmVudHMtbm9uZSBibG9jayBoLTUgdy01IHJvdW5kZWQtZnVsbCBiZy1iYWNrZ3JvdW5kIHNoYWRvdy1sZyByaW5nLTAgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZGF0YS1bc3RhdGU9Y2hlY2tlZF06dHJhbnNsYXRlLXgtNSBkYXRhLVtzdGF0ZT11bmNoZWNrZWRdOnRyYW5zbGF0ZS14LTAiCiAgICAgICl9CiAgICAvPgogIDwvU3dpdGNoUHJpbWl0aXZlcy5Sb290PgopKQpTd2l0Y2guZGlzcGxheU5hbWUgPSBTd2l0Y2hQcmltaXRpdmVzLlJvb3QuZGlzcGxheU5hbWUKCmV4cG9ydCB7IFN3aXRjaCB9Cg==' | base64 -d > /root/localpulse/src/components/ui/switch.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gIkAvaG9va3MvdXNlLXRvYXN0IgppbXBvcnQgewogIFRvYXN0LAogIFRvYXN0Q2xvc2UsCiAgVG9hc3REZXNjcmlwdGlvbiwKICBUb2FzdFByb3ZpZGVyLAogIFRvYXN0VGl0bGUsCiAgVG9hc3RWaWV3cG9ydCwKfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvdG9hc3QiCgpleHBvcnQgZnVuY3Rpb24gVG9hc3RlcigpIHsKICBjb25zdCB7IHRvYXN0cyB9ID0gdXNlVG9hc3QoKQoKICByZXR1cm4gKAogICAgPFRvYXN0UHJvdmlkZXI+CiAgICAgIHt0b2FzdHMubWFwKGZ1bmN0aW9uICh7IGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIGFjdGlvbiwgLi4ucHJvcHMgfSkgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICA8VG9hc3Qga2V5PXtpZH0gey4uLnByb3BzfT4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImdyaWQgZ2FwLTEiPgogICAgICAgICAgICAgIHt0aXRsZSAmJiA8VG9hc3RUaXRsZT57dGl0bGV9PC9Ub2FzdFRpdGxlPn0KICAgICAgICAgICAgICB7ZGVzY3JpcHRpb24gJiYgKAogICAgICAgICAgICAgICAgPFRvYXN0RGVzY3JpcHRpb24+e2Rlc2NyaXB0aW9ufTwvVG9hc3REZXNjcmlwdGlvbj4KICAgICAgICAgICAgICApfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAge2FjdGlvbn0KICAgICAgICAgICAgPFRvYXN0Q2xvc2UgLz4KICAgICAgICAgIDwvVG9hc3Q+CiAgICAgICAgKQogICAgICB9KX0KICAgICAgPFRvYXN0Vmlld3BvcnQgLz4KICAgIDwvVG9hc3RQcm92aWRlcj4KICApCn0K' | base64 -d > /root/localpulse/src/components/ui/toaster.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHkiCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgoKY29uc3QgYmFkZ2VWYXJpYW50cyA9IGN2YSgKICAiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBib3JkZXIgcHgtMi41IHB5LTAuNSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXJpbmcgZm9jdXM6cmluZy1vZmZzZXQtMiIsCiAgewogICAgdmFyaWFudHM6IHsKICAgICAgdmFyaWFudDogewogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAiYm9yZGVyLXRyYW5zcGFyZW50IGJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgaG92ZXI6YmctcHJpbWFyeS84MCIsCiAgICAgICAgc2Vjb25kYXJ5OgogICAgICAgICAgImJvcmRlci10cmFuc3BhcmVudCBiZy1zZWNvbmRhcnkgdGV4dC1zZWNvbmRhcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1zZWNvbmRhcnkvODAiLAogICAgICAgIGRlc3RydWN0aXZlOgogICAgICAgICAgImJvcmRlci10cmFuc3BhcmVudCBiZy1kZXN0cnVjdGl2ZSB0ZXh0LWRlc3RydWN0aXZlLWZvcmVncm91bmQgaG92ZXI6YmctZGVzdHJ1Y3RpdmUvODAiLAogICAgICAgIG91dGxpbmU6ICJ0ZXh0LWZvcmVncm91bmQiLAogICAgICAgIHN1Y2Nlc3M6ICJib3JkZXItdHJhbnNwYXJlbnQgYmctZ3JlZW4tNjAwIHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIGhvdmVyOmJnLWdyZWVuLTYwMC84MCIsCiAgICAgIH0sCiAgICB9LAogICAgZGVmYXVsdFZhcmlhbnRzOiB7CiAgICAgIHZhcmlhbnQ6ICJkZWZhdWx0IiwKICAgIH0sCiAgfQopCgpleHBvcnQgaW50ZXJmYWNlIEJhZGdlUHJvcHMKICBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PiwKICAgIFZhcmlhbnRQcm9wczx0eXBlb2YgYmFkZ2VWYXJpYW50cz4ge30KCmZ1bmN0aW9uIEJhZGdlKHsgY2xhc3NOYW1lLCB2YXJpYW50LCAuLi5wcm9wcyB9OiBCYWRnZVByb3BzKSB7CiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPXtjbihiYWRnZVZhcmlhbnRzKHsgdmFyaWFudCB9KSwgY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPgogICkKfQoKZXhwb3J0IHsgQmFkZ2UsIGJhZGdlVmFyaWFudHMgfQo=' | base64 -d > /root/localpulse/src/components/ui/badge.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgQXZhdGFyUHJpbWl0aXZlIGZyb20gIkByYWRpeC11aS9yZWFjdC1hdmF0YXIiCmltcG9ydCBOZXh0SW1hZ2UgZnJvbSAibmV4dC9pbWFnZSIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCgpjb25zdCBBdmF0YXIgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIEF2YXRhclByaW1pdGl2ZS5Sb290PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEF2YXRhclByaW1pdGl2ZS5Sb290Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPEF2YXRhclByaW1pdGl2ZS5Sb290CiAgICByZWY9e3JlZn0KICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICJyZWxhdGl2ZSBmbGV4IGgtMTAgdy0xMCBzaHJpbmstMCBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1mdWxsIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCkF2YXRhci5kaXNwbGF5TmFtZSA9IEF2YXRhclByaW1pdGl2ZS5Sb290LmRpc3BsYXlOYW1lCgpjb25zdCBBdmF0YXJJbWFnZSA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQXZhdGFyUHJpbWl0aXZlLkltYWdlPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEF2YXRhclByaW1pdGl2ZS5JbWFnZT4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxBdmF0YXJQcmltaXRpdmUuSW1hZ2UgcmVmPXtyZWZ9IGFzQ2hpbGQgY2xhc3NOYW1lPXtjbigiYXNwZWN0LXNxdWFyZSBoLWZ1bGwgdy1mdWxsIiwgY2xhc3NOYW1lKX0gey4uLnByb3BzfT4KICAgIDxOZXh0SW1hZ2UKICAgICAgZmlsbAogICAgICBzaXplcz0iKG1heC13aWR0aDogNzY4cHgpIDEwdncsIDV2dyIKICAgICAgY2xhc3NOYW1lPSJvYmplY3QtY292ZXIiCiAgICAgIHsuLi4ocHJvcHMgYXMgYW55KX0KICAgIC8+CiAgPC9BdmF0YXJQcmltaXRpdmUuSW1hZ2U+CikpCkF2YXRhckltYWdlLmRpc3BsYXlOYW1lID0gQXZhdGFyUHJpbWl0aXZlLkltYWdlLmRpc3BsYXlOYW1lCgpjb25zdCBBdmF0YXJGYWxsYmFjayA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgQXZhdGFyUHJpbWl0aXZlLkZhbGxiYWNrPiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIEF2YXRhclByaW1pdGl2ZS5GYWxsYmFjaz4KPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKAogIDxBdmF0YXJQcmltaXRpdmUuRmFsbGJhY2sKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgImZsZXggaC1mdWxsIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLW11dGVkIiwKICAgICAgY2xhc3NOYW1lCiAgICApfQogICAgey4uLnByb3BzfQogIC8+CikpCkF2YXRhckZhbGxiYWNrLmRpc3BsYXlOYW1lID0gQXZhdGFyUHJpbWl0aXZlLkZhbGxiYWNrLmRpc3BsYXlOYW1lCgpleHBvcnQgeyBBdmF0YXIsIEF2YXRhckltYWdlLCBBdmF0YXJGYWxsYmFjayB9Cg==' | base64 -d > /root/localpulse/src/components/ui/avatar.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'CiJ1c2UgY2xpZW50IgoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCmltcG9ydCAqIGFzIFNsaWRlclByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3Qtc2xpZGVyIgoKaW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmNvbnN0IFNsaWRlciA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2xpZGVyUHJpbWl0aXZlLlJvb3Q+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2xpZGVyUHJpbWl0aXZlLlJvb3Q+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8U2xpZGVyUHJpbWl0aXZlLlJvb3QKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbigKICAgICAgInJlbGF0aXZlIGZsZXggdy1mdWxsIHRvdWNoLW5vbmUgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIGdyb3VwIiwgLy8gQWRkZWQgZ3JvdXAgZm9yIHBvdGVudGlhbCBzdHlsaW5nIG9mIHRodW1iIG9uIGhvdmVyL2ZvY3VzCiAgICAgIGNsYXNzTmFtZQogICAgKX0KICAgIHsuLi5wcm9wc30KICA+CiAgICA8U2xpZGVyUHJpbWl0aXZlLlRyYWNrIGNsYXNzTmFtZT0icmVsYXRpdmUgaC0yIHctZnVsbCBncm93IG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWZ1bGwgYmctc2Vjb25kYXJ5IGdyb3VwLWRpc2FibGVkOmJnLW11dGVkLWZvcmVncm91bmQvMjAiPgogICAgICA8U2xpZGVyUHJpbWl0aXZlLlJhbmdlIGNsYXNzTmFtZT0iYWJzb2x1dGUgaC1mdWxsIGJnLXByaW1hcnkgZ3JvdXAtZGlzYWJsZWQ6YmctcHJpbWFyeS81MCIgLz4KICAgIDwvU2xpZGVyUHJpbWl0aXZlLlRyYWNrPgogICAgPFNsaWRlclByaW1pdGl2ZS5UaHVtYiAKICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAiYmxvY2sgaC01IHctNSByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXByaW1hcnkgYmctYmFja2dyb3VuZCByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAiLAogICAgICAgICJob3ZlcjpiZy1wcmltYXJ5LzEwIiAvLyBTbGlnaHQgdmlzdWFsIGZlZWRiYWNrIG9uIGhvdmVyCiAgICAgICl9CiAgICAvPgogIDwvU2xpZGVyUHJpbWl0aXZlLlJvb3Q+CikpClNsaWRlci5kaXNwbGF5TmFtZSA9IFNsaWRlclByaW1pdGl2ZS5Sb290LmRpc3BsYXlOYW1lCgpleHBvcnQgeyBTbGlkZXIgfQo=' | base64 -d > /root/localpulse/src/components/ui/slider.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnOwoKaW1wb3J0IHtjbn0gZnJvbSAnQC9saWIvdXRpbHMnOwoKY29uc3QgVGV4dGFyZWEgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQsIFJlYWN0LkNvbXBvbmVudFByb3BzPCd0ZXh0YXJlYSc+PigKICAoe2NsYXNzTmFtZSwgLi4ucHJvcHN9LCByZWYpID0+IHsKICAgIHJldHVybiAoCiAgICAgIDx0ZXh0YXJlYQogICAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgICAnZmxleCBtaW4taC1bODBweF0gdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHB4LTMgcHktMiB0ZXh0LWJhc2UgcmluZy1vZmZzZXQtYmFja2dyb3VuZCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwIG1kOnRleHQtc20nLAogICAgICAgICAgY2xhc3NOYW1lCiAgICAgICAgKX0KICAgICAgICByZWY9e3JlZn0KICAgICAgICB7Li4ucHJvcHN9CiAgICAgIC8+CiAgICApOwogIH0KKTsKVGV4dGFyZWEuZGlzcGxheU5hbWUgPSAnVGV4dGFyZWEnOwoKZXhwb3J0IHtUZXh0YXJlYX07Cg==' | base64 -d > /root/localpulse/src/components/ui/textarea.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgUG9wb3ZlclByaW1pdGl2ZSBmcm9tICJAcmFkaXgtdWkvcmVhY3QtcG9wb3ZlciIKCmltcG9ydCB7IGNuIH0gZnJvbSAiQC9saWIvdXRpbHMiCgpjb25zdCBQb3BvdmVyID0gUG9wb3ZlclByaW1pdGl2ZS5Sb290Cgpjb25zdCBQb3BvdmVyVHJpZ2dlciA9IFBvcG92ZXJQcmltaXRpdmUuVHJpZ2dlcgoKY29uc3QgUG9wb3ZlckFuY2hvciA9IFBvcG92ZXJQcmltaXRpdmUuQW5jaG9yCgpjb25zdCBQb3BvdmVyQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgUG9wb3ZlclByaW1pdGl2ZS5Db250ZW50PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFBvcG92ZXJQcmltaXRpdmUuQ29udGVudD4KPigoeyBjbGFzc05hbWUsIGFsaWduID0gImNlbnRlciIsIHNpZGVPZmZzZXQgPSA0LCAuLi5wcm9wcyB9LCByZWYpID0+ICgKICA8UG9wb3ZlclByaW1pdGl2ZS5Qb3J0YWw+CiAgICA8UG9wb3ZlclByaW1pdGl2ZS5Db250ZW50CiAgICAgIHJlZj17cmVmfQogICAgICBhbGlnbj17YWxpZ259CiAgICAgIHNpZGVPZmZzZXQ9e3NpZGVPZmZzZXR9CiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgInotNTAgdy03MiByb3VuZGVkLW1kIGJvcmRlciBiZy1wb3BvdmVyIHAtNCB0ZXh0LXBvcG92ZXItZm9yZWdyb3VuZCBzaGFkb3ctbWQgb3V0bGluZS1ub25lIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIGRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSBkYXRhLVtzaWRlPWJvdHRvbV06c2xpZGUtaW4tZnJvbS10b3AtMiBkYXRhLVtzaWRlPWxlZnRdOnNsaWRlLWluLWZyb20tcmlnaHQtMiBkYXRhLVtzaWRlPXJpZ2h0XTpzbGlkZS1pbi1mcm9tLWxlZnQtMiBkYXRhLVtzaWRlPXRvcF06c2xpZGUtaW4tZnJvbS1ib3R0b20tMiIsCiAgICAgICAgY2xhc3NOYW1lCiAgICAgICl9CiAgICAgIHsuLi5wcm9wc30KICAgIC8+CiAgPC9Qb3BvdmVyUHJpbWl0aXZlLlBvcnRhbD4KKSkKUG9wb3ZlckNvbnRlbnQuZGlzcGxheU5hbWUgPSBQb3BvdmVyUHJpbWl0aXZlLkNvbnRlbnQuZGlzcGxheU5hbWUKCmV4cG9ydCB7IFBvcG92ZXIsIFBvcG92ZXJUcmlnZ2VyLCBQb3BvdmVyQ29udGVudCwgUG9wb3ZlckFuY2hvciB9Cg==' | base64 -d > /root/localpulse/src/components/ui/popover.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgTGFiZWxQcmltaXRpdmUgZnJvbSAiQHJhZGl4LXVpL3JlYWN0LWxhYmVsIgppbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSAiY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5IgoKaW1wb3J0IHsgY24gfSBmcm9tICJAL2xpYi91dGlscyIKCmNvbnN0IGxhYmVsVmFyaWFudHMgPSBjdmEoCiAgInRleHQtc20gZm9udC1tZWRpdW0gbGVhZGluZy1ub25lIHBlZXItZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHBlZXItZGlzYWJsZWQ6b3BhY2l0eS03MCIKKQoKY29uc3QgTGFiZWwgPSBSZWFjdC5mb3J3YXJkUmVmPAogIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIExhYmVsUHJpbWl0aXZlLlJvb3Q+LAogIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgTGFiZWxQcmltaXRpdmUuUm9vdD4gJgogICAgVmFyaWFudFByb3BzPHR5cGVvZiBsYWJlbFZhcmlhbnRzPgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoCiAgPExhYmVsUHJpbWl0aXZlLlJvb3QKICAgIHJlZj17cmVmfQogICAgY2xhc3NOYW1lPXtjbihsYWJlbFZhcmlhbnRzKCksIGNsYXNzTmFtZSl9CiAgICB7Li4ucHJvcHN9CiAgLz4KKSkKTGFiZWwuZGlzcGxheU5hbWUgPSBMYWJlbFByaW1pdGl2ZS5Sb290LmRpc3BsYXlOYW1lCgpleHBvcnQgeyBMYWJlbCB9Cg==' | base64 -d > /root/localpulse/src/components/ui/label.tsx
mkdir -p /root/localpulse/src/components/ui
echo 'InVzZSBjbGllbnQiCgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKaW1wb3J0ICogYXMgTGFiZWxQcmltaXRpdmUgZnJvbSAiQHJhZGl4LXVpL3JlYWN0LWxhYmVsIgppbXBvcnQgeyBTbG90IH0gZnJvbSAiQHJhZGl4LXVpL3JlYWN0LXNsb3QiCmltcG9ydCB7CiAgQ29udHJvbGxlciwKICBGb3JtUHJvdmlkZXIsCiAgdXNlRm9ybUNvbnRleHQsCiAgdHlwZSBDb250cm9sbGVyUHJvcHMsCiAgdHlwZSBGaWVsZFBhdGgsCiAgdHlwZSBGaWVsZFZhbHVlcywKfSBmcm9tICJyZWFjdC1ob29rLWZvcm0iCgppbXBvcnQgeyBjbiB9IGZyb20gIkAvbGliL3V0aWxzIgppbXBvcnQgeyBMYWJlbCB9IGZyb20gIkAvY29tcG9uZW50cy91aS9sYWJlbCIKCmNvbnN0IEZvcm0gPSBGb3JtUHJvdmlkZXIKCnR5cGUgRm9ybUZpZWxkQ29udGV4dFZhbHVlPAogIFRGaWVsZFZhbHVlcyBleHRlbmRzIEZpZWxkVmFsdWVzID0gRmllbGRWYWx1ZXMsCiAgVE5hbWUgZXh0ZW5kcyBGaWVsZFBhdGg8VEZpZWxkVmFsdWVzPiA9IEZpZWxkUGF0aDxURmllbGRWYWx1ZXM+Cj4gPSB7CiAgbmFtZTogVE5hbWUKfQoKY29uc3QgRm9ybUZpZWxkQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8Rm9ybUZpZWxkQ29udGV4dFZhbHVlPigKICB7fSBhcyBGb3JtRmllbGRDb250ZXh0VmFsdWUKKQoKY29uc3QgRm9ybUZpZWxkID0gPAogIFRGaWVsZFZhbHVlcyBleHRlbmRzIEZpZWxkVmFsdWVzID0gRmllbGRWYWx1ZXMsCiAgVE5hbWUgZXh0ZW5kcyBGaWVsZFBhdGg8VEZpZWxkVmFsdWVzPiA9IEZpZWxkUGF0aDxURmllbGRWYWx1ZXM+Cj4oewogIC4uLnByb3BzCn06IENvbnRyb2xsZXJQcm9wczxURmllbGRWYWx1ZXMsIFROYW1lPikgPT4gewogIHJldHVybiAoCiAgICA8Rm9ybUZpZWxkQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBuYW1lOiBwcm9wcy5uYW1lIH19PgogICAgICA8Q29udHJvbGxlciB7Li4ucHJvcHN9IC8+CiAgICA8L0Zvcm1GaWVsZENvbnRleHQuUHJvdmlkZXI+CiAgKQp9Cgpjb25zdCB1c2VGb3JtRmllbGQgPSAoKSA9PiB7CiAgY29uc3QgZmllbGRDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChGb3JtRmllbGRDb250ZXh0KQogIGNvbnN0IGl0ZW1Db250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChGb3JtSXRlbUNvbnRleHQpCiAgY29uc3QgeyBnZXRGaWVsZFN0YXRlLCBmb3JtU3RhdGUgfSA9IHVzZUZvcm1Db250ZXh0KCkKCiAgY29uc3QgZmllbGRTdGF0ZSA9IGdldEZpZWxkU3RhdGUoZmllbGRDb250ZXh0Lm5hbWUsIGZvcm1TdGF0ZSkKCiAgaWYgKCFmaWVsZENvbnRleHQpIHsKICAgIHRocm93IG5ldyBFcnJvcigidXNlRm9ybUZpZWxkIHNob3VsZCBiZSB1c2VkIHdpdGhpbiA8Rm9ybUZpZWxkPiIpCiAgfQoKICBjb25zdCB7IGlkIH0gPSBpdGVtQ29udGV4dAoKICByZXR1cm4gewogICAgaWQsCiAgICBuYW1lOiBmaWVsZENvbnRleHQubmFtZSwKICAgIGZvcm1JdGVtSWQ6IGAke2lkfS1mb3JtLWl0ZW1gLAogICAgZm9ybURlc2NyaXB0aW9uSWQ6IGAke2lkfS1mb3JtLWl0ZW0tZGVzY3JpcHRpb25gLAogICAgZm9ybU1lc3NhZ2VJZDogYCR7aWR9LWZvcm0taXRlbS1tZXNzYWdlYCwKICAgIC4uLmZpZWxkU3RhdGUsCiAgfQp9Cgp0eXBlIEZvcm1JdGVtQ29udGV4dFZhbHVlID0gewogIGlkOiBzdHJpbmcKfQoKY29uc3QgRm9ybUl0ZW1Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxGb3JtSXRlbUNvbnRleHRWYWx1ZT4oCiAge30gYXMgRm9ybUl0ZW1Db250ZXh0VmFsdWUKKQoKY29uc3QgRm9ybUl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPAogIEhUTUxEaXZFbGVtZW50LAogIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50Pgo+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7CiAgY29uc3QgaWQgPSBSZWFjdC51c2VJZCgpCgogIHJldHVybiAoCiAgICA8Rm9ybUl0ZW1Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGlkIH19PgogICAgICA8ZGl2IHJlZj17cmVmfSBjbGFzc05hbWU9e2NuKCJzcGFjZS15LTIiLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9IC8+CiAgICA8L0Zvcm1JdGVtQ29udGV4dC5Qcm92aWRlcj4KICApCn0pCkZvcm1JdGVtLmRpc3BsYXlOYW1lID0gIkZvcm1JdGVtIgoKY29uc3QgRm9ybUxhYmVsID0gUmVhY3QuZm9yd2FyZFJlZjwKICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBMYWJlbFByaW1pdGl2ZS5Sb290PiwKICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIExhYmVsUHJpbWl0aXZlLlJvb3Q+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICBjb25zdCB7IGVycm9yLCBmb3JtSXRlbUlkIH0gPSB1c2VGb3JtRmllbGQoKQoKICByZXR1cm4gKAogICAgPExhYmVsCiAgICAgIHJlZj17cmVmfQogICAgICBjbGFzc05hbWU9e2NuKGVycm9yICYmICJ0ZXh0LWRlc3RydWN0aXZlIiwgY2xhc3NOYW1lKX0KICAgICAgaHRtbEZvcj17Zm9ybUl0ZW1JZH0KICAgICAgey4uLnByb3BzfQogICAgLz4KICApCn0pCkZvcm1MYWJlbC5kaXNwbGF5TmFtZSA9ICJGb3JtTGFiZWwiCgpjb25zdCBGb3JtQ29udHJvbCA9IFJlYWN0LmZvcndhcmRSZWY8CiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2xvdD4sCiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTbG90Pgo+KCh7IC4uLnByb3BzIH0sIHJlZikgPT4gewogIGNvbnN0IHsgZXJyb3IsIGZvcm1JdGVtSWQsIGZvcm1EZXNjcmlwdGlvbklkLCBmb3JtTWVzc2FnZUlkIH0gPSB1c2VGb3JtRmllbGQoKQoKICByZXR1cm4gKAogICAgPFNsb3QKICAgICAgcmVmPXtyZWZ9CiAgICAgIGlkPXtmb3JtSXRlbUlkfQogICAgICBhcmlhLWRlc2NyaWJlZGJ5PXsKICAgICAgICAhZXJyb3IKICAgICAgICAgID8gYCR7Zm9ybURlc2NyaXB0aW9uSWR9YAogICAgICAgICAgOiBgJHtmb3JtRGVzY3JpcHRpb25JZH0gJHtmb3JtTWVzc2FnZUlkfWAKICAgICAgfQogICAgICBhcmlhLWludmFsaWQ9eyEhZXJyb3J9CiAgICAgIHsuLi5wcm9wc30KICAgIC8+CiAgKQp9KQpGb3JtQ29udHJvbC5kaXNwbGF5TmFtZSA9ICJGb3JtQ29udHJvbCIKCmNvbnN0IEZvcm1EZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8CiAgSFRNTFBhcmFncmFwaEVsZW1lbnQsCiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFBhcmFncmFwaEVsZW1lbnQ+Cj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICBjb25zdCB7IGZvcm1EZXNjcmlwdGlvbklkIH0gPSB1c2VGb3JtRmllbGQoKQoKICByZXR1cm4gKAogICAgPHAKICAgICAgcmVmPXtyZWZ9CiAgICAgIGlkPXtmb3JtRGVzY3JpcHRpb25JZH0KICAgICAgY2xhc3NOYW1lPXtjbigidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiLCBjbGFzc05hbWUpfQogICAgICB7Li4ucHJvcHN9CiAgICAvPgogICkKfSkKRm9ybURlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gIkZvcm1EZXNjcmlwdGlvbiIKCmNvbnN0IEZvcm1NZXNzYWdlID0gUmVhY3QuZm9yd2FyZFJlZjwKICBIVE1MUGFyYWdyYXBoRWxlbWVudCwKICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MUGFyYWdyYXBoRWxlbWVudD4KPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICBjb25zdCB7IGVycm9yLCBmb3JtTWVzc2FnZUlkIH0gPSB1c2VGb3JtRmllbGQoKQogIGNvbnN0IGJvZHkgPSBlcnJvciA/IFN0cmluZyhlcnJvcj8ubWVzc2FnZSA/PyAiIikgOiBjaGlsZHJlbgoKICBpZiAoIWJvZHkpIHsKICAgIHJldHVybiBudWxsCiAgfQoKICByZXR1cm4gKAogICAgPHAKICAgICAgcmVmPXtyZWZ9CiAgICAgIGlkPXtmb3JtTWVzc2FnZUlkfQogICAgICBjbGFzc05hbWU9e2NuKCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZGVzdHJ1Y3RpdmUiLCBjbGFzc05hbWUpfQogICAgICB7Li4ucHJvcHN9CiAgICA+CiAgICAgIHtib2R5fQogICAgPC9wPgogICkKfSkKRm9ybU1lc3NhZ2UuZGlzcGxheU5hbWUgPSAiRm9ybU1lc3NhZ2UiCgpleHBvcnQgewogIHVzZUZvcm1GaWVsZCwKICBGb3JtLAogIEZvcm1JdGVtLAogIEZvcm1MYWJlbCwKICBGb3JtQ29udHJvbCwKICBGb3JtRGVzY3JpcHRpb24sCiAgRm9ybU1lc3NhZ2UsCiAgRm9ybUZpZWxkLAp9Cg==' | base64 -d > /root/localpulse/src/components/ui/form.tsx
mkdir -p /root/localpulse/src/components/admin
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBkZWxldGVQb3N0IH0gZnJvbSAnQC9hcHAvYWRtaW4vKGF1dGhlZCkvcG9zdHMvYWN0aW9ucyc7CmltcG9ydCB7CiAgQWxlcnREaWFsb2csCiAgQWxlcnREaWFsb2dBY3Rpb24sCiAgQWxlcnREaWFsb2dDYW5jZWwsCiAgQWxlcnREaWFsb2dDb250ZW50LAogIEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24sCiAgQWxlcnREaWFsb2dGb290ZXIsCiAgQWxlcnREaWFsb2dIZWFkZXIsCiAgQWxlcnREaWFsb2dUaXRsZSwKICBBbGVydERpYWxvZ1RyaWdnZXIsCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0LWRpYWxvZyc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgdHlwZSB7IFBvc3QgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CgppbnRlcmZhY2UgUG9zdEFjdGlvbnNQcm9wcyB7CiAgcG9zdDogUG9zdDsKfQoKY29uc3QgUG9zdEFjdGlvbnM6IEZDPFBvc3RBY3Rpb25zUHJvcHM+ID0gKHsgcG9zdCB9KSA9PiB7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgY29uc3QgaGFuZGxlRGVsZXRlID0gYXN5bmMgKCkgPT4gewogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGVsZXRlUG9zdChwb3N0LmlkKTsKICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdQb3N0IERlbGV0ZWQnLAogICAgICAgIGRlc2NyaXB0aW9uOiBgUG9zdCAjJHtwb3N0LmlkfSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVsZXRlZC5gLAogICAgICB9KTsKICAgICAgcm91dGVyLnJlZnJlc2goKTsgLy8gUmUtZmV0Y2hlcyB0aGUgZGF0YSBvbiB0aGUgcGFnZQogICAgfSBlbHNlIHsKICAgICAgdG9hc3QoewogICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgICAgdGl0bGU6ICdFcnJvciBEZWxldGluZyBQb3N0JywKICAgICAgICBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yLAogICAgICB9KTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPD4KICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIiBzaXplPSJzbSIgYXNDaGlsZD4KICAgICAgICA8TGluayBocmVmPXtgL3Bvc3RzLyR7cG9zdC5pZH1gfSB0YXJnZXQ9Il9ibGFuayI+VmlldzwvTGluaz4KICAgICAgPC9CdXR0b24+CiAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0ic20iIGNsYXNzTmFtZT0idGV4dC15ZWxsb3ctNjAwIGhvdmVyOnRleHQteWVsbG93LTcwMCBib3JkZXIteWVsbG93LTUwMCBob3Zlcjpib3JkZXIteWVsbG93LTYwMCIgZGlzYWJsZWQ+CiAgICAgICAgRWRpdAogICAgICA8L0J1dHRvbj4KICAgICAgPEFsZXJ0RGlhbG9nPgogICAgICAgIDxBbGVydERpYWxvZ1RyaWdnZXIgYXNDaGlsZD4KICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZGVzdHJ1Y3RpdmUiIHNpemU9InNtIj4KICAgICAgICAgICAgRGVsZXRlCiAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICA8L0FsZXJ0RGlhbG9nVHJpZ2dlcj4KICAgICAgICA8QWxlcnREaWFsb2dDb250ZW50PgogICAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgICA8QWxlcnREaWFsb2dUaXRsZT5BcmUgeW91IGFic29sdXRlbHkgc3VyZT88L0FsZXJ0RGlhbG9nVGl0bGU+CiAgICAgICAgICAgIDxBbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuIFRoaXMgd2lsbCBwZXJtYW5lbnRseSBkZWxldGUgcG9zdCAje3Bvc3QuaWR9IGFuZCBhbGwgYXNzb2NpYXRlZCBkYXRhIChjb21tZW50cywgbGlrZXMpIGZyb20gdGhlIHNlcnZlcnMuCiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgIDwvQWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICA8QWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5DYW5jZWw8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgICA8QWxlcnREaWFsb2dBY3Rpb24gb25DbGljaz17aGFuZGxlRGVsZXRlfSBjbGFzc05hbWU9ImJnLWRlc3RydWN0aXZlIGhvdmVyOmJnLWRlc3RydWN0aXZlLzkwIj4KICAgICAgICAgICAgICBZZXMsIGRlbGV0ZSBwb3N0CiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dBY3Rpb24+CiAgICAgICAgICA8L0FsZXJ0RGlhbG9nRm9vdGVyPgogICAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PgogICAgICA8L0FsZXJ0RGlhbG9nPgogICAgPC8+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFBvc3RBY3Rpb25zOwo=' | base64 -d > /root/localpulse/src/components/admin/post-actions.tsx
mkdir -p /root/localpulse/src/components/admin
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVBhdGhuYW1lLCB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCB7IHVzZURlYm91bmNlZENhbGxiYWNrIH0gZnJvbSAndXNlLWRlYm91bmNlJzsKaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgU2VhcmNoIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKCmludGVyZmFjZSBBZG1pblRhYmxlQ29udHJvbHNQcm9wcyB7CiAgc2VhcmNoUGxhY2Vob2xkZXI/OiBzdHJpbmc7CiAgY3JlYXRlQWN0aW9uPzogUmVhY3QuUmVhY3ROb2RlOwogIGN1cnJlbnRQYWdlPzogbnVtYmVyOwogIHRvdGFsUGFnZXM/OiBudW1iZXI7CiAgc2hvd1NlYXJjaD86IGJvb2xlYW47Cn0KCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkbWluVGFibGVDb250cm9scyh7CiAgc2VhcmNoUGxhY2Vob2xkZXIsCiAgY3VycmVudFBhZ2UsCiAgdG90YWxQYWdlcywKICBzaG93U2VhcmNoID0gdHJ1ZSwKfTogQWRtaW5UYWJsZUNvbnRyb2xzUHJvcHMpIHsKICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTsKICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7CiAgY29uc3QgeyByZXBsYWNlIH0gPSB1c2VSb3V0ZXIoKTsKCiAgY29uc3QgaGFuZGxlU2VhcmNoID0gdXNlRGVib3VuY2VkQ2FsbGJhY2soKHRlcm06IHN0cmluZykgPT4gewogICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2hQYXJhbXMpOwogICAgcGFyYW1zLnNldCgncGFnZScsICcxJyk7CiAgICBpZiAodGVybSkgewogICAgICBwYXJhbXMuc2V0KCdxdWVyeScsIHRlcm0pOwogICAgfSBlbHNlIHsKICAgICAgcGFyYW1zLmRlbGV0ZSgncXVlcnknKTsKICAgIH0KICAgIHJlcGxhY2UoYCR7cGF0aG5hbWV9PyR7cGFyYW1zLnRvU3RyaW5nKCl9YCk7CiAgfSwgMzAwKTsKICAKICBjb25zdCBjcmVhdGVQYWdlVVJMID0gKHBhZ2VOdW1iZXI6IG51bWJlciB8IHN0cmluZykgPT4gewogICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2hQYXJhbXMpOwogICAgcGFyYW1zLnNldCgncGFnZScsIHBhZ2VOdW1iZXIudG9TdHJpbmcoKSk7CiAgICByZXR1cm4gYCR7cGF0aG5hbWV9PyR7cGFyYW1zLnRvU3RyaW5nKCl9YDsKICB9OwoKICBjb25zdCBpc1BhZ2luYXRpb25WaXNpYmxlID0gY3VycmVudFBhZ2UgIT09IHVuZGVmaW5lZCAmJiB0b3RhbFBhZ2VzICE9PSB1bmRlZmluZWQgJiYgdG90YWxQYWdlcyA+IDE7CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIj4KICAgICAge3Nob3dTZWFyY2ggJiYgc2VhcmNoUGxhY2Vob2xkZXIgJiYgKAogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSBmbGV4LTEgbWQ6Z3Jvdy0wIj4KICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPSJhYnNvbHV0ZSBsZWZ0LTIuNSB0b3AtMi41IGgtNCB3LTQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIiAvPgogICAgICAgICAgPElucHV0CiAgICAgICAgICAgIHR5cGU9InNlYXJjaCIKICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3NlYXJjaFBsYWNlaG9sZGVyfQogICAgICAgICAgICBjbGFzc05hbWU9InctZnVsbCByb3VuZGVkLWxnIGJnLWJhY2tncm91bmQgcGwtOCBtZDp3LVsyMDBweF0gbGc6dy1bMzM2cHhdIgogICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVNlYXJjaChlLnRhcmdldC52YWx1ZSl9CiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17c2VhcmNoUGFyYW1zLmdldCgncXVlcnknKT8udG9TdHJpbmcoKX0KICAgICAgICAgIC8+CiAgICAgICAgPC9kaXY+CiAgICAgICl9CgogICAgICB7aXNQYWdpbmF0aW9uVmlzaWJsZSAmJiAoCiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1sLWF1dG8iPgogICAgICAgICAgICA8QnV0dG9uCiAgICAgICAgICAgICAgICB2YXJpYW50PSJvdXRsaW5lIgogICAgICAgICAgICAgICAgc2l6ZT0ic20iCiAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFBhZ2UgPD0gMX0KICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJlcGxhY2UoY3JlYXRlUGFnZVVSTChjdXJyZW50UGFnZSAtIDEpKX0KICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgUHJldmlvdXMKICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgUGFnZSB7Y3VycmVudFBhZ2V9IG9mIHt0b3RhbFBhZ2VzfQogICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgIDxCdXR0b24KICAgICAgICAgICAgICAgIHZhcmlhbnQ9Im91dGxpbmUiCiAgICAgICAgICAgICAgICBzaXplPSJzbSIKICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50UGFnZSA+PSB0b3RhbFBhZ2VzfQogICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVwbGFjZShjcmVhdGVQYWdlVVJMKGN1cnJlbnRQYWdlICsgMSkpfQogICAgICAgICAgICA+CiAgICAgICAgICAgICAgICBOZXh0CiAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICApfQogICAgPC9kaXY+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/components/admin/admin-table-controls.tsx
mkdir -p /root/localpulse/src/components/admin
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwppbXBvcnQgeyB1c2VQYXRobmFtZSwgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IGFkbWluTG9nb3V0IH0gZnJvbSAnQC9hcHAvYWRtaW4vYWN0aW9ucyc7CmltcG9ydCB7IExheW91dERhc2hib2FyZCwgRmlsZVRleHQsIFVzZXJzLCBMb2dPdXQsIFNldHRpbmdzLCBTaGllbGRDaGVjaywgQmVsbCwgQmFkZ2VDaGVjaywgVXNlckNoZWNrIGFzIFVzZXJDaGVja0ljb24gfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7Cgpjb25zdCBuYXZJdGVtcyA9IFsKICB7IGhyZWY6ICcvYWRtaW4nLCBsYWJlbDogJ0Rhc2hib2FyZCcsIGljb246IExheW91dERhc2hib2FyZCB9LAogIHsgaHJlZjogJy9hZG1pbi9wb3N0cycsIGxhYmVsOiAnTWFuYWdlIFBvc3RzJywgaWNvbjogRmlsZVRleHQgfSwKICB7IGhyZWY6ICcvYWRtaW4vdXNlcnMnLCBsYWJlbDogJ01hbmFnZSBVc2VycycsIGljb246IFVzZXJzIH0sCiAgeyBocmVmOiAnL2FkbWluL3ZlcmlmaWNhdGlvbicsIGxhYmVsOiAnQnVzaW5lc3MgVmVyaWZpY2F0aW9uJywgaWNvbjogQmFkZ2VDaGVjayB9LAogIHsgaHJlZjogJy9hZG1pbi9ub3RpZmljYXRpb25zJywgbGFiZWw6ICdOb3RpZmljYXRpb25zJywgaWNvbjogQmVsbCB9LAogIHsgaHJlZjogJy9hZG1pbi9zZXR0aW5ncycsIGxhYmVsOiAnU2V0dGluZ3MnLCBpY29uOiBTZXR0aW5ncyB9LApdOwoKZXhwb3J0IGNvbnN0IEFkbWluTmF2OiBGQyA9ICgpID0+IHsKICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gYXN5bmMgKCkgPT4gewogICAgdHJ5IHsKICAgICAgYXdhaXQgYWRtaW5Mb2dvdXQoKTsKICAgICAgdG9hc3QoewogICAgICAgIHRpdGxlOiAnTG9nZ2VkIE91dCcsCiAgICAgICAgZGVzY3JpcHRpb246ICdZb3UgaGF2ZSBiZWVuIHN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LicsCiAgICAgIH0pOwogICAgICByb3V0ZXIucmVmcmVzaCgpOyAKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBmYWlsZWQ6JywgZXJyb3IpOwogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdMb2dvdXQgRmFpbGVkJywKICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyBsb2dvdXQuIFBsZWFzZSB0cnkgYWdhaW4uJywKICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICB9KTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPGFzaWRlIGNsYXNzTmFtZT0idy02NCBiZy1jYXJkIGJvcmRlci1yIGJvcmRlci1ib3JkZXIgZmxleCBmbGV4LWNvbCB0ZXh0LWNhcmQtZm9yZWdyb3VuZCI+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgYm9yZGVyLWIgYm9yZGVyLWJvcmRlciI+CiAgICAgICAgPExpbmsgaHJlZj0iL2FkbWluIiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KICAgICAgICAgIDxTaGllbGRDaGVjayBjbGFzc05hbWU9ImgtOCB3LTggdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC0yeGwgZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnkiPkFkbWluIFBhbmVsPC9oMT4KICAgICAgICA8L0xpbms+CiAgICAgIDwvZGl2PgogICAgICA8bmF2IGNsYXNzTmFtZT0iZmxleC1ncm93IHAtNCBzcGFjZS15LTIiPgogICAgICAgIHtuYXZJdGVtcy5tYXAoKGl0ZW0pID0+ICgKICAgICAgICAgIDxCdXR0b24KICAgICAgICAgICAga2V5PXtpdGVtLmhyZWZ9CiAgICAgICAgICAgIHZhcmlhbnQ9e3BhdGhuYW1lLnN0YXJ0c1dpdGgoaXRlbS5ocmVmKSAmJiBpdGVtLmhyZWYgIT09ICcvYWRtaW4nIHx8IHBhdGhuYW1lID09PSAnL2FkbWluJyAmJiBpdGVtLmhyZWYgPT09ICcvYWRtaW4nID8gJ2RlZmF1bHQnIDogJ2dob3N0J30KICAgICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgICAidy1mdWxsIGp1c3RpZnktc3RhcnQgdGV4dC1iYXNlIiwKICAgICAgICAgICAgICAgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoaXRlbS5ocmVmKSAmJiBpdGVtLmhyZWYgIT09ICcvYWRtaW4nIHx8IHBhdGhuYW1lID09PSAnL2FkbWluJyAmJiBpdGVtLmhyZWYgPT09ICcvYWRtaW4nKSA/ICJiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIiA6ICJob3ZlcjpiZy1tdXRlZCIKICAgICAgICAgICAgKX0KICAgICAgICAgICAgYXNDaGlsZAogICAgICAgICAgPgogICAgICAgICAgICA8TGluayBocmVmPXtpdGVtLmhyZWZ9PgogICAgICAgICAgICAgIDxpdGVtLmljb24gY2xhc3NOYW1lPSJtci0zIGgtNSB3LTUiIC8+CiAgICAgICAgICAgICAge2l0ZW0ubGFiZWx9CiAgICAgICAgICAgIDwvTGluaz4KICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICkpfQogICAgICA8L25hdj4KICAgICAgPGRpdiBjbGFzc05hbWU9InAtNCBtdC1hdXRvIGJvcmRlci10IGJvcmRlci1ib3JkZXIiPgogICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgY2xhc3NOYW1lPSJ3LWZ1bGwiIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0+CiAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT0ibXItMiBoLTUgdy01IiAvPgogICAgICAgICAgTG9nb3V0CiAgICAgICAgPC9CdXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9hc2lkZT4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgQWRtaW5OYXY7Cg==' | base64 -d > /root/localpulse/src/components/admin/admin-nav.tsx
mkdir -p /root/localpulse/src/components/admin
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7CiAgRHJvcGRvd25NZW51LAogIERyb3Bkb3duTWVudUNvbnRlbnQsCiAgRHJvcGRvd25NZW51SXRlbSwKICBEcm9wZG93bk1lbnVUcmlnZ2VyLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51JzsKaW1wb3J0IHsKICBBbGVydERpYWxvZywKICBBbGVydERpYWxvZ0FjdGlvbiwKICBBbGVydERpYWxvZ0NhbmNlbCwKICBBbGVydERpYWxvZ0NvbnRlbnQsCiAgQWxlcnREaWFsb2dEZXNjcmlwdGlvbiwKICBBbGVydERpYWxvZ0Zvb3RlciwKICBBbGVydERpYWxvZ0hlYWRlciwKICBBbGVydERpYWxvZ1RpdGxlLAogIEFsZXJ0RGlhbG9nVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQtZGlhbG9nJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IE1vcmVWZXJ0aWNhbCwgVHJhc2gyLCBFZGl0IH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IGRlbGV0ZVVzZXIgfSBmcm9tICdAL2FwcC9hZG1pbi8oYXV0aGVkKS91c2Vycy9hY3Rpb25zJzsKaW1wb3J0IHR5cGUgeyBVc2VyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwoKaW50ZXJmYWNlIFVzZXJBY3Rpb25zUHJvcHMgewogIHVzZXI6IFVzZXI7Cn0KCmNvbnN0IFVzZXJBY3Rpb25zOiBGQzxVc2VyQWN0aW9uc1Byb3BzPiA9ICh7IHVzZXIgfSkgPT4gewogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CgogIGNvbnN0IGhhbmRsZURlbGV0ZSA9IGFzeW5jICgpID0+IHsKICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRlbGV0ZVVzZXIodXNlci5pZCk7CiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgdG9hc3QoewogICAgICAgIHRpdGxlOiAnVXNlciBEZWxldGVkJywKICAgICAgICBkZXNjcmlwdGlvbjogYFVzZXIgJHt1c2VyLm5hbWV9ICgke3VzZXIuZW1haWx9KSBoYXMgYmVlbiBkZWxldGVkLmAsCiAgICAgIH0pOwogICAgICByb3V0ZXIucmVmcmVzaCgpOwogICAgfSBlbHNlIHsKICAgICAgdG9hc3QoewogICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgICAgdGl0bGU6ICdFcnJvciBEZWxldGluZyBVc2VyJywKICAgICAgICBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yLAogICAgICB9KTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPEFsZXJ0RGlhbG9nPgogICAgICA8RHJvcGRvd25NZW51PgogICAgICAgIDxEcm9wZG93bk1lbnVUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJpY29uIj4KICAgICAgICAgICAgPE1vcmVWZXJ0aWNhbCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+CiAgICAgICAgPERyb3Bkb3duTWVudUNvbnRlbnQgYWxpZ249ImVuZCI+CiAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBhc0NoaWxkPgogICAgICAgICAgICA8TGluayBocmVmPXtgL2FkbWluL3VzZXJzLyR7dXNlci5pZH0vZWRpdGB9PgogICAgICAgICAgICAgIDxFZGl0IGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgIDxzcGFuPkVkaXQgVXNlcjwvc3Bhbj4KICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPgogICAgICAgICAgPEFsZXJ0RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbQogICAgICAgICAgICAgIGNsYXNzTmFtZT0idGV4dC1kZXN0cnVjdGl2ZSBmb2N1czp0ZXh0LWRlc3RydWN0aXZlIGZvY3VzOmJnLWRlc3RydWN0aXZlLzEwIgogICAgICAgICAgICAgIG9uU2VsZWN0PXsoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpfSAvLyBQcmV2ZW50cyBEcm9wZG93bk1lbnUgZnJvbSBjbG9zaW5nCiAgICAgICAgICAgID4KICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgIERlbGV0ZSBVc2VyCiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT4KICAgICAgICAgIDwvQWxlcnREaWFsb2dUcmlnZ2VyPgogICAgICAgIDwvRHJvcGRvd25NZW51Q29udGVudD4KICAgICAgPC9Ecm9wZG93bk1lbnU+CiAgICAgIDxBbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGU+QXJlIHlvdSBhYnNvbHV0ZWx5IHN1cmU/PC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgPEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuIFRoaXMgd2lsbCBwZXJtYW5lbnRseSBkZWxldGUgdGhlIHVzZXIgYWNjb3VudCBmb3IKICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCI+IHt1c2VyLm5hbWV9ICh7dXNlci5lbWFpbH0pPC9zcGFuPi4KICAgICAgICAgICAgVGhlaXIgcG9zdHMgd2lsbCBiZWNvbWUgYW5vbnltb3VzLgogICAgICAgICAgPC9BbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgIDwvQWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgPEFsZXJ0RGlhbG9nRm9vdGVyPgogICAgICAgICAgPEFsZXJ0RGlhbG9nQ2FuY2VsPkNhbmNlbDwvQWxlcnREaWFsb2dDYW5jZWw+CiAgICAgICAgICA8QWxlcnREaWFsb2dBY3Rpb24gb25DbGljaz17aGFuZGxlRGVsZXRlfSBjbGFzc05hbWU9ImJnLWRlc3RydWN0aXZlIGhvdmVyOmJnLWRlc3RydWN0aXZlLzkwIj4KICAgICAgICAgICAgWWVzLCBkZWxldGUgdXNlcgogICAgICAgICAgPC9BbGVydERpYWxvZ0FjdGlvbj4KICAgICAgICA8L0FsZXJ0RGlhbG9nRm9vdGVyPgogICAgICA8L0FsZXJ0RGlhbG9nQ29udGVudD4KICAgIDwvQWxlcnREaWFsb2c+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFVzZXJBY3Rpb25zOwo=' | base64 -d > /root/localpulse/src/components/admin/user-actions.tsx
mkdir -p /root/localpulse/src/hooks
echo 'CiJ1c2UgY2xpZW50IjsKaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAicmVhY3QiOwoKLyoqIExvY2tzIGJvZHkgc2Nyb2xsIHdoaWxlIGBhY3RpdmVgIGlzIHRydWUuICovCmV4cG9ydCBmdW5jdGlvbiB1c2VCb2R5U2Nyb2xsTG9jayhhY3RpdmU6IGJvb2xlYW4pIHsKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKCFhY3RpdmUpIHJldHVybjsKICAgIGNvbnN0IG9yaWdpbmFsID0gZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdzsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgIHJldHVybiAoKSA9PiB7IGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBvcmlnaW5hbDsgfTsKICB9LCBbYWN0aXZlXSk7Cn0K' | base64 -d > /root/localpulse/src/hooks/useBodyScrollLock.ts
mkdir -p /root/localpulse/src/hooks
echo 'CiJ1c2UgY2xpZW50IjsKaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAicmVhY3QiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICJuZXh0L25hdmlnYXRpb24iOwoKLyoqCiAqIFB1c2hlcyBhIGhpc3RvcnkgZW50cnkgd2hlbiBgb3BlbmAgaXMgdHJ1ZSBhbmQgY2xvc2VzIG9uIEFuZHJvaWQvV2ViVmlldyBiYWNrIChwb3BzdGF0ZSkuCiAqLwpleHBvcnQgZnVuY3Rpb24gdXNlTW9kYWxCYWNrKG9wZW46IGJvb2xlYW4sIG9uQ2xvc2U6ICgpID0+IHZvaWQsIGtleTogc3RyaW5nID0gIm1vZGFsIikgewogIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKCFvcGVuKSByZXR1cm47CgogICAgLy8gY3JlYXRlIGEgYmFjay1zdG9wIHNvIHRoZSBuZXh0ICJCYWNrIiB0cmlnZ2VycyBwb3BzdGF0ZQogICAgdHJ5IHsgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHsgW2tleV06IHRydWUsIHRzOiBEYXRlLm5vdygpIH0sICIiKTsgfSBjYXRjaCB7fQoKICAgIGNvbnN0IG9uUG9wID0gKCkgPT4gewogICAgICAvLyBPbiBiYWNrIGJ1dHRvbiBwcmVzcywgY2xvc2UgdGhlIG1vZGFsLi4uCiAgICAgIG9uQ2xvc2UoKTsKICAgICAgLy8gLi4uYW5kIGVuc3VyZSB0aGUgdXNlciBpcyBiYWNrIG9uIHRoZSBob21lIHBhZ2UuCiAgICAgIHJvdXRlci5yZXBsYWNlKCIvIiwgeyBzY3JvbGw6IGZhbHNlIH0pOwogICAgfTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLCBvblBvcCk7CiAgICByZXR1cm4gKCkgPT4gewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLCBvblBvcCk7CiAgICAgIC8vIFRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCBhcyB0aGUgb25Qb3AgaGFuZGxlciBub3cgY29udHJvbHMgbmF2aWdhdGlvbgogICAgICAvLyB0cnkgeyB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7IH0gY2F0Y2gge30KICAgIH07CiAgfSwgW29wZW4sIG9uQ2xvc2UsIGtleSwgcm91dGVyXSk7Cn0K' | base64 -d > /root/localpulse/src/hooks/useModalBack.ts
mkdir -p /root/localpulse/src/hooks
echo 'InVzZSBjbGllbnQiCgovLyBJbnNwaXJlZCBieSByZWFjdC1ob3QtdG9hc3QgbGlicmFyeQppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICJyZWFjdCIKCmltcG9ydCB0eXBlIHsKICBUb2FzdEFjdGlvbkVsZW1lbnQsCiAgVG9hc3RQcm9wcywKfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvdG9hc3QiCgpjb25zdCBUT0FTVF9MSU1JVCA9IDEKY29uc3QgVE9BU1RfUkVNT1ZFX0RFTEFZID0gMTAwMDAwMAoKdHlwZSBUb2FzdGVyVG9hc3QgPSBUb2FzdFByb3BzICYgewogIGlkOiBzdHJpbmcKICB0aXRsZT86IFJlYWN0LlJlYWN0Tm9kZQogIGRlc2NyaXB0aW9uPzogUmVhY3QuUmVhY3ROb2RlCiAgYWN0aW9uPzogVG9hc3RBY3Rpb25FbGVtZW50Cn0KCmNvbnN0IGFjdGlvblR5cGVzID0gewogIEFERF9UT0FTVDogIkFERF9UT0FTVCIsCiAgVVBEQVRFX1RPQVNUOiAiVVBEQVRFX1RPQVNUIiwKICBESVNNSVNTX1RPQVNUOiAiRElTTUlTU19UT0FTVCIsCiAgUkVNT1ZFX1RPQVNUOiAiUkVNT1ZFX1RPQVNUIiwKfSBhcyBjb25zdAoKbGV0IGNvdW50ID0gMAoKZnVuY3Rpb24gZ2VuSWQoKSB7CiAgY291bnQgPSAoY291bnQgKyAxKSAlIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSCiAgcmV0dXJuIGNvdW50LnRvU3RyaW5nKCkKfQoKdHlwZSBBY3Rpb25UeXBlID0gdHlwZW9mIGFjdGlvblR5cGVzCgp0eXBlIEFjdGlvbiA9CiAgfCB7CiAgICAgIHR5cGU6IEFjdGlvblR5cGVbIkFERF9UT0FTVCJdCiAgICAgIHRvYXN0OiBUb2FzdGVyVG9hc3QKICAgIH0KICB8IHsKICAgICAgdHlwZTogQWN0aW9uVHlwZVsiVVBEQVRFX1RPQVNUIl0KICAgICAgdG9hc3Q6IFBhcnRpYWw8VG9hc3RlclRvYXN0PgogICAgfQogIHwgewogICAgICB0eXBlOiBBY3Rpb25UeXBlWyJESVNNSVNTX1RPQVNUIl0KICAgICAgdG9hc3RJZD86IFRvYXN0ZXJUb2FzdFsiaWQiXQogICAgfQogIHwgewogICAgICB0eXBlOiBBY3Rpb25UeXBlWyJSRU1PVkVfVE9BU1QiXQogICAgICB0b2FzdElkPzogVG9hc3RlclRvYXN0WyJpZCJdCiAgICB9CgppbnRlcmZhY2UgU3RhdGUgewogIHRvYXN0czogVG9hc3RlclRvYXN0W10KfQoKY29uc3QgdG9hc3RUaW1lb3V0cyA9IG5ldyBNYXA8c3RyaW5nLCBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0Pj4oKQoKY29uc3QgYWRkVG9SZW1vdmVRdWV1ZSA9ICh0b2FzdElkOiBzdHJpbmcpID0+IHsKICBpZiAodG9hc3RUaW1lb3V0cy5oYXModG9hc3RJZCkpIHsKICAgIHJldHVybgogIH0KCiAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgdG9hc3RUaW1lb3V0cy5kZWxldGUodG9hc3RJZCkKICAgIGRpc3BhdGNoKHsKICAgICAgdHlwZTogIlJFTU9WRV9UT0FTVCIsCiAgICAgIHRvYXN0SWQ6IHRvYXN0SWQsCiAgICB9KQogIH0sIFRPQVNUX1JFTU9WRV9ERUxBWSkKCiAgdG9hc3RUaW1lb3V0cy5zZXQodG9hc3RJZCwgdGltZW91dCkKfQoKZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSAoc3RhdGU6IFN0YXRlLCBhY3Rpb246IEFjdGlvbik6IFN0YXRlID0+IHsKICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7CiAgICBjYXNlICJBRERfVE9BU1QiOgogICAgICByZXR1cm4gewogICAgICAgIC4uLnN0YXRlLAogICAgICAgIHRvYXN0czogW2FjdGlvbi50b2FzdCwgLi4uc3RhdGUudG9hc3RzXS5zbGljZSgwLCBUT0FTVF9MSU1JVCksCiAgICAgIH0KCiAgICBjYXNlICJVUERBVEVfVE9BU1QiOgogICAgICByZXR1cm4gewogICAgICAgIC4uLnN0YXRlLAogICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLm1hcCgodCkgPT4KICAgICAgICAgIHQuaWQgPT09IGFjdGlvbi50b2FzdC5pZCA/IHsgLi4udCwgLi4uYWN0aW9uLnRvYXN0IH0gOiB0CiAgICAgICAgKSwKICAgICAgfQoKICAgIGNhc2UgIkRJU01JU1NfVE9BU1QiOiB7CiAgICAgIGNvbnN0IHsgdG9hc3RJZCB9ID0gYWN0aW9uCgogICAgICAvLyAhIFNpZGUgZWZmZWN0cyAhIC0gVGhpcyBjb3VsZCBiZSBleHRyYWN0ZWQgaW50byBhIGRpc21pc3NUb2FzdCgpIGFjdGlvbiwKICAgICAgLy8gYnV0IEknbGwga2VlcCBpdCBoZXJlIGZvciBzaW1wbGljaXR5CiAgICAgIGlmICh0b2FzdElkKSB7CiAgICAgICAgYWRkVG9SZW1vdmVRdWV1ZSh0b2FzdElkKQogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLnRvYXN0cy5mb3JFYWNoKCh0b2FzdCkgPT4gewogICAgICAgICAgYWRkVG9SZW1vdmVRdWV1ZSh0b2FzdC5pZCkKICAgICAgICB9KQogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIC4uLnN0YXRlLAogICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLm1hcCgodCkgPT4KICAgICAgICAgIHQuaWQgPT09IHRvYXN0SWQgfHwgdG9hc3RJZCA9PT0gdW5kZWZpbmVkCiAgICAgICAgICAgID8gewogICAgICAgICAgICAgICAgLi4udCwKICAgICAgICAgICAgICAgIG9wZW46IGZhbHNlLAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgOiB0CiAgICAgICAgKSwKICAgICAgfQogICAgfQogICAgY2FzZSAiUkVNT1ZFX1RPQVNUIjoKICAgICAgaWYgKGFjdGlvbi50b2FzdElkID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgLi4uc3RhdGUsCiAgICAgICAgICB0b2FzdHM6IFtdLAogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIC4uLnN0YXRlLAogICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLmZpbHRlcigodCkgPT4gdC5pZCAhPT0gYWN0aW9uLnRvYXN0SWQpLAogICAgICB9CiAgfQp9Cgpjb25zdCBsaXN0ZW5lcnM6IEFycmF5PChzdGF0ZTogU3RhdGUpID0+IHZvaWQ+ID0gW10KCmxldCBtZW1vcnlTdGF0ZTogU3RhdGUgPSB7IHRvYXN0czogW10gfQoKZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uOiBBY3Rpb24pIHsKICBtZW1vcnlTdGF0ZSA9IHJlZHVjZXIobWVtb3J5U3RhdGUsIGFjdGlvbikKICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHsKICAgIGxpc3RlbmVyKG1lbW9yeVN0YXRlKQogIH0pCn0KCnR5cGUgVG9hc3QgPSBPbWl0PFRvYXN0ZXJUb2FzdCwgImlkIj4KCmZ1bmN0aW9uIHRvYXN0KHsgLi4ucHJvcHMgfTogVG9hc3QpIHsKICBjb25zdCBpZCA9IGdlbklkKCkKCiAgY29uc3QgdXBkYXRlID0gKHByb3BzOiBUb2FzdGVyVG9hc3QpID0+CiAgICBkaXNwYXRjaCh7CiAgICAgIHR5cGU6ICJVUERBVEVfVE9BU1QiLAogICAgICB0b2FzdDogeyAuLi5wcm9wcywgaWQgfSwKICAgIH0pCiAgY29uc3QgZGlzbWlzcyA9ICgpID0+IGRpc3BhdGNoKHsgdHlwZTogIkRJU01JU1NfVE9BU1QiLCB0b2FzdElkOiBpZCB9KQoKICBkaXNwYXRjaCh7CiAgICB0eXBlOiAiQUREX1RPQVNUIiwKICAgIHRvYXN0OiB7CiAgICAgIC4uLnByb3BzLAogICAgICBpZCwKICAgICAgb3BlbjogdHJ1ZSwKICAgICAgb25PcGVuQ2hhbmdlOiAob3BlbikgPT4gewogICAgICAgIGlmICghb3BlbikgZGlzbWlzcygpCiAgICAgIH0sCiAgICB9LAogIH0pCgogIHJldHVybiB7CiAgICBpZDogaWQsCiAgICBkaXNtaXNzLAogICAgdXBkYXRlLAogIH0KfQoKZnVuY3Rpb24gdXNlVG9hc3QoKSB7CiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZTxTdGF0ZT4obWVtb3J5U3RhdGUpCgogIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CiAgICBsaXN0ZW5lcnMucHVzaChzZXRTdGF0ZSkKICAgIHJldHVybiAoKSA9PiB7CiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2Yoc2V0U3RhdGUpCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSkKICAgICAgfQogICAgfQogIH0sIFtzdGF0ZV0pCgogIHJldHVybiB7CiAgICAuLi5zdGF0ZSwKICAgIHRvYXN0LAogICAgZGlzbWlzczogKHRvYXN0SWQ/OiBzdHJpbmcpID0+IGRpc3BhdGNoKHsgdHlwZTogIkRJU01JU1NfVE9BU1QiLCB0b2FzdElkIH0pLAogIH0KfQoKZXhwb3J0IHsgdXNlVG9hc3QsIHRvYXN0IH0K' | base64 -d > /root/localpulse/src/hooks/use-toast.ts
mkdir -p /root/localpulse/src/hooks
echo 'aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiCgpjb25zdCBNT0JJTEVfQlJFQUtQT0lOVCA9IDc2OAoKZXhwb3J0IGZ1bmN0aW9uIHVzZUlzTW9iaWxlKCkgewogIGNvbnN0IFtpc01vYmlsZSwgc2V0SXNNb2JpbGVdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbiB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKQoKICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gewogICAgY29uc3QgbXFsID0gd2luZG93Lm1hdGNoTWVkaWEoYChtYXgtd2lkdGg6ICR7TU9CSUxFX0JSRUFLUE9JTlQgLSAxfXB4KWApCiAgICBjb25zdCBvbkNoYW5nZSA9ICgpID0+IHsKICAgICAgc2V0SXNNb2JpbGUod2luZG93LmlubmVyV2lkdGggPCBNT0JJTEVfQlJFQUtQT0lOVCkKICAgIH0KICAgIG1xbC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBvbkNoYW5nZSkKICAgIHNldElzTW9iaWxlKHdpbmRvdy5pbm5lcldpZHRoIDwgTU9CSUxFX0JSRUFLUE9JTlQpCiAgICByZXR1cm4gKCkgPT4gbXFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIG9uQ2hhbmdlKQogIH0sIFtdKQoKICByZXR1cm4gISFpc01vYmlsZQp9Cg==' | base64 -d > /root/localpulse/src/hooks/use-mobile.tsx
mkdir -p /root/localpulse/src/lib
echo 'CmltcG9ydCB7IFN0b3JhZ2UgfSBmcm9tICdAZ29vZ2xlLWNsb3VkL3N0b3JhZ2UnOwoKY29uc3QgZ2NzQnVja2V0TmFtZSA9IHByb2Nlc3MuZW52LkdDU19CVUNLRVRfTkFNRTsKY29uc3QgZ2NzU2VydmljZUFjY291bnRKc29uID0gcHJvY2Vzcy5lbnYuR0NTX1NFUlZJQ0VfQUNDT1VOVF9KU09OOwpjb25zdCBnb29nbGVBcHBDcmVkc0ZpbGUgPSBwcm9jZXNzLmVudi5HT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFM7CgpsZXQgc3RvcmFnZTogU3RvcmFnZSB8IG51bGwgPSBudWxsOwpsZXQgZ2NzV2FybmluZ1Nob3duID0gZmFsc2U7CgovLyBEZXRlcm1pbmUgaWYgR0NTIGlzIGNvbmZpZ3VyZWQgcHJvcGVybHkgZm9yIGVpdGhlciBwcm9kdWN0aW9uIChKU09OIGNvbnRlbnQpIG9yIGRldmVsb3BtZW50IChmaWxlIHBhdGgpCmNvbnN0IGlzR2NzQ29uZmlndXJlZCA9IGdjc0J1Y2tldE5hbWUgJiYgKGdjc1NlcnZpY2VBY2NvdW50SnNvbiB8fCBnb29nbGVBcHBDcmVkc0ZpbGUpOwoKaWYgKCFpc0djc0NvbmZpZ3VyZWQpIHsKICBpZiAoIWdjc1dhcm5pbmdTaG93bikgewogICAgY29uc29sZS53YXJuKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CiAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IEdDUyBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIG5vdCBmdWxseSBzZXQuJyk7CiAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSBwcm92aWRlIGVpdGhlciBHQ1NfQlVDS0VUX05BTUUgYW5kIEdDU19TRVJWSUNFX0FDQ09VTlRfSlNPTiAoZm9yIHByb2R1Y3Rpb24pIE9SIEdDU19CVUNLRVRfTkFNRSBhbmQgR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTIChmb3IgbG9jYWwgZGV2KS4nKTsKICAgIGNvbnNvbGUud2FybignRmlsZSB1cGxvYWQgZnVuY3Rpb25hbGl0eSB3aWxsIGJlIGRpc2FibGVkLicpOwogICAgY29uc29sZS53YXJuKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CiAgICBnY3NXYXJuaW5nU2hvd24gPSB0cnVlOwogIH0KfSBlbHNlIHsKICB0cnkgewogICAgbGV0IHN0b3JhZ2VPcHRpb25zOiB7IGNyZWRlbnRpYWxzPzogYW55OyBwcm9qZWN0SWQ/OiBzdHJpbmcgfSA9IHt9OwoKICAgIGlmIChnY3NTZXJ2aWNlQWNjb3VudEpzb24pIHsKICAgICAgLy8gUHJvZHVjdGlvbi9DbG91ZCBSdW46IFVzZSB0aGUgSlNPTiBjb250ZW50IGRpcmVjdGx5CiAgICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gSlNPTi5wYXJzZShnY3NTZXJ2aWNlQWNjb3VudEpzb24pOwogICAgICBzdG9yYWdlT3B0aW9ucy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzOwogICAgICBzdG9yYWdlT3B0aW9ucy5wcm9qZWN0SWQgPSBjcmVkZW50aWFscy5wcm9qZWN0X2lkOwogICAgfSAKICAgIC8vIFRoZSBnb29nbGUtY2xvdWQvc3RvcmFnZSBsaWJyYXJ5IGF1dG9tYXRpY2FsbHkgdXNlcyBHT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFMgaWYgaXQncyBzZXQKICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgYW4gJ2Vsc2UgaWYgKGdvb2dsZUFwcENyZWRzRmlsZSknIGJsb2NrLiBJdCdzIHRoZSBkZWZhdWx0IGZhbGxiYWNrLgoKICAgIHN0b3JhZ2UgPSBuZXcgU3RvcmFnZShzdG9yYWdlT3B0aW9ucyk7CiAgICBjb25zb2xlLmxvZygnR29vZ2xlIENsb3VkIFN0b3JhZ2UgY2xpZW50IGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseS4nKTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIEdvb2dsZSBDbG91ZCBTdG9yYWdlLiBQbGVhc2UgY2hlY2sgeW91ciBzZXJ2aWNlIGFjY291bnQgY3JlZGVudGlhbHMuJywgZXJyb3IpOwogIH0KfQoKZXhwb3J0IGNvbnN0IGdldEdjc0NsaWVudCA9ICgpOiBTdG9yYWdlIHwgbnVsbCA9PiB7CiAgcmV0dXJuIHN0b3JhZ2U7Cn07CgpleHBvcnQgY29uc3QgZ2V0R2NzQnVja2V0TmFtZSA9ICgpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4gewogIHJldHVybiBnY3NCdWNrZXROYW1lOwp9Owo=' | base64 -d > /root/localpulse/src/lib/gcs.ts
mkdir -p /root/localpulse/src/lib
echo 'Ci8vIHNyYy9saWIvdG9Ncy50cwpleHBvcnQgY29uc3QgdG9NcyA9ICh2OiB1bmtub3duKTogbnVtYmVyID0+IHsKICBpZiAoIXYpIHJldHVybiAwOwoKICAvLyBTdHJpbmc6IGFjY2VwdCAiWVlZWS1NTS1ERCBISDptbTpzcyswMCIgb3IgSVNPOyBub3JtYWxpemUgdGhlIHNwYWNlIHRvICdUJwogIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHsKICAgIGNvbnN0IHMgPSB2LmluY2x1ZGVzKCdUJykgPyB2IDogdi5yZXBsYWNlKCcgJywgJ1QnKTsKICAgIGNvbnN0IG1zID0gRGF0ZS5wYXJzZShzKTsKICAgIHJldHVybiBOdW1iZXIuaXNOYU4obXMpID8gMCA6IG1zOwogIH0KCiAgLy8gRGF0ZQogIGlmICh2IGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHYuZ2V0VGltZSgpOwoKICAvLyBOdW1iZXIgKGFscmVhZHkgbXMgb3Igc2Vjb25kcyDigJQgdHJlYXQgdmFsdWVzIDwgMTBeMTIgYXMgc2Vjb25kcykKICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSByZXR1cm4gdiA8IDFlMTIgPyBNYXRoLmZsb29yKHYgKiAxMDAwKSA6IHY7CgogIC8vIEZpcmVzdG9yZSBUaW1lc3RhbXAtbGlrZQogIC8vIHsgc2Vjb25kcywgbmFub3NlY29uZHMgfSBvciBfc2Vjb25kcy9fbmFub3NlY29uZHMKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueQogIGNvbnN0IGFueSA9IHYgYXMgYW55OwogIGlmICh0eXBlb2YgYW55Py50b0RhdGUgPT09ICdmdW5jdGlvbicpIHJldHVybiBhbnkudG9EYXRlKCkuZ2V0VGltZSgpOwogIGlmICh0eXBlb2YgYW55Py5zZWNvbmRzID09PSAnbnVtYmVyJykgcmV0dXJuIGFueS5zZWNvbmRzICogMTAwMCArIE1hdGguZmxvb3IoKGFueS5uYW5vc2Vjb25kcyA/PyAwKSAvIDFlNik7CiAgaWYgKHR5cGVvZiBhbnk/Ll9zZWNvbmRzID09PSAnbnVtYmVyJykgcmV0dXJuIGFueS5fc2Vjb25kcyAqIDEwMDAgKyBNYXRoLmZsb29yKChhbnkuX25hbm9zZWNvbmRzID8/IDApIC8gMWU2KTsKCiAgcmV0dXJuIDA7Cn07Cg==' | base64 -d > /root/localpulse/src/lib/toMs.ts
mkdir -p /root/localpulse/src/lib
echo 'CmltcG9ydCB7IHogfSBmcm9tICd6b2QnOwoKZXhwb3J0IHR5cGUgVXNlclJvbGUgPSAnQnVzaW5lc3MnIHwgJ0dvcmFrc2hhaycgfCAnR29yYWtzaGFrIEFkbWluJyB8ICdBZG1pbicgfCAnUHVibGljKOCknOCkqOCkpOCkviknOwoKZXhwb3J0IHR5cGUgU29ydE9wdGlvbiA9ICduZXdlc3QnIHwgJ2xpa2VzJyB8ICdjb21tZW50cycgfCAnbmVhcmJ5JzsKCmV4cG9ydCB0eXBlIFBvaW50VHJhbnNhY3Rpb25SZWFzb24gPSAnaW5pdGlhbF9zaWdudXBfYm9udXMnIHwgJ3JlZmVycmFsX2JvbnVzJyB8ICduZXdfcG9zdCcgfCAncG9zdF9saWtlX21pbGVzdG9uZSc7CgpleHBvcnQgY29uc3QgQlVTSU5FU1NfQ0FURUdPUklFUyA9IHsKICAiU2hvcHMgJiBSZXRhaWwiOiBbCiAgICAiR3JvY2VyeSAvIEtpcmFuYSBTdG9yZSIsICJGcnVpdHMgJiBWZWdldGFibGUgU2hvcCIsICJCYWtlcnkgLyBDYWtlIFNob3AiLAogICAgIlN3ZWV0IFNob3AiLCAiRGFpcnkgLyBNaWxrIEJvb3RoIiwgIk1lYXQgJiBGaXNoIFNob3AiLCAiU3RhdGlvbmVyeSAmIEJvb2sgU3RvcmUiLAogICAgIkdpZnQgLyBUb3kgU2hvcCIsICJHYXJtZW50IC8gQ2xvdGhpbmcgU3RvcmUiLCAiRm9vdHdlYXIgU3RvcmUiLCAiQ29zbWV0aWNzICYgQmVhdXR5IFByb2R1Y3RzIiwKICAgICJNb2JpbGUgJiBFbGVjdHJvbmljcyBTdG9yZSIsICJGdXJuaXR1cmUgU3RvcmUiLCAiSGFyZHdhcmUgLyBQYWludCBTdG9yZSIsCiAgXSwKICAiRm9vZCAmIEJldmVyYWdlIjogWwogICAgIlJlc3RhdXJhbnQiLCAiUGl6emEgU2hvcCIsICJGYXN0IEZvb2QgQ2VudGVyIiwgIlRlYSAmIFNuYWNrcyBTdGFsbCIsCiAgICAiSnVpY2UgQ2VudGVyIiwgIkljZSBDcmVhbSAvIERlc3NlcnQgU2hvcCIsICJDYWbDqSAvIENvZmZlZSBTaG9wIiwKICBdLAogICJCZWF1dHkgJiBQZXJzb25hbCBDYXJlIjogWwogICAgIlNhbG9vbiAvIEJhcmJlciBTaG9wIiwgIkJlYXV0eSBQYXJsb3VyIiwgIlNwYSAvIE1hc3NhZ2UgQ2VudGVyIiwgIk1laGVuZGkgLyBUYXR0b28gQXJ0aXN0IiwKICBdLAogICJIb21lIFNlcnZpY2VzIjogWwogICAgIkVsZWN0cmljaWFuIiwgIlBsdW1iZXIiLCAiQ2FycGVudGVyIiwgIlBhaW50ZXIiLCAiQ2l2aWwgV29ya2VyIC8gTWFzb24iLAogICAgIkFDIC8gUmVmcmlnZXJhdG9yIE1lY2hhbmljIiwgIkNDVFYgSW5zdGFsbGVyIiwgIlJPIC8gV2F0ZXIgUHVyaWZpZXIgU2VydmljZSIsICJHYXMgU3RvdmUgUmVwYWlyIiwKICBdLAogICJWZWhpY2xlIFNlcnZpY2VzIjogWwogICAgICAiQ2FyL0Jpa2UgV2FzaGluZyIsCiAgXSwKICAiUHJvZmVzc2lvbmFsICYgVXRpbGl0eSBTZXJ2aWNlcyI6IFsKICAgICJJbnRlcm5ldCAvIFdpZmkgUHJvdmlkZXIiLCAiQ2FibGUgVFYgUHJvdmlkZXIiLCAiUHJvcGVydHkgRGVhbGVyIC8gQWdlbnQiLAogICAgIlR1aXRpb24gQ2xhc3NlcyAvIENvYWNoaW5nIiwgIkRyaXZpbmcgSW5zdHJ1Y3RvciIsICJDb21wdXRlciBSZXBhaXIgJiBTZXJ2aWNlIiwKICAgICJMYXVuZHJ5IC8gRHJ5IENsZWFuaW5nIiwgIkNvdXJpZXIgU2VydmljZSIsCiAgXSwKICAiVHJhbnNwb3J0ICYgVHJhdmVsIjogWwogICAgIkF1dG8gLyBUYXhpIFNlcnZpY2UiLCAiVHJhdmVscyAvIFRvdXJzIiwgIlBhY2tlcnMgJiBNb3ZlcnMiLCAiVHJ1Y2sgLyBUZW1wbyBTZXJ2aWNlIiwKICBdLAogICJBZ3JpY3VsdHVyZSAmIEFsbGllZCI6IFsKICAgICJEYWlyeSBGYXJtZXIiLCAiUG91bHRyeSBGYXJtZXIiLCAiVmVnZXRhYmxlIFN1cHBsaWVyIiwgIkZlcnRpbGl6ZXIgLyBTZWVkcyBTdG9yZSIsCiAgXSwKICAiU2tpbGxlZCBXb3JrZXJzICYgTGFib3VyIjogWwogICAgIlRhaWxvciIsICJXZWxkaW5nIC8gRmFicmljYXRpb24iLCAiQmxhY2tzbWl0aCIsICJHb2xkc21pdGggLyBKZXdlbGxlciIsCiAgXSwKICAiT3RoZXJzIjogWwogICAgIkV2ZW50IFBsYW5uZXIgLyBEZWNvcmF0b3IiLCAiUGhvdG9ncmFwaGVyIC8gVmlkZW9ncmFwaGVyIiwgIkFueSBPdGhlciIsCiAgXSwKfTsKCmV4cG9ydCB0eXBlIFVzZXJTdGF0dXMgPSAncGVuZGluZycgfCAnYXBwcm92ZWQnIHwgJ3JlamVjdGVkJyB8ICd2ZXJpZmllZCcgfCAncGVuZGluZ192ZXJpZmljYXRpb24nOwoKLy8gRGVmaW5lIHRoZSBzdHJ1Y3R1cmUgb2YgYSBVc2VyIGZvciBjbGllbnQtc2lkZSB1c2UgKG9taXR0aW5nIHBhc3N3b3JkKQpleHBvcnQgaW50ZXJmYWNlIFVzZXIgewogIGlkOiBudW1iZXI7CiAgZW1haWw6IHN0cmluZzsKICBuYW1lOiBzdHJpbmc7CiAgcm9sZTogVXNlclJvbGU7CiAgc3RhdHVzOiBVc2VyU3RhdHVzOwogIGNyZWF0ZWRhdDogc3RyaW5nOwogIHByb2ZpbGVwaWN0dXJldXJsPzogc3RyaW5nIHwgbnVsbDsKICBtb2JpbGVudW1iZXI/OiBzdHJpbmcgfCBudWxsOwogIGJ1c2luZXNzX2NhdGVnb3J5Pzogc3RyaW5nIHwgbnVsbDsKICBidXNpbmVzc19vdGhlcl9jYXRlZ29yeT86IHN0cmluZyB8IG51bGw7CiAgbGF0aXR1ZGU/OiBudW1iZXIgfCBudWxsOwogIGxvbmdpdHVkZT86IG51bWJlciB8IG51bGw7CiAgbHBfcG9pbnRzOiBudW1iZXI7CiAgcmVmZXJyYWxfY29kZTogc3RyaW5nOwogIGxhc3RfZmFtaWx5X2ZlZWRfdmlld19hdD86IHN0cmluZyB8IG51bGw7CiAgdGltZXpvbmU/OiBzdHJpbmcgfCBudWxsOwp9CgpleHBvcnQgaW50ZXJmYWNlIEJ1c2luZXNzVXNlciBleHRlbmRzIFVzZXIgewogICAgZGlzdGFuY2U/OiBudW1iZXIgfCBudWxsOwp9CgpleHBvcnQgaW50ZXJmYWNlIEdvcmFrc2hha1JlcG9ydFVzZXIgewogICAgaWQ6IG51bWJlcjsKICAgIG5hbWU6IHN0cmluZzsKICAgIG1vYmlsZW51bWJlcj86IHN0cmluZyB8IG51bGw7CiAgICBsYXRpdHVkZT86IG51bWJlciB8IG51bGw7CiAgICBsb25naXR1ZGU/OiBudW1iZXIgfCBudWxsOwogICAgZGlzdGFuY2U6IG51bWJlcjsKfQoKCi8vIEZvciBkaXNwbGF5aW5nIGluIHRoZSBmb2xsb3dpbmcgbGlzdApleHBvcnQgaW50ZXJmYWNlIEZvbGxvd1VzZXIgewogICAgaWQ6IG51bWJlcjsKICAgIG5hbWU6IHN0cmluZzsKICAgIHByb2ZpbGVwaWN0dXJldXJsPzogc3RyaW5nIHwgbnVsbDsKfQoKLy8gRnVsbCB1c2VyIHN0cnVjdHVyZSBmcm9tIERCLCBpbmNsdWRpbmcgcGFzc3dvcmQgaGFzaApleHBvcnQgaW50ZXJmYWNlIFVzZXJXaXRoUGFzc3dvcmQgZXh0ZW5kcyBVc2VyIHsKICBwYXNzd29yZGhhc2g6IHN0cmluZzsKICByZWZlcnJlZF9ieV9pZD86IG51bWJlciB8IG51bGw7Cn0KCi8vIEZvciBjcmVhdGluZyBhIG5ldyB1c2VyCmV4cG9ydCB0eXBlIE5ld1VzZXIgPSB7CiAgbmFtZTogc3RyaW5nOwogIGVtYWlsOiBzdHJpbmc7CiAgcm9sZTogJ0J1c2luZXNzJyB8ICdHb3Jha3NoYWsnIHwgJ1B1YmxpYyjgpJzgpKjgpKTgpL4pJzsKICBwYXNzd29yZHBsYWludGV4dDogc3RyaW5nOwogIGNvdW50cnlDb2RlOiBzdHJpbmc7CiAgbW9iaWxlbnVtYmVyOiBzdHJpbmc7CiAgYnVzaW5lc3NfY2F0ZWdvcnk/OiBzdHJpbmc7CiAgYnVzaW5lc3Nfb3RoZXJfY2F0ZWdvcnk/OiBzdHJpbmc7CiAgcmVmZXJyYWxfY29kZT86IHN0cmluZzsKICB0aW1lem9uZT86IHN0cmluZzsKfTsKCi8vIEZvciB1cGRhdGluZyBhIHVzZXIgZnJvbSB0aGUgYWRtaW4gcGFuZWwKZXhwb3J0IHR5cGUgVXBkYXRhYmxlVXNlckZpZWxkcyA9IHsKICBuYW1lOiBzdHJpbmc7CiAgZW1haWw6IHN0cmluZzsKICByb2xlOiBVc2VyUm9sZTsKICBzdGF0dXM6IFVzZXJTdGF0dXM7Cn07CgpleHBvcnQgdHlwZSBVcGRhdGVCdXNpbmVzc0NhdGVnb3J5ID0gewogICAgYnVzaW5lc3NfY2F0ZWdvcnk6IHN0cmluZzsKICAgIGJ1c2luZXNzX290aGVyX2NhdGVnb3J5Pzogc3RyaW5nOwp9CgovLyAtLS0gUG9sbCBUeXBlcyAtLS0KZXhwb3J0IGludGVyZmFjZSBQb2xsT3B0aW9uIHsKICBpZDogbnVtYmVyOwogIHBvbGxfaWQ6IG51bWJlcjsKICBvcHRpb25fdGV4dDogc3RyaW5nOwogIHZvdGVfY291bnQ6IG51bWJlcjsKfQoKZXhwb3J0IGludGVyZmFjZSBQb2xsIHsKICBpZDogbnVtYmVyOwogIHBvc3RfaWQ6IG51bWJlcjsKICBxdWVzdGlvbjogc3RyaW5nOwogIHRvdGFsX3ZvdGVzOiBudW1iZXI7CiAgb3B0aW9uczogUG9sbE9wdGlvbltdOwogIHVzZXJfdm90ZWRfb3B0aW9uX2lkPzogbnVtYmVyIHwgbnVsbDsgLy8gVGhlIG9wdGlvbiBJRCB0aGUgY3VycmVudCB1c2VyIHZvdGVkIGZvcgp9CgovLyAtLS0gUG9zdCBUeXBlcyAtLS0KCi8vIERlZmluZSB0aGUgc3RydWN0dXJlIG9mIGEgUG9zdCwgbm93IHdpdGggYXV0aG9yIGRldGFpbHMKZXhwb3J0IGludGVyZmFjZSBQb3N0IHsKICBpZDogbnVtYmVyOwogIGNvbnRlbnQ6IHN0cmluZzsKICBsYXRpdHVkZTogbnVtYmVyOwogIGxvbmdpdHVkZTogbnVtYmVyOwogIGNyZWF0ZWRhdDogc3RyaW5nOwogIG1lZGlhdXJscz86IHN0cmluZ1tdIHwgbnVsbDsKICBtZWRpYXR5cGU/OiAnaW1hZ2UnIHwgJ3ZpZGVvJyB8ICdnYWxsZXJ5JyB8IG51bGw7CiAgbGlrZWNvdW50OiBudW1iZXI7CiAgY29tbWVudGNvdW50OiBudW1iZXI7CiAgdmlld2NvdW50OiBudW1iZXI7CiAgbm90aWZpZWRjb3VudDogbnVtYmVyOwogIGNpdHk/OiBzdHJpbmcgfCBudWxsOwogIGhhc2h0YWdzPzogc3RyaW5nW10gfCBudWxsOwogIGlzX2ZhbWlseV9wb3N0OiBib29sZWFuOwogIGhpZGVfbG9jYXRpb246IGJvb2xlYW47CiAgYXV0aG9yaWQ6IG51bWJlciB8IG51bGw7IC8vIFRoaXMgd2lsbCBjb21lIGZyb20gdGhlIHBvc3RzIHRhYmxlCiAgYXV0aG9ybmFtZTogc3RyaW5nIHwgbnVsbDsgLy8gVGhpcyB3aWxsIGJlIGpvaW5lZCBmcm9tIHRoZSB1c2VycyB0YWJsZQogIGF1dGhvcnJvbGU6IFVzZXJSb2xlIHwgbnVsbDsgLy8gVGhpcyB3aWxsIGJlIGpvaW5lZCBmcm9tIHRoZSB1c2VycyB0YWJsZQogIGF1dGhvcnByb2ZpbGVwaWN0dXJldXJsPzogc3RyaW5nIHwgbnVsbDsgLy8gVGhpcyB3aWxsIGJlIGpvaW5lZCBmcm9tIHRoZSB1c2VycyB0YWJsZQogIGlzTGlrZWRCeUN1cnJlbnRVc2VyPzogYm9vbGVhbjsgLy8gQWRkZWQgdG8gdHJhY2sgaWYgdGhlIHNlc3Npb24gdXNlciBsaWtlZCB0aGlzIHBvc3QKICBpc0F1dGhvckZvbGxvd2VkQnlDdXJyZW50VXNlcj86IGJvb2xlYW47CiAgbWVudGlvbnM/OiB7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZzsgfVtdOwogIC8vIFB1bHNlIFJhZGFyIGZpZWxkcwogIGV4cGlyZXNfYXQ/OiBzdHJpbmcgfCBudWxsOwogIG1heF92aWV3ZXJzPzogbnVtYmVyIHwgbnVsbDsKICBwb2xsPzogUG9sbCB8IG51bGw7CiAgbWFuZGFsX2lkPzogbnVtYmVyIHwgbnVsbDsKfQoKZXhwb3J0IGludGVyZmFjZSBOZXdQb2xsRGF0YSB7CiAgcXVlc3Rpb246IHN0cmluZzsKICBvcHRpb25zOiBzdHJpbmdbXTsKfQoKLy8gRm9yIGNyZWF0aW5nIGEgbmV3IHBvc3QgZnJvbSB0aGUgY2xpZW50CmV4cG9ydCB0eXBlIE5ld1Bvc3QgPSB7CiAgY29udGVudDogc3RyaW5nOwogIGxhdGl0dWRlOiBudW1iZXI7CiAgbG9uZ2l0dWRlOiBudW1iZXI7CiAgbWVkaWFVcmxzPzogc3RyaW5nW10gfCBudWxsOyAvLyBUaGUgZmluYWwgR0NTIFVSTHMKICBtZWRpYVR5cGU/OiAnaW1hZ2UnIHwgJ3ZpZGVvJyB8ICdnYWxsZXJ5JyB8IG51bGw7CiAgaGFzaHRhZ3M6IHN0cmluZ1tdOwogIGlzRmFtaWx5UG9zdDogYm9vbGVhbjsKICBoaWRlTG9jYXRpb246IGJvb2xlYW47CiAgYXV0aG9ySWQ/OiBudW1iZXI7CiAgbWVudGlvbmVkVXNlcklkcz86IG51bWJlcltdOwogIC8vIFB1bHNlIFJhZGFyIGZpZWxkcwogIGV4cGlyZXNfYXQ/OiBzdHJpbmcgfCBudWxsOwogIG1heF92aWV3ZXJzPzogbnVtYmVyIHwgbnVsbDsKICBwb2xsRGF0YT86IE5ld1BvbGxEYXRhIHwgbnVsbDsKICBtYW5kYWxJZD86IG51bWJlcjsKfTsKCi8vIEZvciBpbnNlcnRpbmcgYSBuZXcgcG9zdCBpbnRvIHRoZSBEQgpleHBvcnQgdHlwZSBEYk5ld1Bvc3QgPSB7CiAgY29udGVudDogc3RyaW5nOwogIGxhdGl0dWRlOiBudW1iZXI7CiAgbG9uZ2l0dWRlOiBudW1iZXI7CiAgbWVkaWF1cmxzPzogc3RyaW5nW10gfCBudWxsOwogIG1lZGlhdHlwZT86ICdpbWFnZScgfCAndmlkZW8nIHwgJ2dhbGxlcnknIHwgbnVsbDsKICBjaXR5Pzogc3RyaW5nIHwgbnVsbDsKICBoYXNodGFnczogc3RyaW5nW107CiAgaXNfZmFtaWx5X3Bvc3Q6IGJvb2xlYW47CiAgaGlkZV9sb2NhdGlvbjogYm9vbGVhbjsKICBhdXRob3JpZDogbnVtYmVyIHwgbnVsbDsgCiAgbWVudGlvbmVkVXNlcklkcz86IG51bWJlcltdOwogIC8vIFB1bHNlIFJhZGFyIGZpZWxkcwogIGV4cGlyZXNfYXQ/OiBzdHJpbmcgfCBudWxsOwogIG1heF92aWV3ZXJzPzogbnVtYmVyIHwgbnVsbDsKICBwb2xsRGF0YT86IE5ld1BvbGxEYXRhIHwgbnVsbDsKICBtYW5kYWxfaWQ/OiBudW1iZXIgfCBudWxsOwp9OwoKCi8vIERlZmluZSB0aGUgc3RydWN0dXJlIG9mIGEgQ29tbWVudApleHBvcnQgaW50ZXJmYWNlIENvbW1lbnQgewogIGlkOiBudW1iZXI7CiAgcG9zdGlkOiBudW1iZXI7CiAgYXV0aG9yOiBzdHJpbmc7IC8vIEZvciBub3csIGNhbiBiZSB1c2VyIG5hbWUgb3IgZGVmYXVsdAogIGNvbnRlbnQ6IHN0cmluZzsKICBjcmVhdGVkYXQ6IHN0cmluZzsKfQoKLy8gRGVmaW5lIHRoZSBzdHJ1Y3R1cmUgZm9yIGFkZGluZyBhIG5ldyBjb21tZW50CmV4cG9ydCB0eXBlIE5ld0NvbW1lbnQgPSB7CiAgcG9zdElkOiBudW1iZXI7CiAgYXV0aG9yOiBzdHJpbmc7CiAgY29udGVudDogc3RyaW5nOwp9OwoKLy8gVmlzaXRvciBzdGF0cyBzdHJ1Y3R1cmUKZXhwb3J0IGludGVyZmFjZSBWaXNpdG9yQ291bnRzIHsKICB0b3RhbFZpc2l0czogbnVtYmVyOwogIGRhaWx5VmlzaXRzOiBudW1iZXI7Cn0KCi8vIERldmljZSB0b2tlbiBzdHJ1Y3R1cmUgZm9yIEZDTQpleHBvcnQgaW50ZXJmYWNlIERldmljZVRva2VuIHsKICBpZDogbnVtYmVyOwogIHRva2VuOiBzdHJpbmc7CiAgbGF0aXR1ZGU6IG51bWJlciB8IG51bGw7CiAgbG9uZ2l0dWRlOiBudW1iZXIgfCBudWxsOwogIGxhc3RfdXBkYXRlZDogc3RyaW5nOwp9CgovLyBVc2VyIGZvbGxvdyBzdGF0cyBzdHJ1Y3R1cmUKZXhwb3J0IGludGVyZmFjZSBVc2VyRm9sbG93U3RhdHMgewogIGZvbGxvd2VyQ291bnQ6IG51bWJlcjsKICBmb2xsb3dpbmdDb3VudDogbnVtYmVyOwp9CgovLyAtLS0gU3RhdHVzIChTdG9yeSkgVHlwZXMgLS0tCgpleHBvcnQgaW50ZXJmYWNlIFN0YXR1cyB7CiAgaWQ6IG51bWJlcjsKICBtZWRpYV91cmw6IHN0cmluZzsKICBtZWRpYV90eXBlOiAnaW1hZ2UnIHwgJ3ZpZGVvJzsKICBjcmVhdGVkX2F0OiBzdHJpbmc7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgVXNlcldpdGhTdGF0dXNlcyB7CiAgdXNlcklkOiBudW1iZXI7CiAgdXNlck5hbWU6IHN0cmluZzsKICB1c2VyUHJvZmlsZVBpY3R1cmVVcmw/OiBzdHJpbmcgfCBudWxsOwogIHN0YXR1c2VzOiBTdGF0dXNbXTsKfQoKZXhwb3J0IHR5cGUgTmV3U3RhdHVzID0gewogIHVzZXJJZDogbnVtYmVyOwogIG1lZGlhVXJsOiBzdHJpbmc7CiAgbWVkaWFUeXBlOiAnaW1hZ2UnIHwgJ3ZpZGVvJzsKfTsKCi8vIC0tLSBDaGF0IFR5cGVzIC0tLQoKZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlUmVhY3Rpb24gewogIGlkOiBudW1iZXI7CiAgbWVzc2FnZV9pZDogbnVtYmVyOwogIHVzZXJfaWQ6IG51bWJlcjsKICByZWFjdGlvbjogc3RyaW5nOwogIHVzZXJfbmFtZTogc3RyaW5nOyAvLyBKb2luZWQgZnJvbSB1c2VycyB0YWJsZQp9CgpleHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbiB7CiAgaWQ6IG51bWJlcjsKICBjcmVhdGVkX2F0OiBzdHJpbmc7CiAgbGFzdF9tZXNzYWdlX2F0OiBzdHJpbmc7CiAgaXNfZ3JvdXA6IGJvb2xlYW47CiAgZ3JvdXBfbmFtZT86IHN0cmluZyB8IG51bGw7CiAgZ3JvdXBfYXZhdGFyX3VybD86IHN0cmluZyB8IG51bGw7CiAgLy8gRGV0YWlscyBvZiB0aGUgb3RoZXIgcGFydGljaXBhbnQgb3IgZ3JvdXAgbmFtZQogIHBhcnRpY2lwYW50X2lkPzogbnVtYmVyIHwgbnVsbDsgLy8gTnVsbCBmb3IgZ3JvdXAgY2hhdHMKICBkaXNwbGF5X25hbWU6IHN0cmluZzsgLy8gV2lsbCBiZSBwYXJ0aWNpcGFudF9uYW1lIGZvciAxLW9uLTEgb3IgZ3JvdXBfbmFtZSBmb3IgZ3JvdXBzCiAgZGlzcGxheV9hdmF0YXJfdXJsPzogc3RyaW5nIHwgbnVsbDsgLy8gV2lsbCBiZSBwYXJ0aWNpcGFudCBhdmF0YXIgb3IgZ3JvdXAgYXZhdGFyCiAgbGFzdF9tZXNzYWdlX2NvbnRlbnQ/OiBzdHJpbmcgfCBudWxsOwogIGxhc3RfbWVzc2FnZV9zZW5kZXJfaWQ/OiBudW1iZXIgfCBudWxsOwogIHVucmVhZF9jb3VudDogbnVtYmVyOwogIG1lbWJlcl9jb3VudDogbnVtYmVyOwp9CgpleHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2UgewogIGlkOiBudW1iZXI7CiAgY29udmVyc2F0aW9uX2lkOiBudW1iZXI7CiAgc2VuZGVyX2lkOiBudW1iZXI7CiAgY29udGVudDogc3RyaW5nOwogIGNyZWF0ZWRfYXQ6IHN0cmluZzsKICByZWFjdGlvbnM/OiBNZXNzYWdlUmVhY3Rpb25bXSB8IG51bGw7Cn0KCmV4cG9ydCBpbnRlcmZhY2UgTmV3TWVzc2FnZSB7CiAgICBjb252ZXJzYXRpb25JZDogbnVtYmVyOwogICAgc2VuZGVySWQ6IG51bWJlcjsKICAgIGNvbnRlbnQ6IHN0cmluZzsKfQoKZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25QYXJ0aWNpcGFudCB7CiAgICBpZDogbnVtYmVyOwogICAgbmFtZTogc3RyaW5nOwogICAgcHJvZmlsZXBpY3R1cmV1cmw/OiBzdHJpbmcgfCBudWxsOwogICAgaXNfYWRtaW4/OiBib29sZWFuOwp9CgpleHBvcnQgaW50ZXJmYWNlIENvbnZlcnNhdGlvbkRldGFpbHMgewogICAgaWQ6IG51bWJlcjsKICAgIGlzX2dyb3VwOiBib29sZWFuOwogICAgZ3JvdXBfbmFtZTogc3RyaW5nIHwgbnVsbDsKICAgIGdyb3VwX2F2YXRhcl91cmw6IHN0cmluZyB8IG51bGw7CiAgICBkaXNwbGF5X25hbWU6IHN0cmluZzsKICAgIGRpc3BsYXlfYXZhdGFyX3VybDogc3RyaW5nIHwgbnVsbDsKICAgIHBhcnRpY2lwYW50czogQ29udmVyc2F0aW9uUGFydGljaXBhbnRbXTsKfQoKCi8vIC0tLSBGYW1pbHkgUmVsYXRpb25zaGlwIFR5cGVzIC0tLQpleHBvcnQgdHlwZSBGYW1pbHlSZWxhdGlvbnNoaXBTdGF0dXMgPSAnbm9uZScgfCAncGVuZGluZ19mcm9tX21lJyB8ICdwZW5kaW5nX2Zyb21fdGhlbScgfCAnYXBwcm92ZWQnOwoKZXhwb3J0IGludGVyZmFjZSBGYW1pbHlSZWxhdGlvbnNoaXAgewogICAgaWQ6IG51bWJlcjsKICAgIHVzZXJfaWRfMTogbnVtYmVyOwogICAgdXNlcl9pZF8yOiBudW1iZXI7CiAgICByZXF1ZXN0ZXJfaWQ6IG51bWJlcjsKICAgIHN0YXR1czogJ3BlbmRpbmcnIHwgJ2FwcHJvdmVkJyB8ICdyZWplY3RlZCc7CiAgICBjcmVhdGVkX2F0OiBzdHJpbmc7CiAgICBzaGFyZV9sb2NhdGlvbl9mcm9tXzFfdG9fMjogYm9vbGVhbjsKICAgIHNoYXJlX2xvY2F0aW9uX2Zyb21fMl90b18xOiBib29sZWFuOwp9CgpleHBvcnQgaW50ZXJmYWNlIFBlbmRpbmdGYW1pbHlSZXF1ZXN0IHsKICAgIGlkOiBudW1iZXI7IC8vIFRoZSByZWxhdGlvbnNoaXAgSUQKICAgIHJlcXVlc3Rlcl9pZDogbnVtYmVyOwogICAgcmVxdWVzdGVyX25hbWU6IHN0cmluZzsKICAgIHJlcXVlc3Rlcl9wcm9maWxlX3BpY3R1cmVfdXJsPzogc3RyaW5nIHwgbnVsbDsKfQoKZXhwb3J0IGludGVyZmFjZSBGYW1pbHlNZW1iZXIgZXh0ZW5kcyBVc2VyIHsKICAgIGlfYW1fc2hhcmluZ193aXRoX3RoZW06IGJvb2xlYW47CiAgICB0aGV5X2FyZV9zaGFyaW5nX3dpdGhfbWU6IGJvb2xlYW47CiAgICBsYXRpdHVkZT86IG51bWJlciB8IG51bGw7CiAgICBsb25naXR1ZGU/OiBudW1iZXIgfCBudWxsOwogICAgbGFzdF91cGRhdGVkPzogc3RyaW5nIHwgbnVsbDsKfQoKZXhwb3J0IGludGVyZmFjZSBGYW1pbHlNZW1iZXJMb2NhdGlvbiB7CiAgICBpZDogbnVtYmVyOwogICAgbmFtZTogc3RyaW5nOwogICAgcHJvZmlsZXBpY3R1cmV1cmw/OiBzdHJpbmcgfCBudWxsOwogICAgbGF0aXR1ZGU6IG51bWJlcjsKICAgIGxvbmdpdHVkZTogbnVtYmVyOwogICAgbGFzdF91cGRhdGVkOiBzdHJpbmc7Cn0KCi8vIC0tLSBMUCBQb2ludHMgVHlwZXMgLS0tCmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRUcmFuc2FjdGlvbiB7CiAgaWQ6IG51bWJlcjsKICBwb2ludHM6IG51bWJlcjsKICByZWFzb246IFBvaW50VHJhbnNhY3Rpb25SZWFzb247CiAgZGVzY3JpcHRpb246IHN0cmluZzsKICBjcmVhdGVkX2F0OiBzdHJpbmc7Cn0KCi8vIC0tLSBBZG1pbiBOb3RpZmljYXRpb24gVHlwZXMgLS0tCmV4cG9ydCBpbnRlcmZhY2UgVXNlckZvck5vdGlmaWNhdGlvbiB7CiAgICBpZDogbnVtYmVyOwogICAgdG90YWxfcG9pbnRzOiBudW1iZXI7CiAgICB5ZXN0ZXJkYXlfcG9pbnRzOiBudW1iZXI7CiAgICB0b2tlbjogc3RyaW5nOwogICAgdXNlcl9hdXRoX3Rva2VuOiBzdHJpbmcgfCBudWxsOwp9CgovLyAtLS0gRmVzdGl2YWwgVHlwZXMgLS0tCmV4cG9ydCBpbnRlcmZhY2UgR2FucGF0aU1hbmRhbCB7CiAgICBpZDogbnVtYmVyOwogICAgbmFtZTogc3RyaW5nOwogICAgY2l0eTogc3RyaW5nOwogICAgZGVzY3JpcHRpb246IHN0cmluZyB8IG51bGw7CiAgICBhdmF0YXJfdXJsOiBzdHJpbmcgfCBudWxsOwogICAgbGF0aXR1ZGU6IG51bWJlcjsKICAgIGxvbmdpdHVkZTogbnVtYmVyOwogICAgYWRtaW5fdXNlcl9pZDogbnVtYmVyOwogICAgY3JlYXRlZF9hdDogc3RyaW5nOwogICAgbGlrZWNvdW50OiBudW1iZXI7CiAgICBpc0xpa2VkQnlDdXJyZW50VXNlcj86IGJvb2xlYW47Cn0KCmV4cG9ydCB0eXBlIE5ld0dhbnBhdGlNYW5kYWwgPSB7CiAgICBuYW1lOiBzdHJpbmc7CiAgICBjaXR5OiBzdHJpbmc7CiAgICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7CiAgICBhdmF0YXJVcmw/OiBzdHJpbmcgfCBudWxsOwogICAgbGF0aXR1ZGU6IG51bWJlcjsKICAgIGxvbmdpdHVkZTogbnVtYmVyOwogICAgYWRtaW5fdXNlcl9pZDogbnVtYmVyOyAvLyBUaGlzIHNob3VsZCBiZSBpbmNsdWRlZCB3aGVuIGNyZWF0aW5nCn0KCi8vIC0tLSBPVFAKZXhwb3J0IGludGVyZmFjZSBQZW5kaW5nUmVnaXN0cmF0aW9uIGV4dGVuZHMgT21pdDxOZXdVc2VyLCAncGFzc3dvcmRwbGFpbnRleHQnPiB7CiAgICBpZDogbnVtYmVyOwogICAgcGFzc3dvcmRoYXNoOiBzdHJpbmc7CiAgICBvdHA6IHN0cmluZzsKICAgIG90cF9leHBpcmVzX2F0OiBzdHJpbmc7CiAgICBjcmVhdGVkX2F0OiBzdHJpbmc7CiAgICB0aW1lem9uZT86IHN0cmluZzsKfQoKZXhwb3J0IHR5cGUgQXBwb2ludG1lbnRTdGF0dXMgPSAnY29uZmlybWVkJyB8ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCc7CgovLyAtLS0gQnVzaW5lc3MgQm9va2luZyBUeXBlcyAtLS0KZXhwb3J0IGludGVyZmFjZSBCdXNpbmVzc1NlcnZpY2UgewogIGlkOiBudW1iZXI7CiAgdXNlcl9pZDogbnVtYmVyOwogIG5hbWU6IHN0cmluZzsKICBwcmljZTogbnVtYmVyOwogIGR1cmF0aW9uX21pbnV0ZXM6IG51bWJlcjsKfQoKZXhwb3J0IHR5cGUgTmV3QnVzaW5lc3NTZXJ2aWNlID0gT21pdDxCdXNpbmVzc1NlcnZpY2UsICdpZCcgfCAndXNlcl9pZCc+OwoKZXhwb3J0IGludGVyZmFjZSBCdXNpbmVzc0hvdXIgewogICAgaWQ6IG51bWJlcjsKICAgIHVzZXJfaWQ6IG51bWJlcjsKICAgIGRheV9vZl93ZWVrOiBudW1iZXI7IC8vIDAgZm9yIFN1bmRheSwgMSBmb3IgTW9uZGF5LCBldGMuCiAgICBzdGFydF90aW1lOiBzdHJpbmc7IC8vICJISDpNTSIKICAgIGVuZF90aW1lOiBzdHJpbmc7IC8vICJISDpNTSIKICAgIGlzX2Nsb3NlZDogYm9vbGVhbjsKfQoKZXhwb3J0IGludGVyZmFjZSBCdXNpbmVzc1Jlc291cmNlIHsKICAgIGlkOiBudW1iZXI7CiAgICB1c2VyX2lkOiBudW1iZXI7CiAgICBuYW1lOiBzdHJpbmc7Cn0KCmV4cG9ydCB0eXBlIE5ld0J1c2luZXNzUmVzb3VyY2UgPSBPbWl0PEJ1c2luZXNzUmVzb3VyY2UsICdpZCcgfCAndXNlcl9pZCc+OwoKZXhwb3J0IGludGVyZmFjZSBBcHBvaW50bWVudCB7CiAgICBpZDogbnVtYmVyOwogICAgY3VzdG9tZXJfaWQ6IG51bWJlcjsKICAgIGJ1c2luZXNzX2lkOiBudW1iZXI7CiAgICBzZXJ2aWNlX2lkOiBudW1iZXI7CiAgICByZXNvdXJjZV9pZDogbnVtYmVyOwogICAgc3RhcnRfdGltZTogc3RyaW5nOwogICAgZW5kX3RpbWU6IHN0cmluZzsKICAgIHN0YXR1czogQXBwb2ludG1lbnRTdGF0dXM7CiAgICBjcmVhdGVkX2F0OiBzdHJpbmc7CiAgICB0aW1lem9uZT86IHN0cmluZyB8IG51bGw7Cn0KCi8vIEVucmljaGVkIEFwcG9pbnRtZW50IHR5cGUgZm9yIGRpc3BsYXkKZXhwb3J0IGludGVyZmFjZSBCdXNpbmVzc0FwcG9pbnRtZW50IGV4dGVuZHMgQXBwb2ludG1lbnQgewogICAgY3VzdG9tZXJfbmFtZTogc3RyaW5nOwogICAgY3VzdG9tZXJfYXZhdGFyOiBzdHJpbmcgfCBudWxsOwogICAgc2VydmljZV9uYW1lOiBzdHJpbmc7CiAgICBzZXJ2aWNlX2R1cmF0aW9uOiBudW1iZXI7CiAgICByZXNvdXJjZV9uYW1lOiBzdHJpbmc7CiAgICBwcmljZTogbnVtYmVyOwp9CgpleHBvcnQgaW50ZXJmYWNlIEN1c3RvbWVyQXBwb2ludG1lbnQgZXh0ZW5kcyBBcHBvaW50bWVudCB7CiAgICBidXNpbmVzc19uYW1lOiBzdHJpbmc7CiAgICBidXNpbmVzc19hdmF0YXI6IHN0cmluZyB8IG51bGw7CiAgICBidXNpbmVzc19sYXRpdHVkZTogbnVtYmVyIHwgbnVsbDsKICAgIGJ1c2luZXNzX2xvbmdpdHVkZTogbnVtYmVyIHwgbnVsbDsKICAgIHNlcnZpY2VfbmFtZTogc3RyaW5nOwogICAgcHJpY2U6IG51bWJlcjsKICAgIHJlc291cmNlX25hbWU6IHN0cmluZzsKfQoKCi8vIEFJIEZsb3cgVHlwZXMKZXhwb3J0IHR5cGUgTG9jYWxIZWxwZXJJbnB1dCA9IHsKICAgIHF1ZXJ5OiBzdHJpbmc7CiAgICBsYXRpdHVkZTogbnVtYmVyOwogICAgbG9uZ2l0dWRlOiBudW1iZXI7Cn07CmV4cG9ydCB0eXBlIExvY2FsSGVscGVyT3V0cHV0ID0gc3RyaW5nOwoKZXhwb3J0IHR5cGUgU2VlZENvbnRlbnRJbnB1dCA9IHsKICAgIGxhdGl0dWRlOiBudW1iZXI7CiAgICBsb25naXR1ZGU6IG51bWJlcjsKfTsKCmV4cG9ydCB0eXBlIFNlZWRDb250ZW50Rmxvd091dHB1dCA9IHsKICAgIHN1Y2Nlc3M6IGJvb2xlYW47CiAgICBtZXNzYWdlOiBzdHJpbmc7CiAgICBwb3N0Q291bnQ6IG51bWJlcjsKICAgIGNpdHlOYW1lOiBzdHJpbmc7Cn07CgpleHBvcnQgY29uc3QgU2VuZE90cElucHV0U2NoZW1hID0gei5vYmplY3QoewogIG5hbWU6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1RoZSBuYW1lIG9mIHRoZSB1c2VyIHRvIGFkZHJlc3MgaW4gdGhlIGVtYWlsLicpLAogIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCkuZGVzY3JpYmUoJ1RoZSBlbWFpbCBhZGRyZXNzIHRvIHNlbmQgdGhlIE9UUCB0by4nKSwKICBvdHA6IHouc3RyaW5nKCkubGVuZ3RoKDYpLmRlc2NyaWJlKCdUaGUgNi1kaWdpdCBvbmUtdGltZSBwYXNzd29yZC4nKSwKfSk7CgpleHBvcnQgdHlwZSBTZW5kT3RwSW5wdXQgPSB6LmluZmVyPHR5cGVvZiBTZW5kT3RwSW5wdXRTY2hlbWE+Owo=' | base64 -d > /root/localpulse/src/lib/db-types.ts
mkdir -p /root/localpulse/src/lib
echo 'CmV4cG9ydCBjb25zdCBDT1VOVFJJRVMgPSBbCiAgICB7IG5hbWU6ICdBZmdoYW5pc3RhbicsIGNvZGU6ICc5MycgfSwKICAgIHsgbmFtZTogJ0FsYmFuaWEnLCBjb2RlOiAnMzU1JyB9LAogICAgeyBuYW1lOiAnQWxnZXJpYScsIGNvZGU6ICcyMTMnIH0sCiAgICB7IG5hbWU6ICdBbWVyaWNhbiBTYW1vYScsIGNvZGU6ICcxLTY4NCcgfSwKICAgIHsgbmFtZTogJ0FuZG9ycmEnLCBjb2RlOiAnMzc2JyB9LAogICAgeyBuYW1lOiAnQW5nb2xhJywgY29kZTogJzI0NCcgfSwKICAgIHsgbmFtZTogJ0FuZ3VpbGxhJywgY29kZTogJzEtMjY0JyB9LAogICAgeyBuYW1lOiAnQW50YXJjdGljYScsIGNvZGU6ICc2NzInIH0sCiAgICB7IG5hbWU6ICdBbnRpZ3VhIGFuZCBCYXJidWRhJywgY29kZTogJzEtMjY4JyB9LAogICAgeyBuYW1lOiAnQXJnZW50aW5hJywgY29kZTogJzU0JyB9LAogICAgeyBuYW1lOiAnQXJtZW5pYScsIGNvZGU6ICczNzQnIH0sCiAgICB7IG5hbWU6ICdBcnViYScsIGNvZGU6ICcyOTcnIH0sCiAgICB7IG5hbWU6ICdBdXN0cmFsaWEnLCBjb2RlOiAnNjEnIH0sCiAgICB7IG5hbWU6ICdBdXN0cmlhJywgY29kZTogJzQzJyB9LAogICAgeyBuYW1lOiAnQXplcmJhaWphbicsIGNvZGU6ICc5OTQnIH0sCiAgICB7IG5hbWU6ICdCYWhhbWFzJywgY29kZTogJzEtMjQyJyB9LAogICAgeyBuYW1lOiAnQmFocmFpbicsIGNvZGU6ICc5NzMnIH0sCiAgICB7IG5hbWU6ICdCYW5nbGFkZXNoJywgY29kZTogJzg4MCcgfSwKICAgIHsgbmFtZTogJ0JhcmJhZG9zJywgY29kZTogJzEtMjQ2JyB9LAogICAgeyBuYW1lOiAnQmVsYXJ1cycsIGNvZGU6ICczNzUnIH0sCiAgICB7IG5hbWU6ICdCZWxnaXVtJywgY29kZTogJzMyJyB9LAogICAgeyBuYW1lOiAnQmVsaXplJywgY29kZTogJzUwMScgfSwKICAgIHsgbmFtZTogJ0JlbmluJywgY29kZTogJzIyOScgfSwKICAgIHsgbmFtZTogJ0Jlcm11ZGEnLCBjb2RlOiAnMS00NDEnIH0sCiAgICB7IG5hbWU6ICdCaHV0YW4nLCBjb2RlOiAnOTc1JyB9LAogICAgeyBuYW1lOiAnQm9saXZpYScsIGNvZGU6ICc1OTEnIH0sCiAgICB7IG5hbWU6ICdCb3NuaWEgYW5kIEhlcnplZ292aW5hJywgY29kZTogJzM4NycgfSwKICAgIHsgbmFtZTogJ0JvdHN3YW5hJywgY29kZTogJzI2NycgfSwKICAgIHsgbmFtZTogJ0JyYXppbCcsIGNvZGU6ICc1NScgfSwKICAgIHsgbmFtZTogJ0JyaXRpc2ggSW5kaWFuIE9jZWFuIFRlcnJpdG9yeScsIGNvZGU6ICcyNDYnIH0sCiAgICB7IG5hbWU6ICdCcml0aXNoIFZpcmdpbiBJc2xhbmRzJywgY29kZTogJzEtMjg0JyB9LAogICAgeyBuYW1lOiAnQnJ1bmVpJywgY29kZTogJzY3MycgfSwKICAgIHsgbmFtZTogJ0J1bGdhcmlhJywgY29kZTogJzM1OScgfSwKICAgIHsgbmFtZTogJ0J1cmtpbmEgRmFzbycsIGNvZGU6ICcyMjYnIH0sCiAgICB7IG5hbWU6ICdCdXJ1bmRpJywgY29kZTogJzI1NycgfSwKICAgIHsgbmFtZTogJ0NhbWJvZGlhJywgY29kZTogJzg1NScgfSwKICAgIHsgbmFtZTogJ0NhbWVyb29uJywgY29kZTogJzIzNycgfSwKICAgIHsgbmFtZTogJ0NhbmFkYScsIGNvZGU6ICcxJyB9LAogICAgeyBuYW1lOiAnQ2FwZSBWZXJkZScsIGNvZGU6ICcyMzgnIH0sCiAgICB7IG5hbWU6ICdDYXltYW4gSXNsYW5kcycsIGNvZGU6ICcxLTM0NScgfSwKICAgIHsgbmFtZTogJ0NlbnRyYWwgQWZyaWNhbiBSZXB1YmxpYycsIGNvZGU6ICcyMzYnIH0sCiAgICB7IG5hbWU6ICdDaGFkJywgY29kZTogJzIzNScgfSwKICAgIHsgbmFtZTogJ0NoaWxlJywgY29kZTogJzU2JyB9LAogICAgeyBuYW1lOiAnQ2hpbmEnLCBjb2RlOiAnODYnIH0sCiAgICB7IG5hbWU6ICdDaHJpc3RtYXMgSXNsYW5kJywgY29kZTogJzYxJyB9LAogICAgeyBuYW1lOiAnQ29jb3MgSXNsYW5kcycsIGNvZGU6ICc2MScgfSwKICAgIHsgbmFtZTogJ0NvbG9tYmlhJywgY29kZTogJzU3JyB9LAogICAgeyBuYW1lOiAnQ29tb3JvcycsIGNvZGU6ICcyNjknIH0sCiAgICB7IG5hbWU6ICdDb29rIElzbGFuZHMnLCBjb2RlOiAnNjgyJyB9LAogICAgeyBuYW1lOiAnQ29zdGEgUmljYScsIGNvZGU6ICc1MDYnIH0sCiAgICB7IG5hbWU6ICdDcm9hdGlhJywgY29kZTogJzM4NScgfSwKICAgIHsgbmFtZTogJ0N1YmEnLCBjb2RlOiAnNTMnIH0sCiAgICB7IG5hbWU6ICdDdXJhY2FvJywgY29kZTogJzU5OScgfSwKICAgIHsgbmFtZTogJ0N5cHJ1cycsIGNvZGU6ICczNTcnIH0sCiAgICB7IG5hbWU6ICdDemVjaCBSZXB1YmxpYycsIGNvZGU6ICc0MjAnIH0sCiAgICB7IG5hbWU6ICdEZW1vY3JhdGljIFJlcHVibGljIG9mIHRoZSBDb25nbycsIGNvZGU6ICcyNDMnIH0sCiAgICB7IG5hbWU6ICdEZW5tYXJrJywgY29kZTogJzQ1JyB9LAogICAgeyBuYW1lOiAnRGppYm91dGknLCBjb2RlOiAnMjUzJyB9LAogICAgeyBuYW1lOiAnRG9taW5pY2EnLCBjb2RlOiAnMS03NjcnIH0sCiAgICB7IG5hbWU6ICdEb21pbmljYW4gUmVwdWJsaWMnLCBjb2RlOiAnMS04MDksIDEtODI5LCAxLTg0OScgfSwKICAgIHsgbmFtZTogJ0Vhc3QgVGltb3InLCBjb2RlOiAnNjcwJyB9LAogICAgeyBuYW1lOiAnRWN1YWRvcicsIGNvZGU6ICc1OTMnIH0sCiAgICB7IG5hbWU6ICdFZ3lwdCcsIGNvZGU6ICcyMCcgfSwKICAgIHsgbmFtZTogJ0VsIFNhbHZhZG9yJywgY29kZTogJzUwMycgfSwKICAgIHsgbmFtZTogJ0VxdWF0b3JpYWwgR3VpbmVhJywgY29kZTogJzI0MCcgfSwKICAgIHsgbmFtZTogJ0VyaXRyZWEnLCBjb2RlOiAnMjkxJyB9LAogICAgeyBuYW1lOiAnRXN0b25pYScsIGNvZGU6ICczNzInIH0sCiAgICB7IG5hbWU6ICdFdGhpb3BpYScsIGNvZGU6ICcyNTEnIH0sCiAgICB7IG5hbWU6ICdGYWxrbGFuZCBJc2xhbmRzJywgY29kZTogJzUwMCcgfSwKICAgIHsgbmFtZTogJ0Zhcm9lIElzbGFuZHMnLCBjb2RlOiAnMjk4JyB9LAogICAgeyBuYW1lOiAnRmlqaScsIGNvZGU6ICc2NzknIH0sCiAgICB7IG5hbWU6ICdGaW5sYW5kJywgY29kZTogJzM1OCcgfSwKICAgIHsgbmFtZTogJ0ZyYW5jZScsIGNvZGU6ICczMycgfSwKICAgIHsgbmFtZTogJ0ZyZW5jaCBQb2x5bmVzaWEnLCBjb2RlOiAnNjg5JyB9LAogICAgeyBuYW1lOiAnR2Fib24nLCBjb2RlOiAnMjQxJyB9LAogICAgeyBuYW1lOiAnR2FtYmlhJywgY29kZTogJzIyMCcgfSwKICAgIHsgbmFtZTogJ0dlb3JnaWEnLCBjb2RlOiAnOTk1JyB9LAogICAgeyBuYW1lOiAnR2VybWFueScsIGNvZGU6ICc0OScgfSwKICAgIHsgbmFtZTogJ0doYW5hJywgY29kZTogJzIzMycgfSwKICAgIHsgbmFtZTogJ0dpYnJhbHRhcicsIGNvZGU6ICczNTAnIH0sCiAgICB7IG5hbWU6ICdHcmVlY2UnLCBjb2RlOiAnMzAnIH0sCiAgICB7IG5hbWU6ICdHcmVlbmxhbmQnLCBjb2RlOiAnMjk5JyB9LAogICAgeyBuYW1lOiAnR3JlbmFkYScsIGNvZGU6ICcxLTQ3MycgfSwKICAgIHsgbmFtZTogJ0d1YW0nLCBjb2RlOiAnMS02NzEnIH0sCiAgICB7IG5hbWU6ICdHdWF0ZW1hbGEnLCBjb2RlOiAnNTAyJyB9LAogICAgeyBuYW1lOiAnR3Vlcm5zZXknLCBjb2RlOiAnNDQtMTQ4MScgfSwKICAgIHsgbmFtZTogJ0d1aW5lYScsIGNvZGU6ICcyMjQnIH0sCiAgICB7IG5hbWU6ICdHdWluZWEtQmlzc2F1JywgY29kZTogJzI0NScgfSwKICAgIHsgbmFtZTogJ0d1eWFuYScsIGNvZGU6ICc1OTInIH0sCiAgICB7IG5hbWU6ICdIYWl0aScsIGNvZGU6ICc1MDknIH0sCiAgICB7IG5hbWU6ICdIb25kdXJhcycsIGNvZGU6ICc1MDQnIH0sCiAgICB7IG5hbWU6ICdIb25nIEtvbmcnLCBjb2RlOiAnODUyJyB9LAogICAgeyBuYW1lOiAnSHVuZ2FyeScsIGNvZGU6ICczNicgfSwKICAgIHsgbmFtZTogJ0ljZWxhbmQnLCBjb2RlOiAnMzU0JyB9LAogICAgeyBuYW1lOiAnSW5kaWEnLCBjb2RlOiAnOTEnIH0sCiAgICB7IG5hbWU6ICdJbmRvbmVzaWEnLCBjb2RlOiAnNjInIH0sCiAgICB7IG5hbWU6ICdJcmFuJywgY29kZTogJzk4JyB9LAogICAgeyBuYW1lOiAnSXJhcScsIGNvZGU6ICc5NjQnIH0sCiAgICB7IG5hbWU6ICdJcmVsYW5kJywgY29kZTogJzM1MycgfSwKICAgIHsgbmFtZTogJ0lzbGUgb2YgTWFuJywgY29kZTogJzQ0LTE2MjQnIH0sCiAgICB7IG5hbWU6ICdJc3JhZWwnLCBjb2RlOiAnOTcyJyB9LAogICAgeyBuYW1lOiAnSXRhbHknLCBjb2RlOiAnMzknIH0sCiAgICB7IG5hbWU6ICdJdm9yeSBDb2FzdCcsIGNvZGU6ICcyMjUnIH0sCiAgICB7IG5hbWU6ICdKYW1haWNhJywgY29kZTogJzEtODc2JyB9LAogICAgeyBuYW1lOiAnSmFwYW4nLCBjb2RlOiAnODEnIH0sCiAgICB7IG5hbWU6ICdKZXJzZXknLCBjb2RlOiAnNDQtMTUzNCcgfSwKICAgIHsgbmFtZTogJ0pvcmRhbicsIGNvZGU6ICc5NjInIH0sCiAgICB7IG5hbWU6ICdLYXpha2hzdGFuJywgY29kZTogJzcnIH0sCiAgICB7IG5hbWU6ICdLZW55YScsIGNvZGU6ICcyNTQnIH0sCiAgICB7IG5hbWU6ICdLaXJpYmF0aScsIGNvZGU6ICc2ODYnIH0sCiAgICB7IG5hbWU6ICdLb3Nvdm8nLCBjb2RlOiAnMzgzJyB9LAogICAgeyBuYW1lOiAnS3V3YWl0JywgY29kZTogJzk2NScgfSwKICAgIHsgbmFtZTogJ0t5cmd5enN0YW4nLCBjb2RlOiAnOTk2JyB9LAogICAgeyBuYW1lOiAnTGFvcycsIGNvZGU6ICc4NTYnIH0sCiAgICB7IG5hbWU6ICdMYXR2aWEnLCBjb2RlOiAnMzcxJyB9LAogICAgeyBuYW1lOiAnTGViYW5vbicsIGNvZGU6ICc5NjEnIH0sCiAgICB7IG5hbWU6ICdMZXNvdGhvJywgY29kZTogJzI2NicgfSwKICAgIHsgbmFtZTogJ0xpYmVyaWEnLCBjb2RlOiAnMjMxJyB9LAogICAgeyBuYW1lOiAnTGlieWEnLCBjb2RlOiAnMjE4JyB9LAogICAgeyBuYW1lOiAnTGllY2h0ZW5zdGVpbicsIGNvZGU6ICc0MjMnIH0sCiAgICB7IG5hbWU6ICdMaXRodWFuaWEnLCBjb2RlOiAnMzcwJyB9LAogICAgeyBuYW1lOiAnTHV4ZW1ib3VyZycsIGNvZGU6ICczNTInIH0sCiAgICB7IG5hbWU6ICdNYWNhdScsIGNvZGU6ICc4NTMnIH0sCiAgICB7IG5hbWU6ICdNYWNlZG9uaWEnLCBjb2RlOiAnMzg5JyB9LAogICAgeyBuYW1lOiAnTWFkYWdhc2NhcicsIGNvZGU6ICcyNjEnIH0sCiAgICB7IG5hbWU6ICdNYWxhd2knLCBjb2RlOiAnMjY1JyB9LAogICAgeyBuYW1lOiAnTWFsYXlzaWEnLCBjb2RlOiAnNjAnIH0sCiAgICB7IG5hbWU6ICdNYWxkaXZlcycsIGNvZGU6ICc5NjAnIH0sCiAgICB7IG5hbWU6ICdNYWxpJywgY29kZTogJzIyMycgfSwKICAgIHsgbmFtZTogJ01hbHRhJywgY29kZTogJzM1NicgfSwKICAgIHsgbmFtZTogJ01hcnNoYWxsIElzbGFuZHMnLCBjb2RlOiAnNjkyJyB9LAogICAgeyBuYW1lOiAnTWF1cml0YW5pYScsIGNvZGU6ICcyMjInIH0sCiAgICB7IG5hbWU6ICdNYXVyaXRpdXMnLCBjb2RlOiAnMjMwJyB9LAogICAgeyBuYW1lOiAnTWF5b3R0ZScsIGNvZGU6ICcyNjInIH0sCiAgICB7IG5hbWU6ICdNZXhpY28nLCBjb2RlOiAnNTInIH0sCiAgICB7IG5hbWU6ICdNaWNyb25lc2lhJywgY29kZTogJzY5MScgfSwKICAgIHsgbmFtZTogJ01vbGRvdmEnLCBjb2RlOiAnMzczJyB9LAogICAgeyBuYW1lOiAnTW9uYWNvJywgY29kZTogJzM3NycgfSwKICAgIHsgbmFtZTogJ01vbmdvbGlhJywgY29kZTogJzk3NicgfSwKICAgIHsgbmFtZTogJ01vbnRlbmVncm8nLCBjb2RlOiAnMzgyJyB9LAogICAgeyBuYW1lOiAnTW9udHNlcnJhdCcsIGNvZGU6ICcxLTY2NCcgfSwKICAgIHsgbmFtZTogJ01vcm9jY28nLCBjb2RlOiAnMjEyJyB9LAogICAgeyBuYW1lOiAnTW96YW1iaXF1ZScsIGNvZGU6ICcyNTgnIH0sCiAgICB7IG5hbWU6ICdNeWFubWFyJywgY29kZTogJzk1JyB9LAogICAgeyBuYW1lOiAnTmFtaWJpYScsIGNvZGU6ICcyNjQnIH0sCiAgICB7IG5hbWU6ICdOYXVydScsIGNvZGU6ICc2NzQnIH0sCiAgICB7IG5hbWU6ICdOZXBhbCcsIGNvZGU6ICc5NzcnIH0sCiAgICB7IG5hbWU6ICdOZXRoZXJsYW5kcycsIGNvZGU6ICczMScgfSwKICAgIHsgbmFtZTogJ05ldGhlcmxhbmRzIEFudGlsbGVzJywgY29kZTogJzU5OScgfSwKICAgIHsgbmFtZTogJ05ldyBDYWxlZG9uaWEnLCBjb2RlOiAnNjg3JyB9LAogICAgeyBuYW1lOiAnTmV3IFplYWxhbmQnLCBjb2RlOiAnNjQnIH0sCiAgICB7IG5hbWU6ICdOaWNhcmFndWEnLCBjb2RlOiAnNTA1JyB9LAogICAgeyBuYW1lOiAnTmlnZXInLCBjb2RlOiAnMjI3JyB9LAogICAgeyBuYW1lOiAnTmlnZXJpYScsIGNvZGU6ICcyMzQnIH0sCiAgICB7IG5hbWU6ICdOaXVlJywgY29kZTogJzY4MycgfSwKICAgIHsgbmFtZTogJ05vcnRoIEtvcmVhJywgY29kZTogJzg1MCcgfSwKICAgIHsgbmFtZTogJ05vcnRoZXJuIE1hcmlhbmEgSXNsYW5kcycsIGNvZGU6ICcxLTY3MCcgfSwKICAgIHsgbmFtZTogJ05vcndheScsIGNvZGU6ICc0NycgfSwKICAgIHsgbmFtZTogJ09tYW4nLCBjb2RlOiAnOTY4JyB9LAogICAgeyBuYW1lOiAnUGFraXN0YW4nLCBjb2RlOiAnOTInIH0sCiAgICB7IG5hbWU6ICdQYWxhdScsIGNvZGU6ICc2ODAnIH0sCiAgICB7IG5hbWU6ICdQYWxlc3RpbmUnLCBjb2RlOiAnOTcwJyB9LAogICAgeyBuYW1lOiAnUGFuYW1hJywgY29kZTogJzUwNycgfSwKICAgIHsgbmFtZTogJ1BhcHVhIE5ldyBHdWluZWEnLCBjb2RlOiAnNjc1JyB9LAogICAgeyBuYW1lOiAnUGFyYWd1YXknLCBjb2RlOiAnNTk1JyB9LAogICAgeyBuYW1lOiAnUGVydScsIGNvZGU6ICc1MScgfSwKICAgIHsgbmFtZTogJ1BoaWxpcHBpbmVzJywgY29kZTogJzYzJyB9LAogICAgeyBuYW1lOiAnUGl0Y2Fpcm4nLCBjb2RlOiAnNjQnIH0sCiAgICB7IG5hbWU6ICdQb2xhbmQnLCBjb2RlOiAnNDgnIH0sCiAgICB7IG5hbWU6ICdQb3J0dWdhbCcsIGNvZGU6ICczNTEnIH0sCiAgICB7IG5hbWU6ICdQdWVydG8gUmljbycsIGNvZGU6ICcxLTc4NywgMS05MzknIH0sCiAgICB7IG5hbWU6ICdRYXRhcicsIGNvZGU6ICc5NzQnIH0sCiAgICB7IG5hbWU6ICdSZXB1YmxpYyBvZiB0aGUgQ29uZ28nLCBjb2RlOiAnMjQyJyB9LAogICAgeyBuYW1lOiAnUmV1bmlvbicsIGNvZGU6ICcyNjInIH0sCiAgICB7IG5hbWU6ICdSb21hbmlhJywgY29kZTogJzQwJyB9LAogICAgeyBuYW1lOiAnUnVzc2lhJywgY29kZTogJzcnIH0sCiAgICB7IG5hbWU6ICdSd2FuZGEnLCBjb2RlOiAnMjUwJyB9LAogICAgeyBuYW1lOiAnU2FpbnQgQmFydGhlbGVteScsIGNvZGU6ICc1OTAnIH0sCiAgICB7IG5hbWU6ICdTYWludCBIZWxlbmEnLCBjb2RlOiAnMjkwJyB9LAogICAgeyBuYW1lOiAnU2FpbnQgS2l0dHMgYW5kIE5ldmlzJywgY29kZTogJzEtODY5JyB9LAogICAgeyBuYW1lOiAnU2FpbnQgTHVjaWEnLCBjb2RlOiAnMS03NTgnIH0sCiAgICB7IG5hbWU6ICdTYWludCBNYXJ0aW4nLCBjb2RlOiAnNTkwJyB9LAogICAgeyBuYW1lOiAnU2FpbnQgUGllcnJlIGFuZCBNaXF1ZWxvbicsIGNvZGU6ICc1MDgnIH0sCiAgICB7IG5hbWU6ICdTYWludCBWaW5jZW50IGFuZCB0aGUgR3JlbmFkaW5lcycsIGNvZGU6ICcxLTc4NCcgfSwKICAgIHsgbmFtZTogJ1NhbW9hJywgY29kZTogJzY4NScgfSwKICAgIHsgbmFtZTogJ1NhbiBNYXJpbm8nLCBjb2RlOiAnMzc4JyB9LAogICAgeyBuYW1lOiAnU2FvIFRvbWUgYW5kIFByaW5jaXBlJywgY29kZTogJzIzOScgfSwKICAgIHsgbmFtZTogJ1NhdWRpIEFyYWJpYScsIGNvZGU6ICc5NjYnIH0sCiAgICB7IG5hbWU6ICdTZW5lZ2FsJywgY29kZTogJzIyMScgfSwKICAgIHsgbmFtZTogJ1NlcmJpYScsIGNvZGU6ICczODEnIH0sCiAgICB7IG5hbWU6ICdTZXljaGVsbGVzJywgY29kZTogJzI0OCcgfSwKICAgIHsgbmFtZTogJ1NpZXJyYSBMZW9uZScsIGNvZGU6ICcyMzInIH0sCiAgICB7IG5hbWU6ICdTaW5nYXBvcmUnLCBjb2RlOiAnNjUnIH0sCiAgICB7IG5hbWU6ICdTaW50IE1hYXJ0ZW4nLCBjb2RlOiAnMS03MjEnIH0sCiAgICB7IG5hbWU6ICdTbG92YWtpYScsIGNvZGU6ICc0MjEnIH0sCiAgICB7IG5hbWU6ICdTbG92ZW5pYScsIGNvZGU6ICczODYnIH0sCiAgICB7IG5hbWU6ICdTb2xvbW9uIElzbGFuZHMnLCBjb2RlOiAnNjc3JyB9LAogICAgeyBuYW1lOiAnU29tYWxpYScsIGNvZGU6ICcyNTInIH0sCiAgICB7IG5hbWU6ICdTb3V0aCBBZnJpY2EnLCBjb2RlOiAnMjcnIH0sCiAgICB7IG5hbWU6ICdTb3V0aCBLb3JlYScsIGNvZGU6ICc4MicgfSwKICAgIHsgbmFtZTogJ1NvdXRoIFN1ZGFuJywgY29kZTogJzIxMScgfSwKICAgIHsgbmFtZTogJ1NwYWluJywgY29kZTogJzM0JyB9LAogICAgeyBuYW1lOiAnU3JpIExhbmthJywgY29kZTogJzk0JyB9LAogICAgeyBuYW1lOiAnU3VkYW4nLCBjb2RlOiAnMjQ5JyB9LAogICAgeyBuYW1lOiAnU3VyaW5hbWUnLCBjb2RlOiAnNTk3JyB9LAogICAgeyBuYW1lOiAnU3ZhbGJhcmQgYW5kIEphbiBNYXllbicsIGNvZGU6ICc0NycgfSwKICAgIHsgbmFtZTogJ1N3YXppbGFuZCcsIGNvZGU6ICcyNjgnIH0sCiAgICB7IG5hbWU6ICdTd2VkZW4nLCBjb2RlOiAnNDYnIH0sCiAgICB7IG5hbWU6ICdTd2l0emVybGFuZCcsIGNvZGU6ICc0MScgfSwKICAgIHsgbmFtZTogJ1N5cmlhJywgY29kZTogJzk2MycgfSwKICAgIHsgbmFtZTogJ1RhaXdhbicsIGNvZGU6ICc4ODYnIH0sCiAgICB7IG5hbWU6ICdUYWppa2lzdGFuJywgY29kZTogJzk5MicgfSwKICAgIHsgbmFtZTogJ1RhbnphbmlhJywgY29kZTogJzI1NScgfSwKICAgIHsgbmFtZTogJ1RoYWlsYW5kJywgY29kZTogJzY2JyB9LAogICAgeyBuYW1lOiAnVG9nbycsIGNvZGU6ICcyMjgnIH0sCiAgICB7IG5hbWU6ICdUb2tlbGF1JywgY29kZTogJzY5MCcgfSwKICAgIHsgbmFtZTogJ1RvbmdhJywgY29kZTogJzY3NicgfSwKICAgIHsgbmFtZTogJ1RyaW5pZGFkIGFuZCBUb2JhZ28nLCBjb2RlOiAnMS04NjgnIH0sCiAgICB7IG5hbWU6ICdUdW5pc2lhJywgY29kZTogJzIxNicgfSwKICAgIHsgbmFtZTogJ1R1cmtleScsIGNvZGU6ICc5MCcgfSwKICAgIHsgbmFtZTogJ1R1cmttZW5pc3RhbicsIGNvZGU6ICc5OTMnIH0sCiAgICB7IG5hbWU6ICdUdXJrcyBhbmQgQ2FpY29zIElzbGFuZHMnLCBjb2RlOiAnMS02NDknIH0sCiAgICB7IG5hbWU6ICdUdXZhbHUnLCBjb2RlOiAnNjg4JyB9LAogICAgeyBuYW1lOiAnVS5TLiBWaXJnaW4gSXNsYW5kcycsIGNvZGU6ICcxLTM0MCcgfSwKICAgIHsgbmFtZTogJ1VnYW5kYScsIGNvZGU6ICcyNTYnIH0sCiAgICB7IG5hbWU6ICdVa3JhaW5lJywgY29kZTogJzM4MCcgfSwKICAgIHsgbmFtZTogJ1VuaXRlZCBBcmFiIEVtaXJhdGVzJywgY29kZTogJzk3MScgfSwKICAgIHsgbmFtZTogJ1VuaXRlZCBLaW5nZG9tJywgY29kZTogJzQ0JyB9LAogICAgeyBuYW1lOiAnVW5pdGVkIFN0YXRlcycsIGNvZGU6ICcxJyB9LAogICAgeyBuYW1lOiAnVXJ1Z3VheScsIGNvZGU6ICc1OTgnIH0sCiAgICB7IG5hbWU6ICdVemJla2lzdGFuJywgY29kZTogJzk5OCcgfSwKICAgIHsgbmFtZTogJ1ZhbnVhdHUnLCBjb2RlOiAnNjc4JyB9LAogICAgeyBuYW1lOiAnVmF0aWNhbicsIGNvZGU6ICczNzknIH0sCiAgICB7IG5hbWU6ICdWZW5lenVlbGEnLCBjb2RlOiAnNTgnIH0sCiAgICB7IG5hbWU6ICdWaWV0bmFtJywgY29kZTogJzg0JyB9LAogICAgeyBuYW1lOiAnV2FsbGlzIGFuZCBGdXR1bmEnLCBjb2RlOiAnNjgxJyB9LAogICAgeyBuYW1lOiAnV2VzdGVybiBTYWhhcmEnLCBjb2RlOiAnMjEyJyB9LAogICAgeyBuYW1lOiAnWWVtZW4nLCBjb2RlOiAnOTY3JyB9LAogICAgeyBuYW1lOiAnWmFtYmlhJywgY29kZTogJzI2MCcgfSwKICAgIHsgbmFtZTogJ1ppbWJhYndlJywgY29kZTogJzI2MycgfQogIF07Cg==' | base64 -d > /root/localpulse/src/lib/countries.ts
mkdir -p /root/localpulse/src/lib
echo 'aW1wb3J0IHsgY2xzeCwgdHlwZSBDbGFzc1ZhbHVlIH0gZnJvbSAiY2xzeCIKaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gInRhaWx3aW5kLW1lcmdlIgoKZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7CiAgcmV0dXJuIHR3TWVyZ2UoY2xzeChpbnB1dHMpKQp9Cg==' | base64 -d > /root/localpulse/src/lib/utils.ts
mkdir -p /root/localpulse/src/lib
echo 'CgondXNlIHNlcnZlcic7CgppbXBvcnQgeyBnZXROZWFyYnlCdXNpbmVzc2VzRGIsIHNlYXJjaE5lYXJieVBvc3RzRGIgfSBmcm9tICdAL2xpYi9kYic7CmltcG9ydCB7IEJVU0lORVNTX0NBVEVHT1JJRVMgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB0eXBlIHsgQnVzaW5lc3NVc2VyLCBQb3N0IH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwoKLy8gQSBtYXBwaW5nIGZyb20gY29tbW9uIHNlYXJjaCB0ZXJtcyB0byBvZmZpY2lhbCBidXNpbmVzcyBjYXRlZ29yaWVzCmNvbnN0IGNhdGVnb3J5U3lub255bXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVsbCB9ID0gewogICAgLy8gU2hvcHMgJiBSZXRhaWwKICAgICdncm9jZXJ5JzogJ0dyb2NlcnkgLyBLaXJhbmEgU3RvcmUnLCAna2lyYW5hJzogJ0dyb2NlcnkgLyBLaXJhbmEgU3RvcmUnLAogICAgJ2ZydWl0JzogJ0ZydWl0cyAmIFZlZ2V0YWJsZSBTaG9wJywgJ3ZlZ2V0YWJsZSc6ICdGcnVpdHMgJiBWZWdldGFibGUgU2hvcCcsCiAgICAnYmFrZXJ5JzogJ0Jha2VyeSAvIENha2UgU2hvcCcsICdjYWtlJzogJ0Jha2VyeSAvIENha2UgU2hvcCcsCiAgICAnc3dlZXQnOiAnU3dlZXQgU2hvcCcsCiAgICAnbWlsayc6ICdEYWlyeSAvIE1pbGsgQm9vdGgnLCAnZGFpcnknOiAnRGFpcnkgLyBNaWxrIEJvb3RoJywKICAgICdtZWF0JzogJ01lYXQgJiBGaXNoIFNob3AnLCAnZmlzaCc6ICdNZWF0ICYgRmlzaCBTaG9wJywgJ2NoaWNrZW4nOiAnTWVhdCAmIEZpc2ggU2hvcCcsCiAgICAnYm9vayc6ICdTdGF0aW9uZXJ5ICYgQm9vayBTdG9yZScsICdzdGF0aW9uZXJ5JzogJ1N0YXRpb25lcnkgJiBCb29rIFN0b3JlJywKICAgICd0b3knOiAnR2lmdCAvIFRveSBTaG9wJywgJ2dpZnQnOiAnR2lmdCAvIFRveSBTaG9wJywKICAgICdjbG90aGluZyc6ICdHYXJtZW50IC8gQ2xvdGhpbmcgU3RvcmUnLCAnZ2FybWVudCc6ICdHYXJtZW50IC8gQ2xvdGhpbmcgU3RvcmUnLAogICAgJ3Nob2UnOiAnRm9vdHdlYXIgU3RvcmUnLAogICAgJ2Nvc21ldGljJzogJ0Nvc21ldGljcyAmIEJlYXV0eSBQcm9kdWN0cycsCiAgICAnbW9iaWxlJzogJ01vYmlsZSAmIEVsZWN0cm9uaWNzIFN0b3JlJywgJ2VsZWN0cm9uaWMnOiAnTW9iaWxlICYgRWxlY3Ryb25pY3MgU3RvcmUnLAogICAgJ2Z1cm5pdHVyZSc6ICdGdXJuaXR1cmUgU3RvcmUnLAogICAgJ2hhcmR3YXJlJzogJ0hhcmR3YXJlIC8gUGFpbnQgU3RvcmUnLCAncGFpbnQnOiAnSGFyZHdhcmUgLyBQYWludCBTdG9yZScsCiAgICAvLyBGb29kICYgQmV2ZXJhZ2UKICAgICdyZXN0YXVyYW50JzogJ1Jlc3RhdXJhbnQnLCAnZm9vZCc6ICdSZXN0YXVyYW50JywKICAgICdwaXp6YSc6ICdQaXp6YSBTaG9wJywKICAgICdmYXN0IGZvb2QnOiAnRmFzdCBGb29kIENlbnRlcicsCiAgICAndGVhJzogJ1RlYSAmIFNuYWNrcyBTdGFsbCcsICdzbmFja3MnOiAnVGVhICYgU25hY2tzIFN0YWxsJywKICAgICdqdWljZSc6ICdKdWljZSBDZW50ZXInLAogICAgJ2ljZSBjcmVhbSc6ICdJY2UgQ3JlYW0gLyBEZXNzZXJ0IFNob3AnLCAnZGVzc2VydCc6ICdJY2UgQ3JlYW0gLyBEZXNzZXJ0IFNob3AnLAogICAgJ2NhZmUnOiAnQ2Fmw6kgLyBDb2ZmZWUgU2hvcCcsICdjb2ZmZWUnOiAnQ2Fmw6kgLyBDb2ZmZWUgU2hvcCcsCiAgICAvLyBCZWF1dHkgJiBQZXJzb25hbCBDYXJlCiAgICAnc2Fsb24nOiAnU2Fsb29uIC8gQmFyYmVyIFNob3AnLCAnYmFyYmVyJzogJ1NhbG9vbiAvIEJhcmJlciBTaG9wJywKICAgICdiZWF1dHkgcGFybG91cic6ICdCZWF1dHkgUGFybG91cicsCiAgICAnc3BhJzogJ1NwYSAvIE1hc3NhZ2UgQ2VudGVyJywgJ21hc3NhZ2UnOiAnU3BhIC8gTWFzc2FnZSBDZW50ZXInLAogICAgJ3RhdHRvbyc6ICdNZWhlbmRpIC8gVGF0dG9vIEFydGlzdCcsICdtZWhlbmRpJzogJ01laGVuZGkgLyBUYXR0b28gQXJ0aXN0JywKICAgIC8vIEhvbWUgU2VydmljZXMKICAgICdlbGVjdHJpY2lhbic6ICdFbGVjdHJpY2lhbicsCiAgICAncGx1bWJlcic6ICdQbHVtYmVyJywKICAgICdjYXJwZW50ZXInOiAnQ2FycGVudGVyJywKICAgICdwYWludGVyJzogJ1BhaW50ZXInLAogICAgJ21hc29uJzogJ0NpdmlsIFdvcmtlciAvIE1hc29uJywKICAgICdhYyByZXBhaXInOiAnQUMgLyBSZWZyaWdlcmF0b3IgTWVjaGFuaWMnLCAnZnJpZGdlIHJlcGFpcic6ICdBQyAvIFJlZnJpZ2VyYXRvciBNZWNoYW5pYycsCiAgICAnY2N0dic6ICdDQ1RWIEluc3RhbGxlcicsCiAgICAncm8gc2VydmljZSc6ICdSTyAvIFdhdGVyIFB1cmlmaWVyIFNlcnZpY2UnLCAnd2F0ZXIgcHVyaWZpZXInOiAnUk8gLyBXYXRlciBQdXJpZmllciBTZXJ2aWNlJywKICAgICdnYXMgcmVwYWlyJzogJ0dhcyBTdG92ZSBSZXBhaXInLAogICAgLy8gT3RoZXIgY29tbW9uIHRlcm1zIChUaGVzZSB3aWxsIHRyaWdnZXIgYSBnZW5lcmFsIGJ1c2luZXNzIHNlYXJjaCkKICAgICdzaG9wJzogbnVsbCwgJ3N0b3JlJzogbnVsbCwgJ2J1c2luZXNzJzogbnVsbCwgJ3NlcnZpY2UnOiBudWxsLCAnbmVhciBtZSc6IG51bGwKfTsKCmNvbnN0IGFsbEJ1c2luZXNzQ2F0ZWdvcmllcyA9IE9iamVjdC52YWx1ZXMoQlVTSU5FU1NfQ0FURUdPUklFUykuZmxhdCgpOwoKZnVuY3Rpb24gZmluZENhdGVnb3J5KHF1ZXJ5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHsKICAgIGNvbnN0IGxvd2VyUXVlcnkgPSBxdWVyeS50b0xvd2VyQ2FzZSgpOwogICAgCiAgICAvLyBFeGFjdCBtYXRjaCBmb3IgZnVsbCBjYXRlZ29yeSBuYW1lcyBmaXJzdAogICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBhbGxCdXNpbmVzc0NhdGVnb3JpZXMpIHsKICAgICAgICBpZiAobG93ZXJRdWVyeS5pbmNsdWRlcyhjYXRlZ29yeS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIE1hdGNoIHN5bm9ueW1zCiAgICBmb3IgKGNvbnN0IHN5bm9ueW0gaW4gY2F0ZWdvcnlTeW5vbnltcykgewogICAgICAgIGlmIChsb3dlclF1ZXJ5LmluY2x1ZGVzKHN5bm9ueW0pKSB7CiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcnlTeW5vbnltc1tzeW5vbnltXTsKICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5OyAvLyBUaGlzIHdpbGwgYmUgbnVsbCBmb3IgZ2VuZXJhbCB0ZXJtcyBsaWtlICJzaG9wIiwgdHJpZ2dlcmluZyBhIGdlbmVyYWwgc2VhcmNoCiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIG51bGw7Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2NhbFNlYXJjaChxdWVyeTogc3RyaW5nLCBsYXRpdHVkZTogbnVtYmVyLCBsb25naXR1ZGU6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7CiAgICBjb25zdCBsb3dlclF1ZXJ5ID0gcXVlcnkudG9Mb3dlckNhc2UoKTsKCiAgICAvLyAxLiBDaGVjayBmb3IgImhlbHAiIHF1ZXJpZXMKICAgIGNvbnN0IGhlbHBLZXl3b3JkcyA9IFsnaGVscCcsICdpbmZvJywgJ3doYXQgY2FuIHlvdSBkbycsICdob3cgZG8geW91IHdvcmsnXTsKICAgIGlmIChoZWxwS2V5d29yZHMuc29tZShrZXl3b3JkID0+IGxvd2VyUXVlcnkuaW5jbHVkZXMoa2V5d29yZCkpKSB7CiAgICAgICAgcmV0dXJuIGBJIGNhbiBoZWxwIHlvdSB3aXRoIHR3byBtYWluIHRoaW5nczpcblxuMS4gICoqRmluZCBsb2NhbCBidXNpbmVzc2VzOioqIEp1c3QgYXNrIGZvciBhIHR5cGUgb2YgYnVzaW5lc3MsIGxpa2UgImZpbmQgYSBwbHVtYmVyIiBvciAic2hvdyBtZSByZXN0YXVyYW50cy4iXG5cbjIuICAqKlNlYXJjaCByZWNlbnQgcG9zdHM6KiogQXNrIGZvciB0aGUgImxhdGVzdCBuZXdzIiwgInRyYWZmaWMgdXBkYXRlcyIsIG9yIHNlYXJjaCBmb3IgcG9zdHMgbWVudGlvbmluZyBhIGtleXdvcmQuYDsKICAgIH0KCiAgICAvLyAyLiBDaGVjayBmb3IgcG9zdC1yZWxhdGVkIHF1ZXJpZXMKICAgIGNvbnN0IHBvc3RLZXl3b3JkcyA9IFsncG9zdCcsICdwdWxzZScsICduZXdzJywgJ3RyYWZmaWMnLCAnZXZlbnQnLCAnbGF0ZXN0J107CiAgICBpZiAocG9zdEtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBsb3dlclF1ZXJ5LmluY2x1ZGVzKGtleXdvcmQpKSkgewogICAgICAgIC8vIENyZWF0ZSBhIHNlYXJjaCBxdWVyeSBieSByZW1vdmluZyB0aGUga2V5d29yZHMuIElmIHRoZSByZXN1bHQgaXMgZW1wdHksIGl0J3MgYSBnZW5lcmFsIHNlYXJjaC4KICAgICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHBvc3RLZXl3b3Jkcy5yZWR1Y2UoKHEsIGt3KSA9PiBxLnJlcGxhY2Uoa3csICcnKSwgbG93ZXJRdWVyeSkudHJpbSgpOwogICAgICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgc2VhcmNoTmVhcmJ5UG9zdHNEYih7CiAgICAgICAgICAgIGxhdGl0dWRlLAogICAgICAgICAgICBsb25naXR1ZGUsCiAgICAgICAgICAgIHF1ZXJ5OiBzZWFyY2hRdWVyeSwgLy8gVGhpcyBjYW4gbm93IGJlIGFuIGVtcHR5IHN0cmluZyBmb3IgYSBnZW5lcmFsIHNlYXJjaAogICAgICAgICAgICBsaW1pdDogNQogICAgICAgIH0pOwoKICAgICAgICBpZiAocG9zdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICByZXR1cm4gIkhlcmUgYXJlIHRoZSBsYXRlc3QgcG9zdHMgSSBmb3VuZDpcblxuIiArIHBvc3RzLm1hcChwID0+IGAtICIke3AuY29udGVudH0iIGJ5ICR7cC5hdXRob3JuYW1lIHx8ICdBbm9ueW1vdXMnfWApLmpvaW4oJ1xuJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICJJIGNvdWxkbid0IGZpbmQgYW55IHJlY2VudCBwb3N0cyBtYXRjaGluZyB5b3VyIHNlYXJjaC4iOwogICAgICAgIH0KICAgIH0KICAgIAogICAgLy8gMy4gQ2hlY2sgZm9yIGJ1c2luZXNzLXJlbGF0ZWQgcXVlcmllcwogICAgY29uc3QgYnVzaW5lc3NLZXl3b3JkcyA9IFsnYnVzaW5lc3MnLCAnc2hvcCcsICdzdG9yZScsICdzZXJ2aWNlJywgJ2ZpbmQnLCAnc2hvdyBtZScsICd3aGVyZSBpcycsICdhbnknXTsKICAgIGNvbnN0IGlzQnVzaW5lc3NRdWVyeSA9IGJ1c2luZXNzS2V5d29yZHMuc29tZShrZXl3b3JkID0+IGxvd2VyUXVlcnkuaW5jbHVkZXMoa2V5d29yZCkpOwogICAgY29uc3QgZm91bmRDYXRlZ29yeSA9IGZpbmRDYXRlZ29yeShsb3dlclF1ZXJ5KTsKCiAgICBpZiAoaXNCdXNpbmVzc1F1ZXJ5IHx8IGZvdW5kQ2F0ZWdvcnkgIT09IG51bGwpIHsKICAgICAgICBjb25zdCBidXNpbmVzc2VzID0gYXdhaXQgZ2V0TmVhcmJ5QnVzaW5lc3Nlc0RiKHsKICAgICAgICAgICAgbGF0aXR1ZGUsCiAgICAgICAgICAgIGxvbmdpdHVkZSwKICAgICAgICAgICAgY2F0ZWdvcnk6IGZvdW5kQ2F0ZWdvcnkgfHwgdW5kZWZpbmVkLCAvLyBVc2UgZm91bmQgY2F0ZWdvcnksIG9yIGRvIGEgZ2VuZXJhbCBzZWFyY2ggaWYgbnVsbAogICAgICAgICAgICBsaW1pdDogNSwKICAgICAgICAgICAgb2Zmc2V0OiAwLAogICAgICAgIH0pOwoKICAgICAgICBpZiAoYnVzaW5lc3Nlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHJldHVybiAiSGVyZSBhcmUgdGhlIGJ1c2luZXNzZXMgSSBmb3VuZCBuZWFyIHlvdTpcblxuIiArIGJ1c2luZXNzZXMubWFwKGIgPT4gYC0gKioke2IubmFtZX0qKiAoJHtiLmJ1c2luZXNzX2NhdGVnb3J5fSlcbiAgW1ZpZXcgb24gTWFwXShodHRwczovL3d3dy5nb29nbGUuY29tL21hcHM/cT0ke2IubGF0aXR1ZGV9LCR7Yi5sb25naXR1ZGV9KWApLmpvaW4oJ1xuXG4nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIkkgY291bGRuJ3QgZmluZCBhbnkgYnVzaW5lc3NlcyBtYXRjaGluZyB5b3VyIHNlYXJjaC4gUGxlYXNlIHRyeSBhIGRpZmZlcmVudCBzZWFyY2ggdGVybS4iOwogICAgICAgIH0KICAgIH0KCiAgICAvLyA0LiBGYWxsYmFjayBmb3IgdW5yZWNvZ25pemVkIHF1ZXJpZXMKICAgIHJldHVybiAiU29ycnksIEkgY2FuIG9ubHkgc2VhcmNoIGZvciBsb2NhbCBidXNpbmVzc2VzIG9yIHJlY2VudCBwb3N0cy4gUGxlYXNlIHRyeSBhIHF1ZXJ5IGxpa2UgJ2ZpbmQgYSByZXN0YXVyYW50JyBvciAnbGF0ZXN0IG5ld3MnLiI7Cn0K' | base64 -d > /root/localpulse/src/lib/local-search.ts
mkdir -p /root/localpulse/src/utils
echo 'aW1wb3J0IGFkbWluIGZyb20gJ2ZpcmViYXNlLWFkbWluJzsKCi8vIEluaXRpYWxpemUgRmlyZWJhc2UgQWRtaW4KaWYgKCFhZG1pbi5hcHBzLmxlbmd0aCkgewogIC8vIFVzZSBhIGRpZmZlcmVudCBlbnYgdmFyIG5hbWUgdGhhdCdzIGxlc3MgbGlrZWx5IHRvIGNvbmZsaWN0IHdpdGggcGxhdGZvcm0taW5qZWN0ZWQgdmFycy4KICBjb25zdCBzZXJ2aWNlQWNjb3VudEI2NCA9CiAgICBwcm9jZXNzLmVudi5MUF9GSVJFQkFTRV9TRVJWSUNFX0FDQ09VTlRfQjY0IHx8CiAgICBwcm9jZXNzLmVudi5GSVJFQkFTRV9TRVJWSUNFX0FDQ09VTlRfQjY0OwoKICBpZiAoIXNlcnZpY2VBY2NvdW50QjY0KSB7CiAgICBjb25zb2xlLndhcm4oCiAgICAgICdMUF9GSVJFQkFTRV9TRVJWSUNFX0FDQ09VTlRfQjY0IGlzIG5vdCBzZXQsIEZpcmViYXNlIEFkbWluIGZlYXR1cmVzIHdpbGwgYmUgZGlzYWJsZWQuJwogICAgKTsKICB9IGVsc2UgewogICAgdHJ5IHsKICAgICAgY29uc3Qgc2VydmljZUFjY291bnRKc29uID0gQnVmZmVyLmZyb20oCiAgICAgICAgc2VydmljZUFjY291bnRCNjQsCiAgICAgICAgJ2Jhc2U2NCcKICAgICAgKS50b1N0cmluZygndXRmOCcpOwoKICAgICAgY29uc3Qgc2VydmljZUFjY291bnQgPSBKU09OLnBhcnNlKHNlcnZpY2VBY2NvdW50SnNvbik7CgogICAgICBhZG1pbi5pbml0aWFsaXplQXBwKHsKICAgICAgICBjcmVkZW50aWFsOiBhZG1pbi5jcmVkZW50aWFsLmNlcnQoc2VydmljZUFjY291bnQpLAogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZSBBZG1pbiBTREsgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5LicpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcigKICAgICAgICAn4p2MIEZhaWxlZCB0byBpbml0aWFsaXplIEZpcmViYXNlIEFkbWluIGZyb20gQmFzZTY0IGVudiB2YXIuIEVuc3VyZSB0aGUgdmFyaWFibGUgaXMgYSB2YWxpZCwgbm9uLXF1b3RlZCwgc2luZ2xlLWxpbmUgQmFzZTY0IHN0cmluZy4nLAogICAgICAgIGVycm9yCiAgICAgICk7CiAgICB9CiAgfQp9CgpleHBvcnQgZGVmYXVsdCBhZG1pbjsK' | base64 -d > /root/localpulse/src/utils/firebaseAdmin.ts
mkdir -p /root/localpulse/src/app
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMsIFByb3BzV2l0aENoaWxkcmVuIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSAnbmV4dC10aGVtZXMnOwoKZXhwb3J0IGNvbnN0IFByb3ZpZGVyczogRkM8UHJvcHNXaXRoQ2hpbGRyZW4+ID0gKHsgY2hpbGRyZW4gfSkgPT4gewogIHJldHVybiAoCiAgICA8VGhlbWVQcm92aWRlcgogICAgICBhdHRyaWJ1dGU9ImNsYXNzIgogICAgICBkZWZhdWx0VGhlbWU9ImxpZ2h0IgogICAgICBlbmFibGVTeXN0ZW09e2ZhbHNlfQogICAgICB0aGVtZXM9e1snbGlnaHQnLCAnZGFyaycsICdjb2xvcmZ1bCddfQogICAgPgogICAgICB7Y2hpbGRyZW59CiAgICA8L1RoZW1lUHJvdmlkZXI+CiAgKTsKfTsK' | base64 -d > /root/localpulse/src/app/providers.tsx
mkdir -p /root/localpulse/src/app
echo 'CmltcG9ydCB0eXBlIHsgTWV0YWRhdGEgfSBmcm9tICduZXh0JzsKaW1wb3J0IFNjcmlwdCBmcm9tICduZXh0L3NjcmlwdCc7CmltcG9ydCB7IEdlaXN0U2FucyB9IGZyb20gJ2dlaXN0L2ZvbnQvc2Fucyc7CmltcG9ydCAnQC9hcHAvZ2xvYmFscy5jc3MnOwppbXBvcnQgeyBUb2FzdGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RvYXN0ZXInOwppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy9sYXlvdXQvZm9vdGVyJzsKaW1wb3J0IHsgQXBwSW5zdGFsbFByb21wdCB9IGZyb20gJ0AvY29tcG9uZW50cy9hcHAtaW5zdGFsbC1wcm9tcHQnOwppbXBvcnQgSGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9sYXlvdXQvaGVhZGVyJzsKaW1wb3J0IFN0aWNreU5hdiBmcm9tICdAL2NvbXBvbmVudHMvc3RpY2t5LW5hdic7CmltcG9ydCB7IFByb3ZpZGVycyB9IGZyb20gJ0AvYXBwL3Byb3ZpZGVycyc7CmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICdAL2FwcC9hdXRoL2FjdGlvbnMnOwppbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJzsKaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJzsKCmNvbnN0IEZpcmViYXNlTWVzc2FnaW5nQ2xpZW50ID0gZHluYW1pYygKICAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9maXJlYmFzZS1tZXNzYWdpbmctY2xpZW50JyksCiAgeyAKICAgIHNzcjogZmFsc2UsCiAgICBsb2FkaW5nOiAoKSA9PiBudWxsIC8vIEFkZCBhIG51bGwgbG9hZGluZyBjb21wb25lbnQKICB9Cik7CgoKLy8gVGhlIGdlaXN0IGZvbnQgcGFja2FnZSBleHBvcnRzIGFuIG9iamVjdCB3aXRoIHRoZSB2YXJpYWJsZSBuYW1lIHByZS1jb25maWd1cmVkLgovLyBXZSBqdXN0IG5lZWQgdG8gdXNlIGl0IGRpcmVjdGx5LgoKZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHsKICB0aXRsZTogJ0xvY2FsUHVsc2UnLAogIGRlc2NyaXB0aW9uOiAnU2hhcmUgYW5kIGRpc2NvdmVyIHdoYXRcJ3MgaGFwcGVuaW5nIGFyb3VuZCB5b3UnLAogIG1hbmlmZXN0OiAnL21hbmlmZXN0Lmpzb24nLCAvLyBQV0EgTWFuaWZlc3QKfTsKCmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIFJvb3RMYXlvdXQoewogIGNoaWxkcmVuLAp9OiBSZWFkb25seTx7CiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKfT4pIHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICBjb25zdCB1c2VyVG9rZW4gPSBjb29raWVzKCkuZ2V0KCd1c2VyLWF1dGgtdG9rZW4nKT8udmFsdWU7CgogIHJldHVybiAoCiAgICA8aHRtbCBsYW5nPSJlbiIgY2xhc3NOYW1lPSJoLWZ1bGwiIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz4KICAgICAgPGhlYWQ+CiAgICAgICAgPG1ldGEgY2hhclNldD0iVVRGLTgiIC8+CiAgICAgICAgPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZSIgY29udGVudD0ieWVzIiAvPgogICAgICAgIDxtZXRhIG5hbWU9ImFwcGxlLW1vYmlsZS13ZWItYXBwLXN0YXR1cy1iYXItc3R5bGUiIGNvbnRlbnQ9ImRlZmF1bHQiIC8+CiAgICAgICAgPG1ldGEgbmFtZT0iYXBwbGUtbW9iaWxlLXdlYi1hcHAtdGl0bGUiIGNvbnRlbnQ9IkxvY2FsUHVsc2UiIC8+CiAgICAgICAgPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBocmVmPSIvaWNvbnMvaWNvbi0xOTJ4MTkyLnBuZyIgLz4KICAgICAgICB7LyogUHJlY29ubmVjdCB0byBHb29nbGUgQ2xvdWQgU3RvcmFnZSB0byBzcGVlZCB1cCBpbWFnZSBsb2FkaW5nICovfQogICAgICAgIDxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tIiAvPgogICAgICA8L2hlYWQ+CiAgICAgIDxib2R5IGNsYXNzTmFtZT17YCR7R2Vpc3RTYW5zLnZhcmlhYmxlfSBhbnRpYWxpYXNlZCBiZy1iYWNrZ3JvdW5kIHRleHQtZm9yZWdyb3VuZCBmbGV4IGZsZXgtY29sIG1pbi1oLXN2aGB9PgogICAgICAgIDxQcm92aWRlcnM+CiAgICAgICAgICA8RmlyZWJhc2VNZXNzYWdpbmdDbGllbnQgLz4KICAgICAgICAgIDxIZWFkZXIgLz4KICAgICAgICAgIDxTdGlja3lOYXYgdXNlcj17dXNlcn0gLz4KICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT0iZmxleC1ncm93IGZsZXggZmxleC1jb2wiPgogICAgICAgICAgICB7Y2hpbGRyZW59CiAgICAgICAgICA8L21haW4+CiAgICAgICAgICA8Rm9vdGVyIC8+CiAgICAgICAgICA8QXBwSW5zdGFsbFByb21wdCAvPgogICAgICAgICAgPFRvYXN0ZXIgLz4KICAgICAgICA8L1Byb3ZpZGVycz4KICAgICAgPC9ib2R5PgogICAgPC9odG1sPgogICk7Cn0K' | base64 -d > /root/localpulse/src/app/layout.tsx
mkdir -p /root/localpulse/src/app
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwppbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi9hdXRoL2FjdGlvbnMnOwppbXBvcnQgUG9zdENvbXBvc2VyTG9hZGVyLCB7IFBvc3RDb21wb3NlclNrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3Bvc3QtY29tcG9zZXItbG9hZGVyJzsKaW1wb3J0IFBvc3RGZWVkTG9hZGVyIGZyb20gJ0AvY29tcG9uZW50cy9wb3N0LWZlZWQtbG9hZGVyJzsKaW1wb3J0IHsgUG9zdEZlZWRTa2VsZXRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy9wb3N0LWZlZWQtc2tlbGV0b24nOwppbXBvcnQgU3RhdHVzRmVlZCBmcm9tICdAL2NvbXBvbmVudHMvc3RhdHVzLWZlZWQnOwppbXBvcnQgeyBTdGF0dXNGZWVkU2tlbGV0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvc3RhdHVzLWZlZWQtc2tlbGV0b24nOwppbXBvcnQgeyBnZXRQb3N0cyB9IGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBNYXAsIFNwYXJrbGVzLCBUcm9waHksIEhhbmRQbGF0dGVyLCBaYXAgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgVG9wUGVyZm9ybWVyTWFycXVlZSBmcm9tICdAL2NvbXBvbmVudHMvdG9wLXBlcmZvcm1lci1tYXJxdWVlJzsKCgphc3luYyBmdW5jdGlvbiBQb3N0Q29tcG9zZXJXaXRoU2Vzc2lvbigpIHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICByZXR1cm4gPFBvc3RDb21wb3NlckxvYWRlciBzZXNzaW9uVXNlcj17dXNlcn0gLz47Cn0KCmFzeW5jIGZ1bmN0aW9uIFN0YXR1c0ZlZWRXaXRoU2Vzc2lvbigpIHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICByZXR1cm4gPFN0YXR1c0ZlZWQgc2Vzc2lvblVzZXI9e3VzZXJ9IC8+Owp9Cgphc3luYyBmdW5jdGlvbiBQb3N0RmVlZFdpdGhJbml0aWFsRGF0YSgpIHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAvLyBGZXRjaGluZyBpbml0aWFsIHBvc3RzIHRvIHBhc3MgdG8gdGhlIGNsaWVudCBjb21wb25lbnQgZm9yIGEgZmFzdGVyIGluaXRpYWwgbG9hZC4KICBjb25zdCBpbml0aWFsUG9zdHMgPSBhd2FpdCBnZXRQb3N0cyh7IHBhZ2U6IDEsIGxpbWl0OiA1IH0pOwogIHJldHVybiA8UG9zdEZlZWRMb2FkZXIgc2Vzc2lvblVzZXI9e3VzZXJ9IGluaXRpYWxQb3N0cz17aW5pdGlhbFBvc3RzfSAvPjsKfQoKCmNvbnN0IEhvbWVQYWdlOiBGQyA9ICgpID0+IHsKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIj4KICAgICAgPGRpdiBjbGFzc05hbWU9ImNvbnRhaW5lciBteC1hdXRvIHctZnVsbCBtYXgtdy0yeGwgc3BhY2UteS02IHAtNCBzbTpwLTYgbWQ6cC04Ij4KICAgICAgICAKICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxTdGF0dXNGZWVkU2tlbGV0b24gLz59PgogICAgICAgICAgPFN0YXR1c0ZlZWRXaXRoU2Vzc2lvbiAvPgogICAgICAgIDwvU3VzcGVuc2U+CgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0zIGdhcC0yIHNtOmdhcC00Ij4KICAgICAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8UG9zdENvbXBvc2VyU2tlbGV0b24gLz59PgogICAgICAgICAgICAgIDxQb3N0Q29tcG9zZXJXaXRoU2Vzc2lvbiAvPgogICAgICAgICAgICA8L1N1c3BlbnNlPgogICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiIGFzQ2hpbGQgY2xhc3NOYW1lPSJoLWZ1bGwgdGV4dC1iYXNlIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3ctcHJpbWFyeS8yMCBiZy1jYXJkLzgwIGJhY2tkcm9wLWJsdXItc20gYm9yZGVyLWJvcmRlci82MCBob3Zlcjpib3JkZXItcHJpbWFyeS81MCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZmxleC1jb2wgZ2FwLTIgcC0yIj4KICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9Ii9tYXAiPgogICAgICAgICAgICAgICAgICAgIDxNYXAgY2xhc3NOYW1lPSJoLTUgdy01IHNtOmgtNiBzbTp3LTYgdGV4dC1wcmltYXJ5Ii8+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1jZW50ZXIiPkxpdmUgTWFwPC9zcGFuPgogICAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIiBhc0NoaWxkIGNsYXNzTmFtZT0iaC1mdWxsIHRleHQtYmFzZSBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXByaW1hcnkvMjAgYmctY2FyZC84MCBiYWNrZHJvcC1ibHVyLXNtIGJvcmRlci1ib3JkZXIvNjAgaG92ZXI6Ym9yZGVyLXByaW1hcnkvNTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGZsZXgtY29sIGdhcC0yIHAtMiI+CiAgICAgICAgICAgICAgICA8TGluayBocmVmPSIvP3RhYj1zZXJ2aWNlcyI+CiAgICAgICAgICAgICAgICAgICAgPEhhbmRQbGF0dGVyIGNsYXNzTmFtZT0iaC01IHctNSBzbTpoLTYgc206dy02IHRleHQtYWNjZW50Ii8+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJ0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1jZW50ZXIiPkJvb2sgU2VydmljZXM8L3NwYW4+CiAgICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2IGNsYXNzTmFtZT0iaC0xMCIgLz59PgogICAgICAgICAgICAgIDxUb3BQZXJmb3JtZXJNYXJxdWVlIC8+CiAgICAgICAgICA8L1N1c3BlbnNlPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxQb3N0RmVlZFNrZWxldG9uIC8+fT4KICAgICAgICAgIDxQb3N0RmVlZFdpdGhJbml0aWFsRGF0YSAvPgogICAgICAgIDwvU3VzcGVuc2U+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEhvbWVQYWdlOwo=' | base64 -d > /root/localpulse/src/app/page.tsx
mkdir -p /root/localpulse/src/app
echo 'CkB0YWlsd2luZCBiYXNlOwpAdGFpbHdpbmQgY29tcG9uZW50czsKQHRhaWx3aW5kIHV0aWxpdGllczsKCkBsYXllciBiYXNlIHsKICA6cm9vdCB7CiAgICAtLWJhY2tncm91bmQ6IDIxMCAyMCUgOTglOwogICAgLS1mb3JlZ3JvdW5kOiAyMjQgNzEuNCUgNC4xJTsKIAogICAgLS1jYXJkOiAwIDAlIDEwMCU7CiAgICAtLWNhcmQtZm9yZWdyb3VuZDogMjI0IDcxLjQlIDQuMSU7CiAKICAgIC0tcG9wb3ZlcjogMCAwJSAxMDAlOwogICAgLS1wb3BvdmVyLWZvcmVncm91bmQ6IDIyNCA3MS40JSA0LjElOwogCiAgICAtLXByaW1hcnk6IDIyNCA3MS40JSA0LjElOwogICAgLS1wcmltYXJ5LWZvcmVncm91bmQ6IDIxMCAyMCUgOTglOwogCiAgICAtLXNlY29uZGFyeTogMjIwIDE0LjMlIDk1LjklOwogICAgLS1zZWNvbmRhcnktZm9yZWdyb3VuZDogMjIwLjkgMzkuMyUgMTElOwogCiAgICAtLW11dGVkOiAyMjAgMTQuMyUgOTUuOSU7CiAgICAtLW11dGVkLWZvcmVncm91bmQ6IDIyMCA4LjklIDQ2LjElOwogCiAgICAtLWFjY2VudDogMjIwIDE0LjMlIDk1LjklOwogICAgLS1hY2NlbnQtZm9yZWdyb3VuZDogMjIwLjkgMzkuMyUgMTElOwogCiAgICAtLWRlc3RydWN0aXZlOiAwIDg0LjIlIDYwLjIlOwogICAgLS1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kOiAyMTAgNDAlIDk4JTsKCiAgICAtLWJvcmRlcjogMjIwIDEzJSA5MSU7CiAgICAtLWlucHV0OiAyMjAgMTMlIDkxJTsKICAgIC0tcmluZzogMjI0IDcxLjQlIDQuMSU7CiAKICAgIC0tcmFkaXVzOiAwLjc1cmVtOwoKICAgIC0taGVhZGVyLWhlaWdodDogOC41cmVtOyAvKiAzLjVyZW0gZm9yIHRvcCBoZWFkZXIgKyAzLjVyZW0gZm9yIHN0aWNreSBuYXYgKi8KICB9CgogIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogICAgOnJvb3QgewogICAgICAtLWhlYWRlci1oZWlnaHQ6IDdyZW07CiAgICB9CiAgfQogCiAgLmRhcmsgewogICAgLS1iYWNrZ3JvdW5kOiAyMjMgNDclIDExJTsKICAgIC0tZm9yZWdyb3VuZDogMjEwIDQwJSA5OCU7CiAKICAgIC0tY2FyZDogMjI0IDEwJSAxNSU7IC8qIExpZ2h0ZXIgZ3JheSBmb3IgY2FyZHMgKi8KICAgIC0tY2FyZC1mb3JlZ3JvdW5kOiAyMTAgNDAlIDk4JTsKIAogICAgLS1wb3BvdmVyOiAyMjIuMiA4NCUgNC45JTsKICAgIC0tcG9wb3Zlci1mb3JlZ3JvdW5kOiAyMTAgNDAlIDk4JTsKIAogICAgLS1wcmltYXJ5OiAyMTAgNDAlIDk4JTsKICAgIC0tcHJpbWFyeS1mb3JlZ3JvdW5kOiAyMjMgNDclIDExJTsKIAogICAgLS1zZWNvbmRhcnk6IDIxNy4yIDMyLjYlIDE3LjUlOwogICAgLS1zZWNvbmRhcnktZm9yZWdyb3VuZDogMjEwIDQwJSA5OCU7CiAKICAgIC0tbXV0ZWQ6IDIxNiAzNCUgMTclOwogICAgLS1tdXRlZC1mb3JlZ3JvdW5kOiAyMTUgMjAuMiUgNjUuMSU7CiAKICAgIC0tYWNjZW50OiAyMTcuMiAzMi42JSAxNy41JTsKICAgIC0tYWNjZW50LWZvcmVncm91bmQ6IDIxMCA0MCUgOTglOwogCiAgICAtLWRlc3RydWN0aXZlOiAwIDYyLjglIDMwLjYlOwogICAgLS1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kOiAyMTAgNDAlIDk4JTsKIAogICAgLS1ib3JkZXI6IDIxMCA0MCUgOTglOyAvKiBXaGl0ZS1saWtlIGJvcmRlciBjb2xvciBmb3IgaGlnaCBjb250cmFzdCAqLwogICAgLS1pbnB1dDogMjE3LjIgMzIuNiUgMTcuNSU7CiAgICAtLXJpbmc6IDIxMCA0MCUgOTglOwogIH0KCiAgLyoKICAgLSBUaGUgJ2NvbG9yZnVsJyB0aGVtZSBub3cgdXNlcyBDU1MgdmFyaWFibGVzIHRoYXQgd2lsbCBiZSBzZXQgYnkgSmF2YVNjcmlwdC4KICAgLSBXZSBwcm92aWRlIGZhbGxiYWNrIHZhbHVlcyBmb3IgdGhlIGRlZmF1bHQgY29sb3JmdWwgdGhlbWUuCiAgIC0gRm9yIGV4YW1wbGUsIC0tcHJpbWFyeS1jb2xvcmZ1bCBpcyB0aGUgdmFyaWFibGUgdGhhdCB3aWxsIGJlIHVwZGF0ZWQuCiAgKi8KICAuY29sb3JmdWwgewogICAgLS1wcmltYXJ5LWNvbG9yZnVsOiAyNjIgODQlIDU5JTsgLyogRGVmYXVsdDogUHVycGxlICovCiAgICAtLWFjY2VudC1jb2xvcmZ1bDogMzQwIDg2JSA2MCU7ICAvKiBEZWZhdWx0OiBQaW5rICovCiAgICAKICAgIC0tYmFja2dyb3VuZDogMjEwIDIwJSA5OCU7CiAgICAtLWZvcmVncm91bmQ6IDIyNCA3MS40JSA0LjElOwogCiAgICAtLWNhcmQ6IDAgMCUgMTAwJTsKICAgIC0tY2FyZC1mb3JlZ3JvdW5kOiAyMjQgNzEuNCUgNC4xJTsKIAogICAgLS1wb3BvdmVyOiAwIDAlIDEwMCU7CiAgICAtLXBvcG92ZXItZm9yZWdyb3VuZDogMjI0IDcxLjQlIDQuMSU7CiAKICAgIC0tcHJpbWFyeTogdmFyKC0tcHJpbWFyeS1jb2xvcmZ1bCk7CiAgICAtLXByaW1hcnktZm9yZWdyb3VuZDogMjEwIDIwJSA5OCU7CiAKICAgIC0tc2Vjb25kYXJ5OiAyMjAgMTQuMyUgOTUuOSU7CiAgICAtLXNlY29uZGFyeS1mb3JlZ3JvdW5kOiAyMjAuOSAzOS4zJSAxMSU7CiAKICAgIC0tbXV0ZWQ6IDIyMCAxNC4zJSA5NS45JTsKICAgIC0tbXV0ZWQtZm9yZWdyb3VuZDogMjIwIDguOSUgNDYuMSU7CiAKICAgIC0tYWNjZW50OiB2YXIoLS1hY2NlbnQtY29sb3JmdWwpOwogICAgLS1hY2NlbnQtZm9yZWdyb3VuZDogMjEwIDIwJSA5OCU7CiAKICAgIC0tZGVzdHJ1Y3RpdmU6IDAgODQuMiUgNjAuMiU7CiAgICAtLWRlc3RydWN0aXZlLWZvcmVncm91bmQ6IDIxMCA0MCUgOTglOwogCiAgICAtLWJvcmRlcjogMjIwIDEzJSA5MSU7CiAgICAtLWlucHV0OiAyMjAgMTMlIDkxJTsKICAgIC0tcmluZzogdmFyKC0tcHJpbWFyeS1jb2xvcmZ1bCk7CiAKICAgIC0tcmFkaXVzOiAwLjc1cmVtOwogIH0KfQogCkBsYXllciBiYXNlIHsKICBib2R5IHsKICAgIEBhcHBseSBiZy1iYWNrZ3JvdW5kIHRleHQtZm9yZWdyb3VuZDsKICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWdlaXN0LXNhbnMpOwogIH0KCiAgLyogTmV1dHJhbGl6ZSBicm93c2VyIGF1dG9maWxsIHN0eWxpbmcgKi8KICBpbnB1dDotd2Via2l0LWF1dG9maWxsIHsKICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiBpbmhlcml0ICFpbXBvcnRhbnQ7CiAgICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMCAwcHggMTAwMHB4IHRyYW5zcGFyZW50IGluc2V0ICFpbXBvcnRhbnQ7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDUwMDBzIGVhc2UtaW4tb3V0IDBzICFpbXBvcnRhbnQ7CiAgfQoKICAvKiBQdWxzaW5nIGRvdCBmb3IgbWFwIG1hcmtlcnMgKi8KICAucHVsc2luZy1kb3QgewogICAgd2lkdGg6IDFyZW07CiAgICBoZWlnaHQ6IDFyZW07CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2wodmFyKC0tcHJpbWFyeSkpOwogICAgYm94LXNoYWRvdzogMCAwIDAgMCBoc2xhKHZhcigtLXByaW1hcnkpLCAwLjcpOwogICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsKICB9CgogIC8qIERpZmZlcmVudCBhbmltYXRpb24gc3BlZWRzIGZvciBwdWxzZXMgKi8KICAucHVsc2UtZmFzdCB7IGFuaW1hdGlvbjogcHVsc2UgMXMgaW5maW5pdGUgY3ViaWMtYmV6aWVyKDAuNjYsIDAsIDAsIDEpOyB9CiAgLnB1bHNlLW1lZGl1bSB7IGFuaW1hdGlvbjogcHVsc2UgMnMgaW5maW5pdGUgY3ViaWMtYmV6aWVyKDAuNjYsIDAsIDAsIDEpOyB9CiAgLnB1bHNlLXNsb3cgeyBhbmltYXRpb246IHB1bHNlIDNzIGluZmluaXRlIGN1YmljLWJlemllcigwLjY2LCAwLCAwLCAxKTsgfQoKICBAa2V5ZnJhbWVzIHB1bHNlIHsKICAgIHRvIHsKICAgICAgYm94LXNoYWRvdzogMCAwIDAgMXJlbSBoc2xhKHZhcigtLXByaW1hcnkpLCAwKTsKICAgIH0KICB9CgogIC8qIEhlYXRtYXAgZ3JhZGllbnQgb3ZlcnJpZGUgKi8KICAubGVhZmxldC1oZWF0bWFwLWxheWVyIHsKICAgIGZpbHRlcjoKICAgICAgY29udHJhc3QoMTUwJSkKICAgICAgc2F0dXJhdGUoMTUwJSk7CiAgfQoKICAvKiBoaWRlIGhvcml6b250YWwgc2Nyb2xsYmFyIGJ1dCBrZWVwIHNjcm9sbGFiaWxpdHkgKi8KICAubm8tc2Nyb2xsYmFyOjotd2Via2l0LXNjcm9sbGJhciB7IGRpc3BsYXk6IG5vbmU7IH0KICAubm8tc2Nyb2xsYmFyIHsgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOyBzY3JvbGxiYXItd2lkdGg6IG5vbmU7IH0KfQo=' | base64 -d > /root/localpulse/src/app/globals.css
mkdir -p /root/localpulse/src/app
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCAqIGFzIGRiIGZyb20gJ0AvbGliL2RiJzsKaW1wb3J0IHR5cGUgeyBBcHBvaW50bWVudCwgQ29udmVyc2F0aW9uRGV0YWlscywgR2FucGF0aU1hbmRhbCwgUG9sbCwgUG9zdCwgTmV3UG9zdCBhcyBDbGllbnROZXdQb3N0LCBDb21tZW50LCBOZXdDb21tZW50LCBEYk5ld1Bvc3QsIFZpc2l0b3JDb3VudHMsIFVzZXIsIFVzZXJGb2xsb3dTdGF0cywgRm9sbG93VXNlciwgVXNlcldpdGhTdGF0dXNlcywgTmV3U3RhdHVzLCBGYW1pbHlNZW1iZXIsIEZhbWlseU1lbWJlckxvY2F0aW9uLCBQZW5kaW5nRmFtaWx5UmVxdWVzdCwgQ29udmVyc2F0aW9uLCBNZXNzYWdlLCBDb252ZXJzYXRpb25QYXJ0aWNpcGFudCwgU29ydE9wdGlvbiwgQnVzaW5lc3NVc2VyLCBHb3Jha3NoYWtSZXBvcnRVc2VyLCBQb2ludFRyYW5zYWN0aW9uLCBVc2VyRm9yTm90aWZpY2F0aW9uLCBNZXNzYWdlUmVhY3Rpb24sIE5ld0dhbnBhdGlNYW5kYWwsIEV4dGVybmFsQnVzaW5lc3MgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSAnbmV4dC9jYWNoZSc7CmltcG9ydCB7IGdldFNlc3Npb24sIGVuY3J5cHQgfSBmcm9tICdAL2FwcC9hdXRoL2FjdGlvbnMnOwppbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnOwppbXBvcnQgYWRtaW4gZnJvbSAnQC91dGlscy9maXJlYmFzZUFkbWluJzsKaW1wb3J0IHsgZ2V0R2NzQnVja2V0TmFtZSwgZ2V0R2NzQ2xpZW50IH0gZnJvbSAnQC9saWIvZ2NzJzsKaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7Cgp0eXBlIE5vbWluYXRpbUFkZHIgPSB7CiAgbmVpZ2hib3VyaG9vZD86IHN0cmluZzsKICBzdWJ1cmI/OiBzdHJpbmc7CiAgaGFtbGV0Pzogc3RyaW5nOwogIHZpbGxhZ2U/OiBzdHJpbmc7CiAgdG93bj86IHN0cmluZzsKICBjaXR5X2Rpc3RyaWN0Pzogc3RyaW5nOyAvLyBlLmcuLCBQaW1wcmktQ2hpbmNod2FkCiAgbXVuaWNpcGFsaXR5Pzogc3RyaW5nOwogIGNpdHk/OiBzdHJpbmc7ICAgICAgICAgIC8vIGUuZy4sIFB1bmUKICBjb3VudHk/OiBzdHJpbmc7ICAgICAgICAvLyBvZnRlbiB1c2VkIGFzIERpc3RyaWN0IGluIEluZGlhCiAgc3RhdGVfZGlzdHJpY3Q/OiBzdHJpbmc7Ly8gYWxzbyB1c2VkIGFzIERpc3RyaWN0CiAgc3RhdGU/OiBzdHJpbmc7ICAgICAgICAgLy8gTWFoYXJhc2h0cmEKICBjb3VudHJ5Pzogc3RyaW5nOwp9OwoKZnVuY3Rpb24gcGlja0xhYmVsKGE6IE5vbWluYXRpbUFkZHIpOiBzdHJpbmcgewogIC8vIFByZWZlciB0aGUgbW9zdCBsb2NhbCBwbGFjZSBmaXJzdAogIGNvbnN0IGxvY2FsaXR5ID0KICAgIGEubmVpZ2hib3VyaG9vZCB8fAogICAgYS5zdWJ1cmIgfHwKICAgIGEuaGFtbGV0IHx8CiAgICBhLnZpbGxhZ2UgfHwKICAgIGEudG93bjsKCiAgLy8gQ2l0eS1zY2FsZTogcHJlZmVyIFBDTUMgKGNpdHlfZGlzdHJpY3QpIG92ZXIgZ2VuZXJpYyBjaXR5IHdoZW4gcHJlc2VudAogIGNvbnN0IGNpdHlMZXZlbCA9CiAgICBhLmNpdHlfZGlzdHJpY3QgfHwKICAgIGEubXVuaWNpcGFsaXR5IHx8CiAgICBhLmNpdHkgfHwKICAgIGEudG93bjsKCiAgLy8gRGlzdHJpY3QgZmFsbGJhY2sgKEluZGlhOiBkaXN0cmljdCBhcHBlYXJzIGluIHN0YXRlX2Rpc3RyaWN0L2NvdW50eSkKICBjb25zdCBkaXN0cmljdCA9IGEuc3RhdGVfZGlzdHJpY3QgfHwgYS5jb3VudHk7CgogIGlmIChsb2NhbGl0eSAmJiBjaXR5TGV2ZWwpIHJldHVybiBgJHtsb2NhbGl0eX0sICR7Y2l0eUxldmVsfWA7CiAgaWYgKGxvY2FsaXR5ICYmIGRpc3RyaWN0KSAgcmV0dXJuIGAke2xvY2FsaXR5fSwgJHtkaXN0cmljdH1gOwogIGlmIChjaXR5TGV2ZWwpICAgICAgICAgICAgIHJldHVybiBjaXR5TGV2ZWw7CiAgaWYgKGRpc3RyaWN0KSAgICAgICAgICAgICAgcmV0dXJuIGRpc3RyaWN0OwogIHJldHVybiBhLnN0YXRlIHx8IGEuY291bnRyeSB8fCAiVW5rbm93biBDaXR5IjsKfQoKYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZUNpdHlGcm9tQ29vcmRzKGxhdDogbnVtYmVyLCBsb246IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7CiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7CiAgICBmb3JtYXQ6ICJqc29udjIiLAogICAgbGF0OiBTdHJpbmcobGF0KSwKICAgIGxvbjogU3RyaW5nKGxvbiksCiAgICBhZGRyZXNzZGV0YWlsczogIjEiLAogICAgbmFtZWRldGFpbHM6ICIxIiwKICAgIGV4dHJhdGFnczogIjEiLAogICAgem9vbTogIjE4IiwKICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAiZW4iCiAgfSk7CiAgY29uc3QgdXJsID0gYGh0dHBzOi8vbm9taW5hdGltLm9wZW5zdHJlZXRtYXAub3JnL3JldmVyc2U/JHtwYXJhbXMudG9TdHJpbmcoKX1gOwogIHRyeSB7CiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHsKICAgICAgaGVhZGVyczogewogICAgICAgIC8vIFBlciBOb21pbmF0aW0gcG9saWN5OiByZWFsIFVBICsgY29udGFjdAogICAgICAgICJVc2VyLUFnZW50IjogIkxvY2FsUHVsc2UvMS4wICgrY29udGFjdEBsb2NhbHB1bHNlLnNwYWNlKSIKICAgICAgfQogICAgfSk7CiAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBOb21pbmF0aW0gQVBJIGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlcy5zdGF0dXN9YCk7CiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKSBhcyB7IGFkZHJlc3M/OiBOb21pbmF0aW1BZGRyIH07CiAgICBjb25zdCBiYXNlID0gcGlja0xhYmVsKGRhdGEuYWRkcmVzcyA/PyB7fSk7CgogICAgLy8gUHVuZS1hcmVhIHBvbGlzaDogaWYgaW4gUHVuZSBkaXN0cmljdCBhbmQgbG9jYWxpdHkgaXMgYSBQQ01DIGFyZWEsCiAgICAvLyBlbnN1cmUgd2Ugc3VmZml4IFBpbXByaS1DaGluY2h3YWQgKHByZXZlbnRzICJQdW5lIiBvciB3b3JzZSAiTXVtYmFpIikuCiAgICBjb25zdCBpblB1bmVEaXN0cmljdCA9CiAgICAgIChkYXRhLmFkZHJlc3M/LnN0YXRlX2Rpc3RyaWN0ID09PSAiUHVuZSIpIHx8IChkYXRhLmFkZHJlc3M/LmNvdW50eSA9PT0gIlB1bmUiKTsKICAgIGlmICgKICAgICAgaW5QdW5lRGlzdHJpY3QgJiYKICAgICAgL01vc2hpfENoaWtoYWxpfEJob3Nhcml8TmlnZGl8QWt1cmRpfFRhbHdhZGV8UmF2ZXR8V2FrYWR8UGltcHJpfENoaW5jaHdhZC9pLnRlc3QoYmFzZSkgJiYKICAgICAgIS9QaW1wcmlbLSBdP0NoaW5jaHdhZC9pLnRlc3QoYmFzZSkKICAgICkgewogICAgICByZXR1cm4gYCR7YmFzZX0sIFBpbXByaS1DaGluY2h3YWRgOwogICAgfQogICAgcmV0dXJuIGJhc2U7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIlJldmVyc2UgZ2VvY29kaW5nIGZhaWxlZDoiLCBlcnJvcik7CiAgICByZXR1cm4gIlVua25vd24gQ2l0eSI7CiAgfQp9CgoKYXN5bmMgZnVuY3Rpb24gZW5yaWNoUG9zdHMocG9zdHM6IFBvc3RbXSwgdXNlcjogVXNlciB8IG51bGwpOiBQcm9taXNlPFBvc3RbXT4gewogICAgaWYgKCFwb3N0cyB8fCBwb3N0cy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gW107CiAgICB9CiAgICBjb25zdCBwb3N0SWRzID0gcG9zdHMubWFwKHAgPT4gcC5pZCk7CiAgICBjb25zdCBbbWVudGlvbnNNYXAsIHBvbGxzTWFwXSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgZGIuZ2V0TWVudGlvbnNGb3JQb3N0c0RiKHBvc3RJZHMpLAogICAgICBkYi5nZXRQb2xsc0ZvclBvc3RzRGIocG9zdElkcywgdXNlcj8uaWQpCiAgICBdKTsKCiAgICBwb3N0cy5mb3JFYWNoKChwb3N0OiBhbnkpID0+IHsKICAgICAgICBwb3N0Lm1lbnRpb25zID0gbWVudGlvbnNNYXAuZ2V0KHBvc3QuaWQpIHx8IFtdOwogICAgICAgIHBvc3QucG9sbCA9IHBvbGxzTWFwLmdldChwb3N0LmlkKSB8fCBudWxsOwogICAgICAgIC8vIFRoZSBpc0xpa2VkQnlDdXJyZW50VXNlciBhbmQgaXNBdXRob3JGb2xsb3dlZEJ5Q3VycmVudFVzZXIgZmxhZ3MgYXJlIG5vdyBzZXQgZGlyZWN0bHkgYnkgdGhlIERCIHF1ZXJ5CiAgICAgICAgLy8gYnV0IHdlIG5lZWQgdG8gZW5zdXJlIHRoZXkgYXJlIGJvb2xlYW4gdmFsdWVzIGZvciBjbGllbnQtc2lkZSBsb2dpYy4KICAgICAgICBwb3N0LmlzTGlrZWRCeUN1cnJlbnRVc2VyID0gISFwb3N0LmlzTGlrZWRCeUN1cnJlbnRVc2VyOwogICAgICAgIHBvc3QuaXNBdXRob3JGb2xsb3dlZEJ5Q3VycmVudFVzZXIgPSAhIXBvc3QuaXNBdXRob3JGb2xsb3dlZEJ5Q3VycmVudFVzZXI7CiAgICB9KTsKCiAgICByZXR1cm4gcG9zdHM7Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQb3N0cyhvcHRpb25zPzogeyBwYWdlOiBudW1iZXI7IGxpbWl0OiBudW1iZXI7IGxhdGl0dWRlPzogbnVtYmVyIHwgbnVsbDsgbG9uZ2l0dWRlPzogbnVtYmVyIHwgbnVsbDsgc29ydEJ5PzogU29ydE9wdGlvbjsgfSk6IFByb21pc2U8UG9zdFtdPiB7CiAgdHJ5IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgY29uc3QgZGJPcHRpb25zID0gb3B0aW9ucyA/IHsKICAgICAgICBsaW1pdDogb3B0aW9ucy5saW1pdCwKICAgICAgICBvZmZzZXQ6IChvcHRpb25zLnBhZ2UgLSAxKSAqIG9wdGlvbnMubGltaXQsCiAgICAgICAgbGF0aXR1ZGU6IG9wdGlvbnMubGF0aXR1ZGUsCiAgICAgICAgbG9uZ2l0dWRlOiBvcHRpb25zLmxvbmdpdHVkZSwKICAgICAgICBzb3J0Qnk6IG9wdGlvbnMuc29ydEJ5LAogICAgICAgIGN1cnJlbnRVc2VySWQ6IHVzZXI/LmlkLAogICAgfSA6IHsgbGltaXQ6IDEwLCBvZmZzZXQ6IDAsIHNvcnRCeTogJ25lYXJieScgYXMgU29ydE9wdGlvbiwgY3VycmVudFVzZXJJZDogdXNlcj8uaWQgfTsKCiAgICBjb25zdCBwb3N0cyA9IGF3YWl0IGRiLmdldFBvc3RzRGIoZGJPcHRpb25zKTsKICAgIC8vIEVucmljaCB3aXRoIG1lbnRpb25zIGFuZCBwb2xscywgd2hpY2ggYXJlIHNlcGFyYXRlIHF1ZXJpZXMuCiAgICAvLyBMaWtlIGFuZCBGb2xsb3cgc3RhdHVzIGFyZSBub3cgaGFuZGxlZCBpbiB0aGUgbWFpbiBnZXRQb3N0c0RiIHF1ZXJ5LgogICAgcmV0dXJuIGVucmljaFBvc3RzKHBvc3RzLCB1c2VyKTsKICAgIAogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIGNvbnNvbGUuZXJyb3IoIlNlcnZlciBhY3Rpb24gZXJyb3IgZmV0Y2hpbmcgcG9zdHM6IiwgZXJyb3IubWVzc2FnZSk7CiAgICByZXR1cm4gW107CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmFtaWx5UG9zdHMob3B0aW9uczogeyBwYWdlOiBudW1iZXIsIGxpbWl0OiBudW1iZXIsIHNvcnRCeT86IFNvcnRPcHRpb24gfSk6IFByb21pc2U8UG9zdFtdPiB7CiAgICB0cnkgewogICAgICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgICAgIGlmICghdXNlcikgewogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQoKICAgICAgICBjb25zdCBkYk9wdGlvbnMgPSB7IGxpbWl0OiBvcHRpb25zLmxpbWl0LCBvZmZzZXQ6IChvcHRpb25zLnBhZ2UgLSAxKSAqIG9wdGlvbnMubGltaXQsIHNvcnRCeTogb3B0aW9ucy5zb3J0QnkgfHwgJ25ld2VzdCcgfTsKICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IGRiLmdldEZhbWlseVBvc3RzRGIodXNlci5pZCwgZGJPcHRpb25zKTsKICAgICAgICByZXR1cm4gZW5yaWNoUG9zdHMocG9zdHMsIHVzZXIpOwoKICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJTZXJ2ZXIgYWN0aW9uIGVycm9yIGZldGNoaW5nIGZhbWlseSBwb3N0czoiLCBlcnJvci5tZXNzYWdlKTsKICAgICAgICByZXR1cm4gW107CiAgICB9Cn0KCgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWRtaW5Qb3N0cyhvcHRpb25zPzogeyBwYWdlOiBudW1iZXI7IGxpbWl0OiBudW1iZXIgfSk6IFByb21pc2U8UG9zdFtdPiB7CiAgdHJ5IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgY29uc3QgZGJPcHRpb25zID0gb3B0aW9ucyA/IHsKICAgICAgICBsaW1pdDogb3B0aW9ucy5saW1pdCwKICAgICAgICBvZmZzZXQ6IChvcHRpb25zLnBhZ2UgLSAxKSAqIG9wdGlvbnMubGltaXQsCiAgICAgICAgY3VycmVudFVzZXJJZDogdXNlcj8uaWQsCiAgICB9IDogeyBsaW1pdDogMTAsIG9mZnNldDogMCwgY3VycmVudFVzZXJJZDogdXNlcj8uaWQgfTsKCiAgICBjb25zdCBwb3N0cyA9IGF3YWl0IGRiLmdldFBvc3RzRGIoZGJPcHRpb25zLCB0cnVlKTsKICAgIHJldHVybiBlbnJpY2hQb3N0cyhwb3N0cywgdXNlcik7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIlNlcnZlciBhY3Rpb24gZXJyb3IgZmV0Y2hpbmcgYWRtaW4gcG9zdHM6IiwgZXJyb3IpOwogICAgcmV0dXJuIFtdOwogIH0KfQoKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNZWRpYVBvc3RzKG9wdGlvbnM/OiB7IHBhZ2U6IG51bWJlcjsgbGltaXQ6IG51bWJlciB9KTogUHJvbWlzZTxQb3N0W10+IHsKICB0cnkgewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBjb25zdCBkYk9wdGlvbnMgPSBvcHRpb25zID8geyBsaW1pdDogb3B0aW9ucy5saW1pdCwgb2Zmc2V0OiAob3B0aW9ucy5wYWdlIC0gMSkgKiBvcHRpb25zLmxpbWl0LCBjdXJyZW50VXNlcklkOiB1c2VyPy5pZCB9IDogeyBsaW1pdDogMTAsIG9mZnNldDogMCwgY3VycmVudFVzZXJJZDogdXNlcj8uaWQgfTsKICAgIAogICAgY29uc3QgcG9zdHMgPSBhd2FpdCBkYi5nZXRNZWRpYVBvc3RzRGIoZGJPcHRpb25zKTsKICAgIHJldHVybiBlbnJpY2hQb3N0cyhwb3N0cywgdXNlcik7CgogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCJTZXJ2ZXIgYWN0aW9uIGVycm9yIGZldGNoaW5nIG1lZGlhIHBvc3RzOiIsIGVycm9yKTsKICAgIHJldHVybiBbXTsKICB9Cn0KCmFzeW5jIGZ1bmN0aW9uIHNlbmRGYW1pbHlQb3N0Tm90aWZpY2F0aW9uKHBvc3Q6IFBvc3QsIGF1dGhvcjogVXNlcikgewogICAgaWYgKCFhZG1pbi5hcHBzLmxlbmd0aCkgcmV0dXJuOwogICAgdHJ5IHsKICAgICAgICBjb25zdCBmYW1pbHlNZW1iZXJJZHMgPSBhd2FpdCBkYi5nZXRGYW1pbHlNZW1iZXJJZHNEYihhdXRob3IuaWQpOwogICAgICAgIGlmIChmYW1pbHlNZW1iZXJJZHMubGVuZ3RoID09PSAwKSByZXR1cm47CgogICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IGRiLmdldERldmljZVRva2Vuc0ZvclVzZXJzRGIoZmFtaWx5TWVtYmVySWRzKTsKICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgIAogICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwodG9rZW5zLm1hcChhc3luYyAoeyB0b2tlbiwgdXNlcl9pZCB9KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGZyZXNoVG9rZW4gPSBhd2FpdCBlbmNyeXB0KHsgdXNlcklkOiB1c2VyX2lkIH0pOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGAke2F1dGhvci5uYW1lfSBhZGRlZCBhIG5ldyBGYW1pbHkgUHVsc2VgLAogICAgICAgICAgICAgICAgICAgIGJvZHk6IHBvc3QuY29udGVudC5zdWJzdHJpbmcoMCwgMTAwKSArIChwb3N0LmNvbnRlbnQubGVuZ3RoID4gMTAwID8gJy4uLicgOiAnJyksCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIHVzZXJfYXV0aF90b2tlbjogZnJlc2hUb2tlbiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRkFNSUxZX1BPU1QnIC8vIEN1c3RvbSBkYXRhIHRvIGlkZW50aWZ5IHRoZSBub3RpZmljYXRpb24gdHlwZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGFuZHJvaWQ6IHsgcHJpb3JpdHk6ICdoaWdoJyBhcyBjb25zdCwgbm90aWZpY2F0aW9uOiB7IGNoYW5uZWxJZDogJ2ZhbWlseV9hY3Rpdml0eSd9IH0sCiAgICAgICAgICAgICAgICBhcG5zOiB7IHBheWxvYWQ6IHsgYXBzOiB7ICdjb250ZW50LWF2YWlsYWJsZSc6IDEgfSB9IH0KICAgICAgICAgICAgfQogICAgICAgIH0pKTsKCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZG1pbi5tZXNzYWdpbmcoKS5zZW5kRWFjaChtZXNzYWdlcyBhcyBhbnkpOwogICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzQ291bnQgPiAwKSB7CiAgICAgICAgICAgIGF3YWl0IGRiLnVwZGF0ZU5vdGlmaWVkQ291bnREYihwb3N0LmlkLCByZXNwb25zZS5zdWNjZXNzQ291bnQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlc3BvbnNlLmZhaWx1cmVDb3VudCA+IDApIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHNlbmQgZmFtaWx5IHBvc3Qgbm90aWZpY2F0aW9uIHRvICR7cmVzcG9uc2UuZmFpbHVyZUNvdW50fSB0b2tlbnMuYCk7CiAgICAgICAgfQoKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBmYW1pbHkgcG9zdCBub3RpZmljYXRpb246JywgZXJyb3IpOwogICAgfQp9CgoKYXN5bmMgZnVuY3Rpb24gc2VuZE5vdGlmaWNhdGlvbkZvck5ld1Bvc3QocG9zdDogUG9zdCwgbWVudGlvbmVkVXNlcklkczogbnVtYmVyW10gPSBbXSkgewogIHRyeSB7CiAgICAvLyBEbyBub3Qgc2VuZCBub3RpZmljYXRpb25zIGZvciBNYW5kYWwgcG9zdHMgb3IgZmFtaWx5IHBvc3RzIGluIHRoZSBtYWluIGZlZWQKICAgIGlmIChwb3N0Lm1hbmRhbF9pZCB8fCBwb3N0LmlzX2ZhbWlseV9wb3N0IHx8ICFhZG1pbi5hcHBzLmxlbmd0aCkgewogICAgICByZXR1cm47CiAgICB9CiAgICAgIAogICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7CiAgICBjb25zdCBmYWlsZWRUb2tlbnM6IHN0cmluZ1tdID0gW107CiAgICBjb25zdCBwcm9jZXNzZWRUb2tlbnMgPSBuZXcgU2V0PHN0cmluZz4oKTsKICAgIGNvbnN0IGF1dGhvckRpc3BsYXlOYW1lID0gcG9zdC5hdXRob3JuYW1lIHx8ICdhbiBBbm9ueW1vdXMgUHVsc2FyJzsKCiAgICAvLyAxLiBTZW5kIG5vdGlmaWNhdGlvbnMgdG8gbWVudGlvbmVkIHVzZXJzCiAgICBpZiAobWVudGlvbmVkVXNlcklkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgY29uc3QgbWVudGlvbmVkVXNlcnNUb2tlbnMgPSBhd2FpdCBkYi5nZXREZXZpY2VUb2tlbnNGb3JVc2Vyc0RiKG1lbnRpb25lZFVzZXJJZHMpOwogICAgICAgIGlmIChtZW50aW9uZWRVc2Vyc1Rva2Vucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwobWVudGlvbmVkVXNlcnNUb2tlbnMubWFwKGFzeW5jICh7IHRva2VuLCB1c2VyX2lkIH0pID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGZyZXNoVG9rZW4gPSBhd2FpdCBlbmNyeXB0KHsgdXNlcklkOiB1c2VyX2lkIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4sCiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgJHthdXRob3JEaXNwbGF5TmFtZX0gbWVudGlvbmVkIHlvdSBpbiBhIHB1bHNlIWAsCiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHBvc3QuY29udGVudC5zdWJzdHJpbmcoMCwgMTAwKSArIChwb3N0LmNvbnRlbnQubGVuZ3RoID4gMTAwID8gJy4uLicgOiAnJyksCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfYXV0aF90b2tlbjogZnJlc2hUb2tlbgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYW5kcm9pZDogeyBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0LCBub3RpZmljYXRpb246IHsgY2hhbm5lbElkOiAnbmV3X3Bvc3RzJ30gfSwKICAgICAgICAgICAgICAgICAgICBhcG5zOiB7IHBheWxvYWQ6IHsgYXBzOiB7ICdjb250ZW50LWF2YWlsYWJsZSc6IDEgfSB9IH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZG1pbi5tZXNzYWdpbmcoKS5zZW5kRWFjaChtZXNzYWdlcyBhcyBhbnkpOwogICAgICAgICAgICBzdWNjZXNzQ291bnQgKz0gcmVzcG9uc2Uuc3VjY2Vzc0NvdW50OwogICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZXMuZm9yRWFjaCgocmVzcCwgaWR4KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3Auc3VjY2VzcykgZmFpbGVkVG9rZW5zLnB1c2gobWVudGlvbmVkVXNlcnNUb2tlbnNbaWR4XS50b2tlbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBtZW50aW9uZWRVc2Vyc1Rva2Vucy5mb3JFYWNoKHQgPT4gcHJvY2Vzc2VkVG9rZW5zLmFkZCh0LnRva2VuKSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIDIuIFNlbmQgbm90aWZpY2F0aW9ucyB0byBuZWFyYnkgdXNlcnMgKHdobyB3ZXJlIG5vdCBhbHJlYWR5IG5vdGlmaWVkIHZpYSBtZW50aW9uKQogICAgY29uc3QgbmVhcmJ5VG9rZW5zID0gYXdhaXQgZGIuZ2V0TmVhcmJ5RGV2aWNlVG9rZW5zRGIocG9zdC5sYXRpdHVkZSwgcG9zdC5sb25naXR1ZGUsIDIwKTsKICAgIGNvbnN0IG5lYXJieU9ubHlUb2tlbnMgPSBuZWFyYnlUb2tlbnMuZmlsdGVyKHQgPT4gIXByb2Nlc3NlZFRva2Vucy5oYXModC50b2tlbikpOwoKICAgIGlmIChuZWFyYnlPbmx5VG9rZW5zLmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zdCBtZXNzYWdlID0gewogICAgICAgICAgICBub3RpZmljYXRpb246IHsKICAgICAgICAgICAgICAgIHRpdGxlOiBgTmV3IFB1bHNlIE5lYXJieSBmcm9tICR7YXV0aG9yRGlzcGxheU5hbWV9IWAsCiAgICAgICAgICAgICAgICBib2R5OiBwb3N0LmNvbnRlbnQuc3Vic3RyaW5nKDAsIDEwMCkgKyAocG9zdC5jb250ZW50Lmxlbmd0aCA+IDEwMCA/ICcuLi4nIDogJycpLAogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICB1c2VyX2F1dGhfdG9rZW46ICcnIC8vIE5vIGF1dGggZm9yIG5lYXJieSBhbm9ueW1vdXMgdXNlcnMKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9rZW5zOiBuZWFyYnlPbmx5VG9rZW5zLm1hcCh0ID0+IHQudG9rZW4pLAogICAgICAgICAgICBhbmRyb2lkOiB7IHByaW9yaXR5OiAnaGlnaCcgYXMgY29uc3QsIG5vdGlmaWNhdGlvbjogeyBjaGFubmVsSWQ6ICduZXdfcG9zdHMnfSB9LAogICAgICAgICAgICBhcG5zOiB7IHBheWxvYWQ6IHsgYXBzOiB7ICdjb250ZW50LWF2YWlsYWJsZSc6IDEgfSB9IH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWRtaW4ubWVzc2FnaW5nKCkuc2VuZEVhY2hGb3JNdWx0aWNhc3QobWVzc2FnZSBhcyBhbnkpOwogICAgICAgIHN1Y2Nlc3NDb3VudCArPSByZXNwb25zZS5zdWNjZXNzQ291bnQ7CiAgICAgICAgcmVzcG9uc2UucmVzcG9uc2VzLmZvckVhY2goKHJlc3AsIGlkeCkgPT4gewogICAgICAgICAgICBpZiAoIXJlc3Auc3VjY2VzcykgZmFpbGVkVG9rZW5zLnB1c2gobmVhcmJ5T25seVRva2Vuc1tpZHhdLnRva2VuKTsKICAgICAgICB9KTsKICAgIH0KCiAgICAvLyAzLiBVcGRhdGUgbm90aWZpY2F0aW9uIGNvdW50IGFuZCBjbGVhbiB1cCBmYWlsZWQgdG9rZW5zCiAgICBpZiAoc3VjY2Vzc0NvdW50ID4gMCkgewogICAgICBhd2FpdCBkYi51cGRhdGVOb3RpZmllZENvdW50RGIocG9zdC5pZCwgc3VjY2Vzc0NvdW50KTsKICAgIH0KICAgIAogICAgaWYgKGZhaWxlZFRva2Vucy5sZW5ndGggPiAwKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xpc3Qgb2YgdG9rZW5zIHRoYXQgY2F1c2VkIGZhaWx1cmVzOicsIGZhaWxlZFRva2Vucyk7CiAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgZmFpbGVkVG9rZW5zKSB7CiAgICAgICAgYXdhaXQgZGIuZGVsZXRlRGV2aWNlVG9rZW5EYih0b2tlbik7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBwdXNoIG5vdGlmaWNhdGlvbnM6JywgZXJyb3IpOwogIH0KfQoKYXN5bmMgZnVuY3Rpb24gc2VuZENoYXROb3RpZmljYXRpb24oY29udmVyc2F0aW9uSWQ6IG51bWJlciwgc2VuZGVyOiBVc2VyLCBjb250ZW50OiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSB7CiAgdHJ5IHsKICAgIGlmICghYWRtaW4uYXBwcy5sZW5ndGgpIHJldHVybjsKICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IGF3YWl0IGRiLmdldENvbnZlcnNhdGlvblBhcnRpY2lwYW50c0RiKGNvbnZlcnNhdGlvbklkKTsKICAgIGlmICghcGFydGljaXBhbnRzKSByZXR1cm47CgogICAgY29uc3QgcmVjaXBpZW50SWRzID0gcGFydGljaXBhbnRzLm1hcChwID0+IHAuaWQpLmZpbHRlcihpZCA9PiBpZCAhPT0gc2VuZGVyLmlkKTsKICAgIGlmKHJlY2lwaWVudElkcy5sZW5ndGggPT09IDApIHJldHVybjsKCiAgICBjb25zdCBkZXZpY2VUb2tlbnMgPSBhd2FpdCBkYi5nZXREZXZpY2VUb2tlbnNGb3JVc2Vyc0RiKHJlY2lwaWVudElkcyk7CiAgICBpZiAoZGV2aWNlVG9rZW5zLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgCiAgICAvLyBEZWZhdWx0IHRpdGxlIGZvciAxLW9uLTEgY2hhdHMKICAgIGxldCBub3RpZmljYXRpb25UaXRsZSA9IHRpdGxlIHx8IGBOZXcgbWVzc2FnZSBmcm9tICR7c2VuZGVyLm5hbWV9YDsKCiAgICBjb25zdCBjb252RGV0YWlscyA9IGF3YWl0IGRiLmdldENvbnZlcnNhdGlvbkRldGFpbHNEYihjb252ZXJzYXRpb25JZCwgc2VuZGVyLmlkKTsKICAgIGlmKGNvbnZEZXRhaWxzPy5pc19ncm91cCl7CiAgICAgIC8vIEZvciBncm91cCBjaGF0cywgdGhlIHRpdGxlIHNob3VsZCBpbmNsdWRlIHRoZSBncm91cCBuYW1lCiAgICAgIG5vdGlmaWNhdGlvblRpdGxlID0gdGl0bGUgfHwgYE5ldyBtZXNzYWdlIGluICR7Y29udkRldGFpbHMuZGlzcGxheV9uYW1lfWA7CiAgICB9CiAgICAKICAgIGNvbnN0IG5vdGlmaWNhdGlvbkJvZHkgPSBjb250ZW50Lmxlbmd0aCA+IDEwMCA/IGAke2NvbnRlbnQuc3Vic3RyaW5nKDAsIDk3KX0uLi5gIDogY29udGVudDsKCiAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IFByb21pc2UuYWxsKGRldmljZVRva2Vucy5tYXAoYXN5bmMgKHsgdG9rZW4sIHVzZXJfaWQgfSkgPT4gewogICAgICAgIGNvbnN0IGZyZXNoVG9rZW4gPSBhd2FpdCBlbmNyeXB0KHsgdXNlcklkOiB1c2VyX2lkIH0pOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICAgICAgbm90aWZpY2F0aW9uOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogbm90aWZpY2F0aW9uVGl0bGUsCiAgICAgICAgICAgICAgICBib2R5OiBub3RpZmljYXRpb25Cb2R5LAogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICB1c2VyX2F1dGhfdG9rZW46IGZyZXNoVG9rZW4KICAgICAgICAgICAgfSwKICAgICAgICAgICAgYW5kcm9pZDogeyBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0LCBub3RpZmljYXRpb246IHsgY2hhbm5lbElkOiAnY2hhdF9tZXNzYWdlcycgfSB9LAogICAgICAgICAgICBhcG5zOiB7IHBheWxvYWQ6IHsgYXBzOiB7ICdjb250ZW50LWF2YWlsYWJsZSc6IDEgfSB9IH0KICAgICAgICB9CiAgICB9KSk7CgogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZG1pbi5tZXNzYWdpbmcoKS5zZW5kRWFjaChtZXNzYWdlcyBhcyBhbnkpOwoKICAgIGlmIChyZXNwb25zZS5mYWlsdXJlQ291bnQgPiAwKSB7CiAgICAgIGNvbnN0IGZhaWxlZFRva2Vuczogc3RyaW5nW10gPSBbXTsKICAgICAgcmVzcG9uc2UucmVzcG9uc2VzLmZvckVhY2goKHJlc3AsIGlkeCkgPT4gewogICAgICAgIGlmICghcmVzcC5zdWNjZXNzKSBmYWlsZWRUb2tlbnMucHVzaChkZXZpY2VUb2tlbnNbaWR4XS50b2tlbik7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmVycm9yKCdMaXN0IG9mIHRva2VucyB0aGF0IGZhaWxlZCBmb3IgY2hhdCBub3RpZmljYXRpb246JywgZmFpbGVkVG9rZW5zKTsKICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBmYWlsZWRUb2tlbnMpIHsKICAgICAgICBhd2FpdCBkYi5kZWxldGVEZXZpY2VUb2tlbkRiKHRva2VuKTsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGNoYXQgbm90aWZpY2F0aW9uOicsIGVycm9yKTsKICB9Cn0KCgphc3luYyBmdW5jdGlvbiBzZW5kTm90aWZpY2F0aW9uRm9yTmV3Q29tbWVudChjb21tZW50OiBDb21tZW50LCBwb3N0OiBQb3N0KSB7CiAgdHJ5IHsKICAgIGlmICghcG9zdC5hdXRob3JpZCB8fCAhYWRtaW4uYXBwcy5sZW5ndGgpIHJldHVybjsKICAgIAogICAgY29uc3QgeyB1c2VyOiBjb21tZW50ZXJVc2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoY29tbWVudGVyVXNlciAmJiBjb21tZW50ZXJVc2VyLmlkID09PSBwb3N0LmF1dGhvcmlkKSByZXR1cm47CgogICAgY29uc3QgYXV0aG9yRGV2aWNlVG9rZW5zID0gYXdhaXQgZGIuZ2V0RGV2aWNlVG9rZW5zRm9yVXNlcnNEYihbcG9zdC5hdXRob3JpZF0pOwogICAgaWYgKGF1dGhvckRldmljZVRva2Vucy5sZW5ndGggPT09IDApIHJldHVybjsKICAgIAogICAgY29uc3QgZnJlc2hUb2tlbiA9IGF3YWl0IGVuY3J5cHQoeyB1c2VySWQ6IHBvc3QuYXV0aG9yaWQgfSk7CiAgICBjb25zdCBub3RpZmljYXRpb25UaXRsZSA9IGAke2NvbW1lbnQuYXV0aG9yfSBjb21tZW50ZWQgb24geW91ciBwdWxzZWA7CiAgICBjb25zdCBub3RpZmljYXRpb25Cb2R5ID0gY29tbWVudC5jb250ZW50Lmxlbmd0aCA+IDEwMCA/IGAke2NvbW1lbnQuY29udGVudC5zdWJzdHJpbmcoMCwgOTcpfS4uLmAgOiBjb21tZW50LmNvbnRlbnQ7CgogICAgY29uc3QgbWVzc2FnZXMgPSBhdXRob3JEZXZpY2VUb2tlbnMubWFwKCh7IHRva2VuIH0pID0+ICh7CiAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgIG5vdGlmaWNhdGlvbjogewogICAgICAgICAgICB0aXRsZTogbm90aWZpY2F0aW9uVGl0bGUsCiAgICAgICAgICAgIGJvZHk6IG5vdGlmaWNhdGlvbkJvZHksCiAgICAgICAgfSwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHVzZXJfYXV0aF90b2tlbjogZnJlc2hUb2tlbgogICAgICAgIH0sCiAgICAgICAgYW5kcm9pZDogeyBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0LCBub3RpZmljYXRpb246IHsgY2hhbm5lbElkOiAnbmV3X3Bvc3RzJ30gfSwKICAgICAgICBhcG5zOiB7IHBheWxvYWQ6IHsgYXBzOiB7ICdjb250ZW50LWF2YWlsYWJsZSc6IDEgfSB9IH0KICAgIH0pKTsKCiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFkbWluLm1lc3NhZ2luZygpLnNlbmRFYWNoKG1lc3NhZ2VzIGFzIGFueSk7CgogICAgaWYgKHJlc3BvbnNlLmZhaWx1cmVDb3VudCA+IDApIHsKICAgICAgY29uc3QgZmFpbGVkVG9rZW5zOiBzdHJpbmdbXSA9IFtdOwogICAgICByZXNwb25zZS5yZXNwb25zZXMuZm9yRWFjaCgocmVzcCwgaWR4KSA9PiB7CiAgICAgICAgaWYgKCFyZXNwLnN1Y2Nlc3MpIGZhaWxlZFRva2Vucy5wdXNoKGF1dGhvckRldmljZVRva2Vuc1tpZHhdLnRva2VuKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xpc3Qgb2YgdG9rZW5zIHRoYXQgZmFpbGVkIGZvciBuZXcgY29tbWVudCBub3RpZmljYXRpb246JywgZmFpbGVkVG9rZW5zKTsKICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBmYWlsZWRUb2tlbnMpIHsKICAgICAgICBhd2FpdCBkYi5kZWxldGVEZXZpY2VUb2tlbkRiKHRva2VuKTsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIG5ldyBjb21tZW50IG5vdGlmaWNhdGlvbjonLCBlcnJvcik7CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkUG9zdChuZXdQb3N0RGF0YTogQ2xpZW50TmV3UG9zdCk6IFByb21pc2U8eyBwb3N0PzogUG9zdDsgZXJyb3I/OiBzdHJpbmcgfT4gewogIHRyeSB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsgLy8gdXNlciBjYW4gYmUgbnVsbAoKICAgIGlmIChuZXdQb3N0RGF0YS5pc0ZhbWlseVBvc3QgJiYgIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBjcmVhdGUgYSBmYW1pbHkgcG9zdC4nIH07CiAgICB9CiAgICAgIAogICAgLy8gTWFuZGFsIHBvc3RzIHJlcXVpcmUgYW4gYWRtaW4gdG8gYmUgbG9nZ2VkIGluCiAgICBpZiAobmV3UG9zdERhdGEubWFuZGFsSWQgJiYgIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiBhcyBhbiBhZG1pbiB0byBwb3N0IHRvIGEgTWFuZGFsLid9OwogICAgfQogICAgCiAgICAvLyBGb3IgcmVndWxhciBwb3N0cywgYXV0aG9ySWQgY2FuIGJlIG51bGwsIGJ1dCBpZiBwcm92aWRlZCwgaXQgbXVzdCBtYXRjaCB0aGUgc2Vzc2lvbiB1c2VyCiAgICBpZiAoIW5ld1Bvc3REYXRhLm1hbmRhbElkICYmIG5ld1Bvc3REYXRhLmF1dGhvcklkICYmICghdXNlciB8fCB1c2VyLmlkICE9PSBuZXdQb3N0RGF0YS5hdXRob3JJZCkpIHsKICAgICAgICByZXR1cm4geyBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIG1pc21hdGNoLiBZb3UgY2FuIG9ubHkgcG9zdCBmb3IgeW91cnNlbGYuJyB9OwogICAgfQogICAgCiAgICBsZXQgbWVkaWFVcmxzID0gbmV3UG9zdERhdGEubWVkaWFVcmxzOwogICAgbGV0IG1lZGlhVHlwZSA9IG5ld1Bvc3REYXRhLm1lZGlhVHlwZTsKICAgIGxldCBjb250ZW50ID0gbmV3UG9zdERhdGEuY29udGVudDsKICAgIAogICAgLy8gSWYgbm8gbWVkaWEgZmlsZSB3YXMgdXBsb2FkZWQsIGNoZWNrIHRoZSB0ZXh0IGNvbnRlbnQgZm9yIGEgWW91VHViZSBsaW5rLgogICAgaWYgKCFtZWRpYVVybHMgfHwgbWVkaWFVcmxzLmxlbmd0aCA9PT0gMCkgewogICAgICAvLyBUaGlzIHJlZ2V4IGlzIG5vdyBtb3JlIHJvYnVzdCwgaGFuZGxpbmcgdmFyaW91cyBVUkwgZm9ybWF0cyBhbmQgcXVlcnkgcGFyYW1ldGVycy4KICAgICAgY29uc3QgdXJsUmVnZXggPSAvKD86aHR0cHM/OlwvXC8pPyg/Ond3d1wuKT8oPzptXC4pPyg/OnlvdXR1YmVcLmNvbXx5b3V0dVwuYmUpXC8oPzp3YXRjaFw/dj18ZW1iZWRcL3x2XC98c2hvcnRzXC8pPyhbYS16QS1aMC05Xy1dezExfSkoPzpcUyspPy8KICAgICAgY29uc3QgbWF0Y2ggPSBjb250ZW50Lm1hdGNoKHVybFJlZ2V4KTsKCiAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgY29uc3QgeW91dHViZUlkID0gbWF0Y2hbMV07ICAgLy8gVGhlIDExLWNoYXJhY3RlciB2aWRlbyBJRCBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IGNhcHR1cmluZyBncm91cC4KICAgICAgICAgIGNvbnN0IHVybFRvUmVtb3ZlID0gbWF0Y2hbMF07IC8vIFRoZSBmdWxsIG1hdGNoZWQgVVJMLgoKICAgICAgICAgIG1lZGlhVXJscyA9IFtgaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHt5b3V0dWJlSWR9YF07CiAgICAgICAgICBtZWRpYVR5cGUgPSAndmlkZW8nOwogICAgICAgICAgLy8gUmVwbGFjZSBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIHRoZSBVUkwgdG8gYmUgc2FmZSwgdGhlbiB0cmltIHdoaXRlc3BhY2UuCiAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHVybFRvUmVtb3ZlLCAnJykudHJpbSgpOwogICAgICB9CiAgICB9CgogICAgY29uc3QgY2l0eU5hbWUgPSBhd2FpdCByZXNvbHZlQ2l0eUZyb21Db29yZHMobmV3UG9zdERhdGEubGF0aXR1ZGUsIG5ld1Bvc3REYXRhLmxvbmdpdHVkZSk7CgogICAgY29uc3QgcG9zdERhdGFGb3JEYjogRGJOZXdQb3N0ID0gewogICAgICBjb250ZW50OiBjb250ZW50LCAvLyBVc2UgcG90ZW50aWFsbHkgbW9kaWZpZWQgY29udGVudAogICAgICBsYXRpdHVkZTogbmV3UG9zdERhdGEubGF0aXR1ZGUsCiAgICAgIGxvbmdpdHVkZTogbmV3UG9zdERhdGEubG9uZ2l0dWRlLAogICAgICBtZWRpYXVybHM6IG1lZGlhVXJscywKICAgICAgbWVkaWF0eXBlOiBtZWRpYVR5cGUsCiAgICAgIGhhc2h0YWdzOiBuZXdQb3N0RGF0YS5oYXNodGFncyB8fCBbXSwgCiAgICAgIGNpdHk6IGNpdHlOYW1lLAogICAgICBpc19mYW1pbHlfcG9zdDogbmV3UG9zdERhdGEuaXNGYW1pbHlQb3N0IHx8IGZhbHNlLAogICAgICBoaWRlX2xvY2F0aW9uOiBuZXdQb3N0RGF0YS5oaWRlTG9jYXRpb24gfHwgZmFsc2UsCiAgICAgIGF1dGhvcmlkOiB1c2VyID8gdXNlci5pZCA6IG51bGwsCiAgICAgIG1lbnRpb25lZFVzZXJJZHM6IG5ld1Bvc3REYXRhLm1lbnRpb25lZFVzZXJJZHMgfHwgW10sCiAgICAgIGV4cGlyZXNfYXQ6IG5ld1Bvc3REYXRhLmV4cGlyZXNfYXQsCiAgICAgIG1heF92aWV3ZXJzOiBuZXdQb3N0RGF0YS5tYXhfdmlld2VycywKICAgICAgcG9sbERhdGE6IG5ld1Bvc3REYXRhLnBvbGxEYXRhLAogICAgICBtYW5kYWxfaWQ6IG5ld1Bvc3REYXRhLm1hbmRhbElkLAogICAgfTsKCiAgICBjb25zdCBhZGRlZFBvc3REYiA9IGF3YWl0IGRiLmFkZFBvc3REYihwb3N0RGF0YUZvckRiKTsKICAgIAogICAgY29uc3QgZmluYWxQb3N0ID0gYXdhaXQgZGIuZ2V0UG9zdEJ5SWREYihhZGRlZFBvc3REYi5pZCwgdXNlcj8uaWQpOwoKICAgIGlmICghZmluYWxQb3N0KSB7CiAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICdGYWlsZWQgdG8gcmV0cmlldmUgcG9zdCBhZnRlciBjcmVhdGlvbi4nIH07CiAgICB9CgogICAgcmV2YWxpZGF0ZVBhdGgoJy8nKTsKICAgIGlmKGZpbmFsUG9zdC5tYW5kYWxfaWQpIHsKICAgICAgICByZXZhbGlkYXRlUGF0aChgL21hbmRhbHMvJHtmaW5hbFBvc3QubWFuZGFsX2lkfWApOwogICAgfQogICAgCiAgICAvLyBSdW4gbm90aWZpY2F0aW9ucyBpbiB0aGUgYmFja2dyb3VuZAogICAgaWYgKGZpbmFsUG9zdC5pc19mYW1pbHlfcG9zdCAmJiB1c2VyKSB7CiAgICAgICAgc2VuZEZhbWlseVBvc3ROb3RpZmljYXRpb24oZmluYWxQb3N0LCB1c2VyKS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJCYWNrZ3JvdW5kIGZhbWlseSBwb3N0IG5vdGlmaWNhdGlvbiBmYWlsZWQ6IiwgZXJyKTsKICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgc2VuZE5vdGlmaWNhdGlvbkZvck5ld1Bvc3QoZmluYWxQb3N0LCBwb3N0RGF0YUZvckRiLm1lbnRpb25lZFVzZXJJZHMpLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkJhY2tncm91bmQgbm90aWZpY2F0aW9uIHNlbmRpbmcgZmFpbGVkOiIsIGVycik7CiAgICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHsgcG9zdDogZmluYWxQb3N0IH07CiAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgY29uc29sZS5lcnJvcigiU2VydmVyIGFjdGlvbiBlcnJvciBhZGRpbmcgcG9zdDoiLCBlcnJvcik7CiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGFkZCBwb3N0IGR1ZSB0byBhbiB1bmtub3duIHNlcnZlciBlcnJvci4nIH07CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVXNlclBvc3QocG9zdElkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghdXNlcikgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91IG11c3QgYmUgbG9nZ2VkIGluIHRvIGRlbGV0ZSBhIHBvc3QuJyB9OwogIH0KCiAgY29uc3QgcG9zdFRvRGVsZXRlID0gYXdhaXQgZGIuZ2V0UG9zdEJ5SWREYihwb3N0SWQpOwogIGlmICghcG9zdFRvRGVsZXRlKSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdQb3N0IG5vdCBmb3VuZC4nIH07CiAgfQoKICBpZiAocG9zdFRvRGVsZXRlLmF1dGhvcmlkICE9PSB1c2VyLmlkKSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIGRlbGV0ZSB0aGlzIHBvc3QuJyB9OwogIH0KCiAgdHJ5IHsKICAgIGF3YWl0IGRiLmRlbGV0ZVBvc3REYihwb3N0SWQpOwogICAgcmV2YWxpZGF0ZVBhdGgoJy8nKTsKICAgIHJldmFsaWRhdGVQYXRoKGAvdXNlcnMvJHt1c2VyLmlkfWApOwogICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHBvc3Q6JywgZXJyb3IpOwogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIGRlbGV0ZSBwb3N0IGR1ZSB0byBhIHNlcnZlciBlcnJvci4nIH07CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlTGlrZVBvc3QocG9zdElkOiBudW1iZXIpOiBQcm9taXNlPHsgcG9zdD86IFBvc3Q7IGVycm9yPzogc3RyaW5nIH0+IHsKICB0cnkgewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgcmV0dXJuIHsgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4gdG8gbGlrZSBhIHBvc3QuJyB9OwogICAgfQoKICAgIGNvbnN0IGhhc0xpa2VkID0gYXdhaXQgZGIuY2hlY2tJZlVzZXJMaWtlZFBvc3REYih1c2VyLmlkLCBwb3N0SWQpOwogICAgbGV0IHVwZGF0ZWRQb3N0OiBQb3N0IHwgbnVsbDsKCiAgICBpZiAoaGFzTGlrZWQpIHsKICAgICAgYXdhaXQgZGIucmVtb3ZlTGlrZURiKHVzZXIuaWQsIHBvc3RJZCk7CiAgICAgIHVwZGF0ZWRQb3N0ID0gYXdhaXQgZGIudXBkYXRlUG9zdExpa2VDb3VudERiKHBvc3RJZCwgJ2RlY3JlbWVudCcpOwogICAgfSBlbHNlIHsKICAgICAgYXdhaXQgZGIuYWRkTGlrZURiKHVzZXIuaWQsIHBvc3RJZCk7CiAgICAgIHVwZGF0ZWRQb3N0ID0gYXdhaXQgZGIudXBkYXRlUG9zdExpa2VDb3VudERiKHBvc3RJZCwgJ2luY3JlbWVudCcpOwogICAgfQogICAgCiAgICBpZiAodXBkYXRlZFBvc3QpIHsKICAgICAgcmV2YWxpZGF0ZVBhdGgoJy8nKTsgCiAgICAgIHJldmFsaWRhdGVQYXRoKGAvcG9zdHMvJHtwb3N0SWR9YCk7CiAgICAgIHVwZGF0ZWRQb3N0LmlzTGlrZWRCeUN1cnJlbnRVc2VyID0gIWhhc0xpa2VkOwogICAgICByZXR1cm4geyBwb3N0OiB1cGRhdGVkUG9zdCB9OwogICAgfQogICAgcmV0dXJuIHsgZXJyb3I6ICdQb3N0IG5vdCBmb3VuZCBvciBmYWlsZWQgdG8gdXBkYXRlLicgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAvLyBGYWlsIHNpbGVudGx5IG9uIHRoZSBjbGllbnQKICAgIGNvbnNvbGUuZXJyb3IoYFNlcnZlciBhY3Rpb24gZXJyb3IgdG9nZ2xpbmcgbGlrZSBmb3IgcG9zdCAke3Bvc3RJZH06YCwgZXJyb3IubWVzc2FnZSk7CiAgICByZXR1cm4geyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgbGlrZSBjb3VudCBkdWUgdG8gYSBzZXJ2ZXIgZXJyb3IuJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpa2VQb3N0QW5vbnltb3VzbHkocG9zdElkOiBudW1iZXIpOiBQcm9taXNlPHsgcG9zdD86IFBvc3Q7IGVycm9yPzogc3RyaW5nIH0+IHsKICB0cnkgewogICAgLy8gRm9yIGFub255bW91cyB1c2Vycywgd2UganVzdCBpbmNyZW1lbnQgdGhlIGNvdW50LiBXZSBjYW4ndCB0b2dnbGUuCiAgICBjb25zdCB1cGRhdGVkUG9zdCA9IGF3YWl0IGRiLnVwZGF0ZVBvc3RMaWtlQ291bnREYihwb3N0SWQsICdpbmNyZW1lbnQnKTsKICAgIAogICAgaWYgKHVwZGF0ZWRQb3N0KSB7CiAgICAgIHJldmFsaWRhdGVQYXRoKCcvJyk7IAogICAgICByZXZhbGlkYXRlUGF0aChgL3Bvc3RzLyR7cG9zdElkfWApOwogICAgICByZXR1cm4geyBwb3N0OiB1cGRhdGVkUG9zdCB9OwogICAgfQogICAgcmV0dXJuIHsgZXJyb3I6ICdQb3N0IG5vdCBmb3VuZCBvciBmYWlsZWQgdG8gdXBkYXRlLicgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAvLyBGYWlsIHNpbGVudGx5IG9uIHRoZSBjbGllbnQKICAgIGNvbnNvbGUuZXJyb3IoYFNlcnZlciBhY3Rpb24gZXJyb3IgbGlraW5nIHBvc3QgJHtwb3N0SWR9IGFub255bW91c2x5OmAsIGVycm9yLm1lc3NhZ2UpOwogICAgcmV0dXJuIHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIGxpa2UgY291bnQgZHVlIHRvIGEgc2VydmVyIGVycm9yLicgfTsKICB9Cn0KCgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkQ29tbWVudChjb21tZW50RGF0YTogTmV3Q29tbWVudCk6IFByb21pc2U8eyBjb21tZW50PzogQ29tbWVudDsgZXJyb3I/OiBzdHJpbmcgfT4gewogIHRyeSB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGNvbnN0IGF1dGhvck5hbWUgPSB1c2VyID8gdXNlci5uYW1lIDogJ1B1bHNlRmFuJzsKICAgIAogICAgY29uc3QgYWRkZWRDb21tZW50ID0gYXdhaXQgZGIuYWRkQ29tbWVudERiKHsgLi4uY29tbWVudERhdGEsIGF1dGhvcjogYXV0aG9yTmFtZSB9KTsKCiAgICAvLyBGZXRjaCB0aGUgcG9zdCB0byBub3RpZnkgaXRzIGF1dGhvcgogICAgY29uc3QgcG9zdCA9IGF3YWl0IGRiLmdldFBvc3RCeUlkRGIoY29tbWVudERhdGEucG9zdElkKTsKICAgIGlmIChwb3N0KSB7CiAgICAgIC8vIERvbid0IGJsb2NrIHRoZSBjbGllbnQgcmVzcG9uc2UsIHJ1biBub3RpZmljYXRpb24gaW4gdGhlIGJhY2tncm91bmQKICAgICAgc2VuZE5vdGlmaWNhdGlvbkZvck5ld0NvbW1lbnQoYWRkZWRDb21tZW50LCBwb3N0KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkJhY2tncm91bmQgdGFzayB0byBzZW5kIGNvbW1lbnQgbm90aWZpY2F0aW9uIGZhaWxlZDoiLCBlcnIpOwogICAgICB9KTsKICAgIH0KCiAgICByZXZhbGlkYXRlUGF0aCgnLycpOwogICAgcmV2YWxpZGF0ZVBhdGgoYC9wb3N0cy8ke2NvbW1lbnREYXRhLnBvc3RJZH1gKTsKICAgIHJldmFsaWRhdGVQYXRoKGAvY2hhdGApOwogICAgcmV0dXJuIHsgY29tbWVudDogYWRkZWRDb21tZW50IH07CiAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgLy8gRmFpbCBzaWxlbnRseSBvbiB0aGUgY2xpZW50CiAgICBjb25zb2xlLmVycm9yKGBTZXJ2ZXIgYWN0aW9uIGVycm9yIGFkZGluZyBjb21tZW50IHRvIHBvc3QgJHtjb21tZW50RGF0YS5wb3N0SWR9OmAsIGVycm9yLm1lc3NhZ2UpOwogICAgcmV0dXJuIHsgZXJyb3I6ICdGYWlsZWQgdG8gYWRkIGNvbW1lbnQgZHVlIHRvIGEgc2VydmVyIGVycm9yLicgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb21tZW50cyhwb3N0SWQ6IG51bWJlcik6IFByb21pc2U8Q29tbWVudFtdPiB7CiAgdHJ5IHsKICAgIGNvbnN0IGNvbW1lbnRzID0gYXdhaXQgZGIuZ2V0Q29tbWVudHNCeVBvc3RJZERiKHBvc3RJZCk7CiAgICByZXR1cm4gY29tbWVudHM7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoYFNlcnZlciBhY3Rpb24gZXJyb3IgZmV0Y2hpbmcgY29tbWVudHMgZm9yIHBvc3QgJHtwb3N0SWR9OmAsIGVycm9yKTsKICAgIHJldHVybiBbXTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWNvcmRQb3N0Vmlldyhwb3N0SWQ6IG51bWJlcik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuIH0+IHsKICB0cnkgewogICAgYXdhaXQgZGIuaW5jcmVtZW50UG9zdFZpZXdDb3VudERiKHBvc3RJZCk7CiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoYFNlcnZlciBhY3Rpb24gZXJyb3IgcmVjb3JkaW5nIHZpZXcgZm9yIHBvc3QgJHtwb3N0SWR9OmAsIGVycm9yKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVjb3JkVmlzaXRBbmRHZXRDb3VudHMoKTogUHJvbWlzZTxWaXNpdG9yQ291bnRzPiB7CiAgdHJ5IHsKICAgIGNvbnN0IGNvdW50cyA9IGF3YWl0IGRiLmluY3JlbWVudEFuZEdldFZpc2l0b3JDb3VudHNEYigpOwogICAgcmV0dXJuIGNvdW50czsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiU2VydmVyIGFjdGlvbiBlcnJvciByZWNvcmRpbmcgdmlzaXQgYW5kIGdldHRpbmcgY291bnRzOiIsIGVycm9yKTsKICAgIHJldHVybiB7IHRvdGFsVmlzaXRzOiAwLCBkYWlseVZpc2l0czogMCB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRWaXNpdG9yQ291bnRzKCk6IFByb21pc2U8VmlzaXRvckNvdW50cz4gewogIHRyeSB7CiAgICBjb25zdCBjb3VudHMgPSBhd2FpdCBkYi5nZXRWaXNpdG9yQ291bnRzRGIoKTsKICAgIHJldHVybiBjb3VudHM7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIlNlcnZlciBhY3Rpb24gZXJyb3IgZ2V0dGluZyBjdXJyZW50IHZpc2l0b3IgY291bnRzOiIsIGVycm9yKTsKICAgIHJldHVybiB7IHRvdGFsVmlzaXRzOiAwLCBkYWlseVZpc2l0czogMCB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyRGV2aWNlVG9rZW4oCiAgdG9rZW46IHN0cmluZywKICBsYXRpdHVkZT86IG51bWJlciwKICBsb25naXR1ZGU/OiBudW1iZXIKKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICBpZiAoIXRva2VuKSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdEZXZpY2UgdG9rZW4gaXMgcmVxdWlyZWQuJyB9OwogIH0KICB0cnkgewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7IC8vIEdldCB1c2VyIGZyb20gc2Vzc2lvbiB0byBhc3NvY2lhdGUgdG9rZW4KICAgIGNvbnN0IHVzZXJBdXRoVG9rZW4gPSBjb29raWVzKCkuZ2V0KCd1c2VyLWF1dGgtdG9rZW4nKT8udmFsdWU7CiAgICBhd2FpdCBkYi5hZGRPclVwZGF0ZURldmljZVRva2VuRGIodG9rZW4sIGxhdGl0dWRlLCBsb25naXR1ZGUsIHVzZXI/LmlkLCB1c2VyQXV0aFRva2VuKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICBjb25zb2xlLmVycm9yKCdTZXJ2ZXIgYWN0aW9uIGVycm9yIHJlZ2lzdGVyaW5nIGRldmljZSB0b2tlbjonLCBlcnJvcik7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byByZWdpc3RlciBkZXZpY2UgdG9rZW4uJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXJMb2NhdGlvbihsYXRpdHVkZT86IG51bWJlciwgbG9uZ2l0dWRlPzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7CiAgICBpZiAobGF0aXR1ZGUgPT09IHVuZGVmaW5lZCB8fCBsb25naXR1ZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgdHJ5IHsKICAgICAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgICBhd2FpdCBkYi51cGRhdGVVc2VyTG9jYXRpb25EYih1c2VyLmlkLCBsYXRpdHVkZSwgbG9uZ2l0dWRlKTsKICAgICAgICB9CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgLy8gRmFpbCBzaWxlbnRseQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgdXNlciBsb2NhdGlvbiBpbiBiYWNrZ3JvdW5kOicsIGVycm9yLm1lc3NhZ2UpOwogICAgfQp9CgoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrRm9yTmV3ZXJQb3N0cyhsYXRlc3RQb3N0SWRDbGllbnRLbm93czogbnVtYmVyKTogUHJvbWlzZTx7IGhhc05ld2VyUG9zdHM6IGJvb2xlYW47IGNvdW50OiBudW1iZXIgfT4gewogIHRyeSB7CiAgICAvLyBJZiB0aGUgY2xpZW50IGRvZXNuJ3Qga25vdyBhYm91dCBhbnkgcG9zdHMgeWV0IChlLmcuLCBpbml0aWFsIGxvYWQpLAogICAgLy8gdGhlcmUgYXJlIG5vICJuZXdlciIgcG9zdHMgdG8gc2hvdy4gVGhlIGluaXRpYWwgZmV0Y2ggd2lsbCBnZXQgdGhlIGxhdGVzdCBvbmVzLgogICAgaWYgKGxhdGVzdFBvc3RJZENsaWVudEtub3dzID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHsgaGFzTmV3ZXJQb3N0czogZmFsc2UsIGNvdW50OiAwIH07CiAgICB9CiAgICBjb25zdCBjb3VudCA9IGF3YWl0IGRiLmdldE5ld2VyUG9zdHNDb3VudERiKGxhdGVzdFBvc3RJZENsaWVudEtub3dzKTsKICAgIHJldHVybiB7IGhhc05ld2VyUG9zdHM6IGNvdW50ID4gMCwgY291bnQgfTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiU2VydmVyIGFjdGlvbiBlcnJvciBjaGVja2luZyBmb3IgbmV3ZXIgcG9zdHM6IiwgZXJyb3IpOwogICAgcmV0dXJuIHsgaGFzTmV3ZXJQb3N0czogZmFsc2UsIGNvdW50OiAwIH07CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcih1c2VySWQ6IG51bWJlcik6IFByb21pc2U8VXNlciB8IG51bGw+IHsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLmdldFVzZXJCeUlkRGIodXNlcklkKTsKICAgICAgICByZXR1cm4gdXNlcjsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihgU2VydmVyIGFjdGlvbiBlcnJvciBmZXRjaGluZyB1c2VyICR7dXNlcklkfTpgLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQb3N0c0J5VXNlcklkKHVzZXJJZDogbnVtYmVyLCBzZXNzaW9uVXNlcklkPzogbnVtYmVyIHwgbnVsbCk6IFByb21pc2U8UG9zdFtdPiB7CiAgdHJ5IHsKICAgIGNvbnN0IHsgdXNlcjogc2Vzc2lvblVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgZGIuZ2V0UG9zdHNCeVVzZXJJZERiKHVzZXJJZCwgc2Vzc2lvblVzZXI/LmlkKTsKICAgIHJldHVybiBlbnJpY2hQb3N0cyhwb3N0cywgc2Vzc2lvblVzZXIpOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKGBTZXJ2ZXIgYWN0aW9uIGVycm9yIGZldGNoaW5nIHBvc3RzIGZvciB1c2VyICR7dXNlcklkfTpgLCBlcnJvcik7CiAgICByZXR1cm4gW107CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UG9zdEJ5SWQocG9zdElkOiBudW1iZXIpOiBQcm9taXNlPFBvc3QgfCBudWxsPiB7CiAgdHJ5IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgbGV0IHBvc3QgPSBhd2FpdCBkYi5nZXRQb3N0QnlJZERiKHBvc3RJZCwgdXNlcj8uaWQpOwogICAgaWYgKCFwb3N0KSByZXR1cm4gbnVsbDsKCiAgICAvLyBlbnJpY2hQb3N0cyBub3cgaGFuZGxlcyBtZW50aW9ucyBhbmQgcG9sbHMKICAgIGNvbnN0IGVucmljaGVkUG9zdHMgPSBhd2FpdCBlbnJpY2hQb3N0cyhbcG9zdF0sIHVzZXIpOwogICAgcmV0dXJuIGVucmljaGVkUG9zdHNbMF07CgogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKGBTZXJ2ZXIgYWN0aW9uIGVycm9yIGZldGNoaW5nIHBvc3QgJHtwb3N0SWR9OmAsIGVycm9yKTsKICAgIHJldHVybiBudWxsOwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBvc3RzRm9yTWFwKGJvdW5kczogeyBuZTogeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIgfSwgc3c6IHsgbGF0OiBudW1iZXIsIGxuZzogbnVtYmVyIH0gfSk6IFByb21pc2U8UG9zdFtdPiB7CiAgdHJ5IHsKICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgZGIuZ2V0UG9zdHNJbkJvdW5kc0RiKGJvdW5kcyk7CiAgICAvLyBGb3IgdGhlIG1hcCwgd2UgZG9uJ3QgbmVlZCBmdWxsIGVucmljaG1lbnQsIGp1c3QgdGhlIHBvc3RzIHRoZW1zZWx2ZXMuCiAgICByZXR1cm4gcG9zdHM7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIlNlcnZlciBhY3Rpb24gZXJyb3IgZmV0Y2hpbmcgcG9zdHMgZm9yIG1hcDoiLCBlcnJvcik7CiAgICByZXR1cm4gW107CiAgfQp9CgoKLy8gLS0tIEZvbGxvd2VyIEFjdGlvbnMgLS0tCgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcldpdGhGb2xsb3dJbmZvKHByb2ZpbGVVc2VySWQ6IG51bWJlcik6IFByb21pc2U8eyB1c2VyOiBVc2VyIHwgbnVsbDsgc3RhdHM6IFVzZXJGb2xsb3dTdGF0czsgaXNGb2xsb3dpbmc6IGJvb2xlYW4gfT4gewogIGNvbnN0IHsgdXNlcjogc2Vzc2lvblVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAKICBjb25zdCBbcHJvZmlsZVVzZXIsIHN0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgIGRiLmdldFVzZXJCeUlkRGIocHJvZmlsZVVzZXJJZCksCiAgICBkYi5nZXRGb2xsb3dlckNvdW50c0RiKHByb2ZpbGVVc2VySWQpLAogIF0pOwoKICBpZiAoIXByb2ZpbGVVc2VyKSB7CiAgICByZXR1cm4geyB1c2VyOiBudWxsLCBzdGF0czogeyBmb2xsb3dlckNvdW50OiAwLCBmb2xsb3dpbmdDb3VudDogMCB9LCBpc0ZvbGxvd2luZzogZmFsc2UgfTsKICB9CgogIC8vIFNhbml0aXphdGlvbiBpcyBub3cgaGFuZGxlZCBieSB0aGUgREIgcXVlcnkuCgogIGxldCBpc0ZvbGxvd2luZyA9IGZhbHNlOwogIGlmIChzZXNzaW9uVXNlciAmJiBzZXNzaW9uVXNlci5pZCAhPT0gcHJvZmlsZVVzZXJJZCkgewogICAgaXNGb2xsb3dpbmcgPSBhd2FpdCBkYi5jaGVja0lmVXNlcklzRm9sbG93aW5nRGIoc2Vzc2lvblVzZXIuaWQsIHByb2ZpbGVVc2VySWQpOwogIH0KCiAgcmV0dXJuIHsgdXNlcjogcHJvZmlsZVVzZXIsIHN0YXRzLCBpc0ZvbGxvd2luZyB9Owp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Rm9sbG93aW5nTGlzdCh1c2VySWQ6IG51bWJlcik6IFByb21pc2U8Rm9sbG93VXNlcltdPiB7CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBkYi5nZXRGb2xsb3dpbmdMaXN0RGIodXNlcklkKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZm9sbG93aW5nIGxpc3QgZm9yIHVzZXIgJHt1c2VySWR9OmAsIGVycm9yKTsKICAgICAgICByZXR1cm4gW107CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b2dnbGVGb2xsb3codGFyZ2V0VXNlcklkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgaXNGb2xsb3dpbmc/OiBib29sZWFuOyBlcnJvcj86IHN0cmluZzsgfT4gewogIGNvbnN0IHsgdXNlcjogc2Vzc2lvblVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAKICBpZiAoIXNlc3Npb25Vc2VyKSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICJZb3UgbXVzdCBiZSBsb2dnZWQgaW4gdG8gZm9sbG93IHVzZXJzLiIgfTsKICB9CiAgCiAgaWYgKHNlc3Npb25Vc2VyLmlkID09PSB0YXJnZXRVc2VySWQpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIllvdSBjYW5ub3QgZm9sbG93IHlvdXJzZWxmLiIgfTsKICB9CgogIHRyeSB7CiAgICBjb25zdCBpc0N1cnJlbnRseUZvbGxvd2luZyA9IGF3YWl0IGRiLmNoZWNrSWZVc2VySXNGb2xsb3dpbmdEYihzZXNzaW9uVXNlci5pZCwgdGFyZ2V0VXNlcklkKTsKCiAgICBpZiAoaXNDdXJyZW50bHlGb2xsb3dpbmcpIHsKICAgICAgYXdhaXQgZGIudW5mb2xsb3dVc2VyRGIoc2Vzc2lvblVzZXIuaWQsIHRhcmdldFVzZXJJZCk7CiAgICB9IGVsc2UgewogICAgICBhd2FpdCBkYi5mb2xsb3dVc2VyRGIoc2Vzc2lvblVzZXIuaWQsIHRhcmdldFVzZXJJZCk7CiAgICB9CiAgICAKICAgIHJldmFsaWRhdGVQYXRoKGAvdXNlcnMvJHt0YXJnZXRVc2VySWR9YCk7CiAgICByZXZhbGlkYXRlUGF0aCgnLycsICdsYXlvdXQnKTsgLy8gUmV2YWxpZGF0ZSBob21lIHBhZ2UgZmVlZCBhcyB3ZWxsCiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBpc0ZvbGxvd2luZzogIWlzQ3VycmVudGx5Rm9sbG93aW5nIH07CgogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHRvZ2dsaW5nIGZvbGxvdyBmb3IgdXNlciAke3RhcmdldFVzZXJJZH06YCwgZXJyb3IpOwogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAiQW4gdW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQuIiB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBvdGVudGlhbEdyb3VwTWVtYmVycygpOiBQcm9taXNlPEZvbGxvd1VzZXJbXT4gewogIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghdXNlcikgcmV0dXJuIFtdOwogIHRyeSB7CiAgICByZXR1cm4gYXdhaXQgZGIuZ2V0UG90ZW50aWFsR3JvdXBNZW1iZXJzRGIodXNlci5pZCk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIHBvdGVudGlhbCBncm91cCBtZW1iZXJzIGZvciB1c2VyICR7dXNlci5pZH06YCwgZXJyb3IpOwogICAgcmV0dXJuIFtdOwogIH0KfQoKCi8vIC0tLSBNZW50aW9uIEFjdGlvbnMgLS0tCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hVc2VycyhxdWVyeTogc3RyaW5nLCBjdXJyZW50VXNlcklkPzogbnVtYmVyKTogUHJvbWlzZTxVc2VyW10+IHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICBpZiAoIXF1ZXJ5KSByZXR1cm4gW107CiAgdHJ5IHsKICAgIHJldHVybiBhd2FpdCBkYi5zZWFyY2hVc2Vyc0RiKHF1ZXJ5LCB1c2VyPy5pZCk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIlNlcnZlciBhY3Rpb24gZXJyb3Igc2VhcmNoaW5nIHVzZXJzOiIsIGVycm9yKTsKICAgIHJldHVybiBbXTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hHcm91cE1lbWJlcnMocXVlcnk6IHN0cmluZywgY29udmVyc2F0aW9uSWQ6IG51bWJlcik6IFByb21pc2U8Q29udmVyc2F0aW9uUGFydGljaXBhbnRbXT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXF1ZXJ5IHx8ICF1c2VyKSByZXR1cm4gW107CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBkYi5zZWFyY2hHcm91cE1lbWJlcnNEYihxdWVyeSwgY29udmVyc2F0aW9uSWQsIHVzZXIuaWQpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJTZXJ2ZXIgYWN0aW9uIGVycm9yIHNlYXJjaGluZyBncm91cCBtZW1iZXJzOiIsIGVycm9yKTsKICAgICAgICByZXR1cm4gW107CiAgICB9Cn0KCi8vIC0tLSBQb2xsIEFjdGlvbnMgLS0tCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYXN0Vm90ZShwb2xsSWQ6IG51bWJlciwgb3B0aW9uSWQ6IG51bWJlcik6IFByb21pc2U8eyBwb2xsOiBQb2xsIHwgbnVsbDsgZXJyb3I/OiBzdHJpbmcgfT4gewogIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghdXNlcikgewogICAgcmV0dXJuIHsgcG9sbDogbnVsbCwgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4gdG8gdm90ZS4nIH07CiAgfQoKICB0cnkgewogICAgY29uc3QgdXBkYXRlZFBvbGwgPSBhd2FpdCBkYi5jYXN0Vm90ZURiKHVzZXIuaWQsIHBvbGxJZCwgb3B0aW9uSWQpOwogICAgaWYgKHVwZGF0ZWRQb2xsKSB7CiAgICAgIHJldmFsaWRhdGVQYXRoKCcvJyk7IC8vIFJldmFsaWRhdGUgZmVlZCB0byBzaG93IG5ldyB2b3RlIGNvdW50cwogICAgICByZXZhbGlkYXRlUGF0aChgL3Bvc3RzLyR7dXBkYXRlZFBvbGwucG9zdF9pZH1gKTsKICAgICAgcmV0dXJuIHsgcG9sbDogdXBkYXRlZFBvbGwgfTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7IHBvbGw6IG51bGwsIGVycm9yOiAiWW91IGhhdmUgYWxyZWFkeSB2b3RlZCBpbiB0aGlzIHBvbGwuIiB9OwogICAgfQogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhc3Rpbmcgdm90ZTonLCBlcnJvcik7CiAgICByZXR1cm4geyBwb2xsOiBudWxsLCBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgc2VydmVyIGVycm9yIG9jY3VycmVkLicgfTsKICB9Cn0KCgovLyAtLS0gU3RhdHVzIChTdG9yeSkgQWN0aW9ucyAtLS0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRTdGF0dXMobWVkaWFVcmw6IHN0cmluZywgbWVkaWFUeXBlOiAnaW1hZ2UnIHwgJ3ZpZGVvJyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgaWYgKCF1c2VyKSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4gdG8gcG9zdCBhIHN0YXR1cy4nIH07CiAgfQogIAogIHRyeSB7CiAgICBjb25zdCBuZXdTdGF0dXM6IE5ld1N0YXR1cyA9IHsKICAgICAgdXNlcklkOiB1c2VyLmlkLAogICAgICBtZWRpYVVybCwKICAgICAgbWVkaWFUeXBlLAogICAgfTsKICAgIGF3YWl0IGRiLmFkZFN0YXR1c0RiKG5ld1N0YXR1cyk7CiAgICByZXZhbGlkYXRlUGF0aCgnLycpOyAvLyBSZXZhbGlkYXRlIGhvbWUgcGFnZSB0byBzaG93IG5ldyBzdGF0dXMKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgc3RhdHVzOicsIGVycm9yKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHBvc3Qgc3RhdHVzLicgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGF0dXNlc0ZvckZlZWQoKTogUHJvbWlzZTxVc2VyV2l0aFN0YXR1c2VzW10+IHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICBpZiAoIXVzZXIpIHsKICAgIHJldHVybiBbXTsKICB9CiAgCiAgdHJ5IHsKICAgIHJldHVybiBhd2FpdCBkYi5nZXRTdGF0dXNlc0ZvckZlZWREYih1c2VyLmlkKTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3RhdHVzZXMgZm9yIGZlZWQ6JywgZXJyb3IpOwogICAgcmV0dXJuIFtdOwogIH0KfQoKLy8gLS0tIEZhbWlseSBSZWxhdGlvbnNoaXAgQWN0aW9ucyAtLS0KCmFzeW5jIGZ1bmN0aW9uIHNlbmRGYW1pbHlSZXF1ZXN0Tm90aWZpY2F0aW9uKHJlcXVlc3RlcjogVXNlciwgcmVjZWl2ZXJJZDogbnVtYmVyKSB7CiAgICBpZiAoIWFkbWluLmFwcHMubGVuZ3RoKSByZXR1cm47CiAgICB0cnkgewogICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IGRiLmdldERldmljZVRva2Vuc0ZvclVzZXJzRGIoW3JlY2VpdmVySWRdKTsKICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoKICAgICAgICBjb25zdCBmcmVzaFRva2VuID0gYXdhaXQgZW5jcnlwdCh7IHVzZXJJZDogcmVjZWl2ZXJJZCB9KTsKICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICAgIHRpdGxlOiAnTmV3IEZhbWlseSBSZXF1ZXN0IScsCiAgICAgICAgICAgIGJvZHk6IGAke3JlcXVlc3Rlci5uYW1lfSBoYXMgc2VudCB5b3UgYSBmYW1pbHkgcmVxdWVzdC5gLAogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSB0b2tlbnMubWFwKHQgPT4gKHsKICAgICAgICAgICAgdG9rZW46IHQudG9rZW4sCiAgICAgICAgICAgIG5vdGlmaWNhdGlvbiwKICAgICAgICAgICAgZGF0YTogeyB1c2VyX2F1dGhfdG9rZW46IGZyZXNoVG9rZW4gfSwKICAgICAgICAgICAgYW5kcm9pZDogeyBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0LCBub3RpZmljYXRpb246IHsgY2hhbm5lbElkOiAnZmFtaWx5X2FjdGl2aXR5JyB9IH0sCiAgICAgICAgICAgIGFwbnM6IHsgcGF5bG9hZDogeyBhcHM6IHsgJ2NvbnRlbnQtYXZhaWxhYmxlJzogMSB9IH0gfQogICAgICAgIH0pKTsKICAgICAgICAKICAgICAgICBhd2FpdCBhZG1pbi5tZXNzYWdpbmcoKS5zZW5kRWFjaChtZXNzYWdlcyBhcyBhbnkpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGZhbWlseSByZXF1ZXN0IG5vdGlmaWNhdGlvbjonLCBlcnJvcik7CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRGYW1pbHlSZWxhdGlvbnNoaXBTdGF0dXMoc2Vzc2lvblVzZXI6IFVzZXIgfCBudWxsLCB0YXJnZXRVc2VySWQ6IG51bWJlcik6IFByb21pc2U8eyBzdGF0dXM6ICdub25lJyB8ICdwZW5kaW5nX2Zyb21fbWUnIHwgJ3BlbmRpbmdfZnJvbV90aGVtJyB8ICdhcHByb3ZlZCcgfT4gewogIGlmICghc2Vzc2lvblVzZXIgfHwgc2Vzc2lvblVzZXIuaWQgPT09IHRhcmdldFVzZXJJZCkgewogICAgcmV0dXJuIHsgc3RhdHVzOiAnbm9uZScgfTsKICB9CgogIHRyeSB7CiAgICBjb25zdCByZWxhdGlvbnNoaXAgPSBhd2FpdCBkYi5nZXRGYW1pbHlSZWxhdGlvbnNoaXBEYihzZXNzaW9uVXNlci5pZCwgdGFyZ2V0VXNlcklkKTsKICAgIGlmICghcmVsYXRpb25zaGlwKSB7CiAgICAgIHJldHVybiB7IHN0YXR1czogJ25vbmUnIH07CiAgICB9CgogICAgaWYgKHJlbGF0aW9uc2hpcC5zdGF0dXMgPT09ICdhcHByb3ZlZCcpIHsKICAgICAgcmV0dXJuIHsgc3RhdHVzOiAnYXBwcm92ZWQnIH07CiAgICB9CgogICAgaWYgKHJlbGF0aW9uc2hpcC5zdGF0dXMgPT09ICdwZW5kaW5nJykgewogICAgICBpZiAocmVsYXRpb25zaGlwLnJlcXVlc3Rlcl9pZCA9PT0gc2Vzc2lvblVzZXIuaWQpIHsKICAgICAgICByZXR1cm4geyBzdGF0dXM6ICdwZW5kaW5nX2Zyb21fbWUnIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiAncGVuZGluZ19mcm9tX3RoZW0nIH07CiAgICAgIH0KICAgIH0KICAgIAogICAgLy8gJ3JlamVjdGVkJyBzdGF0dXMgaXMgdHJlYXRlZCBhcyAnbm9uZScgZm9yIGEgbmV3IHJlcXVlc3QKICAgIHJldHVybiB7IHN0YXR1czogJ25vbmUnIH07IAogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBmYW1pbHkgcmVsYXRpb25zaGlwIHN0YXR1cyBmb3IgdXNlciAke3RhcmdldFVzZXJJZH06YCwgZXJyb3IpOwogICAgcmV0dXJuIHsgc3RhdHVzOiAnbm9uZScgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRmFtaWx5UmVxdWVzdCh0YXJnZXRVc2VySWQ6IG51bWJlcik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgY29uc3QgeyB1c2VyOiBzZXNzaW9uVXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghc2Vzc2lvblVzZXIpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBzZW5kIGEgcmVxdWVzdC4nIH07CiAgfQogIGlmIChzZXNzaW9uVXNlci5pZCA9PT0gdGFyZ2V0VXNlcklkKSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgY2Fubm90IGFkZCB5b3Vyc2VsZiBhcyBmYW1pbHkuJyB9OwogIH0KCiAgdHJ5IHsKICAgIGNvbnN0IGV4aXN0aW5nUmVsYXRpb25zaGlwID0gYXdhaXQgZGIuZ2V0RmFtaWx5UmVsYXRpb25zaGlwRGIoc2Vzc2lvblVzZXIuaWQsIHRhcmdldFVzZXJJZCk7CiAgICBpZiAoZXhpc3RpbmdSZWxhdGlvbnNoaXAgJiYgZXhpc3RpbmdSZWxhdGlvbnNoaXAuc3RhdHVzICE9PSAncmVqZWN0ZWQnKSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQSByZXF1ZXN0IGFscmVhZHkgZXhpc3RzIG9yIHlvdSBhcmUgYWxyZWFkeSBmYW1pbHkgbWVtYmVycy4nIH07CiAgICB9CiAgICAKICAgIGF3YWl0IGRiLnNlbmRGYW1pbHlSZXF1ZXN0RGIoc2Vzc2lvblVzZXIuaWQsIHRhcmdldFVzZXJJZCk7CiAgICAKICAgIC8vIFNlbmQgbm90aWZpY2F0aW9uIGluIHRoZSBiYWNrZ3JvdW5kCiAgICBzZW5kRmFtaWx5UmVxdWVzdE5vdGlmaWNhdGlvbihzZXNzaW9uVXNlciwgdGFyZ2V0VXNlcklkKS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkJhY2tncm91bmQgZmFtaWx5IHJlcXVlc3Qgbm90aWZpY2F0aW9uIGZhaWxlZDoiLCBlcnIpOwogICAgfSk7CgogICAgcmV2YWxpZGF0ZVBhdGgoYC91c2Vycy8ke3RhcmdldFVzZXJJZH1gKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzZW5kIHJlcXVlc3QuJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbmNlbEZhbWlseVJlcXVlc3QodGFyZ2V0VXNlcklkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogICAgY29uc3QgeyB1c2VyOiBzZXNzaW9uVXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCFzZXNzaW9uVXNlcikgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbi4nIH07CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBjb25zdCByZWxhdGlvbnNoaXAgPSBhd2FpdCBkYi5nZXRGYW1pbHlSZWxhdGlvbnNoaXBEYihzZXNzaW9uVXNlci5pZCwgdGFyZ2V0VXNlcklkKTsKICAgICAgICBpZiAoIXJlbGF0aW9uc2hpcCB8fCByZWxhdGlvbnNoaXAuc3RhdHVzICE9PSAncGVuZGluZycgfHwgcmVsYXRpb25zaGlwLnJlcXVlc3Rlcl9pZCAhPT0gc2Vzc2lvblVzZXIuaWQpIHsKICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm8gcGVuZGluZyByZXF1ZXN0IGZvdW5kIHRvIGNhbmNlbC4nIH07CiAgICAgICAgfQogICAgICAgIGF3YWl0IGRiLmRlbGV0ZUZhbWlseVJlbGF0aW9uc2hpcERiKHJlbGF0aW9uc2hpcC5pZCk7CiAgICAgICAgcmV2YWxpZGF0ZVBhdGgoYC91c2Vycy8ke3RhcmdldFVzZXJJZH1gKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIGNhbmNlbCByZXF1ZXN0LicgfTsKICAgIH0KfQoKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNwb25kVG9GYW1pbHlSZXF1ZXN0KG90aGVyVXNlcklkOiBudW1iZXIsIHJlc3BvbnNlOiAnYXBwcm92ZScgfCAncmVqZWN0Jyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgY29uc3QgeyB1c2VyOiBzZXNzaW9uVXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghc2Vzc2lvblVzZXIpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbi4nIH07CiAgfQoKICB0cnkgewogICAgY29uc3QgcmVsYXRpb25zaGlwID0gYXdhaXQgZGIuZ2V0RmFtaWx5UmVsYXRpb25zaGlwRGIoc2Vzc2lvblVzZXIuaWQsIG90aGVyVXNlcklkKTsKCiAgICBpZiAoIXJlbGF0aW9uc2hpcCB8fCByZWxhdGlvbnNoaXAuc3RhdHVzICE9PSAncGVuZGluZycgfHwgcmVsYXRpb25zaGlwLnJlcXVlc3Rlcl9pZCA9PT0gc2Vzc2lvblVzZXIuaWQpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdObyBwZW5kaW5nIHJlcXVlc3QgZm91bmQgZnJvbSB0aGlzIHVzZXIuJyB9OwogICAgfQogICAgCiAgICBpZiAocmVzcG9uc2UgPT09ICdhcHByb3ZlJykgewogICAgICAgIGF3YWl0IGRiLnVwZGF0ZUZhbWlseVJlcXVlc3RTdGF0dXNEYihyZWxhdGlvbnNoaXAuaWQsICdhcHByb3ZlZCcpOwogICAgfSBlbHNlIHsKICAgICAgICAvLyBJZiByZWplY3RlZCwgd2UnbGwganVzdCBkZWxldGUgdGhlIHJlcXVlc3QgdG8gYWxsb3cgZm9yIGEgbmV3IG9uZSBpbiB0aGUgZnV0dXJlLgogICAgICAgIGF3YWl0IGRiLmRlbGV0ZUZhbWlseVJlbGF0aW9uc2hpcERiKHJlbGF0aW9uc2hpcC5pZCk7CiAgICB9CiAgICAKICAgIHJldmFsaWRhdGVQYXRoKGAvdXNlcnMvJHtvdGhlclVzZXJJZH1gKTsKICAgIHJldmFsaWRhdGVQYXRoKGAvdXNlcnMvJHtzZXNzaW9uVXNlci5pZH1gKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byByZXNwb25kIHRvIHJlcXVlc3QuJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZhbWlseU1lbWJlcnModXNlcklkOiBudW1iZXIpOiBQcm9taXNlPEZhbWlseU1lbWJlcltdPiB7CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBkYi5nZXRGYW1pbHlNZW1iZXJzRm9yVXNlckRiKHVzZXJJZCk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGZhbWlseSBtZW1iZXJzIGZvciB1c2VyICR7dXNlcklkfTpgLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIFtdOwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVuZGluZ0ZhbWlseVJlcXVlc3RzKCk6IFByb21pc2U8UGVuZGluZ0ZhbWlseVJlcXVlc3RbXT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHJldHVybiBbXTsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGF3YWl0IGRiLmdldFBlbmRpbmdGYW1pbHlSZXF1ZXN0c0ZvclVzZXJEYih1c2VyLmlkKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgcGVuZGluZyBmYW1pbHkgcmVxdWVzdHMgZm9yIHVzZXIgJHt1c2VyLmlkfTpgLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIFtdOwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlTG9jYXRpb25TaGFyaW5nKHRhcmdldFVzZXJJZDogbnVtYmVyLCBzaGFyZTogYm9vbGVhbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgY29uc3QgeyB1c2VyOiBzZXNzaW9uVXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghc2Vzc2lvblVzZXIpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbi4nIH07CiAgfQogIAogIHRyeSB7CiAgICBhd2FpdCBkYi50b2dnbGVMb2NhdGlvblNoYXJpbmdEYihzZXNzaW9uVXNlci5pZCwgdGFyZ2V0VXNlcklkLCBzaGFyZSk7CiAgICByZXZhbGlkYXRlUGF0aChgL3VzZXJzLyR7c2Vzc2lvblVzZXIuaWR9YCk7CiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgY29uc29sZS5lcnJvcihgRXJyb3IgdG9nZ2xpbmcgbG9jYXRpb24gc2hhcmluZyBmb3IgdXNlciAke3RhcmdldFVzZXJJZH06YCwgZXJyb3IpOwogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQW4gdW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQuJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZhbWlseUxvY2F0aW9ucygpOiBQcm9taXNlPEZhbWlseU1lbWJlckxvY2F0aW9uW10+IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSByZXR1cm4gW107CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBkYi5nZXRGYW1pbHlMb2NhdGlvbnNGb3JVc2VyRGIodXNlci5pZCk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGZhbWlseSBsb2NhdGlvbnMgZm9yIHVzZXIgJHt1c2VyLmlkfTpgLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIFtdOwogICAgfQp9CgoKLy8gLS0tIENoYXQgQWN0aW9ucyAtLS0KCmFzeW5jIGZ1bmN0aW9uIHNlbmRSZWFjdGlvbk5vdGlmaWNhdGlvbihyZWFjdG9yOiBVc2VyLCBtZXNzYWdlOiBNZXNzYWdlLCByZWFjdGlvbjogc3RyaW5nKSB7CiAgICBpZiAoIWFkbWluLmFwcHMubGVuZ3RoIHx8IHJlYWN0b3IuaWQgPT09IG1lc3NhZ2Uuc2VuZGVyX2lkKSByZXR1cm47CiAgICB0cnkgewogICAgICAgIGNvbnN0IHJlY2lwaWVudElkID0gbWVzc2FnZS5zZW5kZXJfaWQ7CiAgICAgICAgY29uc3QgZGV2aWNlVG9rZW5zID0gYXdhaXQgZGIuZ2V0RGV2aWNlVG9rZW5zRm9yVXNlcnNEYihbcmVjaXBpZW50SWRdKTsKICAgICAgICBpZiAoZGV2aWNlVG9rZW5zLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgIAogICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvblRpdGxlID0gYCR7cmVhY3Rvci5uYW1lfSByZWFjdGVkIHRvIHlvdXIgbWVzc2FnZWA7CiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uQm9keSA9IGAke3JlYWN0aW9ufSAiJHttZXNzYWdlLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDUwKX0uLi4iYDsKCiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBQcm9taXNlLmFsbChkZXZpY2VUb2tlbnMubWFwKGFzeW5jICh7IHRva2VuLCB1c2VyX2lkIH0pID0+IHsKICAgICAgICAgICAgY29uc3QgZnJlc2hUb2tlbiA9IGF3YWl0IGVuY3J5cHQoeyB1c2VySWQ6IHVzZXJfaWQgfSk7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4sCiAgICAgICAgICAgICAgICBub3RpZmljYXRpb246IHsgdGl0bGU6IG5vdGlmaWNhdGlvblRpdGxlLCBib2R5OiBub3RpZmljYXRpb25Cb2R5IH0sCiAgICAgICAgICAgICAgICBkYXRhOiB7IHVzZXJfYXV0aF90b2tlbjogZnJlc2hUb2tlbiB9LAogICAgICAgICAgICAgICAgYW5kcm9pZDogeyBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0LCBub3RpZmljYXRpb246IHsgY2hhbm5lbElkOiAnY2hhdF9tZXNzYWdlcycgfSB9LAogICAgICAgICAgICAgICAgYXBuczogeyBwYXlsb2FkOiB7IGFwczogeyAnY29udGVudC1hdmFpbGFibGUnOiAxIH0gfSB9CiAgICAgICAgICAgIH0KICAgICAgICB9KSk7CgogICAgICAgIGF3YWl0IGFkbWluLm1lc3NhZ2luZygpLnNlbmRFYWNoKG1lc3NhZ2VzIGFzIGFueSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgY2hhdCByZWFjdGlvbiBub3RpZmljYXRpb246JywgZXJyb3IpOwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnRDaGF0QW5kUmVkaXJlY3QoZm9ybURhdGE6IEZvcm1EYXRhKTogUHJvbWlzZTx2b2lkPiB7CiAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgaWYgKCF1c2VyKSB7CiAgICByZWRpcmVjdCgnL2xvZ2luJyk7CiAgICByZXR1cm47CiAgfQogIAogIGNvbnN0IG90aGVyVXNlcklkU3RyID0gZm9ybURhdGEuZ2V0KCdvdGhlclVzZXJJZCcpOwogIGlmICghb3RoZXJVc2VySWRTdHIgfHwgdHlwZW9mIG90aGVyVXNlcklkU3RyICE9PSAnc3RyaW5nJykgewogICAgLy8gSGFuZGxlIGVycm9yIGNhc2UsIG1heWJlIHJlZGlyZWN0IGJhY2sgd2l0aCBhbiBlcnJvciBtZXNzYWdlCiAgICByZXR1cm47CiAgfQogIGNvbnN0IG90aGVyVXNlcklkID0gcGFyc2VJbnQob3RoZXJVc2VySWRTdHIsIDEwKTsKICAKICBpZihpc05hTihvdGhlclVzZXJJZCkgfHwgb3RoZXJVc2VySWQgPT09IHVzZXIuaWQpIHsKICAgIC8vIEhhbmRsZSBlcnJvciBjYXNlCiAgICByZXR1cm47CiAgfQogIAogIGNvbnN0IGNvbnZlcnNhdGlvbklkID0gYXdhaXQgZGIuZmluZE9yQ3JlYXRlQ29udmVyc2F0aW9uRGIodXNlci5pZCwgb3RoZXJVc2VySWQpOwogIHJlZGlyZWN0KGAvY2hhdC8ke2NvbnZlcnNhdGlvbklkfWApOwp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlR3JvdXAoZ3JvdXBOYW1lOiBzdHJpbmcsIG1lbWJlcklkczogbnVtYmVyW10pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmc7IGNvbnZlcnNhdGlvbklkPzogbnVtYmVyIH0+IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91IG11c3QgYmUgbG9nZ2VkIGluLicgfTsKICAgIH0KICAgIGlmICghZ3JvdXBOYW1lLnRyaW0oKSkgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0dyb3VwIG5hbWUgY2Fubm90IGJlIGVtcHR5LicgfTsKICAgIH0KICAgIGlmIChtZW1iZXJJZHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91IG11c3QgYWRkIGF0IGxlYXN0IG9uZSBtZW1iZXIgdG8gdGhlIGdyb3VwLicgfTsKICAgIH0KICAgIAogICAgdHJ5IHsKICAgICAgICBjb25zdCBhbGxNZW1iZXJJZHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoW3VzZXIuaWQsIC4uLm1lbWJlcklkc10pKTsKICAgICAgICBjb25zdCBuZXdDb252ZXJzYXRpb24gPSBhd2FpdCBkYi5jcmVhdGVHcm91cENvbnZlcnNhdGlvbkRiKHVzZXIuaWQsIGdyb3VwTmFtZS50cmltKCksIGFsbE1lbWJlcklkcyk7CiAgICAgICAgcmV2YWxpZGF0ZVBhdGgoJy9jaGF0Jyk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgY29udmVyc2F0aW9uSWQ6IG5ld0NvbnZlcnNhdGlvbi5pZCB9OwogICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgZ3JvdXAuJyB9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TWVzc2FnZXMoY29udmVyc2F0aW9uSWQ6IG51bWJlcik6IFByb21pc2U8TWVzc2FnZVtdPiB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgcmV0dXJuIFtdOwogICAgdHJ5IHsKICAgICAgICByZXR1cm4gYXdhaXQgZGIuZ2V0TWVzc2FnZXNGb3JDb252ZXJzYXRpb25EYihjb252ZXJzYXRpb25JZCwgdXNlci5pZCk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIG1lc3NhZ2VzIGZvciBjb252ZXJzYXRpb24gJHtjb252ZXJzYXRpb25JZH06YCwgZXJyb3IpOwogICAgICAgIHJldHVybiBbXTsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNvbnZlcnNhdGlvbklkOiBudW1iZXIsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8eyBtZXNzYWdlPzogTWVzc2FnZTsgZXJyb3I/OiBzdHJpbmcgfT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBzZW5kIGEgbWVzc2FnZS4nIH07CiAgICB9CiAgICB0cnkgewogICAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSBhd2FpdCBkYi5hZGRNZXNzYWdlRGIoeyBjb252ZXJzYXRpb25JZCwgc2VuZGVySWQ6IHVzZXIuaWQsIGNvbnRlbnQgfSk7CiAgICAgICAgLy8gRG9uJ3QgYXdhaXQgbm90aWZpY2F0aW9uLCBsZXQgaXQgcnVuIGluIGJhY2tncm91bmQKICAgICAgICBzZW5kQ2hhdE5vdGlmaWNhdGlvbihjb252ZXJzYXRpb25JZCwgdXNlciwgY29udGVudCkuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoIkNoYXQgbm90aWZpY2F0aW9uIGZhaWxlZDoiLCBlcnIpKTsKICAgICAgICByZXZhbGlkYXRlUGF0aChgL2NoYXRgKTsKICAgICAgICByZXZhbGlkYXRlUGF0aChgL2NoYXQvJHtjb252ZXJzYXRpb25JZH1gKTsKICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBuZXdNZXNzYWdlIH07CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlLicgfTsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZU1lc3NhZ2UobWVzc2FnZUlkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4uJyB9OwogICAgfQogICAgdHJ5IHsKICAgICAgICBjb25zdCB3YXNEZWxldGVkID0gYXdhaXQgZGIuZGVsZXRlTWVzc2FnZURiKG1lc3NhZ2VJZCwgdXNlci5pZCk7CiAgICAgICAgaWYgKHdhc0RlbGV0ZWQpIHsKICAgICAgICAgICAgcmV2YWxpZGF0ZVBhdGgoJy9jaGF0Jyk7IC8vIFJldmFsaWRhdGluZyBhbGwgY2hhdHMgbWlnaHQgYmUgbmVjZXNzYXJ5CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdNZXNzYWdlIG5vdCBmb3VuZCBvciB5b3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBkZWxldGUgaXQuJyB9OwogICAgICAgIH0KICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZGVsZXRlIG1lc3NhZ2UuJyB9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29udmVyc2F0aW9ucygpOiBQcm9taXNlPENvbnZlcnNhdGlvbltdPiB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgcmV0dXJuIFtdOwogICAgdHJ5IHsKICAgICAgICByZXR1cm4gYXdhaXQgZGIuZ2V0Q29udmVyc2F0aW9uc0ZvclVzZXJEYih1c2VyLmlkKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgY29udmVyc2F0aW9ucyBmb3IgdXNlciAke3VzZXIuaWR9OmAsIGVycm9yKTsKICAgICAgICByZXR1cm4gW107CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrQ29udmVyc2F0aW9uQXNSZWFkKGNvbnZlcnNhdGlvbklkOiBudW1iZXIpIHsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgYXdhaXQgZGIubWFya0NvbnZlcnNhdGlvbkFzUmVhZERiKGNvbnZlcnNhdGlvbklkLCB1c2VyLmlkKTsKICAgICAgICAgICAgcmV2YWxpZGF0ZVBhdGgoYC9jaGF0YCk7CiAgICAgICAgfQogICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIlNlcnZlciBhY3Rpb24gZXJyb3IgbWFya2luZyBjb252ZXJzYXRpb24gYXMgcmVhZDoiLCBlcnJvcik7CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVbnJlYWRNZXNzYWdlQ291bnQoKTogUHJvbWlzZTxudW1iZXI+IHsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGRiLmdldFRvdGFsVW5yZWFkTWVzc2FnZXNEYih1c2VyLmlkKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIDA7CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiU2VydmVyIGFjdGlvbiBlcnJvciBnZXR0aW5nIHVucmVhZCBtZXNzYWdlIGNvdW50OiIsIGVycm9yKTsKICAgICAgICByZXR1cm4gMDsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbkRldGFpbHMoY29udmVyc2F0aW9uSWQ6IG51bWJlcik6IFByb21pc2U8Q29udmVyc2F0aW9uRGV0YWlscyB8IG51bGw+IHsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGRiLmdldENvbnZlcnNhdGlvbkRldGFpbHNEYihjb252ZXJzYXRpb25JZCwgdXNlci5pZCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJTZXJ2ZXIgYWN0aW9uIGVycm9yIGdldHRpbmcgY29udmVyc2F0aW9uIGRldGFpbHM6IiwgZXJyb3IpOwogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gbGVhdmVHcm91cChjb252ZXJzYXRpb25JZDogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4uJyB9OwogICAgdHJ5IHsKICAgICAgICBhd2FpdCBkYi5yZW1vdmVQYXJ0aWNpcGFudEZyb21Hcm91cERiKGNvbnZlcnNhdGlvbklkLCB1c2VyLmlkKTsKICAgICAgICByZXZhbGlkYXRlUGF0aCgnL2NoYXQnKTsKICAgICAgICByZWRpcmVjdCgnL2NoYXQnKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIGxlYXZlIGdyb3VwLicgfTsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZU1lbWJlckZyb21Hcm91cChjb252ZXJzYXRpb25JZDogbnVtYmVyLCBtZW1iZXJJZDogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4uJyB9OwogICAgdHJ5IHsKICAgICAgICBjb25zdCBpc0FkbWluID0gYXdhaXQgZGIuaXNVc2VyR3JvdXBBZG1pbkRiKGNvbnZlcnNhdGlvbklkLCB1c2VyLmlkKTsKICAgICAgICBpZighaXNBZG1pbikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91IGFyZSBub3QgYW4gYWRtaW4gb2YgdGhpcyBncm91cC4nIH07CiAgICAgICAgYXdhaXQgZGIucmVtb3ZlUGFydGljaXBhbnRGcm9tR3JvdXBEYihjb252ZXJzYXRpb25JZCwgbWVtYmVySWQpOwogICAgICAgIHJldmFsaWRhdGVQYXRoKGAvY2hhdC8ke2NvbnZlcnNhdGlvbklkfWApOwogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gcmVtb3ZlIG1lbWJlci4nIH07CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRNZW1iZXJzVG9Hcm91cChjb252ZXJzYXRpb25JZDogbnVtYmVyLCBtZW1iZXJJZHM6IG51bWJlcltdKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4uJyB9OwogICAgdHJ5IHsKICAgICAgICBjb25zdCBpc0FkbWluID0gYXdhaXQgZGIuaXNVc2VyR3JvdXBBZG1pbkRiKGNvbnZlcnNhdGlvbklkLCB1c2VyLmlkKTsKICAgICAgICBpZighaXNBZG1pbikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91IGFyZSBub3QgYW4gYWRtaW4gb2YgdGhpcyBncm91cC4nIH07CiAgICAgICAgYXdhaXQgZGIuYWRkUGFydGljaXBhbnRzVG9Hcm91cERiKGNvbnZlcnNhdGlvbklkLCBtZW1iZXJJZHMpOwogICAgICAgIHJldmFsaWRhdGVQYXRoKGAvY2hhdC8ke2NvbnZlcnNhdGlvbklkfWApOwogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gYWRkIG1lbWJlcnMuJyB9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFrZVVzZXJHcm91cEFkbWluKGNvbnZlcnNhdGlvbklkOiBudW1iZXIsIG1lbWJlcklkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbi4nIH07CiAgICB0cnkgewogICAgICAgIGNvbnN0IGlzQWRtaW4gPSBhd2FpdCBkYi5pc1VzZXJHcm91cEFkbWluRGIoY29udmVyc2F0aW9uSWQsIHVzZXIuaWQpOwogICAgICAgIGlmKCFpc0FkbWluKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgYXJlIG5vdCBhbiBhZG1pbiBvZiB0aGlzIGdyb3VwLicgfTsKICAgICAgICBhd2FpdCBkYi5tYWtlVXNlckdyb3VwQWRtaW5EYihjb252ZXJzYXRpb25JZCwgbWVtYmVySWQpOwogICAgICAgIHJldmFsaWRhdGVQYXRoKGAvY2hhdC8ke2NvbnZlcnNhdGlvbklkfWApOwogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gbWFrZSBhZG1pbi4nIH07CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVHcm91cEF2YXRhcihjb252ZXJzYXRpb25JZDogbnVtYmVyLCBpbWFnZVVybDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICBpZiAoIXVzZXIpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbi4nIH07CgogIHRyeSB7CiAgICBjb25zdCBpc0FkbWluID0gYXdhaXQgZGIuaXNVc2VyR3JvdXBBZG1pbkRiKGNvbnZlcnNhdGlvbklkLCB1c2VyLmlkKTsKICAgIGlmICghaXNBZG1pbikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91IGFyZSBub3QgYW4gYWRtaW4gb2YgdGhpcyBncm91cC4nIH07CiAgICBhd2FpdCBkYi51cGRhdGVHcm91cEF2YXRhckRiKGNvbnZlcnNhdGlvbklkLCBpbWFnZVVybCk7CiAgICByZXZhbGlkYXRlUGF0aChgL2NoYXQvJHtjb252ZXJzYXRpb25JZH1gKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIGdyb3VwIGF2YXRhci4nIH07CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlTWVzc2FnZVJlYWN0aW9uKG1lc3NhZ2VJZDogbnVtYmVyLCByZWFjdGlvbjogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4uJyB9OwogICAgdHJ5IHsKICAgICAgICBjb25zdCB7IHdhc0FkZGVkLCBtZXNzYWdlIH0gPSBhd2FpdCBkYi50b2dnbGVNZXNzYWdlUmVhY3Rpb25EYihtZXNzYWdlSWQsIHVzZXIuaWQsIHJlYWN0aW9uKTsKICAgICAgICBpZiAod2FzQWRkZWQgJiYgbWVzc2FnZSkgewogICAgICAgICAgICAvLyBEb24ndCBhd2FpdCwgcnVuIGluIGJhY2tncm91bmQKICAgICAgICAgICAgc2VuZFJlYWN0aW9uTm90aWZpY2F0aW9uKHVzZXIsIG1lc3NhZ2UsIHJlYWN0aW9uKS5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcigiUmVhY3Rpb24gbm90aWZpY2F0aW9uIGZhaWxlZDoiLCBlcnIpKTsKICAgICAgICB9CiAgICAgICAgcmV2YWxpZGF0ZVBhdGgoJy9jaGF0Jyk7IC8vIFJldmFsaWRhdGUgYWxsIGNoYXRzIGZvciBzaW1wbGljaXR5CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byB0b2dnbGUgcmVhY3Rpb24uJyB9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UG9pbnRIaXN0b3J5KHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxQb2ludFRyYW5zYWN0aW9uW10+IHsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGF3YWl0IGRiLmdldFBvaW50SGlzdG9yeUZvclVzZXJEYih1c2VySWQpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHBvaW50IGhpc3RvcnkgZm9yIHVzZXIgJHt1c2VySWR9OmAsIGVycm9yKTsKICAgICAgICByZXR1cm4gW107CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUb3BMcFBvaW50VXNlcnMoKTogUHJvbWlzZTxQaWNrPFVzZXIsICdpZCcgfCAnbmFtZScgfCAncHJvZmlsZXBpY3R1cmV1cmwnIHwgJ2xwX3BvaW50cyc+W10+IHsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGF3YWl0IGRiLmdldFRvcExwUG9pbnRVc2Vyc0RiKCk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBnZXQgdG9wIExQIHBvaW50IHVzZXJzOiIsIGVycm9yKTsKICAgICAgICByZXR1cm4gW107CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTaWduZWRVcGxvYWRVcmwoZmlsZU5hbWU6IHN0cmluZywgZmlsZVR5cGU6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyB1cGxvYWRVcmw/OiBzdHJpbmc7IHB1YmxpY1VybD86IHN0cmluZzsgZXJyb3I/OiBzdHJpbmc7IH0+IHsKICBjb25zdCBnY3NDbGllbnQgPSBnZXRHY3NDbGllbnQoKTsKICBjb25zdCBidWNrZXROYW1lID0gZ2V0R2NzQnVja2V0TmFtZSgpOwoKICBpZiAoIWdjc0NsaWVudCB8fCAhYnVja2V0TmFtZSkgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAiQ2xvdWQgU3RvcmFnZSBpcyBub3QgY29uZmlndXJlZCBvbiB0aGUgc2VydmVyLiIgfTsKICB9CgogIGNvbnN0IGNsZWFuRmlsZU5hbWUgPSBgJHtEYXRlLm5vdygpfS0ke2ZpbGVOYW1lLnJlcGxhY2UoL1teYS16QS1aMC05Ll0vZywgJ18nKX1gOwogIGNvbnN0IGZpbGUgPSBnY3NDbGllbnQuYnVja2V0KGJ1Y2tldE5hbWUpLmZpbGUoYHVwbG9hZHMvJHtjbGVhbkZpbGVOYW1lfWApOwoKICB0cnkgewogICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgdmVyc2lvbjogJ3Y0JyBhcyBjb25zdCwKICAgICAgYWN0aW9uOiAnd3JpdGUnIGFzIGNvbnN0LAogICAgICBleHBpcmVzOiBEYXRlLm5vdygpICsgMTUgKiA2MCAqIDEwMDAsIC8vIDE1IG1pbnV0ZXMKICAgICAgY29udGVudFR5cGU6IGZpbGVUeXBlLAogICAgfTsKCiAgICBjb25zdCBbdXJsXSA9IGF3YWl0IGZpbGUuZ2V0U2lnbmVkVXJsKG9wdGlvbnMpOwogICAgY29uc3QgcHVibGljVXJsID0gYGh0dHBzOi8vc3RvcmFnZS5nb29nbGVhcGlzLmNvbS8ke2J1Y2tldE5hbWV9L3VwbG9hZHMvJHtjbGVhbkZpbGVOYW1lfWA7CiAgICAKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHVwbG9hZFVybDogdXJsLCBwdWJsaWNVcmw6IHB1YmxpY1VybCB9OwogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBnZXQgc2lnbmVkIFVSTDoiLCBlcnJvcik7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICJDb3VsZCBub3QgY3JlYXRlIGFuIHVwbG9hZCBVUkwuIiB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE5lYXJieUJ1c2luZXNzZXMob3B0aW9uczogeyBwYWdlOiBudW1iZXI7IGxpbWl0OiBudW1iZXI7IGxhdGl0dWRlOiBudW1iZXI7IGxvbmdpdHVkZTogbnVtYmVyOyBjYXRlZ29yeT86IHN0cmluZzsgcmFkaXVzS20/OiBudW1iZXI7fSk6IFByb21pc2U8QnVzaW5lc3NVc2VyW10+IHsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGF3YWl0IGRiLmdldE5lYXJieUJ1c2luZXNzZXNEYih7CiAgICAgICAgICAgIC4uLm9wdGlvbnMsCiAgICAgICAgICAgIHBhZ2U6IG9wdGlvbnMucGFnZSB8fCAxLAogICAgICAgICAgICBsaW1pdDogb3B0aW9ucy5saW1pdCB8fCAxMCwKICAgICAgICB9KTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgbmVhcmJ5IGJ1c2luZXNzZXM6IiwgZXJyb3IpOwogICAgICAgIHJldHVybiBbXTsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJ1c2luZXNzZXNGb3JNYXAoYm91bmRzOiB7IG5lOiB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciB9LCBzdzogeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIgfSB9KTogUHJvbWlzZTxCdXNpbmVzc1VzZXJbXT4gewogICAgdHJ5IHsKICAgICAgICByZXR1cm4gYXdhaXQgZGIuZ2V0QnVzaW5lc3Nlc0luQm91bmRzRGIoYm91bmRzKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgYnVzaW5lc3NlcyBmb3IgbWFwOiIsIGVycm9yKTsKICAgICAgICByZXR1cm4gW107CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHb3Jha3NoYWtSZXBvcnQoYWRtaW5MYXQ6IG51bWJlciwgYWRtaW5Mb246IG51bWJlcik6IFByb21pc2U8R29yYWtzaGFrUmVwb3J0VXNlcltdPiB7CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBkYi5nZXRHb3Jha3NoYWtzU29ydGVkQnlEaXN0YW5jZURiKGFkbWluTGF0LCBhZG1pbkxvbik7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGZldGNoaW5nIEdvcmFrc2hhayByZXBvcnQ6IiwgZXJyb3IpOwogICAgICAgIHJldHVybiBbXTsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRTb3NNZXNzYWdlKGxhdGl0dWRlOiBudW1iZXIsIGxvbmdpdHVkZTogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U/OiBzdHJpbmc7IGVycm9yPzogc3RyaW5nOyB9PiB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAiWW91IG11c3QgYmUgbG9nZ2VkIGluIHRvIHNlbmQgYW4gU09TLiIgfTsKICAgIGlmICghYWRtaW4uYXBwcy5sZW5ndGgpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIk5vdGlmaWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLiIgfTsKICAgIAogICAgdHJ5IHsKICAgICAgICBjb25zdCByZWNpcGllbnRzID0gYXdhaXQgZGIuZ2V0UmVjaXBpZW50c0ZvclNvc0RiKHVzZXIuaWQpOwogICAgICAgIGlmKHJlY2lwaWVudHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIllvdSBhcmUgbm90IHNoYXJpbmcgeW91ciBsb2NhdGlvbiB3aXRoIGFueSBmYW1pbHkgbWVtYmVycy4gTm8gb25lIHRvIG5vdGlmeS4iIH07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IHJlY2lwaWVudElkcyA9IHJlY2lwaWVudHMubWFwKHIgPT4gci5pZCk7CiAgICAgICAgY29uc3QgZGV2aWNlVG9rZW5zID0gYXdhaXQgZGIuZ2V0RGV2aWNlVG9rZW5zRm9yVXNlcnNEYihyZWNpcGllbnRJZHMpOwogICAgICAgIAogICAgICAgIGNvbnN0IG1hcFVybCA9IGBodHRwczovL3d3dy5nb29nbGUuY29tL21hcHM/cT0ke2xhdGl0dWRlfSwke2xvbmdpdHVkZX1gOwogICAgICAgIGNvbnN0IHNvc0NvbnRlbnQgPSBg8J+GmCBFTUVSR0VOQ1kgU09TIGZyb20gJHt1c2VyLm5hbWV9ISDwn4aYXG5cblRoZWlyIGN1cnJlbnQgbG9jYXRpb24gaXM6ICR7bWFwVXJsfWA7CgogICAgICAgIC8vIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBjaGF0IGZvciBlYWNoIHJlY2lwaWVudAogICAgICAgIGZvciAoY29uc3QgcmVjaXBpZW50SWQgb2YgcmVjaXBpZW50SWRzKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25JZCA9IGF3YWl0IGRiLmZpbmRPckNyZWF0ZUNvbnZlcnNhdGlvbkRiKHVzZXIuaWQsIHJlY2lwaWVudElkKTsKICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKGNvbnZlcnNhdGlvbklkLCBzb3NDb250ZW50KTsKICAgICAgICAgICAgfSBjYXRjaCAoY2hhdEVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2VuZCBTT1MgY2hhdCBtZXNzYWdlIHRvIHVzZXIgJHtyZWNpcGllbnRJZH06YCwgY2hhdEVycm9yKTsKICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRvIHNlbmQgbm90aWZpY2F0aW9ucyBldmVuIGlmIGNoYXQgZmFpbHMKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZihkZXZpY2VUb2tlbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICJTT1MgbWVzc2FnZSBzZW50IGluIGNoYXQsIGJ1dCBubyBmYW1pbHkgbWVtYmVycyBoYXZlIG5vdGlmaWNhdGlvbnMgZW5hYmxlZC4ifTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBQcm9taXNlLmFsbChkZXZpY2VUb2tlbnMubWFwKGFzeW5jICh7IHRva2VuLCB1c2VyX2lkIH0pID0+IHsKICAgICAgICAgICAgY29uc3QgZnJlc2hUb2tlbiA9IGF3YWl0IGVuY3J5cHQoeyB1c2VySWQ6IHVzZXJfaWQgfSk7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4sCiAgICAgICAgICAgICAgICBub3RpZmljYXRpb246IHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogYPCfhpggU09TIGZyb20gJHt1c2VyLm5hbWV9IWAsCiAgICAgICAgICAgICAgICAgICAgYm9keTogYEVtZXJnZW5jeSBhbGVydCEgVGFwIHRvIHNlZSB0aGVpciBsb2NhdGlvbi5gCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIHVzZXJfYXV0aF90b2tlbjogZnJlc2hUb2tlbiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnU09TJywKICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogU3RyaW5nKGxhdGl0dWRlKSwKICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IFN0cmluZyhsb25naXR1ZGUpLAogICAgICAgICAgICAgICAgICAgIHVybDogbWFwVXJsLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGFuZHJvaWQ6IHsgcHJpb3JpdHk6ICdoaWdoJyBhcyBjb25zdCwgbm90aWZpY2F0aW9uOiB7IGNoYW5uZWxJZDogJ3Nvc19hbGVydHMnIH0gfSwKICAgICAgICAgICAgICAgIGFwbnM6IHsgcGF5bG9hZDogeyBhcHM6IHsgJ2NvbnRlbnQtYXZhaWxhYmxlJzogMSwgc291bmQ6ICdkZWZhdWx0JyB9IH0gfQogICAgICAgICAgICB9CiAgICAgICAgfSkpOwoKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFkbWluLm1lc3NhZ2luZygpLnNlbmRFYWNoKG1lc3NhZ2VzIGFzIGFueSk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYFNPUyBzZW50IHRvICR7cmVzcG9uc2Uuc3VjY2Vzc0NvdW50fSBmYW1pbHkgbWVtYmVyKHMpLmAgfTsKCiAgICB9IGNhdGNoKGVycm9yOiBhbnkpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICJGYWlsZWQgdG8gc2VuZCBTT1MgZHVlIHRvIGEgc2VydmVyIGVycm9yLiJ9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdExvY2F0aW9uVXBkYXRlKHRhcmdldFVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICAgIGNvbnN0IHsgdXNlcjogcmVxdWVzdGVyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXJlcXVlc3RlciB8fCAhYWRtaW4uYXBwcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICJVc2VyIG5vdCBsb2dnZWQgaW4gb3Igbm90aWZpY2F0aW9ucyBub3QgY29uZmlndXJlZC4iIH07CiAgICB9CiAgICAKICAgIHRyeSB7CiAgICAgICAgY29uc3QgdGFyZ2V0VG9rZW5zID0gYXdhaXQgZGIuZ2V0RGV2aWNlVG9rZW5zRm9yVXNlcnNEYihbdGFyZ2V0VXNlcklkXSk7CiAgICAgICAgaWYgKHRhcmdldFRva2Vucy5sZW5ndGggPT09IDApIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIlRhcmdldCB1c2VyIGRvZXMgbm90IGhhdmUgbm90aWZpY2F0aW9ucyBlbmFibGVkLiIgfTsKCiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBQcm9taXNlLmFsbCh0YXJnZXRUb2tlbnMubWFwKGFzeW5jICh7IHRva2VuLCB1c2VyX2lkIH0pID0+IHsKICAgICAgICAgICAgY29uc3QgZnJlc2hUb2tlbiA9IGF3YWl0IGVuY3J5cHQoeyB1c2VySWQ6IHVzZXJfaWQgfSk7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4sCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgdXNlcl9hdXRoX3Rva2VuOiBmcmVzaFRva2VuLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSRVFVRVNUX0xPQ0FUSU9OX1VQREFURScsCiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVyTmFtZTogcmVxdWVzdGVyLm5hbWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAvLyBObyBub3RpZmljYXRpb24gcGF5bG9hZCwgdGhpcyBpcyBhIHNpbGVudCBkYXRhLW9ubHkgcHVzaAogICAgICAgICAgICAgICAgYW5kcm9pZDogeyBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0IH0sCiAgICAgICAgICAgICAgICBhcG5zOiB7IHBheWxvYWQ6IHsgYXBzOiB7ICdjb250ZW50LWF2YWlsYWJsZSc6IDEgfSB9IH0KICAgICAgICAgICAgfQogICAgICAgIH0pKTsKCiAgICAgICAgYXdhaXQgYWRtaW4ubWVzc2FnaW5nKCkuc2VuZEVhY2gobWVzc2FnZXMgYXMgYW55KTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIHJlcXVlc3RpbmcgbG9jYXRpb24gdXBkYXRlOiIsIGVycm9yKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICJGYWlsZWQgdG8gc2VuZCByZXF1ZXN0LiIgfTsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVucmVhZEZhbWlseVBvc3RDb3VudCgpOiBQcm9taXNlPG51bWJlcj4gewogICAgdHJ5IHsKICAgICAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgICByZXR1cm4gYXdhaXQgZGIuZ2V0VW5yZWFkRmFtaWx5UG9zdENvdW50RGIodXNlci5pZCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfSBjYXRjaChlcnJvcjogYW55KSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrRmFtaWx5RmVlZEFzUmVhZCgpIHsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICAgICAgaWYodXNlcikgewogICAgICAgICAgICBhd2FpdCBkYi5tYXJrRmFtaWx5RmVlZEFzUmVhZERiKHVzZXIuaWQpOwogICAgICAgICAgICByZXZhbGlkYXRlUGF0aCgnLycpOyAvLyBSZXZhbGlkYXRlIHRvIHVwZGF0ZSBVSSBzdGF0ZSBpZiBuZWVkZWQKICAgICAgICB9CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiU2VydmVyIGFjdGlvbiBlcnJvciBtYXJraW5nIGZhbWlseSBmZWVkIGFzIHJlYWQ6IiwgZXJyb3IpOwogICAgfQp9CgovLyAtLS0gRmVzdGl2YWwgQWN0aW9ucyAtLS0KZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyTWFuZGFsKG5ld01hbmRhbDogTmV3R2FucGF0aU1hbmRhbCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuLCBlcnJvcj86IHN0cmluZyB9PiB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byByZWdpc3RlciBhIG1hbmRhbC4nIH07CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBhd2FpdCBkYi5yZWdpc3Rlck1hbmRhbERiKHsgLi4ubmV3TWFuZGFsLCBhZG1pbl91c2VyX2lkOiB1c2VyLmlkIH0pOwogICAgICAgIHJldmFsaWRhdGVQYXRoKCcvJyk7IC8vIFJldmFsaWRhdGUgdGhlIGZlZWQgdG8gc2hvdyB0aGUgbmV3IGZlc3RpdmFsIHRhYiBjb250ZW50CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZ2lzdGVyaW5nIG1hbmRhbDonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZC4nIH07CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNYW5kYWxzRm9yRmVlZCh1c2VySWQ/OiBudW1iZXIgfCBudWxsKTogUHJvbWlzZTxHYW5wYXRpTWFuZGFsW10+IHsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGF3YWl0IGRiLmdldE1hbmRhbHNEYih1c2VySWQpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJTZXJ2ZXIgYWN0aW9uIGVycm9yIGZldGNoaW5nIG1hbmRhbHM6IiwgZXJyb3IpOwogICAgICAgIHJldHVybiBbXTsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRvcE1hbmRhbCgpOiBQcm9taXNlPEdhbnBhdGlNYW5kYWwgfCBudWxsPiB7CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBkYi5nZXRUb3BNYW5kYWxEYigpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJTZXJ2ZXIgYWN0aW9uIGVycm9yIGZldGNoaW5nIHRvcCBtYW5kYWw6IiwgZXJyb3IpOwogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TWFuZGFsTWVkaWFQb3N0cyhtYW5kYWxJZDogbnVtYmVyKTogUHJvbWlzZTxQb3N0W10+IHsKICB0cnkgewogICAgcmV0dXJuIGF3YWl0IGRiLmdldE1hbmRhbE1lZGlhUG9zdHNEYihtYW5kYWxJZCk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoYFNlcnZlciBhY3Rpb24gZXJyb3IgZmV0Y2hpbmcgbWVkaWEgcG9zdHMgZm9yIG1hbmRhbCAke21hbmRhbElkfTpgLCBlcnJvcik7CiAgICByZXR1cm4gW107CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlTWFuZGFsTGlrZShtYW5kYWxJZDogbnVtYmVyKTogUHJvbWlzZTx7IG1hbmRhbD86IEdhbnBhdGlNYW5kYWwgfCBudWxsOyBlcnJvcj86IHN0cmluZzsgfT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBsaWtlIGEgbWFuZGFsLicgfTsKICAgIH0KICAgIAogICAgdHJ5IHsKICAgICAgICBjb25zdCBtYW5kYWwgPSBhd2FpdCBkYi50b2dnbGVNYW5kYWxMaWtlRGIodXNlci5pZCwgbWFuZGFsSWQpOwogICAgICAgIHJldmFsaWRhdGVQYXRoKCcvJyk7IC8vIFJldmFsaWRhdGUgdGhlIGZlZWQKICAgICAgICByZXR1cm4geyBtYW5kYWwgfTsKICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciB0b2dnbGluZyBsaWtlIGZvciBtYW5kYWwgJHttYW5kYWxJZH06YCwgZXJyb3IpOwogICAgICAgIHJldHVybiB7IGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBsaWtlIHN0YXR1cyBkdWUgdG8gYSBzZXJ2ZXIgZXJyb3IuJyB9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWFuZGFsKG1hbmRhbElkOiBudW1iZXIsIGRhdGE6IHsgbmFtZTogc3RyaW5nOyBjaXR5OiBzdHJpbmc7IGRlc2NyaXB0aW9uPzogc3RyaW5nIH0pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbiwgZXJyb3I/OiBzdHJpbmcgfT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4uJyB9OwogICAgfQogICAgLy8gQSBwcm9wZXIgaW1wbGVtZW50YXRpb24gd291bGQgYWxzbyBjaGVjayBpZiB0aGUgdXNlciBpcyB0aGUgYWRtaW4gb2YgdGhpcyBtYW5kYWwKICAgIHRyeSB7CiAgICAgICAgYXdhaXQgZGIudXBkYXRlTWFuZGFsRGIobWFuZGFsSWQsIGRhdGEsIHVzZXIuaWQpOwogICAgICAgIHJldmFsaWRhdGVQYXRoKCcvJyk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEFhcnRpTm90aWZpY2F0aW9uKG1hbmRhbElkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmc7IHNlbnRDb3VudD86IG51bWJlciB9PiB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbi4nIH07CiAgICB9CiAgICBpZiAoIWFkbWluLmFwcHMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm90aWZpY2F0aW9uIHNlcnZpY2Ugbm90IGNvbmZpZ3VyZWQgb24gc2VydmVyLicgfTsKICAgIH0KICAgIHRyeSB7CiAgICAgICAgY29uc3QgbWFuZGFsID0gYXdhaXQgZGIuZ2V0TWFuZGFsQnlJZERiKG1hbmRhbElkKTsKICAgICAgICBpZiAoIW1hbmRhbCkgewogICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdNYW5kYWwgbm90IGZvdW5kLicgfTsKICAgICAgICB9CiAgICAgICAgaWYgKG1hbmRhbC5hZG1pbl91c2VyX2lkICE9PSB1c2VyLmlkKSB7CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBhcmUgbm90IHRoZSBhZG1pbiBvZiB0aGlzIG1hbmRhbC4nIH07CiAgICAgICAgfQoKICAgICAgICBjb25zdCBuZWFyYnlUb2tlbnMgPSBhd2FpdCBkYi5nZXROZWFyYnlEZXZpY2VUb2tlbnNEYihtYW5kYWwubGF0aXR1ZGUsIG1hbmRhbC5sb25naXR1ZGUsIDEpOyAvLyAxa20gcmFkaXVzIGZvciBBYXJ0aQogICAgICAgIGlmIChuZWFyYnlUb2tlbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHNlbnRDb3VudDogMCwgZXJyb3I6ICdObyB1c2VycyBmb3VuZCB3aXRoaW4gMWttIHRvIG5vdGlmeS4nIH07CiAgICAgICAgfQoKICAgICAgICBjb25zdCBtZXNzYWdlID0gewogICAgICAgICAgICBub3RpZmljYXRpb246IHsKICAgICAgICAgICAgICAgIHRpdGxlOiBgQWFydGkgYXQgJHttYW5kYWwubmFtZX0hYCwKICAgICAgICAgICAgICAgIGJvZHk6IGDwn6qUIOCkl+Cko+CkquCkpOClgCDgpKzgpL7gpKrgpY3gpKrgpL7gpJrgpYAg4KSG4KSw4KSk4KWAIOCkuOClgeCksOClgiDgpLngpYvgpKQg4KSG4KS54KWHLCDgpK3gpJXgpY3gpKTgpL7gpILgpKjgpYAg4KSy4KS14KSV4KSw4KS+4KSkIOCksuCkteCkleCksCDgpK/gpL7gpLXgpYcuIPCfjLpgLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0b2tlbnM6IG5lYXJieVRva2Vucy5tYXAodCA9PiB0LnRva2VuKSwKICAgICAgICAgICAgYW5kcm9pZDogeyBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0LCBub3RpZmljYXRpb246IHsgY2hhbm5lbElkOiAnZmVzdGl2YWxfYWxlcnRzJyB9IH0sCiAgICAgICAgICAgIGFwbnM6IHsgcGF5bG9hZDogeyBhcHM6IHsgJ2NvbnRlbnQtYXZhaWxhYmxlJzogMSwgc291bmQ6ICdkZWZhdWx0JyB9IH0gfQogICAgICAgIH07CgogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWRtaW4ubWVzc2FnaW5nKCkuc2VuZEVhY2hGb3JNdWx0aWNhc3QobWVzc2FnZSBhcyBhbnkpOwogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHNlbnRDb3VudDogcmVzcG9uc2Uuc3VjY2Vzc0NvdW50IH07CgogICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgQWFydGkgbm90aWZpY2F0aW9uOicsIGVycm9yKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZC4nIH07CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBcHBvaW50bWVudChhcHBvaW50bWVudDogT21pdDxBcHBvaW50bWVudCwgJ2lkJyB8ICdzdGF0dXMnIHwgJ2NyZWF0ZWRfYXQnIHwgJ2N1c3RvbWVyX2lkJz4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmc7IGFwcG9pbnRtZW50PzogQXBwb2ludG1lbnQgfT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZC4nIH07CiAgICB9CiAgICAKICAgIHRyeSB7CiAgICAgICAgY29uc3QgbmV3QXBwb2ludG1lbnQgPSBhd2FpdCBkYi5jcmVhdGVBcHBvaW50bWVudERiKHsgLi4uYXBwb2ludG1lbnQsIGN1c3RvbWVyX2lkOiB1c2VyLmlkIH0pOwogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGFwcG9pbnRtZW50OiBuZXdBcHBvaW50bWVudCB9OwogICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGNyZWF0aW5nIGFwcG9pbnRtZW50OiIsIGVycm9yKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTsKICAgIH0KfQo=' | base64 -d > /root/localpulse/src/app/actions.ts
mkdir -p /root/localpulse/src/app/users/[userId]
echo 'CgppbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBub3RGb3VuZCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCB7IGdldFBvc3RzQnlVc2VySWQsIGdldFBlbmRpbmdGYW1pbHlSZXF1ZXN0cywgZ2V0RmFtaWx5UmVsYXRpb25zaGlwU3RhdHVzLCBnZXRVc2VyV2l0aEZvbGxvd0luZm8sIHN0YXJ0Q2hhdEFuZFJlZGlyZWN0IH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICdAL2FwcC9hdXRoL2FjdGlvbnMnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgeyBDYXJkLCBDYXJkSGVhZGVyLCBDYXJkQ29udGVudCwgQ2FyZFRpdGxlLCBDYXJkRGVzY3JpcHRpb24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IEJ1aWxkaW5nLCBTaGllbGRDaGVjaywgTWFpbCwgQ2FsZW5kYXIsIFVzZXIgYXMgVXNlckljb24sIEVkaXQsIE1lc3NhZ2VTcXVhcmUsIFNldHRpbmdzLCBVc2VycywgQnJpZWZjYXNlLCBQaG9uZSwgRmlsZUJhckNoYXJ0LCBBd2FyZCwgU2hhcmUyLCBCYWRnZUNoZWNrLCBXcmVuY2gsIENhbGVuZGFyQ2hlY2ssIENhbGVuZGFyUGx1cyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJzsKaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnOwppbXBvcnQgeyBQb3N0Q2FyZCB9IGZyb20gJ0AvY29tcG9uZW50cy9wb3N0LWNhcmQnOwppbXBvcnQgdHlwZSB7IFVzZXIsIEZhbWlseU1lbWJlciB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IFByb2ZpbGVQaWN0dXJlVXBkYXRlciBmcm9tICdAL2NvbXBvbmVudHMvcHJvZmlsZS1waWN0dXJlLXVwZGF0ZXInOwppbXBvcnQgeyBEaWFsb2csIERpYWxvZ0NvbnRlbnQsIERpYWxvZ1RyaWdnZXIsIERpYWxvZ0hlYWRlciwgRGlhbG9nVGl0bGUsIERpYWxvZ0Rlc2NyaXB0aW9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2RpYWxvZyc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgRm9sbG93QnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9mb2xsb3ctYnV0dG9uJzsKaW1wb3J0IFVzZXJuYW1lRWRpdG9yIGZyb20gJ0AvY29tcG9uZW50cy91c2VybmFtZS1lZGl0b3InOwppbXBvcnQgRm9sbG93aW5nTGlzdERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvZm9sbG93aW5nLWxpc3QtZGlhbG9nJzsKaW1wb3J0IExvZ291dEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvbG9nb3V0LWJ1dHRvbic7CmltcG9ydCB7IFRoZW1lU3dpdGNoZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdGhlbWUtc3dpdGNoZXInOwppbXBvcnQgQmFqcmFuZ0RhbElkQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvYmFqcmFuZy1kYWwtaWQtY2FyZCc7CmltcG9ydCBVcGRhdGVNb2JpbGVGb3JtIGZyb20gJ0AvY29tcG9uZW50cy91cGRhdGUtbW9iaWxlLWZvcm0nOwppbXBvcnQgRmFtaWx5QWN0aW9uQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9mYW1pbHktYWN0aW9uLWJ1dHRvbic7CmltcG9ydCBGYW1pbHlNZW1iZXJzQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvZmFtaWx5LW1lbWJlcnMtY2FyZCc7CmltcG9ydCBGYW1pbHlSZXF1ZXN0c0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL2ZhbWlseS1yZXF1ZXN0cy1saXN0JzsKaW1wb3J0IHsgQWNjb3JkaW9uLCBBY2NvcmRpb25Db250ZW50LCBBY2NvcmRpb25JdGVtLCBBY2NvcmRpb25UcmlnZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FjY29yZGlvbic7CmltcG9ydCBEZWxldGVBY2NvdW50QnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9kZWxldGUtYWNjb3VudC1idXR0b24nOwppbXBvcnQgeyBTZXBhcmF0b3IgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VwYXJhdG9yJzsKaW1wb3J0IFVwZGF0ZVVzZXJEZXRhaWxzTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL3VwZGF0ZS11c2VyLWRldGFpbHMtbW9kYWwnOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwppbXBvcnQgUmVmZXJyYWxTaGFyZXIgZnJvbSAnQC9jb21wb25lbnRzL3JlZmVycmFsLXNoYXJlcic7CmltcG9ydCBMcFBvaW50c0hpc3RvcnlEaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL2xwLXBvaW50cy1oaXN0b3J5LWRpYWxvZyc7CmltcG9ydCBBZGRGYW1pbHlNZW1iZXJTZWFyY2ggZnJvbSAnQC9jb21wb25lbnRzL2FkZC1mYW1pbHktbWVtYmVyLXNlYXJjaCc7CmltcG9ydCBVcGRhdGVMb2NhdGlvbkJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvdXBkYXRlLWxvY2F0aW9uLWJ1dHRvbic7CmltcG9ydCBCb29raW5nRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9ib29raW5nLWRpYWxvZyc7CmltcG9ydCBSZXF1ZXN0VmVyaWZpY2F0aW9uQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9yZXF1ZXN0LXZlcmlmaWNhdGlvbi1idXR0b24nOwoKaW50ZXJmYWNlIFVzZXJQcm9maWxlUGFnZVByb3BzIHsKICBwYXJhbXM6IHsKICAgIHVzZXJJZDogc3RyaW5nOwogIH07Cn0KCmNvbnN0IFVzZXJQcm9maWxlUGFnZTogRkM8VXNlclByb2ZpbGVQYWdlUHJvcHM+ID0gYXN5bmMgKHsgcGFyYW1zIH0pID0+IHsKICBjb25zdCB1c2VySWQgPSBwYXJzZUludChwYXJhbXMudXNlcklkLCAxMCk7CiAgaWYgKGlzTmFOKHVzZXJJZCkpIHsKICAgIG5vdEZvdW5kKCk7CiAgfQoKICAvLyBGZXRjaCBzZXNzaW9uIGZpcnN0IHRvIGRldGVybWluZSBpZiB0aGlzIGlzIHRoZSB1c2VyJ3Mgb3duIHByb2ZpbGUKICBjb25zdCB7IHVzZXI6IHNlc3Npb25Vc2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgY29uc3QgaXNPd25Qcm9maWxlID0gc2Vzc2lvblVzZXI/LmlkID09PSB1c2VySWQ7CgogIC8vIEZldGNoIGFsbCBvdGhlciBkYXRhIGluIHBhcmFsbGVsCiAgY29uc3QgWwogICAgeyB1c2VyOiBwcm9maWxlVXNlciwgc3RhdHMsIGlzRm9sbG93aW5nIH0sCiAgICB1c2VyUG9zdHMsCiAgICBwZW5kaW5nUmVxdWVzdHMsCiAgICBmYW1pbHlTdGF0dXNSZXN1bHQKICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgZ2V0VXNlcldpdGhGb2xsb3dJbmZvKHVzZXJJZCksCiAgICBnZXRQb3N0c0J5VXNlcklkKHVzZXJJZCwgc2Vzc2lvblVzZXI/LmlkKSwgLy8gUGFzcyBzZXNzaW9uVXNlci5pZCBoZXJlCiAgICBpc093blByb2ZpbGUgPyBnZXRQZW5kaW5nRmFtaWx5UmVxdWVzdHMoKSA6IFByb21pc2UucmVzb2x2ZShbXSksCiAgICBnZXRGYW1pbHlSZWxhdGlvbnNoaXBTdGF0dXMoc2Vzc2lvblVzZXIsIHVzZXJJZCkKICBdKTsKCiAgaWYgKCFwcm9maWxlVXNlciB8fCAocHJvZmlsZVVzZXIuc3RhdHVzID09PSAncGVuZGluZycgfHwgcHJvZmlsZVVzZXIuc3RhdHVzID09PSAncmVqZWN0ZWQnKSkgewogICAgbm90Rm91bmQoKTsKICB9CgogIGNvbnN0IGdldFJvbGVJY29uID0gKHJvbGU6IFVzZXJbJ3JvbGUnXSkgPT4gewogICAgc3dpdGNoIChyb2xlKSB7CiAgICAgIGNhc2UgJ0J1c2luZXNzJzogcmV0dXJuIDxCdWlsZGluZyBjbGFzc05hbWU9ImgtOCB3LTggdGV4dC1wcmltYXJ5IiAvPjsKICAgICAgY2FzZSAnR29yYWtzaGFrJzogcmV0dXJuIDxTaGllbGRDaGVjayBjbGFzc05hbWU9ImgtOCB3LTggdGV4dC1wcmltYXJ5IiAvPjsKICAgICAgY2FzZSAnR29yYWtzaGFrIEFkbWluJzogcmV0dXJuIDxTaGllbGRDaGVjayBjbGFzc05hbWU9ImgtOCB3LTggdGV4dC1wcmltYXJ5IiAvPjsKICAgICAgZGVmYXVsdDogcmV0dXJuIDxVc2VySWNvbiBjbGFzc05hbWU9ImgtOCB3LTggdGV4dC1wcmltYXJ5IiAvPjsKICAgIH0KICB9OwoKICBjb25zdCBpc0ZhbWlseSA9IGZhbWlseVN0YXR1c1Jlc3VsdC5zdGF0dXMgPT09ICdhcHByb3ZlZCc7CiAgY29uc3Qgc2hvd0NvbnRhY3RJbmZvID0gaXNPd25Qcm9maWxlIHx8IGlzRmFtaWx5OwoKICBjb25zdCBpc0dvcmFrc2hhayA9IHByb2ZpbGVVc2VyLnJvbGUgPT09ICdHb3Jha3NoYWsnIHx8IHByb2ZpbGVVc2VyLnJvbGUgPT09ICdHb3Jha3NoYWsgQWRtaW4nOwogIGNvbnN0IGlzQnVzaW5lc3MgPSBwcm9maWxlVXNlci5yb2xlID09PSAnQnVzaW5lc3MnOwogIGNvbnN0IGlzVmVyaWZpZWRCdXNpbmVzcyA9IGlzQnVzaW5lc3MgJiYgcHJvZmlsZVVzZXIuc3RhdHVzID09PSAndmVyaWZpZWQnOwoKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTQgc206cC02IG1kOnAtOCBsZzpwLTE2IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmFja2dyb3VuZCB0by1tdXRlZC8zMCI+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJjb250YWluZXIgbXgtYXV0byBtYXgtdy0yeGwgc3BhY2UteS04IHB5LTggbWItMjAiPgoKICAgICAgICB7aXNPd25Qcm9maWxlICYmIDxVcGRhdGVVc2VyRGV0YWlsc01vZGFsIHVzZXI9e3Nlc3Npb25Vc2VyIX0gLz59CgogICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LXhsIGJvcmRlciBib3JkZXItYm9yZGVyLzYwIHJvdW5kZWQteGwgYmctY2FyZC84MCBiYWNrZHJvcC1ibHVyLXNtIj4KICAgICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBtZDpmbGV4LXJvdyBpdGVtcy1jZW50ZXIgc3BhY2UteS00IG1kOnNwYWNlLXktMCBtZDpzcGFjZS14LTYgcC02Ij4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InJlbGF0aXZlIGdyb3VwIj4KICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT0iaC0yNCB3LTI0IGJvcmRlci00IGJvcmRlci1wcmltYXJ5LzYwIHNoYWRvdy1sZyI+CiAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXtwcm9maWxlVXNlci5wcm9maWxlcGljdHVyZXVybCA/PyB1bmRlZmluZWR9IGFsdD17cHJvZmlsZVVzZXIubmFtZX0gLz4KICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjayBjbGFzc05hbWU9ImJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHJpbWFyeS8yMCB0by1hY2NlbnQvMjAiPgogICAgICAgICAgICAgICAgICB7Z2V0Um9sZUljb24ocHJvZmlsZVVzZXIucm9sZSl9CiAgICAgICAgICAgICAgICA8L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgIDwvQXZhdGFyPgogICAgICAgICAgICAgIHtpc093blByb2ZpbGUgJiYgKAogICAgICAgICAgICAgICAgPERpYWxvZz4KICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0iaWNvbiIgY2xhc3NOYW1lPSJhYnNvbHV0ZSBib3R0b20tMCByaWdodC0wIGgtOCB3LTggcm91bmRlZC1mdWxsIGJnLWJhY2tncm91bmQvODAgYmFja2Ryb3AtYmx1ci1zbSBib3JkZXItMiBib3JkZXItcHJpbWFyeS81MCB0ZXh0LXByaW1hcnkgc2hhZG93LW1kIGhvdmVyOmJnLXByaW1hcnkvMTAgdHJhbnNpdGlvbi1hbGwgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8RWRpdCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dUcmlnZ2VyPgogICAgICAgICAgICAgICAgICAgIDxEaWFsb2dDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlPlVwZGF0ZSBQcm9maWxlIFBpY3R1cmU8L0RpYWxvZ1RpdGxlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbGVjdCBhIG5ldyBpbWFnZSB0byB1c2UgYXMgeW91ciBhdmF0YXIuIFJlY29tbWVuZGVkIHNpemUgaXMgMjAweDIwMCBwaXhlbHMuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0hlYWRlcj4KICAgICAgICAgICAgICAgICAgICAgICAgPFByb2ZpbGVQaWN0dXJlVXBkYXRlciAvPgogICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nQ29udGVudD4KICAgICAgICAgICAgICAgIDwvRGlhbG9nPgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSBzcGFjZS15LTIgdGV4dC1jZW50ZXIgbWQ6dGV4dC1sZWZ0Ij4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWQ6anVzdGlmeS1zdGFydCBnYXAtNCI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC0zeGwgZm9udC1ib2xkIHRleHQtZm9yZWdyb3VuZCI+e3Byb2ZpbGVVc2VyLm5hbWV9PC9oMT4KICAgICAgICAgICAgICAgICAgICB7aXNWZXJpZmllZEJ1c2luZXNzICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlQ2hlY2sgY2xhc3NOYW1lPSJoLTcgdy03IHRleHQtZ3JlZW4tNjAwIiB0aXRsZT0iVmVyaWZpZWQgQnVzaW5lc3MiIC8+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICB7aXNPd25Qcm9maWxlICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJuYW1lRWRpdG9yIGN1cnJlbnROYW1lPXtwcm9maWxlVXNlci5uYW1lfT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9Imljb24iIGNsYXNzTmFtZT0iaC04IHctOCB0ZXh0LW11dGVkLWZvcmVncm91bmQgaG92ZXI6dGV4dC1wcmltYXJ5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RWRpdCBjbGFzc05hbWU9ImgtNCB3LTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJzci1vbmx5Ij5FZGl0IG5hbWU8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9Vc2VybmFtZUVkaXRvcj4KICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgIHtpc093blByb2ZpbGUgPyAoCiAgICAgICAgICAgICAgICAgICAgICA8TG9nb3V0QnV0dG9uIC8+CiAgICAgICAgICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcCBqdXN0aWZ5LWNlbnRlciBtZDpqdXN0aWZ5LXN0YXJ0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPEZvbGxvd0J1dHRvbiB0YXJnZXRVc2VySWQ9e3Byb2ZpbGVVc2VyLmlkfSBpbml0aWFsSXNGb2xsb3dpbmc9e2lzRm9sbG93aW5nfSAvPgogICAgICAgICAgICAgICAgICAgICAgICB7c2Vzc2lvblVzZXIgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gYWN0aW9uPXtzdGFydENoYXRBbmRSZWRpcmVjdH0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ib3RoZXJVc2VySWQiIHZhbHVlPXtwcm9maWxlVXNlci5pZH0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9InN1Ym1pdCIgdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0ic20iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZVNxdWFyZSBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gTWVzc2FnZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICB7c2Vzc2lvblVzZXIgJiYgaXNCdXNpbmVzcyAmJiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJvb2tpbmdEaWFsb2cgYnVzaW5lc3M9e3Byb2ZpbGVVc2VyfSBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSJzbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyUGx1cyBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gQm9vayBOb3cKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgIDwvQm9va2luZ0RpYWxvZz4KICAgICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICAgICAge3Nlc3Npb25Vc2VyICYmICFpc093blByb2ZpbGUgJiYgIWlzQnVzaW5lc3MgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICAgIDxGYW1pbHlBY3Rpb25CdXR0b24KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxTdGF0dXM9e2ZhbWlseVN0YXR1c1Jlc3VsdC5zdGF0dXN9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRVc2VySWQ9e3Byb2ZpbGVVc2VyLmlkfQogICAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWQ6anVzdGlmeS1zdGFydCBnYXAtNiBwdC0yIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteGwgZm9udC1ib2xkIHRleHQtZm9yZWdyb3VuZCI+e3VzZXJQb3N0cy5sZW5ndGh9PC9wPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlBvc3RzPC9wPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteGwgZm9udC1ib2xkIHRleHQtZm9yZWdyb3VuZCI+e3N0YXRzLmZvbGxvd2VyQ291bnR9PC9wPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPkZvbGxvd2VyczwvcD4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIDxGb2xsb3dpbmdMaXN0RGlhbG9nIHVzZXJJZD17cHJvZmlsZVVzZXIuaWR9PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBjdXJzb3ItcG9pbnRlciByb3VuZGVkLW1kIHAtMSBob3ZlcjpiZy1tdXRlZCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14bCBmb250LWJvbGQgdGV4dC1mb3JlZ3JvdW5kIj57c3RhdHMuZm9sbG93aW5nQ291bnR9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5Gb2xsb3dpbmc8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIDwvRm9sbG93aW5nTGlzdERpYWxvZz4KICAgICAgICAgICAgICAgICAgPExwUG9pbnRzSGlzdG9yeURpYWxvZyB1c2VySWQ9e3Byb2ZpbGVVc2VyLmlkfSBpc093blByb2ZpbGU9e2lzT3duUHJvZmlsZX0+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtbWQgcC0xIGhvdmVyOmJnLW11dGVkIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxBd2FyZCBjbGFzc05hbWU9ImgtNSB3LTUiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvZmlsZVVzZXIubHBfcG9pbnRzfQogICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPkxQIFBvaW50czwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9McFBvaW50c0hpc3RvcnlEaWFsb2c+CiAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWQ6anVzdGlmeS1zdGFydCBnYXAteC00IGdhcC15LTEiPgogICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9e3Byb2ZpbGVVc2VyLnJvbGUgPT09ICdCdXNpbmVzcycgPyAnc2Vjb25kYXJ5JyA6ICdkZWZhdWx0J30gY2xhc3NOYW1lPSJjYXBpdGFsaXplIj4KICAgICAgICAgICAgICAgICAgICB7cHJvZmlsZVVzZXIucm9sZX0KICAgICAgICAgICAgICAgIDwvQmFkZ2U+CiAgICAgICAgICAgICAgICB7c2hvd0NvbnRhY3RJbmZvICYmICgKICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHB0LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWQ6anVzdGlmeS1zdGFydCBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxNYWlsIGNsYXNzTmFtZT0idy00IGgtNCIgLz4ge3Byb2ZpbGVVc2VyLmVtYWlsfQogICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAge3Nob3dDb250YWN0SW5mbyAmJiBwcm9maWxlVXNlci5tb2JpbGVudW1iZXIgJiYKICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwdC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1kOmp1c3RpZnktc3RhcnQgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgICAgPFBob25lIGNsYXNzTmFtZT0idy00IGgtNCIgLz4ge3Byb2ZpbGVVc2VyLm1vYmlsZW51bWJlcn0KICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAge2lzQnVzaW5lc3MgJiYgcHJvZmlsZVVzZXIuYnVzaW5lc3NfY2F0ZWdvcnkgJiYKICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgcHQtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtZDpqdXN0aWZ5LXN0YXJ0IGdhcC0yIj4KICAgICAgICAgICAgICAgICAgICA8QnJpZWZjYXNlIGNsYXNzTmFtZT0idy00IGgtNCIgLz4ge3Byb2ZpbGVVc2VyLmJ1c2luZXNzX2NhdGVnb3J5ID09PSAnQW55IE90aGVyJyA/IHByb2ZpbGVVc2VyLmJ1c2luZXNzX290aGVyX2NhdGVnb3J5IDogcHJvZmlsZVVzZXIuYnVzaW5lc3NfY2F0ZWdvcnl9CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1kOmp1c3RpZnktc3RhcnQgZ2FwLTEuNSI+CiAgICAgICAgICAgICAgICA8Q2FsZW5kYXIgY2xhc3NOYW1lPSJ3LTMgaC0zIi8+IEpvaW5lZDoge25ldyBEYXRlKHByb2ZpbGVVc2VyLmNyZWF0ZWRhdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9CiAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgPC9DYXJkPgoKICAgICAgICB7aXNPd25Qcm9maWxlICYmIHByb2ZpbGVVc2VyLnJlZmVycmFsX2NvZGUgJiYgPFJlZmVycmFsU2hhcmVyIGNvZGU9e3Byb2ZpbGVVc2VyLnJlZmVycmFsX2NvZGV9IC8+fQogICAgICAgIAogICAgICAgIHtpc093blByb2ZpbGUgJiYgaXNCdXNpbmVzcyAmJiBwcm9maWxlVXNlci5zdGF0dXMgPT09ICdhcHByb3ZlZCcgJiYgKAogICAgICAgICAgPFJlcXVlc3RWZXJpZmljYXRpb25CdXR0b24gLz4KICAgICAgICApfQoKICAgICAgICB7aXNPd25Qcm9maWxlICYmIGlzQnVzaW5lc3MgJiYgKAogICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3cteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIvNjAgcm91bmRlZC14bCBiZy1jYXJkLzgwIGJhY2tkcm9wLWJsdXItc20iPgogICAgICAgICAgICA8Q2FyZEhlYWRlcj4KICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgICAgPFdyZW5jaCBjbGFzc05hbWU9InctNiBoLTYgbXItMyB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICBNYW5hZ2UgQnVzaW5lc3MKICAgICAgICAgICAgICA8L0NhcmRUaXRsZT4KICAgICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgVXBkYXRlIHlvdXIgc2VydmljZXMsIHNjaGVkdWxlLCBhbmQgdmlldyBib29raW5ncy4KICAgICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC00IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICA8QnV0dG9uIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj0iL2FjY291bnQvbWFuYWdlLWJ1c2luZXNzIj5NYW5hZ2UgU2VydmljZXMgJiBTY2hlZHVsZTwvTGluaz4KICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPFVwZGF0ZUxvY2F0aW9uQnV0dG9uIC8+CiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgKX0KCiAgICAgICAge2lzT3duUHJvZmlsZSAmJiBwZW5kaW5nUmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgICA8RmFtaWx5UmVxdWVzdHNMaXN0IGluaXRpYWxSZXF1ZXN0cz17cGVuZGluZ1JlcXVlc3RzfSAvPgogICAgICAgICl9CgogICAgICAgIHtpc093blByb2ZpbGUgJiYgKAogICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3cteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIvNjAgcm91bmRlZC14bCBiZy1jYXJkLzgwIGJhY2tkcm9wLWJsdXItc20gcC0wIj4KICAgICAgICAgICAgPEFjY29yZGlvbiB0eXBlPSJzaW5nbGUiIGNvbGxhcHNpYmxlIGNsYXNzTmFtZT0idy1mdWxsIj4KICAgICAgICAgICAgICA8QWNjb3JkaW9uSXRlbSB2YWx1ZT0iZmFtaWx5LW1lbWJlcnMiIGNsYXNzTmFtZT0iYm9yZGVyLWItMCI+CiAgICAgICAgICAgICAgICA8QWNjb3JkaW9uVHJpZ2dlciBjbGFzc05hbWU9InAtNiBob3Zlcjpuby11bmRlcmxpbmUiPgogICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT0idy02IGgtNiBtci0zIHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtbGVmdCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbGVhZGluZy1ub25lIHRyYWNraW5nLXRpZ2h0Ij5GYW1pbHkgTWVtYmVyczwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHB0LTEiPk1hbmFnZSBsb2NhdGlvbiBzaGFyaW5nIGFuZCBhZGQgbmV3IG1lbWJlcnMuPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvQWNjb3JkaW9uVHJpZ2dlcj4KICAgICAgICAgICAgICAgIDxBY2NvcmRpb25Db250ZW50IGNsYXNzTmFtZT0icHgtNiBwYi02IHB0LTAgc3BhY2UteS02Ij4KICAgICAgICAgICAgICAgICAgPEFkZEZhbWlseU1lbWJlclNlYXJjaCBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9IC8+CiAgICAgICAgICAgICAgICAgIDxTZXBhcmF0b3IgLz4KICAgICAgICAgICAgICAgICAgPEZhbWlseU1lbWJlcnNDYXJkIHVzZXJJZD17dXNlcklkfSAvPgogICAgICAgICAgICAgICAgPC9BY2NvcmRpb25Db250ZW50PgogICAgICAgICAgICAgIDwvQWNjb3JkaW9uSXRlbT4KICAgICAgICAgICAgPC9BY2NvcmRpb24+CiAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgKX0KCiAgICAgICAge2lzT3duUHJvZmlsZSAmJiBpc0dvcmFrc2hhayAmJiAoCiAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9InNoYWRvdy14bCBib3JkZXIgYm9yZGVyLWJvcmRlci82MCByb3VuZGVkLXhsIGJnLWNhcmQvODAgYmFja2Ryb3AtYmx1ci1zbSI+CiAgICAgICAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgICAgICAgIDxDYXJkVGl0bGU+4KSs4KSc4KSw4KSC4KSXIOCkpuCksiBJRCBDYXJkPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIHtwcm9maWxlVXNlci5tb2JpbGVudW1iZXIgPyAnWW91ciBkaWdpdGFsIElEIGNhcmQuIFlvdSBjYW4gZG93bmxvYWQgaXQgYXMgYW4gaW1hZ2UuJyA6ICdQbGVhc2UgcHJvdmlkZSB5b3VyIG1vYmlsZSBudW1iZXIgdG8gZ2VuZXJhdGUgeW91ciBJRCBjYXJkLid9CiAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgICAgPENhcmRDb250ZW50PgogICAgICAgICAgICAgIHtwcm9maWxlVXNlci5tb2JpbGVudW1iZXIgPyAoCiAgICAgICAgICAgICAgICA8QmFqcmFuZ0RhbElkQ2FyZCB1c2VyPXtwcm9maWxlVXNlcn0gLz4KICAgICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgPFVwZGF0ZU1vYmlsZUZvcm0gdXNlclJvbGU9e3Byb2ZpbGVVc2VyLnJvbGV9IC8+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICAgIDwvQ2FyZD4KICAgICAgICApfQoKICAgICAgICB7aXNPd25Qcm9maWxlICYmIHByb2ZpbGVVc2VyLnJvbGUgPT09ICdHb3Jha3NoYWsgQWRtaW4nICYmICgKICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3cteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIvNjAgcm91bmRlZC14bCBiZy1jYXJkLzgwIGJhY2tkcm9wLWJsdXItc20iPgogICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVCYXJDaGFydCBjbGFzc05hbWU9Im1yLTMgaC02IHctNiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIEFkbWluIFJlcG9ydHMKICAgICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT4KICAgICAgICAgICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICBBY2Nlc3Mgc3BlY2lhbCByZXBvcnRzIGF2YWlsYWJsZSBmb3IgeW91ciByb2xlLgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgICAgICAgICAgPENhcmRDb250ZW50PgogICAgICAgICAgICAgICAgICAgIDxCdXR0b24gYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj0iL3JlcG9ydHMvZ29yYWtzaGFrcyI+VmlldyBHb3Jha3NoYWsgUmVwb3J0PC9MaW5rPgogICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICAgICAgPC9DYXJkPgogICAgICAgICl9CgogICAgICAgIHtpc093blByb2ZpbGUgJiYgKAogICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LXhsIGJvcmRlciBib3JkZXItYm9yZGVyLzYwIHJvdW5kZWQteGwgYmctY2FyZC84MCBiYWNrZHJvcC1ibHVyLXNtIHAtMCI+CiAgICAgICAgICAgIDxBY2NvcmRpb24gdHlwZT0ic2luZ2xlIiBjb2xsYXBzaWJsZSBjbGFzc05hbWU9InctZnVsbCI+CiAgICAgICAgICAgICAgPEFjY29yZGlvbkl0ZW0gdmFsdWU9InNldHRpbmdzIiBjbGFzc05hbWU9ImJvcmRlci1iLTAiPgogICAgICAgICAgICAgICAgPEFjY29yZGlvblRyaWdnZXIgY2xhc3NOYW1lPSJwLTYgaG92ZXI6bm8tdW5kZXJsaW5lIj4KICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzc05hbWU9InctNiBoLTYgbXItMyB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWxlZnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT0idGV4dC1sZyBmb250LXNlbWlib2xkIGxlYWRpbmctbm9uZSB0cmFja2luZy10aWdodCI+U2V0dGluZ3M8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwdC0xIj5NYW5hZ2UgdGhlbWUsIGJvb2tpbmdzLCBhbmQgYWNjb3VudCBzZXR0aW5ncy48L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9BY2NvcmRpb25UcmlnZ2VyPgogICAgICAgICAgICAgICAgPEFjY29yZGlvbkNvbnRlbnQgY2xhc3NOYW1lPSJweC02IHBiLTYgcHQtMCI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT0idGV4dC1iYXNlIj5UaGVtZTwvTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICA8VGhlbWVTd2l0Y2hlciAvPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxTZXBhcmF0b3IgLz4KICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiIGNsYXNzTmFtZT0idy1mdWxsIGp1c3RpZnktc3RhcnQiIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9Ii9hY2NvdW50L215LWJvb2tpbmdzIj48Q2FsZW5kYXJDaGVjayBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gTXkgQm9va2luZ3M8L0xpbms+CiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgPFNlcGFyYXRvciAvPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT0idGV4dC1iYXNlIHRleHQtZGVzdHJ1Y3RpdmUiPkRhbmdlciBab25lPC9MYWJlbD4KICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVBY2NvdW50QnV0dG9uIC8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9BY2NvcmRpb25Db250ZW50PgogICAgICAgICAgICAgIDwvQWNjb3JkaW9uSXRlbT4KICAgICAgICAgICAgPC9BY2NvcmRpb24+CiAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgKX0KCiAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNiI+CiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9InRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgcGwtMSBib3JkZXItYi0yIGJvcmRlci1wcmltYXJ5LzMwIHBiLTIiPgogICAgICAgICAgICAgICAgUG9zdHMgYnkge3Byb2ZpbGVVc2VyLm5hbWV9CiAgICAgICAgICAgIDwvaDI+CiAgICAgICAgICAgIHt1c2VyUG9zdHMubGVuZ3RoID4gMCA/ICgKICAgICAgICAgICAgICAgIHVzZXJQb3N0cy5tYXAocG9zdCA9PiAoCiAgICAgICAgICAgICAgICAgICAgPFBvc3RDYXJkCiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17cG9zdC5pZH0KICAgICAgICAgICAgICAgICAgICAgICAgcG9zdD17cG9zdH0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlckxvY2F0aW9uPXtudWxsfSAvLyBDYW4ndCBnZXQgdmlld2luZyB1c2VyJ3MgbG9jYXRpb24gb24gc2VydmVyIGZvciBkaXN0YW5jZSBjYWxjCiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0KICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgKSkKICAgICAgICAgICAgKSA6ICgKICAgICAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgcHktMTIgcm91bmRlZC14bCBzaGFkb3ctbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIvNDAgYmctY2FyZC84MCBiYWNrZHJvcC1ibHVyLXNtIj4KICAgICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1sZyB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlRoaXMgdXNlciBoYXNuJ3QgcHVsc2VkIGFueXRoaW5nIHlldC48L3A+CiAgICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICAgICAgICAgIDwvQ2FyZD4KICAgICAgICAgICAgKX0KICAgICAgICA8L2Rpdj4KCiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFVzZXJQcm9maWxlUGFnZTsK' | base64 -d > /root/localpulse/src/app/users/[userId]/page.tsx
mkdir -p /root/localpulse/src/app/users/[userId]
echo 'CgondXNlIHNlcnZlcic7CgppbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gJ25leHQvY2FjaGUnOwppbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnQC9hcHAvYXV0aC9hY3Rpb25zJzsKaW1wb3J0IHsgdXBkYXRlVXNlck1vYmlsZURiLCB1cGRhdGVVc2VyQnVzaW5lc3NDYXRlZ29yeURiLCB1cGRhdGVVc2VyU3RhdHVzRGIsIHVwZGF0ZVVzZXJMb2NhdGlvbkRiIH0gZnJvbSAnQC9saWIvZGInOwppbXBvcnQgeyB6IH0gZnJvbSAnem9kJzsKaW1wb3J0IHR5cGUgeyBVcGRhdGVCdXNpbmVzc0NhdGVnb3J5LCBVc2VyU3RhdHVzIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwoKY29uc3QgbW9iaWxlU2NoZW1hID0gei5vYmplY3QoewogICAgY291bnRyeUNvZGU6IHouc3RyaW5nKCkubWluKDEsICdDb3VudHJ5IGNvZGUgaXMgcmVxdWlyZWQuJyksCiAgICBtb2JpbGVudW1iZXI6IHouc3RyaW5nKCkucmVnZXgoL15cZHsxMH0kLywgJ011c3QgYmUgYSB2YWxpZCAxMC1kaWdpdCBtb2JpbGUgbnVtYmVyLicpLAp9KTsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyTW9iaWxlKGRhdGE6IHsgY291bnRyeUNvZGU6IHN0cmluZzsgbW9iaWxlbnVtYmVyOiBzdHJpbmcgfSkgewogIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghdXNlcikgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQuJyB9OwogIH0KCiAgY29uc3QgdmFsaWRhdGlvbiA9IG1vYmlsZVNjaGVtYS5zYWZlUGFyc2UoZGF0YSk7CgogIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHZhbGlkYXRpb24uZXJyb3IuZXJyb3JzWzBdLm1lc3NhZ2UgfTsKICB9CiAgCiAgdHJ5IHsKICAgIGNvbnN0IGZ1bGxNb2JpbGVOdW1iZXIgPSBgJHt2YWxpZGF0aW9uLmRhdGEuY291bnRyeUNvZGV9JHt2YWxpZGF0aW9uLmRhdGEubW9iaWxlbnVtYmVyfWA7CiAgICBhd2FpdCB1cGRhdGVVc2VyTW9iaWxlRGIodXNlci5pZCwgZnVsbE1vYmlsZU51bWJlcik7CiAgICByZXZhbGlkYXRlUGF0aChgL3VzZXJzLyR7dXNlci5pZH1gKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIG1vYmlsZSBudW1iZXIuJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXJCdXNpbmVzc0NhdGVnb3J5KGRhdGE6IFVwZGF0ZUJ1c2luZXNzQ2F0ZWdvcnkpIHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICBpZiAoIXVzZXIpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkLicgfTsKICB9CgogIHRyeSB7CiAgICBhd2FpdCB1cGRhdGVVc2VyQnVzaW5lc3NDYXRlZ29yeURiKHVzZXIuaWQsIGRhdGEpOwogICAgcmV2YWxpZGF0ZVBhdGgoYC91c2Vycy8ke3VzZXIuaWR9YCk7CiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBidXNpbmVzcyBjYXRlZ29yeS4nIH07CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEJ1c2luZXNzVmVyaWZpY2F0aW9uKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgaWYgKCF1c2VyIHx8IHVzZXIucm9sZSAhPT0gJ0J1c2luZXNzJykgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnT25seSBidXNpbmVzcyB1c2VycyBjYW4gcmVxdWVzdCB2ZXJpZmljYXRpb24uJyB9OwogIH0KCiAgdHJ5IHsKICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXBkYXRlVXNlclN0YXR1c0RiKHVzZXIuaWQsICdwZW5kaW5nX3ZlcmlmaWNhdGlvbicpOwogICAgaWYgKHVwZGF0ZWRVc2VyKSB7CiAgICAgIHJldmFsaWRhdGVQYXRoKGAvdXNlcnMvJHt1c2VyLmlkfWApOwogICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHN0YXR1cy4nIH07CiAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07CiAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlckxvY2F0aW9uQWN0aW9uKGxhdGl0dWRlOiBudW1iZXIsIGxvbmdpdHVkZTogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nOyB9PiB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkLicgfTsKICAgIH0KCiAgICB0cnkgewogICAgICAgIGF3YWl0IHVwZGF0ZVVzZXJMb2NhdGlvbkRiKHVzZXIuaWQsIGxhdGl0dWRlLCBsb25naXR1ZGUpOwogICAgICAgIHJldmFsaWRhdGVQYXRoKGAvdXNlcnMvJHt1c2VyLmlkfWApOwogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIGxvY2F0aW9uLicgfTsKICAgIH0KfQo=' | base64 -d > /root/localpulse/src/app/users/[userId]/actions.ts
mkdir -p /root/localpulse/src/app/privacy-policy
echo 'CmltcG9ydCB0eXBlIHsgTmV4dFBhZ2UgfSBmcm9tICduZXh0JzsKaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSwgQ2FyZERlc2NyaXB0aW9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhJzsKaW1wb3J0IHsgU2hpZWxkQ2hlY2ssIEJlbGwsIEFsZXJ0VHJpYW5nbGUsIFVzZXIsIFNldHRpbmdzLCBUcmFzaDIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBBbGVydCwgQWxlcnREZXNjcmlwdGlvbiwgQWxlcnRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydCc7Cgpjb25zdCBQcml2YWN5UG9saWN5UGFnZTogTmV4dFBhZ2UgPSAoKSA9PiB7CiAgcmV0dXJuICgKICAgIDxtYWluIGNsYXNzTmFtZT0iZmxleCBtaW4taC1zdmggZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtNCBzbTpwLTYgbWQ6cC04IGxnOnAtMTYgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1iYWNrZ3JvdW5kIHRvLW11dGVkLzMwIj4KICAgICAgPGRpdiBjbGFzc05hbWU9ImNvbnRhaW5lciBteC1hdXRvIG1heC13LTN4bCBzcGFjZS15LTggcHktOCI+CiAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3cteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIvNjAgcm91bmRlZC14bCBiZy1jYXJkLzgwIGJhY2tkcm9wLWJsdXItc20iPgogICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSJwYi00IHB0LTYgcHgtNiBiZy1ncmFkaWVudC10by1iciBmcm9tLWNhcmQgdG8tbXV0ZWQvMTAgcm91bmRlZC10LXhsIj4KICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9InRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgIDxTaGllbGRDaGVjayBjbGFzc05hbWU9InctOCBoLTggbXItMyB0ZXh0LWFjY2VudCIgLz4KICAgICAgICAgICAgICBQcml2YWN5IFBvbGljeSAmIEFjY291bnQgRGVsZXRpb24KICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICBMYXN0IFVwZGF0ZWQ6IHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IHllYXI6ICdudW1lcmljJywgbW9udGg6ICdsb25nJywgZGF5OiAnbnVtZXJpYycgfSl9CiAgICAgICAgICAgIDwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0icC02Ij4KICAgICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPSJoLVtjYWxjKDEwMHZoLTIwcmVtKV0gcHItNCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNiB0ZXh0LWZvcmVncm91bmQvOTAiPgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8c2VjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8QWxlcnQgdmFyaWFudD0iZGVmYXVsdCIgY2xhc3NOYW1lPSJiZy1hY2NlbnQvMTAgYm9yZGVyLWFjY2VudC8zMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxCZWxsIGNsYXNzTmFtZT0iaC01IHctNSB0ZXh0LWFjY2VudCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0VGl0bGUgY2xhc3NOYW1lPSJmb250LWJvbGQgdGV4dC1iYXNlIHRleHQtYWNjZW50LWZvcmVncm91bmQvOTAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWluZW50IERpc2Nsb3N1cmUgZm9yIExvY2F0aW9uIEFjY2VzcwogICAgICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0VGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydERlc2NyaXB0aW9uIGNsYXNzTmFtZT0idGV4dC1mb3JlZ3JvdW5kLzgwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsUHVsc2UgY29sbGVjdHMgbG9jYXRpb24gZGF0YSB0byBkZWxpdmVyIGNpdHktd2lzZSBuZXdzLCBhbGVydHMsIGFuZCByZWFsLXRpbWUgdXBkYXRlcyByZWxldmFudCB0byB5b3VyIGFyZWEuIFRoaXMgaXMgZXNzZW50aWFsIGZvciB0aGUgY29yZSBmdW5jdGlvbmFsaXR5IG9mIHRoZSBhcHAuIFRoaXMgZGF0YSBpcyBuZXZlciBzb2xkIHRvIHRoaXJkIHBhcnRpZXMuCiAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0PgogICAgICAgICAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT0idGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeSI+MS4gSW5mb3JtYXRpb24gV2UgQ29sbGVjdDwvaDI+CiAgICAgICAgICAgICAgICAgIDxwPldlIG1heSBjb2xsZWN0IGFuZCBwcm9jZXNzIGluZm9ybWF0aW9uIHN1Y2ggYXMgeW91ciBuYW1lLCBlbWFpbCwgbG9jYXRpb24gZGF0YSwgZGV2aWNlIGluZm9ybWF0aW9uLCBhbmQgdXNhZ2UgaW5mb3JtYXRpb24gdG8gcHJvdmlkZSBhbmQgaW1wcm92ZSBvdXIgc2VydmljZS48L3A+CiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5Ij4yLiBIb3cgV2UgVXNlIFlvdXIgSW5mb3JtYXRpb248L2gyPgogICAgICAgICAgICAgICAgICA8cD5XZSB1c2UgeW91ciBpbmZvcm1hdGlvbiB0byBwZXJzb25hbGl6ZSBjb250ZW50LCBzZW5kIHJlbGV2YW50IG5vdGlmaWNhdGlvbnMsIGltcHJvdmUgdGhlIGFwcCwgYW5kIGZvciBzZWN1cml0eSBwdXJwb3Nlcy48L3A+CiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgPHNlY3Rpb24gaWQ9ImRlbGV0ZS1hY2NvdW50IiBjbGFzc05hbWU9InNwYWNlLXktMiBwdC00IGJvcmRlci10IG10LTYiPgogICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9InRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWRlc3RydWN0aXZlIGZsZXggaXRlbXMtY2VudGVyIj48VHJhc2gyIGNsYXNzTmFtZT0idy02IGgtNiBtci0yIiAvPkFjY291bnQgRGVsZXRpb248L2gyPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0icGItMiI+WW91IGhhdmUgdGhlIHJpZ2h0IHRvIHBlcm1hbmVudGx5IGRlbGV0ZSB5b3VyIGFjY291bnQgYW5kIGFzc29jaWF0ZWQgZGF0YS4gUGxlYXNlIGZvbGxvdyB0aGVzZSBzdGVwcyBjYXJlZnVsbHk6PC9wPgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxvbCBjbGFzc05hbWU9Imxpc3QtZGVjaW1hbCBsaXN0LWluc2lkZSBzcGFjZS15LTQgdGV4dC1mb3JlZ3JvdW5kLzkwIG15LTQgcC00IGJvcmRlciBiZy1tdXRlZC81MCByb3VuZGVkLWxnIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5OYXZpZ2F0ZSB0byBZb3VyIFByb2ZpbGU6PC9zdHJvbmc+IExvZyBpbiBhbmQgZ28gdG8geW91ciBwcm9maWxlIHBhZ2UgYnkgY2xpY2tpbmcgdGhlIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJpbmxpbmUtYmxvY2sgbXgtMS41IHAtMSBiZy1iYWNrZ3JvdW5kIGJvcmRlciByb3VuZGVkLW1kIGFsaWduLW1pZGRsZSI+PFVzZXIgY2xhc3NOYW1lPSJoLTQgdy00IiAvPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9maWxlIGljb24gaW4gdGhlIG5hdmlnYXRpb24gYmFyLgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkZpbmQgdGhlIFNldHRpbmdzIENhcmQ6PC9zdHJvbmc+IE9uIHlvdXIgcHJvZmlsZSBwYWdlLCBzY3JvbGwgdG8gZmluZCB0aGUgY2FyZCB0aXRsZWQgIlNldHRpbmdzIi4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibXktMiBwLTIgYmctYmFja2dyb3VuZCBib3JkZXIgcm91bmRlZC1tZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ3MgY2xhc3NOYW1lPSJ3LTQgaC00IHRleHQtcHJpbWFyeSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkxvb2sgZm9yIHRoZSBTZXR0aW5ncyBzZWN0aW9uIG9uIHlvdXIgcHJvZmlsZS48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5DbGljayAiRGVsZXRlIEFjY291bnQiOjwvc3Ryb25nPiBJbnNpZGUgdGhlIFNldHRpbmdzIGNhcmQsIHVuZGVyIHRoZSAiRGFuZ2VyIFpvbmUiIGhlYWRpbmcsIHlvdSB3aWxsIGZpbmQgYSByZWQgYnV0dG9uIGxhYmVsZWQgIkRlbGV0ZSBBY2NvdW50Ii4gQ2xpY2sgdGhpcyBidXR0b24gdG8gYmVnaW4gdGhlIHByb2Nlc3MuCiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+Q29uZmlybSBEZWxldGlvbjo8L3N0cm9uZz4gQSBjb25maXJtYXRpb24gZGlhbG9nIHdpbGwgYXBwZWFyIGV4cGxhaW5pbmcgdGhhdCB0aGlzIGFjdGlvbiBpcyBwZXJtYW5lbnQuIFRoaXMgaXMgeW91ciBmaW5hbCBjaGFuY2UgdG8gY2FuY2VsLiBUbyBmaW5hbGl6ZSB0aGUgZGVsZXRpb24sIHlvdSBtdXN0IGNsaWNrIHRoZSBmaW5hbCBjb25maXJtYXRpb24gYnV0dG9uIGluIHRoZSBkaWFsb2cuCiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPC9vbD4KCiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0idGV4dC14bCBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQvODAgcHQtNCBib3JkZXItdCBtdC00Ij5XaGF0IEhhcHBlbnMgV2hlbiBZb3UgRGVsZXRlIFlvdXIgQWNjb3VudD88L2gzPgogICAgICAgICAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PSJkZXN0cnVjdGl2ZSIgY2xhc3NOYW1lPSJtdC0yIj4KICAgICAgICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgICAgIDxBbGVydFRpdGxlPlRoaXMgYWN0aW9uIGlzIHBlcm1hbmVudCBhbmQgY2Fubm90IGJlIHVuZG9uZS48L0FsZXJ0VGl0bGU+CiAgICAgICAgICAgICAgICAgICAgPC9BbGVydD4KICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0ibGlzdC1kaXNjIGxpc3QtaW5zaWRlIHNwYWNlLXktMiB0ZXh0LWZvcmVncm91bmQvOTAgcHQtMiBwbC0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPllvdXIgdXNlciBwcm9maWxlLCBpbmNsdWRpbmcgeW91ciBuYW1lLCBlbWFpbCwgYW5kIHByb2ZpbGUgcGljdHVyZSwgd2lsbCBiZSBwZXJtYW5lbnRseSBkZWxldGVkIGZyb20gb3VyIGRhdGFiYXNlLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5BbGwgb2YgeW91ciBsaWtlcywgY29tbWVudHMsIGFuZCBmb2xsb3dlciByZWxhdGlvbnNoaXBzIChib3RoIGZvbGxvd2VycyBhbmQgZm9sbG93aW5nKSB3aWxsIGJlIHJlbW92ZWQuPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPkFsbCBvZiB5b3VyIGNoYXQgY29udmVyc2F0aW9ucyBhbmQgbWVzc2FnZXMgd2lsbCBiZSBkZWxldGVkLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5Zb3VyIHBvc3RzIHdpbGwgKipub3QqKiBiZSBkZWxldGVkLiBJbnN0ZWFkLCB0aGV5IHdpbGwgYmVjb21lICJhbm9ueW1vdXMiIGFuZCB3aWxsIG5vIGxvbmdlciBiZSBsaW5rZWQgdG8geW91ciBhY2NvdW50LjwvbGk+CiAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LWJvbGQgdGV4dC1sZyB0ZXh0LWRlc3RydWN0aXZlIHB0LTQgYm9yZGVyLXQgbXQtNiI+CiAgICAgICAgICAgICAgICAgIE5vdGU6IFRoaXMgcHJpdmFjeSBwb2xpY3kgcHJvdmlkZXMgYSBnZW5lcmFsIG92ZXJ2aWV3LiBGb3Igc3BlY2lmaWMgZGV0YWlscyByZWxldmFudCB0byB5b3VyIHVzYWdlIGFuZCBqdXJpc2RpY3Rpb24sIHBsZWFzZSByZXZpZXcgdGhlIGZ1bGwgbGVnYWwgZG9jdW1lbnRhdGlvbiBvciBjb250YWN0IHN1cHBvcnQuCiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvU2Nyb2xsQXJlYT4KICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgPC9DYXJkPgogICAgICA8L2Rpdj4KICAgIDwvbWFpbj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgUHJpdmFjeVBvbGljeVBhZ2U7Cg==' | base64 -d > /root/localpulse/src/app/privacy-policy/page.tsx
mkdir -p /root/localpulse/src/app/map
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBkeW5hbWljIGZyb20gJ25leHQvZHluYW1pYyc7CmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NrZWxldG9uJzsKaW1wb3J0IHsgTWFwIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKCmNvbnN0IE1hcFZpZXdlciA9IGR5bmFtaWMoKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvbWFwLXZpZXdlcicpLCB7CiAgc3NyOiBmYWxzZSwKICBsb2FkaW5nOiAoKSA9PiA8TWFwUGFnZVNrZWxldG9uIC8+LAp9KTsKCmNvbnN0IE1hcFBhZ2VTa2VsZXRvbiA9ICgpID0+ICgKICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LTEgZmxleCBmbGV4LWNvbCI+CiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9InAtNCBib3JkZXItYiI+CiAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPSJ0ZXh0LTJ4bCBmb250LWJvbGQgdHJhY2tpbmctdGlnaHQgdGV4dC1mb3JlZ3JvdW5kIGZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgIDxNYXAgY2xhc3NOYW1lPSJ3LTcgaC03IG1yLTMgdGV4dC1wcmltYXJ5Ii8+CiAgICAgICAgICAgICAgICBMaXZlIE1hcAogICAgICAgICAgICA8L2gxPgogICAgICAgIDwvaGVhZGVyPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LTEgcC00Ij4KICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9InctZnVsbCBoLWZ1bGwgcm91bmRlZC1sZyIgLz4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgopOwoKY29uc3QgTWFwUGFnZTogRkMgPSAoKSA9PiB7CiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGgtW2NhbGMoMTAwc3ZoXy1fdmFyKC0taGVhZGVyLWhlaWdodCw4LjVyZW0pKV0iPgogICAgICA8aGVhZGVyIGNsYXNzTmFtZT0icC00IGJvcmRlci1iIGJnLWNhcmQiPgogICAgICAgICA8aDEgY2xhc3NOYW1lPSJ0ZXh0LTJ4bCBmb250LWJvbGQgdHJhY2tpbmctdGlnaHQgdGV4dC1mb3JlZ3JvdW5kIGZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgPE1hcCBjbGFzc05hbWU9InctNyBoLTcgbXItMyB0ZXh0LXByaW1hcnkiLz4KICAgICAgICAgICAgTGl2ZSBMb2NhbCBNYXAKICAgICAgICA8L2gxPgogICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtc20gbXQtMSI+CiAgICAgICAgICAgIEFuIGludGVyYWN0aXZlIHZpZXcgb2YgcG9zdHMgYW5kIGFjdGl2aXR5IGluIHlvdXIgYXJlYS4KICAgICAgICA8L3A+CiAgICAgIDwvaGVhZGVyPgogICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIGJnLW11dGVkLzIwIj4KICAgICAgICAgPE1hcFZpZXdlciAvPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBNYXBQYWdlOwo=' | base64 -d > /root/localpulse/src/app/map/page.tsx
mkdir -p /root/localpulse/src/app/reels
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBSZWVsc1BhZ2VTa2VsZXRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy9yZWVscy1wYWdlLXNrZWxldG9uJzsKaW1wb3J0IFJlZWxzVmlld2VyIGZyb20gJ0AvY29tcG9uZW50cy9yZWVscy12aWV3ZXInOwppbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi4vYXV0aC9hY3Rpb25zJzsKaW1wb3J0IHsgZ2V0TWVkaWFQb3N0cywgZ2V0RmFtaWx5UG9zdHMsIGdldFBvc3RzIH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB0eXBlIHsgUG9zdCB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKCmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnOwoKaW50ZXJmYWNlIFJlZWxzUGFnZVByb3BzIHsKICBzZWFyY2hQYXJhbXM6IHsKICAgIGlkPzogc3RyaW5nOwogICAgZmVlZFR5cGU/OiAnbmVhcmJ5JyB8ICdmYW1pbHknOwogIH07Cn0KCmFzeW5jIGZ1bmN0aW9uIFJlZWxzTG9hZGVyKHsgc2VhcmNoUGFyYW1zIH06IFJlZWxzUGFnZVByb3BzKSB7CiAgY29uc3QgeyB1c2VyOiBzZXNzaW9uVXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIAogIGxldCBwb3N0czogUG9zdFtdID0gW107CiAgY29uc3QgZmVlZFR5cGUgPSBzZWFyY2hQYXJhbXMuZmVlZFR5cGU7CgogIGlmIChmZWVkVHlwZSA9PT0gJ2ZhbWlseScpIHsKICAgICAgaWYgKHNlc3Npb25Vc2VyKSB7CiAgICAgICAgcG9zdHMgPSBhd2FpdCBnZXRGYW1pbHlQb3N0cyh7IHBhZ2U6IDEsIGxpbWl0OiAxMDAgfSk7IC8vIEZldGNoIGFsbCBmYW1pbHkgcG9zdHMKICAgICAgfQogIH0gZWxzZSBpZiAoZmVlZFR5cGUgPT09ICduZWFyYnknKSB7CiAgICAgIHBvc3RzID0gYXdhaXQgZ2V0UG9zdHMoeyBwYWdlOiAxLCBsaW1pdDogMTAwIH0pOyAvLyBGZXRjaCBhbGwgbmVhcmJ5IHBvc3RzCiAgfSBlbHNlIHsKICAgICAgLy8gRGVmYXVsdCBjYXNlIGZvciB3aGVuIHVzZXIgY2xpY2tzIHRoZSAiUmVlbHMiIHRhYiBkaXJlY3RseQogICAgICBwb3N0cyA9IGF3YWl0IGdldE1lZGlhUG9zdHMoeyBwYWdlOiAxLCBsaW1pdDogMTAwIH0pOyAKICB9CgogIGxldCBpbml0aWFsSW5kZXggPSAwOwogIGlmIChzZWFyY2hQYXJhbXMuaWQpIHsKICAgIGNvbnN0IGZvdW5kSW5kZXggPSBwb3N0cy5maW5kSW5kZXgocCA9PiBwLmlkLnRvU3RyaW5nKCkgPT09IHNlYXJjaFBhcmFtcy5pZCk7CiAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIHsKICAgICAgaW5pdGlhbEluZGV4ID0gZm91bmRJbmRleDsKICAgIH0KICB9CgogIGlmIChwb3N0cy5sZW5ndGggPT09IDApIHsKICAgICByZXR1cm4gKAogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGwgYmctYmxhY2sgdGV4dC13aGl0ZSBwLTQgdGV4dC1jZW50ZXIiPgogICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIj5ObyBSZWVscyBZZXQ8L2gyPgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+Q2hlY2sgYmFjayBsYXRlciBmb3IgbmV3IHZpZGVvIGFuZCBpbWFnZSBwb3N0cyE8L3A+CiAgICAgICAgPC9kaXY+CiAgICAgKQogIH0KCiAgcmV0dXJuIDxSZWVsc1ZpZXdlciBzZXNzaW9uVXNlcj17c2Vzc2lvblVzZXJ9IGluaXRpYWxQb3N0cz17cG9zdHN9IGluaXRpYWxJbmRleD17aW5pdGlhbEluZGV4fSAvPjsKfQoKY29uc3QgUmVlbHNQYWdlOiBGQzxSZWVsc1BhZ2VQcm9wcz4gPSAoeyBzZWFyY2hQYXJhbXMgfSkgPT4gewogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iaC1bY2FsYygxMDBzdmgtN3JlbSldIj4KICAgICAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxSZWVsc1BhZ2VTa2VsZXRvbiAvPn0+CiAgICAgICAgICA8UmVlbHNMb2FkZXIgc2VhcmNoUGFyYW1zPXtzZWFyY2hQYXJhbXN9IC8+CiAgICAgICAgPC9TdXNwZW5zZT4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBSZWVsc1BhZ2U7CgogICAg' | base64 -d > /root/localpulse/src/app/reels/page.tsx
mkdir -p /root/localpulse/src/app/login
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VGb3JtLCB0eXBlIFN1Ym1pdEhhbmRsZXIgfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nOwppbXBvcnQgeyB6b2RSZXNvbHZlciB9IGZyb20gJ0Bob29rZm9ybS9yZXNvbHZlcnMvem9kJzsKaW1wb3J0ICogYXMgeiBmcm9tICd6b2QnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnOwppbXBvcnQgeyBMYWJlbCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9sYWJlbCc7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRGb290ZXIsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQWxlcnQsIEFsZXJ0RGVzY3JpcHRpb24sIEFsZXJ0VGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQnOwppbXBvcnQgeyBsb2dpbiB9IGZyb20gJ0AvYXBwL2F1dGgvYWN0aW9ucyc7CmltcG9ydCB7IExvYWRlcjIsIExvZ0luLCBTaGllbGRBbGVydCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwoKLy8gQWRkIHR5cGUgZGVmaW5pdGlvbiBmb3IgdGhlIEFuZHJvaWQgaW50ZXJmYWNlCmRlY2xhcmUgZ2xvYmFsIHsKICBpbnRlcmZhY2UgV2luZG93IHsKICAgIEFuZHJvaWQ/OiB7CiAgICAgIHNldExvZ2luU3RhdHVzPzogKGlzTG9nZ2VkSW46IGJvb2xlYW4pID0+IHZvaWQ7CiAgICAgIGxvZ291dD86ICgpID0+IHZvaWQ7CiAgICB9OwogIH0KfQoKY29uc3QgbG9naW5TY2hlbWEgPSB6Lm9iamVjdCh7CiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJyksCiAgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDEsICdQYXNzd29yZCBpcyByZXF1aXJlZCcpLAp9KTsKCnR5cGUgTG9naW5Gb3JtSW5wdXRzID0gei5pbmZlcjx0eXBlb2YgbG9naW5TY2hlbWE+OwoKY29uc3QgTG9naW5QYWdlOiBGQyA9ICgpID0+IHsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgY29uc3QgeyByZWdpc3RlciwgaGFuZGxlU3VibWl0LCBmb3JtU3RhdGU6IHsgZXJyb3JzIH0gfSA9IHVzZUZvcm08TG9naW5Gb3JtSW5wdXRzPih7CiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIobG9naW5TY2hlbWEpLAogIH0pOwoKICBjb25zdCBvblN1Ym1pdDogU3VibWl0SGFuZGxlcjxMb2dpbkZvcm1JbnB1dHM+ID0gYXN5bmMgKGRhdGEpID0+IHsKICAgIHNldElzU3VibWl0dGluZyh0cnVlKTsKICAgIHNldEVycm9yKG51bGwpOwogICAgdHJ5IHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbG9naW4oZGF0YS5lbWFpbCwgZGF0YS5wYXNzd29yZCk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIC8vIC0tLSBBRERFRDogQ29tbXVuaWNhdGUgd2l0aCBBbmRyb2lkIEFwcCAtLS0KICAgICAgICBpZiAod2luZG93LkFuZHJvaWQgJiYgd2luZG93LkFuZHJvaWQuc2V0TG9naW5TdGF0dXMpIHsKICAgICAgICAgIHdpbmRvdy5BbmRyb2lkLnNldExvZ2luU3RhdHVzKHRydWUpOwogICAgICAgIH0KICAgICAgICAvLyAtLS0gRU5EIC0tLQogICAgICAgIAogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHRpdGxlOiAnTG9naW4gU3VjY2Vzc2Z1bCcsCiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1dlbGNvbWUgYmFjayEgUmVkaXJlY3RpbmcgeW91IG5vdy4uLicsCiAgICAgICAgfSk7CiAgICAgICAgcm91dGVyLnB1c2goJy8nKTsKICAgICAgICByb3V0ZXIucmVmcmVzaCgpOyAKICAgICAgfSBlbHNlIHsKICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3IgfHwgJ0ludmFsaWQgY3JlZGVudGlhbHMnKTsKICAgICAgICB0b2FzdCh7CiAgICAgICAgICB0aXRsZTogJ0xvZ2luIEZhaWxlZCcsCiAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIHx8ICdQbGVhc2UgY2hlY2sgeW91ciBjcmVkZW50aWFscyBhbmQgdHJ5IGFnYWluLicsCiAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICAgIH0pOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkLic7CiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7CiAgICAgIHRvYXN0KHsKICAgICAgICB0aXRsZTogJ0xvZ2luIEVycm9yJywKICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLAogICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgIH0pOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9ImZsZXggbWluLWgtc3ZoIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1iYWNrZ3JvdW5kIHAtNCI+CiAgICAgIDxDYXJkIGNsYXNzTmFtZT0idy1mdWxsIG1heC13LW1kIHNoYWRvdy0yeGwiPgogICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT0idGV4dC1jZW50ZXIiPgogICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9InRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiPgogICAgICAgICAgICA8TG9nSW4gY2xhc3NOYW1lPSJtci0yIGgtOCB3LTgiIC8+CiAgICAgICAgICAgIFdlbGNvbWUgQmFjawogICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPkxvZ2luIHRvIHlvdXIgTG9jYWxQdWxzZSBhY2NvdW50LjwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0KG9uU3VibWl0KX0gY2xhc3NOYW1lPSJzcGFjZS15LTYiPgogICAgICAgICAgICB7ZXJyb3IgJiYgKAogICAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PSJkZXN0cnVjdGl2ZSI+CiAgICAgICAgICAgICAgICA8U2hpZWxkQWxlcnQgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgPEFsZXJ0VGl0bGU+TG9naW4gRmFpbGVkPC9BbGVydFRpdGxlPgogICAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+e2Vycm9yfTwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICA8L0FsZXJ0PgogICAgICAgICAgICApfQogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0iZW1haWwiPkVtYWlsPC9MYWJlbD4KICAgICAgICAgICAgICA8SW5wdXQKICAgICAgICAgICAgICAgIGlkPSJlbWFpbCIKICAgICAgICAgICAgICAgIHR5cGU9ImVtYWlsIgogICAgICAgICAgICAgICAgey4uLnJlZ2lzdGVyKCdlbWFpbCcpfQogICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9InlvdUBleGFtcGxlLmNvbSIKICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17ZXJyb3JzLmVtYWlsID8gJ2JvcmRlci1kZXN0cnVjdGl2ZScgOiAnJ30KICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9CiAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9ImVtYWlsIgogICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAge2Vycm9ycy5lbWFpbCAmJiA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1kZXN0cnVjdGl2ZSI+e2Vycm9ycy5lbWFpbC5tZXNzYWdlfTwvcD59CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIj4KICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPSJwYXNzd29yZCI+UGFzc3dvcmQ8L0xhYmVsPgogICAgICAgICAgICAgICAgPExpbmsgaHJlZj0iL2ZvcmdvdC1wYXNzd29yZCIgcGFzc0hyZWYgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtcHJpbWFyeSBob3Zlcjp1bmRlcmxpbmUiPgogICAgICAgICAgICAgICAgICBGb3Jnb3QgUGFzc3dvcmQ/CiAgICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPElucHV0CiAgICAgICAgICAgICAgICBpZD0icGFzc3dvcmQiCiAgICAgICAgICAgICAgICB0eXBlPSJwYXNzd29yZCIKICAgICAgICAgICAgICAgIHsuLi5yZWdpc3RlcigncGFzc3dvcmQnKX0KICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSLigKLigKLigKLigKLigKLigKLigKLigKIiCiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Vycm9ycy5wYXNzd29yZCA/ICdib3JkZXItZGVzdHJ1Y3RpdmUnIDogJyd9CiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfQogICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPSJjdXJyZW50LXBhc3N3b3JkIgogICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAge2Vycm9ycy5wYXNzd29yZCAmJiA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1kZXN0cnVjdGl2ZSI+e2Vycm9ycy5wYXNzd29yZC5tZXNzYWdlfTwvcD59CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8QnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3NOYW1lPSJ3LWZ1bGwiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PgogICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAoCiAgICAgICAgICAgICAgICA8PgogICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+CiAgICAgICAgICAgICAgICAgIExvZ2dpbmcgSW4uLi4KICAgICAgICAgICAgICAgIDwvPgogICAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICAnTG9naW4nCiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1jZW50ZXIgdGV4dC1zbSI+CiAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgIERvbid0IGhhdmUgYW4gYWNjb3VudD8mbmJzcDsKICAgICAgICAgICAgPExpbmsgaHJlZj0iL3NpZ251cCIgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeSBob3Zlcjp1bmRlcmxpbmUiPgogICAgICAgICAgICAgIFNpZ24gdXAKICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgPC9wPgogICAgICAgIDwvQ2FyZEZvb3Rlcj4KICAgICAgPC9DYXJkPgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IExvZ2luUGFnZTsK' | base64 -d > /root/localpulse/src/app/login/page.tsx
mkdir -p /root/localpulse/src/app/signup
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZUZvcm0sIHR5cGUgU3VibWl0SGFuZGxlciB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7CmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnOwppbXBvcnQgKiBhcyB6IGZyb20gJ3pvZCc7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JzsKaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnOwppbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkRm9vdGVyLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uLCBBbGVydFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0JzsKaW1wb3J0IHsgUmFkaW9Hcm91cCwgUmFkaW9Hcm91cEl0ZW0gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvcmFkaW8tZ3JvdXAnOwppbXBvcnQgeyBzaWduVXAsIHZlcmlmeU90cEFuZENyZWF0ZVVzZXIgfSBmcm9tICdAL2FwcC9hdXRoL2FjdGlvbnMnOwppbXBvcnQgeyBMb2FkZXIyLCBVc2VyUGx1cywgU2hpZWxkQWxlcnQsIEJ1aWxkaW5nLCBTaGllbGRDaGVjaywgVXNlciwgUGhvbmUsIEJyaWVmY2FzZSwgQ2hlY2tDaXJjbGUsIFhDaXJjbGUsIFRpY2tldCwgTWFpbCwgS2V5Um91bmQgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgRm9ybSwgRm9ybUNvbnRyb2wsIEZvcm1GaWVsZCwgRm9ybUl0ZW0sIEZvcm1NZXNzYWdlLCBGb3JtTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZm9ybSc7CmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2VsZWN0JzsKaW1wb3J0IHsgQlVTSU5FU1NfQ0FURUdPUklFUyB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYSc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBDT1VOVFJJRVMgfSBmcm9tICdAL2xpYi9jb3VudHJpZXMnOwoKY29uc3Qgc2lnbnVwU2NoZW1hID0gei5vYmplY3QoewogIG5hbWU6IHouc3RyaW5nKCkubWluKDIsICdOYW1lIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzLicpLAogIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLicpLAogIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbig4LCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMuJyksCiAgcm9sZTogei5lbnVtKFsnUHVibGljKOCknOCkqOCkpOCkviknLCAnQnVzaW5lc3MnLCAnR29yYWtzaGFrJ10sIHsgcmVxdWlyZWRfZXJyb3I6ICdZb3UgbXVzdCBzZWxlY3QgYSByb2xlLicgfSksCiAgY291bnRyeUNvZGU6IHouc3RyaW5nKCkubWluKDEsICdDb3VudHJ5IGNvZGUgaXMgcmVxdWlyZWQuJyksCiAgbW9iaWxlbnVtYmVyOiB6LnN0cmluZygpLnJlZ2V4KC9eXGR7MTB9JC8sICJBIHZhbGlkIDEwLWRpZ2l0IG1vYmlsZSBudW1iZXIgaXMgcmVxdWlyZWQuIiksCiAgYnVzaW5lc3NfY2F0ZWdvcnk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSwKICBidXNpbmVzc19vdGhlcl9jYXRlZ29yeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLAogIHJlZmVycmFsX2NvZGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSwKICB0aW1lem9uZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLAp9KS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7CiAgaWYgKGRhdGEucm9sZSA9PT0gJ0J1c2luZXNzJyAmJiAhZGF0YS5idXNpbmVzc19jYXRlZ29yeSkgewogICAgY3R4LmFkZElzc3VlKHsKICAgICAgY29kZTogei5ab2RJc3N1ZUNvZGUuY3VzdG9tLAogICAgICBtZXNzYWdlOiAiUGxlYXNlIHNlbGVjdCBhIGJ1c2luZXNzIGNhdGVnb3J5LiIsCiAgICAgIHBhdGg6IFsnYnVzaW5lc3NfY2F0ZWdvcnknXSwKICAgIH0pOwogIH0KICBpZiAoZGF0YS5yb2xlID09PSAnQnVzaW5lc3MnICYmIGRhdGEuYnVzaW5lc3NfY2F0ZWdvcnkgPT09ICdBbnkgT3RoZXInICYmICghZGF0YS5idXNpbmVzc19vdGhlcl9jYXRlZ29yeSB8fCBkYXRhLmJ1c2luZXNzX290aGVyX2NhdGVnb3J5LnRyaW0oKS5sZW5ndGggPCAyKSkgewogICAgY3R4LmFkZElzc3VlKHsKICAgICAgY29kZTogei5ab2RJc3N1ZUNvZGUuY3VzdG9tLAogICAgICBtZXNzYWdlOiAiUGxlYXNlIHNwZWNpZnkgeW91ciBidXNpbmVzcyB0eXBlLiIsCiAgICAgIHBhdGg6IFsnYnVzaW5lc3Nfb3RoZXJfY2F0ZWdvcnknXSwKICAgIH0pOwogIH0KfSk7Cgpjb25zdCBvdHBTY2hlbWEgPSB6Lm9iamVjdCh7CiAgb3RwOiB6LnN0cmluZygpLmxlbmd0aCg2LCAnT1RQIG11c3QgYmUgNiBkaWdpdHMuJyksCn0pOwoKdHlwZSBTaWdudXBGb3JtSW5wdXRzID0gei5pbmZlcjx0eXBlb2Ygc2lnbnVwU2NoZW1hPjsKdHlwZSBPdHBGb3JtSW5wdXRzID0gei5pbmZlcjx0eXBlb2Ygb3RwU2NoZW1hPjsKCmNvbnN0IFBhc3N3b3JkVmFsaWRhdGlvbkNoZWNrbGlzdDogRkM8eyBwYXNzd29yZD86IHN0cmluZyB9PiA9ICh7IHBhc3N3b3JkID0gJycgfSkgPT4gewogIGNvbnN0IGNoZWNrcyA9IFsKICAgIHsgbGFiZWw6ICdBdCBsZWFzdCA4IGNoYXJhY3RlcnMnLCB2YWxpZDogcGFzc3dvcmQubGVuZ3RoID49IDggfSwKICBdOwoKICByZXR1cm4gKAogICAgPHVsIGNsYXNzTmFtZT0iZ3JpZCBnYXAtMiB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0yIj4KICAgICAge2NoZWNrcy5tYXAoKGNoZWNrLCBpbmRleCkgPT4gKAogICAgICAgIDxsaSBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2NuKCdmbGV4IGl0ZW1zLWNlbnRlcicsIGNoZWNrLnZhbGlkID8gJ3RleHQtZ3JlZW4tNjAwJyA6ICd0ZXh0LWRlc3RydWN0aXZlJyl9PgogICAgICAgICAge2NoZWNrLnZhbGlkID8gPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT0iaC00IHctNCBtci0yIiAvPiA6IDxYQ2lyY2xlIGNsYXNzTmFtZT0iaC00IHctNCBtci0yIiAvPn0KICAgICAgICAgIHtjaGVjay5sYWJlbH0KICAgICAgICA8L2xpPgogICAgICApKX0KICAgIDwvdWw+CiAgKTsKfTsKCgpjb25zdCBTaWdudXBQYWdlOiBGQyA9ICgpID0+IHsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbc3RlcCwgc2V0U3RlcF0gPSB1c2VTdGF0ZTwnaW5pdGlhbCcgfCAndmVyaWZ5Jz4oJ2luaXRpYWwnKTsKICBjb25zdCBbZW1haWxUb1ZlcmlmeSwgc2V0RW1haWxUb1ZlcmlmeV0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3Qgb3RwSW5wdXRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoc3RlcCA9PT0gJ3ZlcmlmeScpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiBvdHBJbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpLCAwKTsKICAgIH0KICB9LCBbc3RlcF0pOwoKICBjb25zdCByZWZDb2RlRnJvbVVybCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3JlZicpIHx8ICcnOwoKICBjb25zdCBmb3JtID0gdXNlRm9ybTxTaWdudXBGb3JtSW5wdXRzPih7CiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIoc2lnbnVwU2NoZW1hKSwKICAgIGRlZmF1bHRWYWx1ZXM6IHsKICAgICAgbmFtZTogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICByb2xlOiAnUHVibGljKOCknOCkqOCkpOCkviknLAogICAgICBjb3VudHJ5Q29kZTogJys5MScsCiAgICAgIG1vYmlsZW51bWJlcjogJycsCiAgICAgIHJlZmVycmFsX2NvZGU6IHJlZkNvZGVGcm9tVXJsLAogICAgICB0aW1lem9uZTogSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lLAogICAgfSwKICB9KTsKICAKICBjb25zdCBvdHBGb3JtID0gdXNlRm9ybTxPdHBGb3JtSW5wdXRzPih7CiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIob3RwU2NoZW1hKSwKICAgIGRlZmF1bHRWYWx1ZXM6IHsgb3RwOiAnJyB9LAogIH0pOwoKICBjb25zdCBzZWxlY3RlZFJvbGUgPSBmb3JtLndhdGNoKCdyb2xlJyk7CiAgY29uc3Qgc2VsZWN0ZWRDYXRlZ29yeSA9IGZvcm0ud2F0Y2goJ2J1c2luZXNzX2NhdGVnb3J5Jyk7CiAgY29uc3QgcGFzc3dvcmRWYWx1ZSA9IGZvcm0ud2F0Y2goJ3Bhc3N3b3JkJyk7CgogIGNvbnN0IG9uU2lnbnVwU3VibWl0OiBTdWJtaXRIYW5kbGVyPFNpZ251cEZvcm1JbnB1dHM+ID0gYXN5bmMgKGRhdGEpID0+IHsKICAgIHNldElzU3VibWl0dGluZyh0cnVlKTsKICAgIHNldEVycm9yKG51bGwpOwogICAgdHJ5IHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnblVwKHsgLi4uZGF0YSwgcGFzc3dvcmRwbGFpbnRleHQ6IGRhdGEucGFzc3dvcmQgfSk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIHNldEVtYWlsVG9WZXJpZnkoZGF0YS5lbWFpbCk7CiAgICAgICAgb3RwRm9ybS5yZXNldCh7IG90cDogJycgfSk7CiAgICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTsgLy8gVHVybiBvZmYgc3VibWl0dGluZyBiZWZvcmUgY2hhbmdpbmcgc3RlcAogICAgICAgIHNldFN0ZXAoJ3ZlcmlmeScpOwogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHRpdGxlOiAnT1RQIFNlbnQhJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQSB2ZXJpZmljYXRpb24gY29kZSBoYXMgYmVlbiBzZW50IHRvIHlvdXIgZW1haWwgYWRkcmVzcy4nLAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsgLy8gUHJldmVudCBmaW5hbGx5IGJsb2NrIGZyb20gcnVubmluZwogICAgICB9IGVsc2UgewogICAgICAgIHNldEVycm9yKHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBhY2NvdW50LicpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkLic7CiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7CiAgICB9CiAgICAvLyBPbmx5IHNldCBzdWJtaXR0aW5nIHRvIGZhbHNlIGlmIHRoZXJlIHdhcyBhbiBlcnJvcgogICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTsKICB9OwoKICBjb25zdCBvbk90cFN1Ym1pdDogU3VibWl0SGFuZGxlcjxPdHBGb3JtSW5wdXRzPiA9IGFzeW5jIChkYXRhKSA9PiB7CiAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7CiAgICBzZXRFcnJvcihudWxsKTsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmVyaWZ5T3RwQW5kQ3JlYXRlVXNlcihlbWFpbFRvVmVyaWZ5LCBkYXRhLm90cCk7CiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnQWNjb3VudCBWZXJpZmllZCEnLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdXZWxjb21lIHRvIExvY2FsUHVsc2UhJywKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yIHx8ICdGYWlsZWQgdG8gdmVyaWZ5IE9UUC4nKTsKICAgICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVuZXhwZWN0ZWQgc2VydmVyIGVycm9yIG9jY3VycmVkLic7CiAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTsKICAgIH0gZmluYWxseSB7CiAgICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTsKICAgIH0KICB9CgoKICBpZiAoc3RlcCA9PT0gJ3ZlcmlmeScpIHsKICAgIHJldHVybiAoCiAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IG1pbi1oLXN2aCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmFja2dyb3VuZCBwLTQiPgogICAgICAgIDxDYXJkIGNsYXNzTmFtZT0idy1mdWxsIG1heC13LW1kIHNoYWRvdy0yeGwiPgogICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciI+CiAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1wcmltYXJ5IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KICAgICAgICAgICAgICA8S2V5Um91bmQgY2xhc3NOYW1lPSJtci0yIGgtOCB3LTgiIC8+CiAgICAgICAgICAgICAgQ2hlY2sgWW91ciBFbWFpbAogICAgICAgICAgICA8L0NhcmRUaXRsZT4KICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICBXZSd2ZSBzZW50IGEgNi1kaWdpdCB2ZXJpZmljYXRpb24gY29kZSB0byA8c3BhbiBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kIj57ZW1haWxUb1ZlcmlmeX08L3NwYW4+LgogICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgIDxDYXJkQ29udGVudD4KICAgICAgICAgICAge3N0ZXAgPT09ICd2ZXJpZnknICYmICgKICAgICAgICAgICAgICA8Rm9ybSB7Li4ub3RwRm9ybX0+CiAgICAgICAgICAgICAgICA8Zm9ybQogICAgICAgICAgICAgICAgICAgIGtleT0ib3RwLWZvcm0iCiAgICAgICAgICAgICAgICAgICAgb25TdWJtaXQ9e290cEZvcm0uaGFuZGxlU3VibWl0KG9uT3RwU3VibWl0KX0KICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9InNwYWNlLXktNiIKICAgICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9Im9mZiIKICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAge2Vycm9yICYmICgKICAgICAgICAgICAgICAgICAgICA8QWxlcnQgdmFyaWFudD0iZGVzdHJ1Y3RpdmUiPgogICAgICAgICAgICAgICAgICAgICAgICA8U2hpZWxkQWxlcnQgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRUaXRsZT5WZXJpZmljYXRpb24gRmFpbGVkPC9BbGVydFRpdGxlPgogICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj57ZXJyb3J9PC9BbGVydERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgIDwvQWxlcnQ+CiAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgIHsvKiBEZWNveSBpbnB1dCB0byBhYnNvcmIgYXV0b2ZpbGwgKi99CiAgICAgICAgICAgICAgICAgIDxpbnB1dAogICAgICAgICAgICAgICAgICAgIHR5cGU9InRleHQiCiAgICAgICAgICAgICAgICAgICAgbmFtZT0iZHVtbXktbmFtZSIKICAgICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9Im5ldy1wYXNzd29yZCIKICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJy05OTk5cHgnLCBoZWlnaHQ6IDAsIHdpZHRoOiAwLCBvcGFjaXR5OiAwIH19CiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9ey0xfQogICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgY29udHJvbD17b3RwRm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgICAgIG5hbWU9Im90cCIKICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0ib3RwIj5WZXJpZmljYXRpb24gQ29kZTwvTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtvdHBJbnB1dFJlZn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSJvdHAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJ0ZXh0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRNb2RlPSJudW1lcmljIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybj0iWzAtOV0qIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPSJvbmUtdGltZS1jb2RlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0NvcnJlY3Q9Im9mZiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9DYXBpdGFsaXplPSJvZmYiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9ezZ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0i4oCi4oCi4oCi4oCi4oCi4oCiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5maWVsZH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cRC9nLCAnJykuc2xpY2UoMCwgNik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQub25DaGFuZ2Uodik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3NOYW1lPSJ3LWZ1bGwiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PgogICAgICAgICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IDogbnVsbH0KICAgICAgICAgICAgICAgICAgICBWZXJpZnkgYW5kIENyZWF0ZSBBY2NvdW50CiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgIDwvRm9ybT4KICAgICAgICAgICAgKX0KICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktY2VudGVyIHRleHQtc20iPgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICBEaWRuJ3QgZ2V0IGEgY29kZT8mbmJzcDsKICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U3RlcCgnaW5pdGlhbCcpfSBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1wcmltYXJ5IGhvdmVyOnVuZGVybGluZSI+CiAgICAgICAgICAgICAgICAgICAgR28gYmFjawogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvcD4KICAgICAgICA8L0NhcmRGb290ZXI+CiAgICAgICAgPC9DYXJkPgogICAgICA8L2Rpdj4KICAgICk7CiAgfQogIAogIAogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBtaW4taC1zdmggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJhY2tncm91bmQgcC00Ij4KICAgICAgPENhcmQgY2xhc3NOYW1lPSJ3LWZ1bGwgbWF4LXctbGcgc2hhZG93LTJ4bCI+CiAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciI+CiAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0idGV4dC0zeGwgZm9udC1ib2xkIHRleHQtcHJpbWFyeSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciI+CiAgICAgICAgICAgIDxVc2VyUGx1cyBjbGFzc05hbWU9Im1yLTIgaC04IHctOCIgLz4KICAgICAgICAgICAgQ3JlYXRlIGFuIEFjY291bnQKICAgICAgICAgIDwvQ2FyZFRpdGxlPgogICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5Kb2luIExvY2FsUHVsc2UgdG8gc2hhcmUgYW5kIGRpc2NvdmVyLjwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICA8Rm9ybSB7Li4uZm9ybX0+CiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtmb3JtLmhhbmRsZVN1Ym1pdChvblNpZ251cFN1Ym1pdCl9IGNsYXNzTmFtZT0ic3BhY2UteS00Ij4KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiB7Li4uZm9ybS5yZWdpc3RlcigndGltZXpvbmUnKX0gLz4KICAgICAgICAgICAgICB7ZXJyb3IgJiYgKAogICAgICAgICAgICAgICAgPEFsZXJ0IHZhcmlhbnQ9ImRlc3RydWN0aXZlIj4KICAgICAgICAgICAgICAgICAgPFNoaWVsZEFsZXJ0IGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgPEFsZXJ0VGl0bGU+U2lnbnVwIEZhaWxlZDwvQWxlcnRUaXRsZT4KICAgICAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+e2Vycm9yfTwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIDwvQWxlcnQ+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAKICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICBuYW1lPSJuYW1lIgogICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0ibmFtZSI+RnVsbCBOYW1lPC9MYWJlbD4KICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgaWQ9Im5hbWUiIHsuLi5maWVsZH0gZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30gLz4KICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAvPgoKICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICBuYW1lPSJlbWFpbCIKICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9ImVtYWlsIj5FbWFpbDwvTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgPElucHV0IGlkPSJlbWFpbCIgdHlwZT0iZW1haWwiIHsuLi5maWVsZH0gZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30gYXV0b0NvbXBsZXRlPSJlbWFpbCIvPgogICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIC8+CgogICAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgIG5hbWU9InBhc3N3b3JkIgogICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0icGFzc3dvcmQiPlBhc3N3b3JkPC9MYWJlbD4KICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgaWQ9InBhc3N3b3JkIiB0eXBlPSJwYXNzd29yZCIgey4uLmZpZWxkfSBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfSBhdXRvQ29tcGxldGU9Im5ldy1wYXNzd29yZCIvPgogICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgPFBhc3N3b3JkVmFsaWRhdGlvbkNoZWNrbGlzdCBwYXNzd29yZD17cGFzc3dvcmRWYWx1ZX0gLz4KICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgLz4KCiAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgPExhYmVsPk1vYmlsZSBOdW1iZXI8L0xhYmVsPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSJjb3VudHJ5Q29kZSIKICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0gY2xhc3NOYW1lPSJ3LTEvMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gZGVmYXVsdFZhbHVlPXtmaWVsZC52YWx1ZX0gZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPjxTZWxlY3RWYWx1ZSAvPjwvU2VsZWN0VHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPSJoLTcyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtDT1VOVFJJRVMubWFwKGNvdW50cnkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2NvdW50cnkubmFtZX0gdmFsdWU9e2ArJHtjb3VudHJ5LmNvZGV9YH0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvdW50cnkubmFtZX0gKCt7Y291bnRyeS5jb2RlfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TY3JvbGxBcmVhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9Im1vYmlsZW51bWJlciIKICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0gY2xhc3NOYW1lPSJmbGV4LTEiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IGlkPSJtb2JpbGVudW1iZXIiIHR5cGU9InRlbCIgcGxhY2Vob2xkZXI9IjEwLWRpZ2l0IG51bWJlciIgey4uLmZpZWxkfSBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfSAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgICAgIAogICAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgIG5hbWU9InJlZmVycmFsX2NvZGUiCiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPSJyZWZlcnJhbF9jb2RlIj5SZWZlcnJhbCBDb2RlIChPcHRpb25hbCk8L0xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJyZWxhdGl2ZSI+CiAgICAgICAgICAgICAgICAgICAgICA8VGlja2V0IGNsYXNzTmFtZT0iYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgaC00IHctNCAtdHJhbnNsYXRlLXktMS8yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCIgLz4KICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IGlkPSJyZWZlcnJhbF9jb2RlIiBwbGFjZWhvbGRlcj0iRW50ZXIgcmVmZXJyYWwgY29kZSIgY2xhc3NOYW1lPSJwbC0xMCIgey4uLmZpZWxkfSBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfSAvPgogICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICB7cmVmQ29kZUZyb21VcmwgJiYgcmVmQ29kZUZyb21VcmwgIT09ICdudWxsJyAmJiA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1ncmVlbi02MDAgcHQtMSI+UmVmZXJyYWwgY29kZSBhcHBsaWVkITwvcD59CiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIC8+CgogICAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgIG5hbWU9InJvbGUiCiAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtIGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAgICAgICAgICA8TGFiZWw+SSBhbSBhLi4uPC9MYWJlbD4KICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICA8UmFkaW9Hcm91cAogICAgICAgICAgICAgICAgICAgICAgICBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtmaWVsZC52YWx1ZX0KICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0zIGdhcC00IgogICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfQogICAgICAgICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSYWRpb0dyb3VwSXRlbSB2YWx1ZT0iUHVibGljKOCknOCkqOCkpOCkvikiIGlkPSJyb2xlLXB1YmxpYyIgY2xhc3NOYW1lPSJwZWVyIHNyLW9ubHkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0icm9sZS1wdWJsaWMiIGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQtbWQgYm9yZGVyLTIgYm9yZGVyLW11dGVkIGJnLXBvcG92ZXIgcC00IGhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIHBlZXItZGF0YS1bc3RhdGU9Y2hlY2tlZF06Ym9yZGVyLXByaW1hcnkgWyY6aGFzKFtkYXRhLXN0YXRlPWNoZWNrZWRdKV06Ym9yZGVyLXByaW1hcnkgY3Vyc29yLXBvaW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXIgY2xhc3NOYW1lPSJtYi0zIGgtNiB3LTYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQdWJsaWMo4KSc4KSo4KSk4KS+KQogICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJhZGlvR3JvdXBJdGVtIHZhbHVlPSJCdXNpbmVzcyIgaWQ9InJvbGUtYnVzaW5lc3MiIGNsYXNzTmFtZT0icGVlciBzci1vbmx5IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0icm9sZS1idXNpbmVzcyIgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC1tZCBib3JkZXItMiBib3JkZXItbXV0ZWQgYmctcG9wb3ZlciBwLTQgaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmQgcGVlci1kYXRhLVtzdGF0ZT1jaGVja2VkXTpib3JkZXItcHJpbWFyeSBbJjpoYXMoW2RhdGEtc3RhdGU9Y2hlY2tlZF0pXTpib3JkZXItcHJpbWFyeSBjdXJzb3ItcG9pbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRpbmcgY2xhc3NOYW1lPSJtYi0zIGgtNiB3LTYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdXNpbmVzcwogICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmFkaW9Hcm91cEl0ZW0gdmFsdWU9IkdvcmFrc2hhayIgaWQ9InJvbGUtZ29yYWtzaGFrIiBjbGFzc05hbWU9InBlZXIgc3Itb25seSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPSJyb2xlLWdvcmFrc2hhayIgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC1tZCBib3JkZXItMiBib3JkZXItbXV0ZWQgYmctcG9wb3ZlciBwLTQgaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmQgcGVlci1kYXRhLVtzdGF0ZT1jaGVja2VkXTpib3JkZXItcHJpbWFyeSBbJjpoYXMoW2RhdGEtc3RhdGU9Y2hlY2tlZF0pXTpib3JkZXItcHJpbWFyeSBjdXJzb3ItcG9pbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2hpZWxkQ2hlY2sgY2xhc3NOYW1lPSJtYi0zIGgtNiB3LTYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHb3Jha3NoYWsKICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgPC9SYWRpb0dyb3VwPgogICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAge3NlbGVjdGVkUm9sZSA9PT0gJ0J1c2luZXNzJyAmJiAoCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS00IHB0LTIgYm9yZGVyLXQnPgogICAgICAgICAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICAgICAgbmFtZT0iYnVzaW5lc3NfY2F0ZWdvcnkiCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsPkJ1c2luZXNzIENhdGVnb3J5PC9MYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gZGVmYXVsdFZhbHVlPXtmaWVsZC52YWx1ZX0gZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0iU2VsZWN0IHlvdXIgYnVzaW5lc3MgY2F0ZWdvcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT0iaC03MiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKEJVU0lORVNTX0NBVEVHT1JJRVMpLm1hcCgoW2dyb3VwLCBjYXRlZ29yaWVzXSkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtncm91cH0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9InB4LTIgcHktMS41IHRleHQtc20gZm9udC1zZW1pYm9sZCI+e2dyb3VwfTwvTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e2NhdGVnb3J5fSB2YWx1ZT17Y2F0ZWdvcnl9PntjYXRlZ29yeX08L1NlbGVjdEl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2Nyb2xsQXJlYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRDYXRlZ29yeSA9PT0gJ0FueSBPdGhlcicgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSJidXNpbmVzc19vdGhlcl9jYXRlZ29yeSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5QbGVhc2UgU3BlY2lmeSBZb3VyIEJ1c2luZXNzPC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCB7Li4uZmllbGR9IHBsYWNlaG9sZGVyPSJlLmcuLCBCb29rIEJpbmRpbmcgU2VydmljZSIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICl9CgogICAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBjbGFzc05hbWU9InctZnVsbCIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZyB8fCAhZm9ybS5mb3JtU3RhdGUuaXNWYWxpZH0+CiAgICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiA6IG51bGx9CiAgICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gJ1N1Ym1pdHRpbmcuLi4nIDogJ0NyZWF0ZSBBY2NvdW50J30KICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgPC9Gb3JtPgogICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktY2VudGVyIHRleHQtc20iPgogICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAgQWxyZWFkeSBoYXZlIGFuIGFjY291bnQ/Jm5ic3A7CiAgICAgICAgICAgIDxMaW5rIGhyZWY9Ii9sb2dpbiIgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeSBob3Zlcjp1bmRlcmxpbmUiPgogICAgICAgICAgICAgIExvZyBpbgogICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICA8L3A+CiAgICAgICAgPC9DYXJkRm9vdGVyPgogICAgICA8L0NhcmQ+CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgU2lnbnVwUGFnZTsK' | base64 -d > /root/localpulse/src/app/signup/page.tsx
mkdir -p /root/localpulse/src/app/forgot-password
echo 'J3VzZSBjbGllbnQnOwoKaW1wb3J0IHR5cGUgeyBGQyB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlRm9ybSwgdHlwZSBTdWJtaXRIYW5kbGVyIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJzsKaW1wb3J0IHsgem9kUmVzb2x2ZXIgfSBmcm9tICdAaG9va2Zvcm0vcmVzb2x2ZXJzL3pvZCc7CmltcG9ydCAqIGFzIHogZnJvbSAnem9kJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JzsKaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBBbGVydCwgQWxlcnREZXNjcmlwdGlvbiwgQWxlcnRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydCc7CmltcG9ydCB7IHJlcXVlc3RQYXNzd29yZFJlc2V0LCByZXNldFBhc3N3b3JkIH0gZnJvbSAnQC9hcHAvYXV0aC9hY3Rpb25zJzsKaW1wb3J0IHsgTG9hZGVyMiwgS2V5Um91bmQsIFNoaWVsZEFsZXJ0LCBNYWlsLCBMb2NrIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IEZvcm0sIEZvcm1Db250cm9sLCBGb3JtRmllbGQsIEZvcm1JdGVtLCBGb3JtTGFiZWwsIEZvcm1NZXNzYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Zvcm0nOwppbXBvcnQgeyBMYWJlbCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9sYWJlbCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CgovLyBTdGVwIDE6IFJlcXVlc3QgT1RQCmNvbnN0IHJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7CiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJyksCn0pOwp0eXBlIFJlcXVlc3RGb3JtSW5wdXRzID0gei5pbmZlcjx0eXBlb2YgcmVxdWVzdFNjaGVtYT47CgovLyBTdGVwIDI6IFZlcmlmeSBPVFAgYW5kIHNldCBuZXcgcGFzc3dvcmQKY29uc3QgcmVzZXRTY2hlbWEgPSB6Lm9iamVjdCh7CiAgb3RwOiB6LnN0cmluZygpLmxlbmd0aCg2LCAnT1RQIG11c3QgYmUgNiBkaWdpdHMuJyksCiAgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDgsICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycy4nKSwKfSk7CnR5cGUgUmVzZXRGb3JtSW5wdXRzID0gei5pbmZlcjx0eXBlb2YgcmVzZXRTY2hlbWE+OwoKY29uc3QgRm9yZ290UGFzc3dvcmRQYWdlOiBGQyA9ICgpID0+IHsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBbc3RlcCwgc2V0U3RlcF0gPSB1c2VTdGF0ZTwncmVxdWVzdCcgfCAncmVzZXQnPigncmVxdWVzdCcpOwogIGNvbnN0IFtlbWFpbFRvUmVzZXQsIHNldEVtYWlsVG9SZXNldF0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3Qgb3RwSW5wdXRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7CgogIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAoc3RlcCA9PT0gJ3Jlc2V0JykgewogICAgICBzZXRUaW1lb3V0KCgpID0+IG90cElucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCksIDApOwogICAgfQogIH0sIFtzdGVwXSk7CiAgCiAgY29uc3QgcmVxdWVzdEZvcm0gPSB1c2VGb3JtPFJlcXVlc3RGb3JtSW5wdXRzPih7CiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIocmVxdWVzdFNjaGVtYSksCiAgfSk7CiAgCiAgY29uc3QgcmVzZXRGb3JtID0gdXNlRm9ybTxSZXNldEZvcm1JbnB1dHM+KHsKICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihyZXNldFNjaGVtYSksCiAgfSk7CgogIGNvbnN0IG9uUmVxdWVzdFN1Ym1pdDogU3VibWl0SGFuZGxlcjxSZXF1ZXN0Rm9ybUlucHV0cz4gPSBhc3luYyAoZGF0YSkgPT4gewogICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpOwogICAgc2V0RXJyb3IobnVsbCk7CiAgICB0cnkgewogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0UGFzc3dvcmRSZXNldChkYXRhLmVtYWlsKTsKICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgc2V0RW1haWxUb1Jlc2V0KGRhdGEuZW1haWwpOwogICAgICAgIHJlc2V0Rm9ybS5yZXNldCh7IG90cDogJycsIHBhc3N3b3JkOiAnJyB9KTsKICAgICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpOwogICAgICAgIHNldFN0ZXAoJ3Jlc2V0Jyk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBvdHBJbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpLCAwKTsKICAgICAgICB0b2FzdCh7CiAgICAgICAgICB0aXRsZTogJ09UUCBTZW50IScsCiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0EgcGFzc3dvcmQgcmVzZXQgY29kZSBoYXMgYmVlbiBzZW50IHRvIHlvdXIgZW1haWwuJywKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yIHx8ICdGYWlsZWQgdG8gc2VuZCByZXNldCBlbWFpbC4nKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4nKTsKICAgIH0KICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7CiAgfTsKICAKICBjb25zdCBvblJlc2V0U3VibWl0OiBTdWJtaXRIYW5kbGVyPFJlc2V0Rm9ybUlucHV0cz4gPSBhc3luYyAoZGF0YSkgPT4gewogICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpOwogICAgc2V0RXJyb3IobnVsbCk7CiAgICB0cnkgewogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNldFBhc3N3b3JkKGVtYWlsVG9SZXNldCwgZGF0YS5vdHAsIGRhdGEucGFzc3dvcmQpOwogICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICB0b2FzdCh7CiAgICAgICAgICB0aXRsZTogJ1Bhc3N3b3JkIFJlc2V0IFN1Y2Nlc3NmdWwhJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAnWW91IGNhbiBub3cgbG9nIGluIHdpdGggeW91ciBuZXcgcGFzc3dvcmQuJywKICAgICAgICB9KTsKICAgICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yIHx8ICdGYWlsZWQgdG8gcmVzZXQgcGFzc3dvcmQuJyk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIHVuZXhwZWN0ZWQgc2VydmVyIGVycm9yIG9jY3VycmVkLicpOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTsKICAgIH0KICB9OwoKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IG1pbi1oLXN2aCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmFja2dyb3VuZCBwLTQiPgogICAgICA8Q2FyZCBjbGFzc05hbWU9InctZnVsbCBtYXgtdy1tZCBzaGFkb3ctMnhsIj4KICAgICAgICB7c3RlcCA9PT0gJ3JlcXVlc3QnID8gKAogICAgICAgICAgPD4KICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciI+CiAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9InRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnkgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiPgogICAgICAgICAgICAgICAgPEtleVJvdW5kIGNsYXNzTmFtZT0ibXItMiBoLTggdy04IiAvPgogICAgICAgICAgICAgICAgRm9yZ290IFBhc3N3b3JkCiAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgIEVudGVyIHlvdXIgZW1haWwgdG8gcmVjZWl2ZSBhIHJlc2V0IGNvZGUuCiAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgICAgPENhcmRDb250ZW50PgogICAgICAgICAgICAgIDxGb3JtIHsuLi5yZXF1ZXN0Rm9ybX0+CiAgICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17cmVxdWVzdEZvcm0uaGFuZGxlU3VibWl0KG9uUmVxdWVzdFN1Ym1pdCl9IGNsYXNzTmFtZT0ic3BhY2UteS02Ij4KICAgICAgICAgICAgICAgICAge2Vycm9yICYmICgKICAgICAgICAgICAgICAgICAgICA8QWxlcnQgdmFyaWFudD0iZGVzdHJ1Y3RpdmUiPgogICAgICAgICAgICAgICAgICAgICAgPFNoaWVsZEFsZXJ0IGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgICAgIDxBbGVydFRpdGxlPkVycm9yPC9BbGVydFRpdGxlPgogICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+e2Vycm9yfTwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0PgogICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgY29udHJvbD17cmVxdWVzdEZvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICBuYW1lPSJlbWFpbCIKICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbCBodG1sRm9yPSJlbWFpbCI+RW1haWwgQWRkcmVzczwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgey4uLmZpZWxkfSBpZD0iZW1haWwiIHR5cGU9ImVtYWlsIiBwbGFjZWhvbGRlcj0ieW91QGV4YW1wbGUuY29tIiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfSAvPgogICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzTmFtZT0idy1mdWxsIiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT4KICAgICAgICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiA6IG51bGx9CiAgICAgICAgICAgICAgICAgICAgU2VuZCBSZXNldCBDb2RlCiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgIDwvRm9ybT4KICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICAgIDwvPgogICAgICAgICkgOiAoCiAgICAgICAgICA8PgogICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9InRleHQtY2VudGVyIj4KICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0idGV4dC0zeGwgZm9udC1ib2xkIHRleHQtcHJpbWFyeSI+UmVzZXQgWW91ciBQYXNzd29yZDwvQ2FyZFRpdGxlPgogICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICBFbnRlciB0aGUgY29kZSBzZW50IHRvIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmQiPntlbWFpbFRvUmVzZXR9PC9zcGFuPiBhbmQgeW91ciBuZXcgcGFzc3dvcmQuCiAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgICAgPENhcmRDb250ZW50PgogICAgICAgICAgICAgIDxGb3JtIHsuLi5yZXNldEZvcm19PgogICAgICAgICAgICAgICAgPGZvcm0gCiAgICAgICAgICAgICAgICAgIGtleT17YHJlc2V0LSR7ZW1haWxUb1Jlc2V0fWB9CiAgICAgICAgICAgICAgICAgIG9uU3VibWl0PXtyZXNldEZvcm0uaGFuZGxlU3VibWl0KG9uUmVzZXRTdWJtaXQpfSAKICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPSJvZmYiCiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ic3BhY2UteS00IgogICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICA8aW5wdXQKICAgICAgICAgICAgICAgICAgICB0eXBlPSJ0ZXh0IgogICAgICAgICAgICAgICAgICAgIG5hbWU9InVzZXJuYW1lIgogICAgICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT0idXNlcm5hbWUiCiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgcG9zaXRpb246J2Fic29sdXRlJywgbGVmdDonLTk5OTlweCcsIHdpZHRoOjAsIGhlaWdodDowLCBvcGFjaXR5OjAgfX0KICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD17LTF9CiAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgIDxpbnB1dAogICAgICAgICAgICAgICAgICAgIHR5cGU9InBhc3N3b3JkIgogICAgICAgICAgICAgICAgICAgIG5hbWU9Im5ldy1wYXNzd29yZCIKICAgICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9Im5ldy1wYXNzd29yZCIKICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjonYWJzb2x1dGUnLCBsZWZ0OictOTk5OXB4Jywgd2lkdGg6MCwgaGVpZ2h0OjAsIG9wYWNpdHk6MCB9fQogICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PXstMX0KICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAge2Vycm9yICYmICgKICAgICAgICAgICAgICAgICAgICA8QWxlcnQgdmFyaWFudD0iZGVzdHJ1Y3RpdmUiPgogICAgICAgICAgICAgICAgICAgICAgPFNoaWVsZEFsZXJ0IGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgICAgIDxBbGVydFRpdGxlPkVycm9yPC9BbGVydFRpdGxlPgogICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+e2Vycm9yfTwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0PgogICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgY29udHJvbD17cmVzZXRGb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICAgICAgbmFtZT0ib3RwIgogICAgICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsIGh0bWxGb3I9Im90cCI+UmVzZXQgQ29kZTwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e290cElucHV0UmVmfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9Im90cCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9Im9uZS10aW1lLWNvZGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJ0ZXh0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRNb2RlPSJudW1lcmljIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybj0iWzAtOV0qIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPSJvbmUtdGltZS1jb2RlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0NvcnJlY3Q9Im9mZiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9DYXBpdGFsaXplPSJvZmYiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9ezZ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0i4oCi4oCi4oCi4oCi4oCi4oCiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmaWVsZC52YWx1ZSA/PyAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cRC9nLCAnJykuc2xpY2UoMCwgNik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQub25DaGFuZ2Uodik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICAgICAgICAgICAgY29udHJvbD17cmVzZXRGb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgICAgICAgbmFtZT0icGFzc3dvcmQiCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWwgaHRtbEZvcj0icGFzc3dvcmQiPk5ldyBQYXNzd29yZDwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHsuLi5maWVsZH0gaWQ9InBhc3N3b3JkIiB0eXBlPSJwYXNzd29yZCIgYXV0b0NvbXBsZXRlPSJuZXctcGFzc3dvcmQiIHBsYWNlaG9sZGVyPSJOZXcgc3Ryb25nIHBhc3N3b3JkIiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfSAvPgogICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzTmFtZT0idy1mdWxsIiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nIHx8ICFyZXNldEZvcm0uZm9ybVN0YXRlLmlzVmFsaWR9PgogICAgICAgICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IDogbnVsbH0KICAgICAgICAgICAgICAgICAgICBSZXNldCBQYXNzd29yZAogICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICA8L0Zvcm0+CiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICA8Lz4KICAgICAgICApfQogICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9InRleHQtY2VudGVyIHRleHQtc20iPgogICAgICAgICAgICA8TGluayBocmVmPSIvbG9naW4iIGNsYXNzTmFtZT0idGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGhvdmVyOnRleHQtcHJpbWFyeSI+CiAgICAgICAgICAgICAgICBCYWNrIHRvIExvZ2luCiAgICAgICAgICAgIDwvTGluaz4KICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICA8L0NhcmQ+CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgRm9yZ290UGFzc3dvcmRQYWdlOwo=' | base64 -d > /root/localpulse/src/app/forgot-password/page.tsx
mkdir -p /root/localpulse/src/app/api/booking/resources/[businessId]
echo 'CmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gIm5leHQvc2VydmVyIjsKaW1wb3J0IHsgZ2V0QnVzaW5lc3NSZXNvdXJjZXNEYiB9IGZyb20gIkAvbGliL2RiIjsKCmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnOwpleHBvcnQgY29uc3QgcmV2YWxpZGF0ZSA9IDA7CmV4cG9ydCBjb25zdCBmZXRjaENhY2hlID0gJ2RlZmF1bHQtbm8tc3RvcmUnOwoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChfOiBSZXF1ZXN0LCB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBidXNpbmVzc0lkOiBzdHJpbmcgfX0pIHsKICB0cnkgewogICAgY29uc3QgYnVzaW5lc3NJZCA9IE51bWJlcihwYXJhbXMuYnVzaW5lc3NJZCk7CiAgICBpZiAoaXNOYU4oYnVzaW5lc3NJZCkpIHsKICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICJJbnZhbGlkIGJ1c2luZXNzIElEIiB9LCB7IHN0YXR1czogNDAwIH0pOwogICAgfQogICAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgZ2V0QnVzaW5lc3NSZXNvdXJjZXNEYihidXNpbmVzc0lkKTsKICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHJlc291cmNlcyB9KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgcmVzb3VyY2VzIGZvciBidXNpbmVzcyAke3BhcmFtcy5idXNpbmVzc0lkfTpgLCBlcnJvcik7CiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogIkZhaWxlZCB0byBmZXRjaCByZXNvdXJjZXMiIH0sIHsgc3RhdHVzOiA1MDAgfSk7CiAgfQp9Cg==' | base64 -d > /root/localpulse/src/app/api/booking/resources/[businessId]/route.ts
mkdir -p /root/localpulse/src/app/api/booking/services/[businessId]
echo 'CmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gIm5leHQvc2VydmVyIjsKaW1wb3J0IHsgZ2V0QnVzaW5lc3NTZXJ2aWNlc0RiIH0gZnJvbSAiQC9saWIvZGIiOwoKZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7CmV4cG9ydCBjb25zdCByZXZhbGlkYXRlID0gMDsKZXhwb3J0IGNvbnN0IGZldGNoQ2FjaGUgPSAnZGVmYXVsdC1uby1zdG9yZSc7CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKF86IFJlcXVlc3QsIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGJ1c2luZXNzSWQ6IHN0cmluZyB9fSkgewogIHRyeSB7CiAgICBjb25zdCBidXNpbmVzc0lkID0gTnVtYmVyKHBhcmFtcy5idXNpbmVzc0lkKTsKICAgIGlmIChpc05hTihidXNpbmVzc0lkKSkgewogICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogIkludmFsaWQgYnVzaW5lc3MgSUQiIH0sIHsgc3RhdHVzOiA0MDAgfSk7CiAgICB9CiAgICBjb25zdCBzZXJ2aWNlcyA9IGF3YWl0IGdldEJ1c2luZXNzU2VydmljZXNEYihidXNpbmVzc0lkKTsKICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHNlcnZpY2VzIH0pOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBzZXJ2aWNlcyBmb3IgYnVzaW5lc3MgJHtwYXJhbXMuYnVzaW5lc3NJZH06YCwgZXJyb3IpOwogICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICJGYWlsZWQgdG8gZmV0Y2ggc2VydmljZXMiIH0sIHsgc3RhdHVzOiA1MDAgfSk7CiAgfQp9Cg==' | base64 -d > /root/localpulse/src/app/api/booking/services/[businessId]/route.ts
mkdir -p /root/localpulse/src/app/api/booking/availability
echo 'CgppbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInOwppbXBvcnQgeyBQb29sIH0gZnJvbSAncGcnOwoKZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7CmV4cG9ydCBjb25zdCByZXZhbGlkYXRlID0gMDsKZXhwb3J0IGNvbnN0IGZldGNoQ2FjaGUgPSAnZGVmYXVsdC1uby1zdG9yZSc7CgovLyBUaGlzIGlzIGEgc2ltcGxpZmllZCBjb25uZWN0aW9uIHNldHVwLiBJbiB5b3VyIGFjdHVhbCBhcHAsIHlvdSdkIHJldXNlIHRoZSBkYiBjb25uZWN0aW9uIGxvZ2ljIGZyb20gQC9saWIvZGIudHMKY29uc3QgcG9vbCA9IG5ldyBQb29sKHsKICBjb25uZWN0aW9uU3RyaW5nOiBwcm9jZXNzLmVudi5QT1NUR1JFU19VUkwsCiAgc3NsOiBwcm9jZXNzLmVudi5QT1NUR1JFU19TU0wgPT09ICd0cnVlJyA/IHsgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSB9IDogZmFsc2UsCn0pOwoKCnR5cGUgQm9va2luZ1JvdyA9IHsgc3RhcnRfdGltZTogc3RyaW5nOyBlbmRfdGltZTogc3RyaW5nOyByZXNvdXJjZV9pZDogbnVtYmVyIH07CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHsKICB0cnkgewogICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IHJlcS5uZXh0VXJsOwogICAgY29uc3QgYnVzaW5lc3NJZCA9IE51bWJlcihzZWFyY2hQYXJhbXMuZ2V0KCdidXNpbmVzc0lkJykpOwogICAgY29uc3QgZGF0ZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2RhdGUnKTsgLy8gJzIwMjUtMDgtMjAnCiAgICBjb25zdCB0eiA9IHNlYXJjaFBhcmFtcy5nZXQoJ3R6JykgfHwgJ1VUQyc7CiAgICAKICAgIGlmICghYnVzaW5lc3NJZCB8fCAhZGF0ZSkgewogICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ2J1c2luZXNzSWQgYW5kIGRhdGUgYXJlIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAwIH0pOwogICAgfQoKICAgIC8vIGRheSB3aW5kb3cgaW4gVVRDIGZvciBEQiBxdWVyeQogICAgY29uc3QgZGF5U3RhcnRUeiA9IGAke2RhdGV9IDAwOjAwOjAwYDsKICAgIGNvbnN0IGRheUVuZFR6ICAgPSBgJHtkYXRlfSAyMzo1OTo1OWA7CgogICAgLy8gQ29ycmVjdGx5IGNyZWF0ZSBhIFVUQyBkYXRlIG9iamVjdCBmcm9tIHRoZSBsb2NhbCB0aW1lIHN0cmluZyBhbmQgdGltZXpvbmUuCiAgICBjb25zdCBkYXlTdGFydFV0YyA9IG5ldyBEYXRlKGRheVN0YXJ0VHopOwogICAgY29uc3QgZGF5RW5kVXRjICAgPSBuZXcgRGF0ZShkYXlFbmRUeik7CgogICAgLy8gZ2V0IGFsbCBjb25maXJtZWQgYm9va2luZ3Mgb3ZlcmxhcHBpbmcgdGhhdCBkYXkKICAgIGNvbnN0IHEgPSBgCiAgICAgIFNFTEVDVCBzdGFydF90aW1lLCBlbmRfdGltZSwgcmVzb3VyY2VfaWQKICAgICAgRlJPTSBhcHBvaW50bWVudHMKICAgICAgV0hFUkUgYnVzaW5lc3NfaWQgPSAkMQogICAgICAgIEFORCBzdGF0dXMgSU4gKCdjb25maXJtZWQnKQogICAgICAgIEFORCBzdGFydF90aW1lIDwgJDMgQU5EIGVuZF90aW1lID4gJDIKICAgIGA7CiAgICBjb25zdCBwYXJhbXM6IGFueVtdID0gW2J1c2luZXNzSWQsIGRheVN0YXJ0VXRjLCBkYXlFbmRVdGNdOwogICAgCiAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IHBvb2wucXVlcnk8Qm9va2luZ1Jvdz4ocSwgcGFyYW1zKTsKCiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oewogICAgICBidXN5OiByb3dzLm1hcChyID0+ICh7CiAgICAgICAgc3RhcnRVdGM6IG5ldyBEYXRlKHIuc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKSwKICAgICAgICBlbmRVdGM6ICAgbmV3IERhdGUoci5lbmRfdGltZSkudG9JU09TdHJpbmcoKSwKICAgICAgICByZXNvdXJjZUlkOiByLnJlc291cmNlX2lkLAogICAgICB9KSksCiAgICB9KTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICBjb25zb2xlLmVycm9yKCdbQVBJL2F2YWlsYWJpbGl0eV0gRXJyb3I6JywgZXJyb3IpOwogICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBmZXRjaCBhdmFpbGFiaWxpdHknIH0sIHsgc3RhdHVzOiA1MDAgfSk7CiAgfQp9Cg==' | base64 -d > /root/localpulse/src/app/api/booking/availability/route.ts
mkdir -p /root/localpulse/src/app/api/booking/slots
echo 'Ci8vIFRoaXMgZmlsZSBpcyBubyBsb25nZXIgdXNlZCBhbmQgY2FuIGJlIGRlbGV0ZWQuCi8vIFRoZSBuZXcgYXZhaWxhYmlsaXR5IGxvZ2ljIGlzIGhhbmRsZWQgYnkgL2FwaS9ib29raW5nL2F2YWlsYWJpbGl0eS9yb3V0ZS50cwovLyBhbmQgdGhlIGNsaWVudC1zaWRlIGJvb2tpbmctZGlhbG9nLnRzeC4KaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInOwoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IFJlcXVlc3QpIHsKICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oewogICAgZXJyb3I6ICdUaGlzIGVuZHBvaW50IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgL2FwaS9ib29raW5nL2F2YWlsYWJpbGl0eS4nCiAgfSwgeyBzdGF0dXM6IDQxMCB9KTsKfQo=' | base64 -d > /root/localpulse/src/app/api/booking/slots/route.ts
mkdir -p /root/localpulse/src/app/api/booking/hours/[businessId]
echo 'CmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gIm5leHQvc2VydmVyIjsKaW1wb3J0IHsgZ2V0QnVzaW5lc3NIb3Vyc0RiIH0gZnJvbSAiQC9saWIvZGIiOwoKZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7CmV4cG9ydCBjb25zdCByZXZhbGlkYXRlID0gMDsKZXhwb3J0IGNvbnN0IGZldGNoQ2FjaGUgPSAnZGVmYXVsdC1uby1zdG9yZSc7CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKF86IFJlcXVlc3QsIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGJ1c2luZXNzSWQ6IHN0cmluZyB9fSkgewogIHRyeSB7CiAgICBjb25zdCBidXNpbmVzc0lkID0gTnVtYmVyKHBhcmFtcy5idXNpbmVzc0lkKTsKICAgIGlmKGlzTmFOKGJ1c2luZXNzSWQpKSB7CiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICJJbnZhbGlkIGJ1c2luZXNzIElEIiB9LCB7IHN0YXR1czogNDAwIH0pOwogICAgfQogICAgY29uc3QgaG91cnMgPSBhd2FpdCBnZXRCdXNpbmVzc0hvdXJzRGIoYnVzaW5lc3NJZCk7CiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBob3VycyB9KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgaG91cnMgZm9yIGJ1c2luZXNzICR7cGFyYW1zLmJ1c2luZXNzSWR9OmAsIGVycm9yKTsKICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAiRmFpbGVkIHRvIGZldGNoIGhvdXJzIiB9LCB7IHN0YXR1czogNTAwIH0pOwogIH0KfQo=' | base64 -d > /root/localpulse/src/app/api/booking/hours/[businessId]/route.ts
mkdir -p /root/localpulse/src/app/api/booking/appointments
echo 'CgppbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICJuZXh0L3NlcnZlciI7CmltcG9ydCB7IGNyZWF0ZUFwcG9pbnRtZW50RGIsIGdldEJ1c2luZXNzU2VydmljZUJ5SWREYiwgZ2V0VXNlckJ5SWREYiwgZmluZEZpcnN0QXZhaWxhYmxlUmVzb3VyY2VEYiwgZ2V0QXBwb2ludG1lbnRzRm9yQnVzaW5lc3NEYiwgZ2V0QnVzaW5lc3NSZXNvdXJjZXNEYiB9IGZyb20gIkAvbGliL2RiIjsKaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gIkAvYXBwL2F1dGgvYWN0aW9ucyI7CmltcG9ydCB7IGFkZE1pbnV0ZXMsIGlzQmVmb3JlIH0gZnJvbSAiZGF0ZS1mbnMiOwoKCmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnOwpleHBvcnQgY29uc3QgcmV2YWxpZGF0ZSA9IDA7CmV4cG9ydCBjb25zdCBmZXRjaENhY2hlID0gJ2RlZmF1bHQtbm8tc3RvcmUnOwoKLy8gSGVscGVyIHRvIGNoZWNrIGZvciBvdmVybGFwcwpjb25zdCBvdmVybGFwcyA9IChhU3RhcnQ6IERhdGUsIGFFbmQ6IERhdGUsIGJTdGFydDogRGF0ZSwgYkVuZDogRGF0ZSkgPT4KICBhU3RhcnQgPCBiRW5kICYmIGFFbmQgPiBiU3RhcnQ7CgovLyBIZWxwZXIgdG8gY2hlY2sgaWYgYSBzbG90IGlzIHZhbGlkCmZ1bmN0aW9uIGlzU2xvdEF2YWlsYWJsZSgKICBzbG90U3RhcnRVdGM6IERhdGUsCiAgc2xvdEVuZFV0YzogRGF0ZSwKICBidXN5U2xvdHM6IHtzdGFydF90aW1lOiBzdHJpbmcsIGVuZF90aW1lOiBzdHJpbmd9W10sCiAgdG90YWxSZXNvdXJjZXM6IG51bWJlciwKKTogYm9vbGVhbiB7CiAgICBjb25zdCBjb25mbGljdGluZ0FwcG9pbnRtZW50cyA9IGJ1c3lTbG90cy5maWx0ZXIoYiA9PgogICAgICBvdmVybGFwcyhzbG90U3RhcnRVdGMsIHNsb3RFbmRVdGMsIG5ldyBEYXRlKGIuc3RhcnRfdGltZSksIG5ldyBEYXRlKGIuZW5kX3RpbWUpKQogICAgKS5sZW5ndGg7CiAgICAKICAgIHJldHVybiBjb25mbGljdGluZ0FwcG9pbnRtZW50cyA8IHRvdGFsUmVzb3VyY2VzOwp9CgovLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmVsaWFibHkgY29udmVydCBsb2NhbCB0aW1lIGluIGEgZ2l2ZW4gdGltZXpvbmUgdG8gYSBVVEMgRGF0ZSBvYmplY3QKZnVuY3Rpb24gY29udmVydFRvVXRjKGRhdGU6IHN0cmluZywgdGltZTogc3RyaW5nLCB0aW1lWm9uZTogc3RyaW5nKTogRGF0ZSB7CiAgLy8gVGhpcyBoZWxwZXIgY3JlYXRlcyBhIGRhdGUgc3RyaW5nIGxpa2UgJzIwMjUtMDgtMjBUMDk6MDA6MDAuMDAwKzA1OjMwJwogIC8vIHdoaWNoIGlzIGNvcnJlY3RseSBwYXJzZWQgYnkgbmV3IERhdGUoKSBpbnRvIGEgVVRDIERhdGUgb2JqZWN0LgogIGNvbnN0IGR0U3RyaW5nID0gYCR7ZGF0ZX1UJHt0aW1lfTowMGA7CiAgCiAgLy8gQ3JlYXRlIGEgdGVtcG9yYXJ5IGRhdGUgb2JqZWN0IHRvIGdldCB0aGUgdGltZXpvbmUgb2Zmc2V0IHN0cmluZy4KICAvLyBUaGlzIGlzIGEgcm9idXN0IHdheSB0byBoYW5kbGUgdmFyaW91cyB0aW1lem9uZXMgaW5jbHVkaW5nIHRob3NlIHdpdGggMzAtbWluIG9mZnNldHMuCiAgY29uc3QgdGVtcERhdGUgPSBuZXcgRGF0ZSgpOwogIGNvbnN0IHRpbWVab25lT2Zmc2V0ID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoJ2VuLVVTJywgewogICAgdGltZVpvbmUsCiAgICB0aW1lWm9uZU5hbWU6ICdsb25nT2Zmc2V0JywKICB9KS5mb3JtYXRUb1BhcnRzKHRlbXBEYXRlKS5maW5kKHBhcnQgPT4gcGFydC50eXBlID09PSAndGltZVpvbmVOYW1lJyk/LnZhbHVlOwoKICAvLyBlLmcuLCAiR01UKzU6MzAiIG9yICJHTVQtNCIKICBjb25zdCBvZmZzZXRTdHJpbmcgPSB0aW1lWm9uZU9mZnNldCA/IHRpbWVab25lT2Zmc2V0LnJlcGxhY2UoJ0dNVCcsICcnKSA6ICcrMDA6MDAnOwogIAogIGNvbnN0IGlzb1N0cmluZ1dpdGhPZmZzZXQgPSBgJHtkdFN0cmluZ30ke29mZnNldFN0cmluZ31gOwogIHJldHVybiBuZXcgRGF0ZShpc29TdHJpbmdXaXRoT2Zmc2V0KTsKfQoKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkgewogIHRyeSB7CiAgICBjb25zdCB7IHVzZXI6IHNlc3Npb25Vc2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXNlc3Npb25Vc2VyKSB7CiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6ZmFsc2UsIGVycm9yOiJBdXRoZW50aWNhdGlvbiByZXF1aXJlZCIgfSwgeyBzdGF0dXM6NDAxIH0pOwogICAgfQoKICAgIGNvbnN0IGJvZHk6IHsKICAgICAgICBidXNpbmVzc19pZDogbnVtYmVyOwogICAgICAgIHNlcnZpY2VfaWQ6IG51bWJlcjsKICAgICAgICBkYXRlOiBzdHJpbmc7IC8vICJ5eXl5LU1NLWRkIgogICAgICAgIHRpbWU6IHN0cmluZzsgLy8gIkhIOm1tIgogICAgfSA9IGF3YWl0IHJlcS5qc29uKCk7CiAgICAKICAgIGlmICghYm9keS5idXNpbmVzc19pZCB8fCAhYm9keS5zZXJ2aWNlX2lkIHx8ICFib2R5LmRhdGUgfHwgIWJvZHkudGltZSkgewogICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIk1pc3NpbmcgcmVxdWlyZWQgZmllbGRzIGZvciBhcHBvaW50bWVudCIgfSwgeyBzdGF0dXM6IDQwMCB9KTsKICAgIH0KCiAgICAvLyBTZXJ2ZXItc2lkZSB2YWxpZGF0aW9uCiAgICBjb25zdCBbc2VydmljZSwgYnVzaW5lc3MsIHJlc291cmNlcywgZXhpc3RpbmdBcHBvaW50bWVudHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICAgIGdldEJ1c2luZXNzU2VydmljZUJ5SWREYihib2R5LnNlcnZpY2VfaWQpLAogICAgICAgIGdldFVzZXJCeUlkRGIoYm9keS5idXNpbmVzc19pZCksCiAgICAgICAgZ2V0QnVzaW5lc3NSZXNvdXJjZXNEYihib2R5LmJ1c2luZXNzX2lkKSwKICAgICAgICBnZXRBcHBvaW50bWVudHNGb3JCdXNpbmVzc0RiKGJvZHkuYnVzaW5lc3NfaWQsIGJvZHkuZGF0ZSksCiAgICBdKTsKCiAgICBpZiAoIXNlcnZpY2UgfHwgc2VydmljZS51c2VyX2lkICE9PSBib2R5LmJ1c2luZXNzX2lkKSB7CiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAiSW52YWxpZCBzZXJ2aWNlIHNlbGVjdGVkLiIgfSwgeyBzdGF0dXM6IDQwMCB9KTsKICAgIH0KCiAgICBpZiAoIWJ1c2luZXNzIHx8ICFidXNpbmVzcy50aW1lem9uZSkgewogICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIkJ1c2luZXNzIHRpbWV6b25lIGlzIG5vdCBzZXQuIENhbm5vdCBib29rIGFwcG9pbnRtZW50LiIgfSwgeyBzdGF0dXM6IDQwMCB9KTsKICAgIH0KICAgIAogICAgY29uc3QgYnVzaW5lc3NUaW1lWm9uZSA9IGJ1c2luZXNzLnRpbWV6b25lOwogICAgY29uc3QgdG90YWxSZXNvdXJjZXMgPSByZXNvdXJjZXMubGVuZ3RoID4gMCA/IHJlc291cmNlcy5sZW5ndGggOiAxOwogICAgCiAgICAvLyBDb3JyZWN0bHkgY29udmVydCB0aGUgc2VsZWN0ZWQgbG9jYWwgdGltZSBpbiB0aGUgYnVzaW5lc3MncyB0aW1lem9uZSB0byBhIFVUQyBEYXRlIG9iamVjdC4KICAgIGNvbnN0IHNsb3RTdGFydFV0YyA9IGNvbnZlcnRUb1V0Yyhib2R5LmRhdGUsIGJvZHkudGltZSwgYnVzaW5lc3NUaW1lWm9uZSk7CgogICAgLy8gQ09SUkVDVEVEOiBDaGVjayBpZiB0aGUgY3VycmVudCB0aW1lIGBuZXcgRGF0ZSgpYCBpcyBCRUZPUkUgdGhlIHNlbGVjdGVkIHNsb3Qgc3RhcnQgdGltZS4KICAgIGlmIChpc0JlZm9yZShzbG90U3RhcnRVdGMsIG5ldyBEYXRlKCkpKSB7CiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAiQ2Fubm90IGJvb2sgYW4gYXBwb2ludG1lbnQgaW4gdGhlIHBhc3QuIiB9LCB7IHN0YXR1czogNDA5IH0pOwogICAgfQogICAgCiAgICBjb25zdCBzbG90RW5kVXRjID0gYWRkTWludXRlcyhzbG90U3RhcnRVdGMsIHNlcnZpY2UuZHVyYXRpb25fbWludXRlcyk7CgogICAgLy8gUmUtdmVyaWZ5IGF2YWlsYWJpbGl0eSBvbiB0aGUgc2VydmVyIHRvIHByZXZlbnQgcmFjZSBjb25kaXRpb25zCiAgICBjb25zdCBpc1N0aWxsQXZhaWxhYmxlID0gaXNTbG90QXZhaWxhYmxlKHNsb3RTdGFydFV0Yywgc2xvdEVuZFV0YywgZXhpc3RpbmdBcHBvaW50bWVudHMsIHRvdGFsUmVzb3VyY2VzKTsKICAgIGlmICghaXNTdGlsbEF2YWlsYWJsZSkgewogICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIlRoZSBzZWxlY3RlZCB0aW1lIHNsb3QgaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZS4iIH0sIHsgc3RhdHVzOiA0MDkgfSk7IC8vIDQwOSBDb25mbGljdAogICAgfQoKICAgIGNvbnN0IHJlc291cmNlID0gYXdhaXQgZmluZEZpcnN0QXZhaWxhYmxlUmVzb3VyY2VEYihib2R5LmJ1c2luZXNzX2lkLCBzbG90U3RhcnRVdGMsIHNsb3RFbmRVdGMpOwogICAgaWYgKCFyZXNvdXJjZSkgewogICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogIk5vIGF2YWlsYWJsZSByZXNvdXJjZXMgZm9yIHRoaXMgdGltZSBzbG90LiIgfSwgeyBzdGF0dXM6IDQwOSB9KTsKICAgIH0KCiAgICBjb25zdCBhcHB0ID0gYXdhaXQgY3JlYXRlQXBwb2ludG1lbnREYih7IAogICAgICAgIGN1c3RvbWVyX2lkOiBzZXNzaW9uVXNlci5pZCwKICAgICAgICBidXNpbmVzc19pZDogYm9keS5idXNpbmVzc19pZCwKICAgICAgICBzZXJ2aWNlX2lkOiBib2R5LnNlcnZpY2VfaWQsCiAgICAgICAgcmVzb3VyY2VfaWQ6IHJlc291cmNlLmlkLAogICAgICAgIHN0YXJ0X3RpbWU6IHNsb3RTdGFydFV0Yy50b0lTT1N0cmluZygpLAogICAgICAgIGVuZF90aW1lOiBzbG90RW5kVXRjLnRvSVNPU3RyaW5nKCksCiAgICAgICAgdGltZXpvbmU6IGJ1c2luZXNzVGltZVpvbmUsCiAgICAgfSk7CgogICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2Vzczp0cnVlLCBhcHBvaW50bWVudDogYXBwdCB9KTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhcHBvaW50bWVudDonLCBlcnJvcik7CiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgIkZhaWxlZCB0byBjcmVhdGUgYXBwb2ludG1lbnQiIH0sIHsgc3RhdHVzOiA1MDAgfSk7CiAgfQp9Cg==' | base64 -d > /root/localpulse/src/app/api/booking/appointments/route.ts
mkdir -p /root/localpulse/src/app/api/availability
echo 'CgovLyBUaGlzIGZpbGUgaXMgbm8gbG9uZ2VyIHVzZWQgYW5kIGNhbiBiZSBkZWxldGVkLgovLyBUaGUgYXZhaWxhYmlsaXR5IGxvZ2ljIGlzIG5vdyBpbiAvYXBpL2Jvb2tpbmcvYXZhaWxhYmlsaXR5L3JvdXRlLnRzCmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJzsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBSZXF1ZXN0KSB7CiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsKICAgIGVycm9yOiAnVGhpcyBlbmRwb2ludCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIC9hcGkvYm9va2luZy9hdmFpbGFiaWxpdHkuJwogIH0sIHsgc3RhdHVzOiA0MTAgfSk7Cn0KCg==' | base64 -d > /root/localpulse/src/app/api/availability/route.ts
mkdir -p /root/localpulse/src/app/api/actions/register-token-from-sw
echo 'Ci8vIHNyYy9hcHAvYXBpL2FjdGlvbnMvcmVnaXN0ZXItdG9rZW4tZnJvbS1zdy9yb3V0ZS50cwppbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7CmltcG9ydCB7IHJlZ2lzdGVyRGV2aWNlVG9rZW4gfSBmcm9tICdAL2FwcC9hY3Rpb25zJzsKCi8vIFRoaXMgaXMgYSBzaW1wbGUgQVBJIHJvdXRlIHdyYXBwZXIgdGhhdCBhbGxvd3MgdGhlIHNlcnZpY2Ugd29ya2VyCi8vIHRvIGNhbGwgYSBzZXJ2ZXIgYWN0aW9uLCBzaW5jZSBzZXJ2aWNlIHdvcmtlcnMgY2Fubm90IGNhbGwgdGhlbSBkaXJlY3RseS4KZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkgewogIHRyeSB7CiAgICBjb25zdCB7IHRva2VuLCBsYXRpdHVkZSwgbG9uZ2l0dWRlIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTsKICAgIGlmICghdG9rZW4pIHsKICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVG9rZW4gaXMgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7CiAgICB9CgogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVnaXN0ZXJEZXZpY2VUb2tlbih0b2tlbiwgbGF0aXR1ZGUsIGxvbmdpdHVkZSk7CiAgICAKICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfSwgeyBzdGF0dXM6IDUwMCB9KTsKICAgIH0KICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTsKICB9Cn0K' | base64 -d > /root/localpulse/src/app/api/actions/register-token-from-sw/route.ts
mkdir -p /root/localpulse/src/app/posts/[postId]
echo 'CgppbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBub3RGb3VuZCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCB7IGdldFBvc3RCeUlkIH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IGdldFNlc3Npb24gfSBmcm9tICdAL2FwcC9hdXRoL2FjdGlvbnMnOwppbXBvcnQgeyBQb3N0Q2FyZCB9IGZyb20gJ0AvY29tcG9uZW50cy9wb3N0LWNhcmQnOwoKaW50ZXJmYWNlIFBvc3RQYWdlUHJvcHMgewogIHBhcmFtczogewogICAgcG9zdElkOiBzdHJpbmc7CiAgfTsKfQoKY29uc3QgUG9zdFBhZ2U6IEZDPFBvc3RQYWdlUHJvcHM+ID0gYXN5bmMgKHsgcGFyYW1zIH0pID0+IHsKICBjb25zdCBwb3N0SWQgPSBwYXJzZUludChwYXJhbXMucG9zdElkLCAxMCk7CiAgaWYgKGlzTmFOKHBvc3RJZCkpIHsKICAgIG5vdEZvdW5kKCk7CiAgfQoKICAvLyBGZXRjaCBwb3N0IGFuZCBzZXNzaW9uIGluIHBhcmFsbGVsCiAgY29uc3QgW3Bvc3QsIHsgdXNlcjogc2Vzc2lvblVzZXIgfV0gPSBhd2FpdCBQcm9taXNlLmFsbChbCiAgICBnZXRQb3N0QnlJZChwb3N0SWQpLAogICAgZ2V0U2Vzc2lvbigpCiAgXSk7CgogIGlmICghcG9zdCkgewogICAgbm90Rm91bmQoKTsKICB9CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC00IHNtOnAtNiBtZDpwLTggbGc6cC0xNiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJhY2tncm91bmQgdG8tbXV0ZWQvMzAiPgogICAgICA8ZGl2IGNsYXNzTmFtZT0iY29udGFpbmVyIG14LWF1dG8gbWF4LXctMnhsIHB5LTgiPgogICAgICAgIDxQb3N0Q2FyZCAKICAgICAgICAgIGtleT17cG9zdC5pZH0gCiAgICAgICAgICBwb3N0PXtwb3N0fSAKICAgICAgICAgIHVzZXJMb2NhdGlvbj17bnVsbH0gLy8gQ2FuJ3QgZ2V0IHZpZXdpbmcgdXNlcidzIGxvY2F0aW9uIG9uIHNlcnZlciBmb3IgZGlzdGFuY2UgY2FsYwogICAgICAgICAgc2Vzc2lvblVzZXI9e3Nlc3Npb25Vc2VyfSAKICAgICAgICAvPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBQb3N0UGFnZTsK' | base64 -d > /root/localpulse/src/app/posts/[postId]/page.tsx
mkdir -p /root/localpulse/src/app/account/manage-business
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgeyBUYWJzLCBUYWJzQ29udGVudCwgVGFic0xpc3QsIFRhYnNUcmlnZ2VyIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL3RhYnMiOwppbXBvcnQgeyBDYXJkLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUsIENhcmREZXNjcmlwdGlvbiwgQ2FyZENvbnRlbnQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IFdyZW5jaCwgQ2xvY2ssIEFybWNoYWlyLCBDYWxlbmRhckNoZWNrIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IE1hbmFnZVNlcnZpY2VzQ2xpZW50IGZyb20gJy4vbWFuYWdlLXNlcnZpY2VzLWNsaWVudCc7CmltcG9ydCBNYW5hZ2VTY2hlZHVsZUNsaWVudCBmcm9tICcuL21hbmFnZS1zY2hlZHVsZS1jbGllbnQnOwppbXBvcnQgTWFuYWdlUmVzb3VyY2VzQ2xpZW50IGZyb20gJy4vbWFuYWdlLXJlc291cmNlcy1jbGllbnQnOwppbXBvcnQgTWFuYWdlQm9va2luZ3NDbGllbnQgZnJvbSAnLi9tYW5hZ2UtYm9va2luZ3MtY2xpZW50JzsKaW1wb3J0IHR5cGUgeyBCdXNpbmVzc1NlcnZpY2UsIEJ1c2luZXNzSG91ciwgQnVzaW5lc3NSZXNvdXJjZSwgVXNlciB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKCmludGVyZmFjZSBNYW5hZ2VCdXNpbmVzc1RhYnNQcm9wcyB7CiAgICBpbml0aWFsU2VydmljZXM6IEJ1c2luZXNzU2VydmljZVtdOwogICAgaW5pdGlhbEhvdXJzOiBCdXNpbmVzc0hvdXJbXTsKICAgIGluaXRpYWxSZXNvdXJjZXM6IEJ1c2luZXNzUmVzb3VyY2VbXTsKICAgIGJ1c2luZXNzVXNlcjogVXNlcjsKfQoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWFuYWdlQnVzaW5lc3NUYWJzKHsgaW5pdGlhbFNlcnZpY2VzLCBpbml0aWFsSG91cnMsIGluaXRpYWxSZXNvdXJjZXMsIGJ1c2luZXNzVXNlciB9OiBNYW5hZ2VCdXNpbmVzc1RhYnNQcm9wcykgewogICAgcmV0dXJuICgKICAgICAgICA8VGFicyBkZWZhdWx0VmFsdWU9ImJvb2tpbmdzIiBjbGFzc05hbWU9InctZnVsbCI+CiAgICAgICAgICAgIDxUYWJzTGlzdCBjbGFzc05hbWU9ImdyaWQgdy1mdWxsIGdyaWQtY29scy00Ij4KICAgICAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT0iYm9va2luZ3MiPjxDYWxlbmRhckNoZWNrIGNsYXNzTmFtZT0idy00IGgtNCBtci0yIi8+IEJvb2tpbmdzPC9UYWJzVHJpZ2dlcj4KICAgICAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT0ic2VydmljZXMiPjxXcmVuY2ggY2xhc3NOYW1lPSJ3LTQgaC00IG1yLTIiLz4gU2VydmljZXM8L1RhYnNUcmlnZ2VyPgogICAgICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPSJzY2hlZHVsZSI+PENsb2NrIGNsYXNzTmFtZT0idy00IGgtNCBtci0yIi8+IFNjaGVkdWxlPC9UYWJzVHJpZ2dlcj4KICAgICAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT0icmVzb3VyY2VzIj48QXJtY2hhaXIgY2xhc3NOYW1lPSJ3LTQgaC00IG1yLTIiLz4gUmVzb3VyY2VzPC9UYWJzVHJpZ2dlcj4KICAgICAgICAgICAgPC9UYWJzTGlzdD4KCiAgICAgICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT0iYm9va2luZ3MiPgogICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGcgYm9yZGVyLWJvcmRlci82MCI+CiAgICAgICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXJDaGVjayBjbGFzc05hbWU9InctNiBoLTYgbXItMyB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYWlseSBCb29raW5ncwogICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5WaWV3IHlvdXIgYXBwb2ludG1lbnQgc2NoZWR1bGUgZm9yIGEgc3BlY2lmaWMgZGF5LjwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxNYW5hZ2VCb29raW5nc0NsaWVudCAvPgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgICAgIDwvVGFic0NvbnRlbnQ+CgogICAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9InNlcnZpY2VzIj4KICAgICAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIGJvcmRlci1ib3JkZXIvNjAiPgogICAgICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFdyZW5jaCBjbGFzc05hbWU9InctNiBoLTYgbXItMyB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgIFlvdXIgU2VydmljZXMKICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+RGVmaW5lIHRoZSBib29rYWJsZSBzZXJ2aWNlcyB5b3Ugb2ZmZXIgdG8gY3VzdG9tZXJzLjwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgPE1hbmFnZVNlcnZpY2VzQ2xpZW50IGluaXRpYWxTZXJ2aWNlcz17aW5pdGlhbFNlcnZpY2VzfSBidXNpbmVzc1VzZXJJZD17YnVzaW5lc3NVc2VyLmlkfSAvPgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgICAgIDwvVGFic0NvbnRlbnQ+CgogICAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9InNjaGVkdWxlIj4KICAgICAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIGJvcmRlci1ib3JkZXIvNjAiPgogICAgICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9jayBjbGFzc05hbWU9InctNiBoLTYgbXItMyB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgIEhvdXJzICYgU2NoZWR1bGUKICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+U2V0IHlvdXIgd2Vla2x5IHdvcmtpbmcgaG91cnMsIGRheXMgb2ZmLCBhbmQgYnVzaW5lc3MgdGltZXpvbmUuPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgPE1hbmFnZVNjaGVkdWxlQ2xpZW50IGluaXRpYWxIb3Vycz17aW5pdGlhbEhvdXJzfSBidXNpbmVzc1VzZXI9e2J1c2luZXNzVXNlcn0gLz4KICAgICAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICAgICAgICAgICAgPC9DYXJkPgogICAgICAgICAgICA8L1RhYnNDb250ZW50PgoKICAgICAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPSJyZXNvdXJjZXMiPgogICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGcgYm9yZGVyLWJvcmRlci82MCI+CiAgICAgICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXJtY2hhaXIgY2xhc3NOYW1lPSJ3LTYgaC02IG1yLTMgdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VzCiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPgogICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPk1hbmFnZSB5b3VyIGJvb2thYmxlIHJlc291cmNlcyAoZS5nLiwgc2Fsb24gY2hhaXJzLCB3YXNoaW5nIGJheXMpLjwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICA8TWFuYWdlUmVzb3VyY2VzQ2xpZW50IGluaXRpYWxSZXNvdXJjZXM9e2luaXRpYWxSZXNvdXJjZXN9IGJ1c2luZXNzVXNlcklkPXtidXNpbmVzc1VzZXIuaWR9IC8+CiAgICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICAgICAgICAgIDwvQ2FyZD4KICAgICAgICAgICAgPC9UYWJzQ29udGVudD4KICAgICAgICA8L1RhYnM+CiAgICApOwp9Cg==' | base64 -d > /root/localpulse/src/app/account/manage-business/manage-business-tabs.tsx
mkdir -p /root/localpulse/src/app/account/manage-business
echo 'CgppbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnQC9hcHAvYXV0aC9hY3Rpb25zJzsKaW1wb3J0IHsgcmVkaXJlY3QgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgeyBnZXRCdXNpbmVzc1NlcnZpY2VzRGIsIGdldEJ1c2luZXNzSG91cnNEYiwgZ2V0QnVzaW5lc3NSZXNvdXJjZXNEYiwgZ2V0VXNlckJ5SWREYiB9IGZyb20gJ0AvbGliL2RiJzsKaW1wb3J0IHsgQ2FyZCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlLCBDYXJkRGVzY3JpcHRpb24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwppbXBvcnQgeyBBcnJvd0xlZnQsIFdyZW5jaCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCBNYW5hZ2VCdXNpbmVzc1RhYnMgZnJvbSAnLi9tYW5hZ2UtYnVzaW5lc3MtdGFicyc7CgoKZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7CgpleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBNYW5hZ2VCdXNpbmVzc1BhZ2UoKSB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKCiAgICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnQnVzaW5lc3MnKSB7CiAgICAgICAgcmVkaXJlY3QoJy8nKTsKICAgIH0KCiAgICAvLyBGZXRjaCBpbml0aWFsIGRhdGEgZm9yIGFsbCB0YWJzIGluIHBhcmFsbGVsLCBpbmNsdWRpbmcgZnVsbCBidXNpbmVzcyB1c2VyIGRldGFpbHMgZm9yIHRpbWV6b25lCiAgICBjb25zdCBbaW5pdGlhbFNlcnZpY2VzLCBpbml0aWFsSG91cnMsIGluaXRpYWxSZXNvdXJjZXMsIGJ1c2luZXNzVXNlcl0gPSBhd2FpdCBQcm9taXNlLmFsbChbCiAgICAgICAgZ2V0QnVzaW5lc3NTZXJ2aWNlc0RiKHVzZXIuaWQpLAogICAgICAgIGdldEJ1c2luZXNzSG91cnNEYih1c2VyLmlkKSwKICAgICAgICBnZXRCdXNpbmVzc1Jlc291cmNlc0RiKHVzZXIuaWQpLAogICAgICAgIGdldFVzZXJCeUlkRGIodXNlci5pZCksIC8vIEZldGNoIHRoZSBmdWxsIHVzZXIgb2JqZWN0CiAgICBdKTsKICAgIAogICAgaWYoIWJ1c2luZXNzVXNlcikgewogICAgICAgIC8vIFRoaXMgY2FzZSBzaG91bGQgaWRlYWxseSBub3QgaGFwcGVuIGlmIHRoZSBzZXNzaW9uIGlzIHZhbGlkCiAgICAgICAgcmVkaXJlY3QoJy8nKTsKICAgIH0KCiAgICByZXR1cm4gKAogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTQgc206cC02IG1kOnAtOCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJjb250YWluZXIgbXgtYXV0byB3LWZ1bGwgbWF4LXctMnhsIHNwYWNlLXktNiI+CiAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIiBzaXplPSJzbSIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL3VzZXJzLyR7dXNlci5pZH1gfT4KICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgQmFjayB0byBQcm9maWxlCiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICAgICAgPC9CdXR0b24+CgogICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGcgYm9yZGVyLWJvcmRlci82MCI+CiAgICAgICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LTN4bCBmb250LWJvbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPFdyZW5jaCBjbGFzc05hbWU9InctOCBoLTggbXItMyB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYW5hZ2UgQnVzaW5lc3MKICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZpbmUgeW91ciBzZXJ2aWNlcywgc2V0IHlvdXIgc2NoZWR1bGUsIGFuZCBtYW5hZ2UgeW91ciBib29raW5ncyBoZXJlLgogICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgICAgICAgICA8L0NhcmQ+CgogICAgICAgICAgICAgICAgPE1hbmFnZUJ1c2luZXNzVGFicwogICAgICAgICAgICAgICAgICAgIGluaXRpYWxTZXJ2aWNlcz17aW5pdGlhbFNlcnZpY2VzfQogICAgICAgICAgICAgICAgICAgIGluaXRpYWxIb3Vycz17aW5pdGlhbEhvdXJzfQogICAgICAgICAgICAgICAgICAgIGluaXRpYWxSZXNvdXJjZXM9e2luaXRpYWxSZXNvdXJjZXN9CiAgICAgICAgICAgICAgICAgICAgYnVzaW5lc3NVc2VyPXtidXNpbmVzc1VzZXJ9CiAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICk7Cn0K' | base64 -d > /root/localpulse/src/app/account/manage-business/page.tsx
mkdir -p /root/localpulse/src/app/account/manage-business
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ2FyZCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlLCBDYXJkRGVzY3JpcHRpb24sIENhcmRDb250ZW50IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgUGx1c0NpcmNsZSwgRWRpdCwgVHJhc2gyLCBUYWcsIENsb2NrLCBMb2FkZXIyIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsKICBEaWFsb2csCiAgRGlhbG9nQ29udGVudCwKICBEaWFsb2dEZXNjcmlwdGlvbiwKICBEaWFsb2dGb290ZXIsCiAgRGlhbG9nSGVhZGVyLAogIERpYWxvZ1RpdGxlLAogIERpYWxvZ1RyaWdnZXIsCiAgRGlhbG9nQ2xvc2UsCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2RpYWxvZyc7CmltcG9ydCB7IEZvcm0sIEZvcm1Db250cm9sLCBGb3JtRmllbGQsIEZvcm1JdGVtLCBGb3JtTGFiZWwsIEZvcm1NZXNzYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Zvcm0nOwppbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJzsKaW1wb3J0IHsgem9kUmVzb2x2ZXIgfSBmcm9tICdAaG9va2Zvcm0vcmVzb2x2ZXJzL3pvZCc7CmltcG9ydCAqIGFzIHogZnJvbSAnem9kJzsKaW1wb3J0IHsgYWRkQnVzaW5lc3NTZXJ2aWNlLCB1cGRhdGVCdXNpbmVzc1NlcnZpY2UsIGRlbGV0ZUJ1c2luZXNzU2VydmljZSwgZ2V0QnVzaW5lc3NTZXJ2aWNlcyB9IGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCB0eXBlIHsgQnVzaW5lc3NTZXJ2aWNlIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwoKY29uc3Qgc2VydmljZVNjaGVtYSA9IHoub2JqZWN0KHsKICBuYW1lOiB6LnN0cmluZygpLm1pbigyLCAnU2VydmljZSBuYW1lIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzLicpLAogIHByaWNlOiB6LmNvZXJjZS5udW1iZXIoKS5taW4oMCwgJ1ByaWNlIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuJyksCiAgZHVyYXRpb25fbWludXRlczogei5jb2VyY2UubnVtYmVyKCkuaW50KCkubWluKDUsICdEdXJhdGlvbiBtdXN0IGJlIGF0IGxlYXN0IDUgbWludXRlcy4nKSwKfSk7Cgp0eXBlIFNlcnZpY2VGb3JtRGF0YSA9IHouaW5mZXI8dHlwZW9mIHNlcnZpY2VTY2hlbWE+OwoKaW50ZXJmYWNlIFNlcnZpY2VGb3JtRGlhbG9nUHJvcHMgewogIHNlcnZpY2U/OiBCdXNpbmVzc1NlcnZpY2U7CiAgb25TdWNjZXNzOiAoKSA9PiB2b2lkOwogIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7Cn0KCmNvbnN0IFNlcnZpY2VGb3JtRGlhbG9nOiBSZWFjdC5GQzxTZXJ2aWNlRm9ybURpYWxvZ1Byb3BzPiA9ICh7IHNlcnZpY2UsIG9uU3VjY2VzcywgY2hpbGRyZW4gfSkgPT4gewogIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBmb3JtID0gdXNlRm9ybTxTZXJ2aWNlRm9ybURhdGE+KHsKICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihzZXJ2aWNlU2NoZW1hKSwKICAgIGRlZmF1bHRWYWx1ZXM6IHNlcnZpY2UgfHwgewogICAgICBuYW1lOiAnJywKICAgICAgcHJpY2U6IDAsCiAgICAgIGR1cmF0aW9uX21pbnV0ZXM6IDMwLAogICAgfSwKICB9KTsKCiAgY29uc3QgeyBpc1N1Ym1pdHRpbmcgfSA9IGZvcm0uZm9ybVN0YXRlOwoKICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChkYXRhOiBTZXJ2aWNlRm9ybURhdGEpID0+IHsKICAgIGNvbnN0IHJlc3VsdCA9IHNlcnZpY2UKICAgICAgPyBhd2FpdCB1cGRhdGVCdXNpbmVzc1NlcnZpY2Uoc2VydmljZS5pZCwgZGF0YSkKICAgICAgOiBhd2FpdCBhZGRCdXNpbmVzc1NlcnZpY2UoZGF0YSk7CgogICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgIHRvYXN0KHsgdGl0bGU6IGBTZXJ2aWNlICR7c2VydmljZSA/ICdVcGRhdGVkJyA6ICdBZGRlZCd9IWAgfSk7CiAgICAgIG9uU3VjY2VzcygpOwogICAgICBzZXRJc09wZW4oZmFsc2UpOwogICAgICBmb3JtLnJlc2V0KHNlcnZpY2UgfHwgeyBuYW1lOiAnJywgcHJpY2U6IDAsIGR1cmF0aW9uX21pbnV0ZXM6IDMwIH0pOwogICAgfSBlbHNlIHsKICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB9KTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17c2V0SXNPcGVufT4KICAgICAgPERpYWxvZ1RyaWdnZXIgYXNDaGlsZD57Y2hpbGRyZW59PC9EaWFsb2dUcmlnZ2VyPgogICAgICA8RGlhbG9nQ29udGVudD4KICAgICAgICA8RGlhbG9nSGVhZGVyPgogICAgICAgICAgPERpYWxvZ1RpdGxlPntzZXJ2aWNlID8gJ0VkaXQgU2VydmljZScgOiAnQWRkIE5ldyBTZXJ2aWNlJ308L0RpYWxvZ1RpdGxlPgogICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICB7c2VydmljZSA/IGBVcGRhdGUgdGhlIGRldGFpbHMgZm9yICIke3NlcnZpY2UubmFtZX0iLmAgOiAnRGVmaW5lIGEgbmV3IHNlcnZpY2UgeW91ciBidXNpbmVzcyBvZmZlcnMuJ30KICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgPC9EaWFsb2dIZWFkZXI+CiAgICAgICAgPEZvcm0gey4uLmZvcm19PgogICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2Zvcm0uaGFuZGxlU3VibWl0KG9uU3VibWl0KX0gY2xhc3NOYW1lPSJzcGFjZS15LTQgcHktNCI+CiAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICAgICAgbmFtZT0ibmFtZSIKICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5TZXJ2aWNlIE5hbWU8L0Zvcm1MYWJlbD4KICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj0iZS5nLiwgSGFpcmN1dCwgQmVhcmQgVHJpbSIgey4uLmZpZWxkfSAvPgogICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgLz4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTQiPgogICAgICAgICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgIG5hbWU9InByaWNlIgogICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9KSA9PiAoCiAgICAgICAgICAgICAgICAgIDxGb3JtSXRlbT4KICAgICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlByaWNlICjigrkpPC9Gb3JtTGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgPElucHV0IHR5cGU9Im51bWJlciIgey4uLmZpZWxkfSAvPgogICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlIC8+CiAgICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgbmFtZT0iZHVyYXRpb25fbWludXRlcyIKICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5EdXJhdGlvbiAobWluKTwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPSJudW1iZXIiIHN0ZXA9IjUiIHsuLi5maWVsZH0gLz4KICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAvPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgICAgICA8RGlhbG9nQ2xvc2UgYXNDaGlsZD48QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiPkNhbmNlbDwvQnV0dG9uPjwvRGlhbG9nQ2xvc2U+CiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PgogICAgICAgICAgICAgICAge2lzU3VibWl0dGluZyAmJiA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+fQogICAgICAgICAgICAgICAge3NlcnZpY2UgPyAnU2F2ZSBDaGFuZ2VzJyA6ICdBZGQgU2VydmljZSd9CiAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvRGlhbG9nRm9vdGVyPgogICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvRm9ybT4KICAgICAgPC9EaWFsb2dDb250ZW50PgogICAgPC9EaWFsb2c+CiAgKTsKfTsKCgppbnRlcmZhY2UgTWFuYWdlU2VydmljZXNDbGllbnRQcm9wcyB7CiAgaW5pdGlhbFNlcnZpY2VzOiBCdXNpbmVzc1NlcnZpY2VbXTsKICBidXNpbmVzc1VzZXJJZDogbnVtYmVyOwp9Cgpjb25zdCBNYW5hZ2VTZXJ2aWNlc0NsaWVudDogUmVhY3QuRkM8TWFuYWdlU2VydmljZXNDbGllbnRQcm9wcz4gPSAoeyBpbml0aWFsU2VydmljZXMsIGJ1c2luZXNzVXNlcklkIH0pID0+IHsKICBjb25zdCBbc2VydmljZXMsIHNldFNlcnZpY2VzXSA9IHVzZVN0YXRlKGluaXRpYWxTZXJ2aWNlcyk7CiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwoKICBjb25zdCBmZXRjaFNlcnZpY2VzID0gYXN5bmMgKCkgPT4gewogICAgc2V0SXNMb2FkaW5nKHRydWUpOwogICAgY29uc3QgdXBkYXRlZFNlcnZpY2VzID0gYXdhaXQgZ2V0QnVzaW5lc3NTZXJ2aWNlcyhidXNpbmVzc1VzZXJJZCk7CiAgICBzZXRTZXJ2aWNlcyh1cGRhdGVkU2VydmljZXMpOwogICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsKICB9OwogIAogIGNvbnN0IGhhbmRsZURlbGV0ZSA9IGFzeW5jIChzZXJ2aWNlSWQ6IG51bWJlcikgPT4gewogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGVsZXRlQnVzaW5lc3NTZXJ2aWNlKHNlcnZpY2VJZCk7CiAgICBpZihyZXN1bHQuc3VjY2VzcykgewogICAgICB0b2FzdCh7IHRpdGxlOiAnU2VydmljZSBEZWxldGVkJyB9KTsKICAgICAgZmV0Y2hTZXJ2aWNlcygpOwogICAgfSBlbHNlIHsKICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB9KTsKICAgIH0KICB9CgogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktZW5kIG1iLTQiPgogICAgICAgICAgICA8U2VydmljZUZvcm1EaWFsb2cgb25TdWNjZXNzPXtmZXRjaFNlcnZpY2VzfT4KICAgICAgICAgICAgICAgIDxCdXR0b24+CiAgICAgICAgICAgICAgICAgICAgPFBsdXNDaXJjbGUgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+IEFkZCBTZXJ2aWNlCiAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9TZXJ2aWNlRm9ybURpYWxvZz4KICAgICAgICA8L2Rpdj4KCiAgICAgICAge2lzTG9hZGluZyA/ICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIHB5LTgiPgogICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSJteC1hdXRvIGgtOCB3LTggYW5pbWF0ZS1zcGluIHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgKSA6IHNlcnZpY2VzLmxlbmd0aCA9PT0gMCA/ICgKICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS0xMCB0ZXh0LW11dGVkLWZvcmVncm91bmQgYm9yZGVyIHJvdW5kZWQtbGciPgogICAgICAgICAgICA8cD5Zb3UgaGF2ZW4ndCBhZGRlZCBhbnkgc2VydmljZXMgeWV0LjwvcD4KICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIj5DbGljayAiQWRkIFNlcnZpY2UiIHRvIGdldCBzdGFydGVkLjwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICkgOiAoCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAge3NlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKAogICAgICAgICAgICAgIDxkaXYga2V5PXtzZXJ2aWNlLmlkfSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgcm91bmRlZC1tZCBib3JkZXIgYmctbXV0ZWQvMzAiPgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIj57c2VydmljZS5uYW1lfTwvcD4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC00IHRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTEiPgogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41Ij48VGFnIGNsYXNzTmFtZT0idy0zIGgtMyB0ZXh0LXByaW1hcnkiLz4g4oK5e3NlcnZpY2UucHJpY2V9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41Ij48Q2xvY2sgY2xhc3NOYW1lPSJ3LTMgaC0zIHRleHQtcHJpbWFyeSIvPiB7c2VydmljZS5kdXJhdGlvbl9taW51dGVzfSBtaW48L3NwYW4+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgIDxTZXJ2aWNlRm9ybURpYWxvZyBzZXJ2aWNlPXtzZXJ2aWNlfSBvblN1Y2Nlc3M9e2ZldGNoU2VydmljZXN9PgogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJpY29uIj48RWRpdCBjbGFzc05hbWU9InctNCBoLTQiIC8+PC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9TZXJ2aWNlRm9ybURpYWxvZz4KICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBzaXplPSJpY29uIiBjbGFzc05hbWU9InRleHQtZGVzdHJ1Y3RpdmUiIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZShzZXJ2aWNlLmlkKX0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSJ3LTQgaC00IiAvPgogICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICkpfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBNYW5hZ2VTZXJ2aWNlc0NsaWVudDsK' | base64 -d > /root/localpulse/src/app/account/manage-business/manage-services-client.tsx
mkdir -p /root/localpulse/src/app/account/manage-business
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IFBsdXNDaXJjbGUsIEVkaXQsIFRyYXNoMiwgTG9hZGVyMiwgQXJtY2hhaXIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgewogIERpYWxvZywKICBEaWFsb2dDb250ZW50LAogIERpYWxvZ0Rlc2NyaXB0aW9uLAogIERpYWxvZ0Zvb3RlciwKICBEaWFsb2dIZWFkZXIsCiAgRGlhbG9nVGl0bGUsCiAgRGlhbG9nVHJpZ2dlciwKICBEaWFsb2dDbG9zZSwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJzsKaW1wb3J0IHsgRm9ybSwgRm9ybUNvbnRyb2wsIEZvcm1GaWVsZCwgRm9ybUl0ZW0sIEZvcm1MYWJlbCwgRm9ybU1lc3NhZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZm9ybSc7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IHVzZUZvcm0gfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nOwppbXBvcnQgeyB6b2RSZXNvbHZlciB9IGZyb20gJ0Bob29rZm9ybS9yZXNvbHZlcnMvem9kJzsKaW1wb3J0ICogYXMgeiBmcm9tICd6b2QnOwppbXBvcnQgeyBhZGRCdXNpbmVzc1Jlc291cmNlLCB1cGRhdGVCdXNpbmVzc1Jlc291cmNlLCBkZWxldGVCdXNpbmVzc1Jlc291cmNlLCBnZXRCdXNpbmVzc1Jlc291cmNlcyB9IGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCB0eXBlIHsgQnVzaW5lc3NSZXNvdXJjZSB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gJ0AvYXBwL2F1dGgvYWN0aW9ucyc7Cgpjb25zdCByZXNvdXJjZVNjaGVtYSA9IHoub2JqZWN0KHsKICBuYW1lOiB6LnN0cmluZygpLm1pbigyLCAnUmVzb3VyY2UgbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycy4nKSwKfSk7Cgp0eXBlIFJlc291cmNlRm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiByZXNvdXJjZVNjaGVtYT47CgppbnRlcmZhY2UgUmVzb3VyY2VGb3JtRGlhbG9nUHJvcHMgewogIHJlc291cmNlPzogQnVzaW5lc3NSZXNvdXJjZTsKICBvblN1Y2Nlc3M6ICgpID0+IHZvaWQ7CiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKfQoKY29uc3QgUmVzb3VyY2VGb3JtRGlhbG9nOiBSZWFjdC5GQzxSZXNvdXJjZUZvcm1EaWFsb2dQcm9wcz4gPSAoeyByZXNvdXJjZSwgb25TdWNjZXNzLCBjaGlsZHJlbiB9KSA9PiB7CiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IGZvcm0gPSB1c2VGb3JtPFJlc291cmNlRm9ybURhdGE+KHsKICAgIHJlc29sdmVyOiB6b2RSZXNvbHZlcihyZXNvdXJjZVNjaGVtYSksCiAgICBkZWZhdWx0VmFsdWVzOiByZXNvdXJjZSB8fCB7IG5hbWU6ICcnIH0sCiAgfSk7CgogIGNvbnN0IHsgaXNTdWJtaXR0aW5nIH0gPSBmb3JtLmZvcm1TdGF0ZTsKCiAgY29uc3Qgb25TdWJtaXQgPSBhc3luYyAoZGF0YTogUmVzb3VyY2VGb3JtRGF0YSkgPT4gewogICAgY29uc3QgcmVzdWx0ID0gcmVzb3VyY2UKICAgICAgPyBhd2FpdCB1cGRhdGVCdXNpbmVzc1Jlc291cmNlKHJlc291cmNlLmlkLCBkYXRhKQogICAgICA6IGF3YWl0IGFkZEJ1c2luZXNzUmVzb3VyY2UoZGF0YSk7CgogICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgIHRvYXN0KHsgdGl0bGU6IGBSZXNvdXJjZSAke3Jlc291cmNlID8gJ1VwZGF0ZWQnIDogJ0FkZGVkJ30hYCB9KTsKICAgICAgb25TdWNjZXNzKCk7CiAgICAgIHNldElzT3BlbihmYWxzZSk7CiAgICAgIGZvcm0ucmVzZXQoeyBuYW1lOiAnJyB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdFcnJvcicsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICB9CiAgfTsKCiAgcmV0dXJuICgKICAgIDxEaWFsb2cgb3Blbj17aXNPcGVufSBvbk9wZW5DaGFuZ2U9e3NldElzT3Blbn0+CiAgICAgIDxEaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+e2NoaWxkcmVufTwvRGlhbG9nVHJpZ2dlcj4KICAgICAgPERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgPERpYWxvZ0hlYWRlcj4KICAgICAgICAgIDxEaWFsb2dUaXRsZT57cmVzb3VyY2UgPyAnRWRpdCBSZXNvdXJjZScgOiAnQWRkIE5ldyBSZXNvdXJjZSd9PC9EaWFsb2dUaXRsZT4KICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAge3Jlc291cmNlID8gYFVwZGF0ZSB0aGUgbmFtZSBmb3IgIiR7cmVzb3VyY2UubmFtZX0iLmAgOiAnRGVmaW5lIGEgbmV3IGJvb2thYmxlIHJlc291cmNlLCBlLmcuLCAiU3R5bGlzdCBDaGFpciAxIi4nfQogICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICA8L0RpYWxvZ0hlYWRlcj4KICAgICAgICA8Rm9ybSB7Li4uZm9ybX0+CiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17Zm9ybS5oYW5kbGVTdWJtaXQob25TdWJtaXQpfSBjbGFzc05hbWU9InNwYWNlLXktNCBweS00Ij4KICAgICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICBuYW1lPSJuYW1lIgogICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICA8Rm9ybUxhYmVsPlJlc291cmNlIE5hbWU8L0Zvcm1MYWJlbD4KICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj0iZS5nLiwgQ2hhaXIgMSwgV2FzaGluZyBCYXkgQSIgey4uLmZpZWxkfSAvPgogICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgIDwvRm9ybUl0ZW0+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgLz4KICAgICAgICAgICAgPERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgICAgICA8RGlhbG9nQ2xvc2UgYXNDaGlsZD48QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiPkNhbmNlbDwvQnV0dG9uPjwvRGlhbG9nQ2xvc2U+CiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PgogICAgICAgICAgICAgICAge2lzU3VibWl0dGluZyAmJiA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+fQogICAgICAgICAgICAgICAge3Jlc291cmNlID8gJ1NhdmUgQ2hhbmdlcycgOiAnQWRkIFJlc291cmNlJ30KICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9EaWFsb2dGb290ZXI+CiAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgPC9Gb3JtPgogICAgICA8L0RpYWxvZ0NvbnRlbnQ+CiAgICA8L0RpYWxvZz4KICApOwp9OwoKCmludGVyZmFjZSBNYW5hZ2VSZXNvdXJjZXNDbGllbnRQcm9wcyB7CiAgaW5pdGlhbFJlc291cmNlczogQnVzaW5lc3NSZXNvdXJjZVtdOwogIGJ1c2luZXNzVXNlcklkOiBudW1iZXI7Cn0KCmNvbnN0IE1hbmFnZVJlc291cmNlc0NsaWVudDogUmVhY3QuRkM8TWFuYWdlUmVzb3VyY2VzQ2xpZW50UHJvcHM+ID0gKHsgaW5pdGlhbFJlc291cmNlcywgYnVzaW5lc3NVc2VySWQgfSkgPT4gewogIGNvbnN0IFtyZXNvdXJjZXMsIHNldFJlc291cmNlc10gPSB1c2VTdGF0ZShpbml0aWFsUmVzb3VyY2VzKTsKICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CgogIGNvbnN0IGZldGNoUmVzb3VyY2VzID0gYXN5bmMgKCkgPT4gewogICAgc2V0SXNMb2FkaW5nKHRydWUpOwogICAgY29uc3QgdXBkYXRlZFJlc291cmNlcyA9IGF3YWl0IGdldEJ1c2luZXNzUmVzb3VyY2VzKGJ1c2luZXNzVXNlcklkKTsKICAgIHNldFJlc291cmNlcyh1cGRhdGVkUmVzb3VyY2VzKTsKICAgIHNldElzTG9hZGluZyhmYWxzZSk7CiAgfTsKICAKICBjb25zdCBoYW5kbGVEZWxldGUgPSBhc3luYyAocmVzb3VyY2VJZDogbnVtYmVyKSA9PiB7CiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVCdXNpbmVzc1Jlc291cmNlKHJlc291cmNlSWQpOwogICAgaWYocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgdG9hc3QoeyB0aXRsZTogJ1Jlc291cmNlIERlbGV0ZWQnIH0pOwogICAgICBmZXRjaFJlc291cmNlcygpOwogICAgfSBlbHNlIHsKICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB9KTsKICAgIH0KICB9CgogIHJldHVybiAoCiAgICA8ZGl2PgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktZW5kIG1iLTQiPgogICAgICAgICAgICA8UmVzb3VyY2VGb3JtRGlhbG9nIG9uU3VjY2Vzcz17ZmV0Y2hSZXNvdXJjZXN9PgogICAgICAgICAgICAgICAgPEJ1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8UGx1c0NpcmNsZSBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz4gQWRkIFJlc291cmNlCiAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9SZXNvdXJjZUZvcm1EaWFsb2c+CiAgICAgICAgPC9kaXY+CgogICAgICAgIHtpc0xvYWRpbmcgPyAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS04Ij4KICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXgtYXV0byBoLTggdy04IGFuaW1hdGUtc3BpbiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICkgOiByZXNvdXJjZXMubGVuZ3RoID09PSAwID8gKAogICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIHB5LTEwIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBib3JkZXIgcm91bmRlZC1sZyI+CiAgICAgICAgICAgIDxBcm1jaGFpciBjbGFzc05hbWU9Im14LWF1dG8gaC0xMCB3LTEwIG1iLTIgb3BhY2l0eS01MCIgLz4KICAgICAgICAgICAgPHA+WW91IGhhdmVuJ3QgYWRkZWQgYW55IHJlc291cmNlcyB5ZXQuPC9wPgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtc20iPkNsaWNrICJBZGQgUmVzb3VyY2UiIHRvIGdldCBzdGFydGVkLjwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICkgOiAoCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAge3Jlc291cmNlcy5tYXAoKHJlc291cmNlKSA9PiAoCiAgICAgICAgICAgICAgPGRpdiBrZXk9e3Jlc291cmNlLmlkfSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgcm91bmRlZC1tZCBib3JkZXIgYmctbXV0ZWQvMzAiPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIj57cmVzb3VyY2UubmFtZX08L3A+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgIDxSZXNvdXJjZUZvcm1EaWFsb2cgcmVzb3VyY2U9e3Jlc291cmNlfSBvblN1Y2Nlc3M9e2ZldGNoUmVzb3VyY2VzfT4KICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJnaG9zdCIgc2l6ZT0iaWNvbiI+PEVkaXQgY2xhc3NOYW1lPSJ3LTQgaC00IiAvPjwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvUmVzb3VyY2VGb3JtRGlhbG9nPgogICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIHNpemU9Imljb24iIGNsYXNzTmFtZT0idGV4dC1kZXN0cnVjdGl2ZSIgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlKHJlc291cmNlLmlkKX0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSJ3LTQgaC00IiAvPgogICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICkpfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBNYW5hZ2VSZXNvdXJjZXNDbGllbnQ7Cg==' | base64 -d > /root/localpulse/src/app/account/manage-business/manage-resources-client.tsx
mkdir -p /root/localpulse/src/app/account/manage-business
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlVHJhbnNpdGlvbiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlRm9ybSwgdXNlRmllbGRBcnJheSwgQ29udHJvbGxlciB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7CmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnOwppbXBvcnQgKiBhcyB6IGZyb20gJ3pvZCc7CmltcG9ydCB7IENhcmQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jaGVja2JveCc7CmltcG9ydCB7IExhYmVsIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2xhYmVsJzsKaW1wb3J0IHsgTG9hZGVyMiwgU2F2ZSwgQWxlcnRUcmlhbmdsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB0eXBlIHsgQnVzaW5lc3NIb3VyLCBVc2VyIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgdXBkYXRlQnVzaW5lc3NIb3VycyB9IGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBTZWxlY3QsIFNlbGVjdENvbnRlbnQsIFNlbGVjdEl0ZW0sIFNlbGVjdFRyaWdnZXIsIFNlbGVjdFZhbHVlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NlbGVjdCc7CmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uLCBBbGVydFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0JzsKaW1wb3J0IHsgRm9ybSwgRm9ybUNvbnRyb2wsIEZvcm1GaWVsZCwgRm9ybUl0ZW0sIEZvcm1MYWJlbCwgRm9ybU1lc3NhZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZm9ybSc7Cgpjb25zdCBUSU1FX09QVElPTlMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0OCB9LCAoXywgaSkgPT4gewogICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGkgLyAyKTsKICAgIGNvbnN0IG1pbnV0ZXMgPSAoaSAlIDIpICogMzA7CiAgICBjb25zdCBmb3JtYXR0ZWRIb3VycyA9IFN0cmluZyhob3VycykucGFkU3RhcnQoMiwgJzAnKTsKICAgIGNvbnN0IGZvcm1hdHRlZE1pbnV0ZXMgPSBTdHJpbmcobWludXRlcykucGFkU3RhcnQoMiwgJzAnKTsKICAgIHJldHVybiBgJHtmb3JtYXR0ZWRIb3Vyc306JHtmb3JtYXR0ZWRNaW51dGVzfWA7Cn0pOwoKY29uc3QgQUxMX1RJTUVaT05FUyA9IEludGwuc3VwcG9ydGVkVmFsdWVzT2YoJ3RpbWVab25lJyk7CmNvbnN0IElORElBTl9TVUJDT05USU5FTlRfVElNRVpPTkVTID0gQUxMX1RJTUVaT05FUy5maWx0ZXIodHogPT4gdHouc3RhcnRzV2l0aCgnQXNpYS9DYWxjdXR0YScpIHx8IHR6LnN0YXJ0c1dpdGgoJ0FzaWEvRGhha2EnKSB8fCB0ei5zdGFydHNXaXRoKCdBc2lhL0thcmFjaGknKSB8fCB0ei5zdGFydHNXaXRoKCdBc2lhL0thdGhtYW5kdScpKTsKCmNvbnN0IHNjaGVkdWxlU2NoZW1hID0gei5vYmplY3QoewogIHRpbWV6b25lOiB6LnN0cmluZygpLm1pbigxLCAiVGltZXpvbmUgaXMgcmVxdWlyZWQuIiksCiAgc2NoZWR1bGU6IHouYXJyYXkoCiAgICB6Lm9iamVjdCh7CiAgICAgIGRheV9vZl93ZWVrOiB6Lm51bWJlcigpLAogICAgICBpc19jbG9zZWQ6IHouYm9vbGVhbigpLAogICAgICBzdGFydF90aW1lOiB6LnN0cmluZygpLm51bGxhYmxlKCksCiAgICAgIGVuZF90aW1lOiB6LnN0cmluZygpLm51bGxhYmxlKCksCiAgICB9KQogICkuc3VwZXJSZWZpbmUoKHNjaGVkdWxlLCBjdHgpID0+IHsKICAgIHNjaGVkdWxlLmZvckVhY2goKGRheSwgaW5kZXgpID0+IHsKICAgICAgICBpZighZGF5LmlzX2Nsb3NlZCAmJiBkYXkuc3RhcnRfdGltZSAmJiBkYXkuZW5kX3RpbWUgJiYgZGF5LnN0YXJ0X3RpbWUgPj0gZGF5LmVuZF90aW1lKSB7CiAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7CiAgICAgICAgICAgICAgICBwYXRoOiBbYHNjaGVkdWxlYCwgaW5kZXgsICdlbmRfdGltZSddLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VuZCB0aW1lIG11c3QgYmUgYWZ0ZXIgc3RhcnQgdGltZS4nLAogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKICB9KSwKfSk7Cgp0eXBlIFNjaGVkdWxlRm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiBzY2hlZHVsZVNjaGVtYT47Cgpjb25zdCBEQVlTX09GX1dFRUsgPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107CgppbnRlcmZhY2UgTWFuYWdlU2NoZWR1bGVDbGllbnRQcm9wcyB7CiAgaW5pdGlhbEhvdXJzOiBCdXNpbmVzc0hvdXJbXTsKICBidXNpbmVzc1VzZXI6IFVzZXI7Cn0KCmNvbnN0IE1hbmFnZVNjaGVkdWxlQ2xpZW50OiBSZWFjdC5GQzxNYW5hZ2VTY2hlZHVsZUNsaWVudFByb3BzPiA9ICh7IGluaXRpYWxIb3VycywgYnVzaW5lc3NVc2VyIH0pID0+IHsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IFtpc1BlbmRpbmcsIHN0YXJ0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7CgogIGNvbnN0IGdldERlZmF1bHRWYWx1ZXMgPSAoKSA9PiB7CiAgICBjb25zdCBkZWZhdWx0U2NoZWR1bGUgPSBEQVlTX09GX1dFRUsubWFwKChfLCBpbmRleCkgPT4gewogICAgICAgIGNvbnN0IGV4aXN0aW5nID0gaW5pdGlhbEhvdXJzLmZpbmQoaCA9PiBoLmRheV9vZl93ZWVrID09PSBpbmRleCk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZGF5X29mX3dlZWs6IGluZGV4LAogICAgICAgICAgICBpc19jbG9zZWQ6IGV4aXN0aW5nPy5pc19jbG9zZWQgPz8gdHJ1ZSwKICAgICAgICAgICAgc3RhcnRfdGltZTogZXhpc3Rpbmc/LnN0YXJ0X3RpbWUgPz8gJzA5OjAwJywKICAgICAgICAgICAgZW5kX3RpbWU6IGV4aXN0aW5nPy5lbmRfdGltZSA/PyAnMTg6MDAnLAogICAgICAgIH07CiAgICB9KTsKICAgIHJldHVybiB7IAogICAgICAgIHNjaGVkdWxlOiBkZWZhdWx0U2NoZWR1bGUsCiAgICAgICAgdGltZXpvbmU6IGJ1c2luZXNzVXNlci50aW1lem9uZSB8fCAnQXNpYS9Lb2xrYXRhJywgLy8gRGVmYXVsdCB0byBJU1QKICAgIH07CiAgfTsKCiAgY29uc3QgZm9ybSA9IHVzZUZvcm08U2NoZWR1bGVGb3JtRGF0YT4oewogICAgcmVzb2x2ZXI6IHpvZFJlc29sdmVyKHNjaGVkdWxlU2NoZW1hKSwKICAgIGRlZmF1bHRWYWx1ZXM6IGdldERlZmF1bHRWYWx1ZXMoKSwKICAgIG1vZGU6ICdvbkNoYW5nZScsCiAgfSk7CgogIGNvbnN0IHsgZmllbGRzIH0gPSB1c2VGaWVsZEFycmF5KHsKICAgIGNvbnRyb2w6IGZvcm0uY29udHJvbCwKICAgIG5hbWU6ICdzY2hlZHVsZScsCiAgfSk7CgogIGNvbnN0IHsgZm9ybVN0YXRlOiB7IGVycm9ycyB9IH0gPSBmb3JtOwoKICBjb25zdCBvblN1Ym1pdCA9IChkYXRhOiBTY2hlZHVsZUZvcm1EYXRhKSA9PiB7CiAgICBzdGFydFRyYW5zaXRpb24oYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUJ1c2luZXNzSG91cnMoZGF0YS5zY2hlZHVsZSwgZGF0YS50aW1lem9uZSk7CiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICdTY2hlZHVsZSBVcGRhdGVkIScsIGRlc2NyaXB0aW9uOiAnWW91ciB3b3JraW5nIGhvdXJzIGhhdmUgYmVlbiBzYXZlZC4nIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdFcnJvcicsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICAgICAgfQogICAgfSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxGb3JtIHsuLi5mb3JtfT4KICAgICAgPGZvcm0gb25TdWJtaXQ9e2Zvcm0uaGFuZGxlU3VibWl0KG9uU3VibWl0KX0gY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICAgICAgeyFidXNpbmVzc1VzZXIudGltZXpvbmUgJiYgKAogICAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PSJkZXN0cnVjdGl2ZSI+CiAgICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgICAgPEFsZXJ0VGl0bGU+U2V0IFlvdXIgVGltZXpvbmU8L0FsZXJ0VGl0bGU+CiAgICAgICAgICAgICAgICAgIDxBbGVydERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgICAgUGxlYXNlIHNlbGVjdCB5b3VyIGJ1c2luZXNzJ3MgdGltZXpvbmUgYmVsb3cgdG8gZW5zdXJlIGFjY3VyYXRlIGJvb2tpbmcgdGltZXMgZm9yIGN1c3RvbWVycy4KICAgICAgICAgICAgICAgICAgPC9BbGVydERlc2NyaXB0aW9uPgogICAgICAgICAgICAgIDwvQWxlcnQ+CiAgICAgICAgICApfQogICAgICAgICAgPEZvcm1GaWVsZAogICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICBuYW1lPSJ0aW1lem9uZSIKICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5CdXNpbmVzcyBUaW1lem9uZTwvRm9ybUxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gZGVmYXVsdFZhbHVlPXtmaWVsZC52YWx1ZX0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj0iU2VsZWN0IHlvdXIgdGltZXpvbmUiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPSJweC0yIHB5LTEuNSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQiPkluZGlhbiBTdWJjb250aW5lbnQ8L0xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7SU5ESUFOX1NVQkNPTlRJTkVOVF9USU1FWk9ORVMubWFwKHR6ID0+IDxTZWxlY3RJdGVtIGtleT17dHp9IHZhbHVlPXt0en0+e3R6fTwvU2VsZWN0SXRlbT4pfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPSJweC0yIHB5LTEuNSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQiPkFsbCBUaW1lem9uZXM8L0xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QUxMX1RJTUVaT05FUy5tYXAodHogPT4gPFNlbGVjdEl0ZW0ga2V5PXt0en0gdmFsdWU9e3R6fT57dHp9PC9TZWxlY3RJdGVtPil9CiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICAgICApfQogICAgICAgICAgLz4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMgcm91bmRlZC1tZCBib3JkZXIgcC00Ij4KICAgICAgICAgIHtmaWVsZHMubWFwKChmaWVsZCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgY29uc3QgaXNDbG9zZWQgPSBmb3JtLndhdGNoKGBzY2hlZHVsZS4ke2luZGV4fS5pc19jbG9zZWRgKTsKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICA8ZGl2IGtleT17ZmllbGQuaWR9IGNsYXNzTmFtZT17Y24oImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTMgaXRlbXMtY2VudGVyIHAtMiByb3VuZGVkLW1kIiwgaXNDbG9zZWQgJiYgJ29wYWNpdHktNjAnKX0+CiAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIGNvbC1zcGFuLTMgc206Y29sLXNwYW4tMSI+e0RBWVNfT0ZfV0VFS1tpbmRleF19PC9MYWJlbD4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBjb2wtc3Bhbi0zIHNtOmNvbC1zcGFuLTIiPgogICAgICAgICAgICAgICAgICA8Q29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgICAgY29udHJvbD17Zm9ybS5jb250cm9sfQogICAgICAgICAgICAgICAgICAgICAgbmFtZT17YHNjaGVkdWxlLiR7aW5kZXh9LmlzX2Nsb3NlZGB9CiAgICAgICAgICAgICAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkOiBjaGVja2JveEZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2Bpc19jbG9zZWRfJHtpbmRleH1gfSAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrYm94RmllbGQudmFsdWV9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWRDaGFuZ2U9e2NoZWNrYm94RmllbGQub25DaGFuZ2V9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPXtgaXNfY2xvc2VkXyR7aW5kZXh9YH0gY2xhc3NOYW1lPSJ0ZXh0LXNtIj5DbG9zZWQ8L0xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgeyFpc0Nsb3NlZCAmJiAoCiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC1ncm93Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29udHJvbGxlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgc2NoZWR1bGUuJHtpbmRleH0uc3RhcnRfdGltZWB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZDogdGltZUZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17dGltZUZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17dGltZUZpZWxkLnZhbHVlIHx8ICcwOTowMCd9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPjxTZWxlY3RWYWx1ZS8+PC9TZWxlY3RUcmlnZ2VyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PntUSU1FX09QVElPTlMubWFwKHQgPT4gPFNlbGVjdEl0ZW0ga2V5PXtgc3RhcnQtJHt0fWB9IHZhbHVlPXt0fT57dH08L1NlbGVjdEl0ZW0+KX08L1NlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnRvPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxDb250cm9sbGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2BzY2hlZHVsZS4ke2luZGV4fS5lbmRfdGltZWB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZDogdGltZUZpZWxkIH0pID0+ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3Qgb25WYWx1ZUNoYW5nZT17dGltZUZpZWxkLm9uQ2hhbmdlfSB2YWx1ZT17dGltZUZpZWxkLnZhbHVlIHx8ICcxODowMCd9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPjxTZWxlY3RWYWx1ZS8+PC9TZWxlY3RUcmlnZ2VyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PntUSU1FX09QVElPTlMubWFwKHQgPT4gPFNlbGVjdEl0ZW0ga2V5PXtgZW5kLSR7dH1gfSB2YWx1ZT17dH0+e3R9PC9TZWxlY3RJdGVtPil9PC9TZWxlY3RDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICB7ZXJyb3JzLnNjaGVkdWxlPy5baW5kZXhdPy5lbmRfdGltZSAmJiA8cCBjbGFzc05hbWU9InRleHQtZGVzdHJ1Y3RpdmUgdGV4dC14cyBjb2wtc3Bhbi0zIHRleHQtcmlnaHQgLW10LTIiPntlcnJvcnMuc2NoZWR1bGVbaW5kZXhdIS5lbmRfdGltZSEubWVzc2FnZX08L3A+fQogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApCiAgICAgICAgICB9KX0KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBqdXN0aWZ5LWVuZCI+CiAgICAgICAgICA8QnV0dG9uIHR5cGU9InN1Ym1pdCIgZGlzYWJsZWQ9e2lzUGVuZGluZ30+CiAgICAgICAgICAgICAge2lzUGVuZGluZyAmJiA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iLz59CiAgICAgICAgICAgICAgPFNhdmUgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiLz4KICAgICAgICAgICAgICBTYXZlIFNjaGVkdWxlCiAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9mb3JtPgogICAgPC9Gb3JtPgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBNYW5hZ2VTY2hlZHVsZUNsaWVudDsK' | base64 -d > /root/localpulse/src/app/account/manage-business/manage-schedule-client.tsx
mkdir -p /root/localpulse/src/app/account/manage-business
echo 'CgondXNlIHNlcnZlcic7CgppbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gJ25leHQvY2FjaGUnOwppbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnQC9hcHAvYXV0aC9hY3Rpb25zJzsKaW1wb3J0IHsgCiAgICBhZGRCdXNpbmVzc1NlcnZpY2VEYiwgZ2V0QnVzaW5lc3NTZXJ2aWNlc0RiLCB1cGRhdGVCdXNpbmVzc1NlcnZpY2VEYiwgZGVsZXRlQnVzaW5lc3NTZXJ2aWNlRGIsIAogICAgZ2V0QnVzaW5lc3NIb3Vyc0RiLCB1cGRhdGVCdXNpbmVzc0hvdXJzRGIsCiAgICBnZXRCdXNpbmVzc1Jlc291cmNlc0RiLCBhZGRCdXNpbmVzc1Jlc291cmNlRGIsIHVwZGF0ZUJ1c2luZXNzUmVzb3VyY2VEYiwgZGVsZXRlQnVzaW5lc3NSZXNvdXJjZURiLAogICAgZ2V0QXBwb2ludG1lbnRzRm9yQnVzaW5lc3NEYiwgdXBkYXRlQXBwb2ludG1lbnRTdGF0dXNEYgp9IGZyb20gJ0AvbGliL2RiJzsKaW1wb3J0IHR5cGUgeyBOZXdCdXNpbmVzc1NlcnZpY2UsIEJ1c2luZXNzSG91ciwgTmV3QnVzaW5lc3NSZXNvdXJjZSwgQnVzaW5lc3NBcHBvaW50bWVudCwgQXBwb2ludG1lbnRTdGF0dXMgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QnVzaW5lc3NTZXJ2aWNlcyhidXNpbmVzc0lkOiBudW1iZXIpIHsKICAgIHJldHVybiBnZXRCdXNpbmVzc1NlcnZpY2VzRGIoYnVzaW5lc3NJZCk7Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRCdXNpbmVzc1NlcnZpY2Uoc2VydmljZTogTmV3QnVzaW5lc3NTZXJ2aWNlKSB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9OwogICAgfQogICAgdHJ5IHsKICAgICAgICBhd2FpdCBhZGRCdXNpbmVzc1NlcnZpY2VEYih1c2VyLmlkLCBzZXJ2aWNlKTsKICAgICAgICByZXZhbGlkYXRlUGF0aCgnL2FjY291bnQvbWFuYWdlLWJ1c2luZXNzJyk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfSBjYXRjaChlOiBhbnkpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQnVzaW5lc3NTZXJ2aWNlKHNlcnZpY2VJZDogbnVtYmVyLCBzZXJ2aWNlOiBOZXdCdXNpbmVzc1NlcnZpY2UpIHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH07CiAgICB9CiAgICB0cnkgewogICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCB1cGRhdGVCdXNpbmVzc1NlcnZpY2VEYihzZXJ2aWNlSWQsIHVzZXIuaWQsIHNlcnZpY2UpOwogICAgICAgIGlmICghdXBkYXRlZCkgewogICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdTZXJ2aWNlIG5vdCBmb3VuZCBvciBwZXJtaXNzaW9uIGRlbmllZC4nIH07CiAgICAgICAgfQogICAgICAgIHJldmFsaWRhdGVQYXRoKCcvYWNjb3VudC9tYW5hZ2UtYnVzaW5lc3MnKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGNhdGNoKGU6IGFueSkgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZS5tZXNzYWdlIH07CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVCdXNpbmVzc1NlcnZpY2Uoc2VydmljZUlkOiBudW1iZXIpIHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH07CiAgICB9CiAgICB0cnkgewogICAgICAgIGF3YWl0IGRlbGV0ZUJ1c2luZXNzU2VydmljZURiKHNlcnZpY2VJZCwgdXNlci5pZCk7CiAgICAgICAgcmV2YWxpZGF0ZVBhdGgoJy9hY2NvdW50L21hbmFnZS1idXNpbmVzcycpOwogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgIH0gY2F0Y2goZTogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTsKICAgIH0KfQoKLy8gLS0tIFNjaGVkdWxlIEFjdGlvbnMgLS0tCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCdXNpbmVzc0hvdXJzKGJ1c2luZXNzSWQ6IG51bWJlcikgewogICAgcmV0dXJuIGdldEJ1c2luZXNzSG91cnNEYihidXNpbmVzc0lkKTsKfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUJ1c2luZXNzSG91cnMoaG91cnM6IE9taXQ8QnVzaW5lc3NIb3VyLCAnaWQnIHwgJ3VzZXJfaWQnPltdLCB0aW1lem9uZTogc3RyaW5nKSB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgewogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9OwogICAgfQogICAgdHJ5IHsKICAgICAgICBhd2FpdCB1cGRhdGVCdXNpbmVzc0hvdXJzRGIodXNlci5pZCwgaG91cnMsIHRpbWV6b25lKTsKICAgICAgICByZXZhbGlkYXRlUGF0aCgnL2FjY291bnQvbWFuYWdlLWJ1c2luZXNzJyk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfSBjYXRjaCAoZTogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTsKICAgIH0KfQoKLy8gLS0tIFJlc291cmNlIEFjdGlvbnMgLS0tCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCdXNpbmVzc1Jlc291cmNlcyhidXNpbmVzc0lkOiBudW1iZXIpIHsKICAgIHJldHVybiBnZXRCdXNpbmVzc1Jlc291cmNlc0RiKGJ1c2luZXNzSWQpOwp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkQnVzaW5lc3NSZXNvdXJjZShyZXNvdXJjZTogTmV3QnVzaW5lc3NSZXNvdXJjZSkgewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfTsKICAgIH0KICAgIHRyeSB7CiAgICAgICAgYXdhaXQgYWRkQnVzaW5lc3NSZXNvdXJjZURiKHVzZXIuaWQsIHJlc291cmNlKTsKICAgICAgICByZXZhbGlkYXRlUGF0aCgnL2FjY291bnQvbWFuYWdlLWJ1c2luZXNzJyk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfSBjYXRjaCAoZTogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTsKICAgIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUJ1c2luZXNzUmVzb3VyY2UocmVzb3VyY2VJZDogbnVtYmVyLCByZXNvdXJjZTogTmV3QnVzaW5lc3NSZXNvdXJjZSkgewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfTsKICAgIH0KICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHVwZGF0ZUJ1c2luZXNzUmVzb3VyY2VEYihyZXNvdXJjZUlkLCB1c2VyLmlkLCByZXNvdXJjZSk7CiAgICAgICAgaWYgKCF1cGRhdGVkKSB7CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Jlc291cmNlIG5vdCBmb3VuZCBvciBwZXJtaXNzaW9uIGRlbmllZC4nIH07CiAgICAgICAgfQogICAgICAgIHJldmFsaWRhdGVQYXRoKCcvYWNjb3VudC9tYW5hZ2UtYnVzaW5lc3MnKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGNhdGNoIChlOiBhbnkpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGUubWVzc2FnZSB9OwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQnVzaW5lc3NSZXNvdXJjZShyZXNvdXJjZUlkOiBudW1iZXIpIHsKICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogICAgaWYgKCF1c2VyKSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH07CiAgICB9CiAgICB0cnkgewogICAgICAgIGF3YWl0IGRlbGV0ZUJ1c2luZXNzUmVzb3VyY2VEYihyZXNvdXJjZUlkLCB1c2VyLmlkKTsKICAgICAgICByZXZhbGlkYXRlUGF0aCgnL2FjY291bnQvbWFuYWdlLWJ1c2luZXNzJyk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfSBjYXRjaCAoZTogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlLm1lc3NhZ2UgfTsKICAgIH0KfQoKLy8gLS0tIEFwcG9pbnRtZW50IEFjdGlvbnMgLS0tCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHBvaW50bWVudHNGb3JCdXNpbmVzcyhkYXRlOiBzdHJpbmcpOiBQcm9taXNlPEJ1c2luZXNzQXBwb2ludG1lbnRbXT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnQnVzaW5lc3MnKSByZXR1cm4gW107CiAgICByZXR1cm4gZ2V0QXBwb2ludG1lbnRzRm9yQnVzaW5lc3NEYih1c2VyLmlkLCBkYXRlKTsKfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50U3RhdHVzKGFwcG9pbnRtZW50SWQ6IG51bWJlciwgc3RhdHVzOiBBcHBvaW50bWVudFN0YXR1cyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlciB8fCB1c2VyLnJvbGUgIT09ICdCdXNpbmVzcycpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdQZXJtaXNzaW9uIGRlbmllZC4nIH07CiAgICB9CiAgICAKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlQXBwb2ludG1lbnRTdGF0dXNEYihhcHBvaW50bWVudElkLCBzdGF0dXMsIHVzZXIuaWQpOwogICAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0FwcG9pbnRtZW50IG5vdCBmb3VuZCBvciBwZXJtaXNzaW9uIGRlbmllZC4nIH07CiAgICAgICAgfQogICAgICAgIHJldmFsaWRhdGVQYXRoKCcvYWNjb3VudC9tYW5hZ2UtYnVzaW5lc3MnKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07CiAgICB9Cn0K' | base64 -d > /root/localpulse/src/app/account/manage-business/actions.ts
mkdir -p /root/localpulse/src/app/account/manage-business
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlVHJhbnNpdGlvbiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ2FsZW5kYXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FsZW5kYXInOwppbXBvcnQgeyBnZXRBcHBvaW50bWVudHNGb3JCdXNpbmVzcywgdXBkYXRlQXBwb2ludG1lbnRTdGF0dXMgfSBmcm9tICcuL2FjdGlvbnMnOwppbXBvcnQgdHlwZSB7IEJ1c2luZXNzQXBwb2ludG1lbnQsIEFwcG9pbnRtZW50U3RhdHVzIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUsIENhcmREZXNjcmlwdGlvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQXZhdGFyLCBBdmF0YXJGYWxsYmFjaywgQXZhdGFySW1hZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYXZhdGFyJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IExvYWRlcjIsIENoZWNrLCBVc2VyLCBDbG9jaywgU2Npc3NvcnMsIFRhZywgQXJtY2hhaXIgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JzsKaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYmFkZ2UnOwppbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJzsKaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2tlbGV0b24nOwoKY29uc3QgQXBwb2ludG1lbnRDYXJkOiBSZWFjdC5GQzx7IGFwcG9pbnRtZW50OiBCdXNpbmVzc0FwcG9pbnRtZW50LCBvblN0YXR1c0NoYW5nZTogKGlkOiBudW1iZXIsIHN0YXR1czogQXBwb2ludG1lbnRTdGF0dXMpID0+IHZvaWQ7IGlzVXBkYXRpbmc6IGJvb2xlYW47IH0+ID0gKHsgYXBwb2ludG1lbnQsIG9uU3RhdHVzQ2hhbmdlLCBpc1VwZGF0aW5nIH0pID0+IHsKICAgIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CiAgICBjb25zdCBbaXNQZW5kaW5nLCBzdGFydFRyYW5zaXRpb25dID0gdXNlVHJhbnNpdGlvbigpOwoKICAgIGNvbnN0IGhhbmRsZVVwZGF0ZSA9IChzdGF0dXM6IEFwcG9pbnRtZW50U3RhdHVzKSA9PiB7CiAgICAgICAgc3RhcnRUcmFuc2l0aW9uKGFzeW5jICgpID0+IHsKICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlQXBwb2ludG1lbnRTdGF0dXMoYXBwb2ludG1lbnQuaWQsIHN0YXR1cyk7CiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgICAgICAgdG9hc3QoeyB0aXRsZTogJ0FwcG9pbnRtZW50IFVwZGF0ZWQnIH0pOwogICAgICAgICAgICAgICAgb25TdGF0dXNDaGFuZ2UoYXBwb2ludG1lbnQuaWQsIHN0YXR1cyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJyb3InLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIGNvbnN0IGdldFN0YXR1c1ZhcmlhbnQgPSAoc3RhdHVzOiBBcHBvaW50bWVudFN0YXR1cykgPT4gewogICAgICAgIHN3aXRjaChzdGF0dXMpIHsKICAgICAgICAgICAgY2FzZSAnY29tcGxldGVkJzogcmV0dXJuICdzdWNjZXNzJzsKICAgICAgICAgICAgY2FzZSAnY2FuY2VsbGVkJzogcmV0dXJuICdkZXN0cnVjdGl2ZSc7CiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAnc2Vjb25kYXJ5JzsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icC00IGJvcmRlciByb3VuZGVkLWxnIGZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgZ2FwLTQganVzdGlmeS1iZXR3ZWVuIGJnLW11dGVkLzIwIj4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZ2FwLTQiPgogICAgICAgICAgICAgICAgPEF2YXRhcj4KICAgICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXthcHBvaW50bWVudC5jdXN0b21lcl9hdmF0YXIgfHwgdW5kZWZpbmVkfSAvPgogICAgICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjaz48VXNlciAvPjwvQXZhdGFyRmFsbGJhY2s+CiAgICAgICAgICAgICAgICA8L0F2YXRhcj4KICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCI+e2FwcG9pbnRtZW50LmN1c3RvbWVyX25hbWV9PC9wPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBzcGFjZS15LTEgbXQtMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSI+PFNjaXNzb3JzIGNsYXNzTmFtZT0idy0zIGgtMyIvPnthcHBvaW50bWVudC5zZXJ2aWNlX25hbWV9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUiPjxBcm1jaGFpciBjbGFzc05hbWU9InctMyBoLTMiLz57YXBwb2ludG1lbnQucmVzb3VyY2VfbmFtZX08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSI+PFRhZyBjbGFzc05hbWU9InctMyBoLTMiLz7igrl7YXBwb2ludG1lbnQucHJpY2V9PC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1zdGFydCBzbTppdGVtcy1lbmQgZ2FwLTIiPgogICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KICAgICAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPSJ3LTQgaC00IHRleHQtcHJpbWFyeSIvPgogICAgICAgICAgICAgICAgICAgIHtmb3JtYXQobmV3IERhdGUoYXBwb2ludG1lbnQuc3RhcnRfdGltZSksICdoOm1tIGEnKX0gLSB7Zm9ybWF0KG5ldyBEYXRlKGFwcG9pbnRtZW50LmVuZF90aW1lKSwgJ2g6bW0gYScpfQogICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9e2dldFN0YXR1c1ZhcmlhbnQoYXBwb2ludG1lbnQuc3RhdHVzKX0gY2xhc3NOYW1lPSJjYXBpdGFsaXplIj57YXBwb2ludG1lbnQuc3RhdHVzfTwvQmFkZ2U+CiAgICAgICAgICAgICAgICAgICAge2FwcG9pbnRtZW50LnN0YXR1cyA9PT0gJ2NvbmZpcm1lZCcgJiYgKAogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHNpemU9InNtIiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVVcGRhdGUoJ2NvbXBsZXRlZCcpfSBkaXNhYmxlZD17aXNQZW5kaW5nIHx8IGlzVXBkYXRpbmd9PgogICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzUGVuZGluZyAmJiA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iLz59CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2sgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiLz4gTWFyayBhcyBEb25lCiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgKTsKfTsKCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYW5hZ2VCb29raW5nc0NsaWVudCgpIHsKICAgIGNvbnN0IFtkYXRlLCBzZXREYXRlXSA9IHVzZVN0YXRlPERhdGUgfCB1bmRlZmluZWQ+KG5ldyBEYXRlKCkpOwogICAgY29uc3QgW2FwcG9pbnRtZW50cywgc2V0QXBwb2ludG1lbnRzXSA9IHVzZVN0YXRlPEJ1c2luZXNzQXBwb2ludG1lbnRbXT4oW10pOwogICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwogICAgY29uc3QgW2lzVXBkYXRpbmcsIHN0YXJ0VXBkYXRpbmdUcmFuc2l0aW9uXSA9IHVzZVRyYW5zaXRpb24oKTsKCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGlmICghZGF0ZSkgcmV0dXJuOwogICAgICAgIHNldElzTG9hZGluZyh0cnVlKTsKICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZm9ybWF0KGRhdGUsICd5eXl5LU1NLWRkJyk7CiAgICAgICAgZ2V0QXBwb2ludG1lbnRzRm9yQnVzaW5lc3MoZGF0ZVN0cmluZykKICAgICAgICAgICAgLnRoZW4oc2V0QXBwb2ludG1lbnRzKQogICAgICAgICAgICAuZmluYWxseSgoKSA9PiBzZXRJc0xvYWRpbmcoZmFsc2UpKTsKICAgIH0sIFtkYXRlXSk7CgogICAgY29uc3QgaGFuZGxlU3RhdHVzQ2hhbmdlID0gKGFwcG9pbnRtZW50SWQ6IG51bWJlciwgbmV3U3RhdHVzOiBBcHBvaW50bWVudFN0YXR1cykgPT4gewogICAgICAgIHNldEFwcG9pbnRtZW50cyhwcmV2ID0+IHByZXYubWFwKGFwcHQgPT4gCiAgICAgICAgICAgIGFwcHQuaWQgPT09IGFwcG9pbnRtZW50SWQgPyB7IC4uLmFwcHQsIHN0YXR1czogbmV3U3RhdHVzIH0gOiBhcHB0CiAgICAgICAgKSk7CiAgICB9OwoKICAgIGNvbnN0IG5vcm1hbGl6ZWRBcHBvaW50bWVudHMgPSB1c2VNZW1vKCgpID0+IHsKICAgICAgICByZXR1cm4gKGFwcG9pbnRtZW50cyA/PyBbXSkubWFwKChhcHB0KSA9PiAoewogICAgICAgICAgICAuLi5hcHB0LAogICAgICAgICAgICBfX3N0YXJ0TXM6IG5ldyBEYXRlKGFwcHQuc3RhcnRfdGltZSkuZ2V0VGltZSgpLAogICAgICAgIH0pKTsKICAgIH0sIFthcHBvaW50bWVudHNdKTsKCiAgICBjb25zdCB1cGNvbWluZ0FwcG9pbnRtZW50cyA9IHVzZU1lbW8oKCkgPT4gCiAgICAgICAgbm9ybWFsaXplZEFwcG9pbnRtZW50cwogICAgICAgICAgICAuZmlsdGVyKGEgPT4gYS5zdGF0dXMgPT09ICdjb25maXJtZWQnKQogICAgICAgICAgICAuc29ydCgoYSxiKSA9PiBhLl9fc3RhcnRNcyAtIGIuX19zdGFydE1zKSwKICAgICAgICBbbm9ybWFsaXplZEFwcG9pbnRtZW50c10KICAgICk7CiAgICBjb25zdCBwYXN0QXBwb2ludG1lbnRzID0gdXNlTWVtbygoKSA9PgogICAgICAgIG5vcm1hbGl6ZWRBcHBvaW50bWVudHMKICAgICAgICAgICAgLmZpbHRlcihhID0+IGEuc3RhdHVzICE9PSAnY29uZmlybWVkJykKICAgICAgICAgICAgLnNvcnQoKGEsYikgPT4gYi5fX3N0YXJ0TXMgLSBhLl9fc3RhcnRNcyksCiAgICAgICAgW25vcm1hbGl6ZWRBcHBvaW50bWVudHNdCiAgICApOwoKICAgIHJldHVybiAoCiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgbGc6ZmxleC1yb3cgZ2FwLTYiPgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibXgtYXV0byI+CiAgICAgICAgICAgICAgICA8Q2FsZW5kYXIKICAgICAgICAgICAgICAgICAgICBtb2RlPSJzaW5nbGUiCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ9e2RhdGV9CiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9e3NldERhdGV9CiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJyb3VuZGVkLW1kIGJvcmRlciIKICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleC0xIHNwYWNlLXktNCI+CiAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LWxnIHRleHQtY2VudGVyIGxnOnRleHQtbGVmdCI+CiAgICAgICAgICAgICAgICAgICAgQXBwb2ludG1lbnRzIGZvciB7ZGF0ZSA/IGZvcm1hdChkYXRlLCAnUFBQJykgOiAnLi4uJ30KICAgICAgICAgICAgICAgICA8L2gzPgogICAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICgKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC0yNCB3LWZ1bGwiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMjQgdy1mdWxsIiAvPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgKSA6IGFwcG9pbnRtZW50cy5sZW5ndGggPT09IDAgPyAoCiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciB0ZXh0LW11dGVkLWZvcmVncm91bmQgcHktMTAiPk5vIGFwcG9pbnRtZW50cyBzY2hlZHVsZWQgZm9yIHRoaXMgZGF5LjwvcD4KICAgICAgICAgICAgICAgICkgOiAoCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCI+CiAgICAgICAgICAgICAgICAgICAgICAgIHt1cGNvbWluZ0FwcG9pbnRtZW50cy5sZW5ndGggPiAwICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9InRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnkiPlVwY29taW5nPC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXBjb21pbmdBcHBvaW50bWVudHMubWFwKGFwcHQgPT4gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBcHBvaW50bWVudENhcmQga2V5PXthcHB0LmlkfSBhcHBvaW50bWVudD17YXBwdH0gb25TdGF0dXNDaGFuZ2U9e2hhbmRsZVN0YXR1c0NoYW5nZX0gaXNVcGRhdGluZz17aXNVcGRhdGluZ30gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgICAgICB7cGFzdEFwcG9pbnRtZW50cy5sZW5ndGggPiAwICYmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9InRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LW11dGVkLWZvcmVncm91bmQiPkNvbXBsZXRlZCAvIENhbmNlbGxlZDwvaDQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Bhc3RBcHBvaW50bWVudHMubWFwKGFwcHQgPT4gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBcHBvaW50bWVudENhcmQga2V5PXthcHB0LmlkfSBhcHBvaW50bWVudD17YXBwdH0gb25TdGF0dXNDaGFuZ2U9e2hhbmRsZVN0YXR1c0NoYW5nZX0gaXNVcGRhdGluZz17aXNVcGRhdGluZ30gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICk7Cn0K' | base64 -d > /root/localpulse/src/app/account/manage-business/manage-bookings-client.tsx
mkdir -p /root/localpulse/src/app/account/my-bookings
echo 'CgppbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnQC9hcHAvYXV0aC9hY3Rpb25zJzsKaW1wb3J0IHsgcmVkaXJlY3QgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBBcnJvd0xlZnQsIENhbGVuZGFyQ2hlY2sgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgQm9va2luZ0xpc3RDbGllbnQgZnJvbSAnLi9ib29raW5nLWxpc3QtY2xpZW50JzsKaW1wb3J0IHsgZ2V0QXBwb2ludG1lbnRzRm9yQ3VzdG9tZXJEYiB9IGZyb20gJ0AvbGliL2RiJzsKCmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnOwoKZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gTXlCb29raW5nc1BhZ2UoKSB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgewogICAgICAgIHJlZGlyZWN0KCcvbG9naW4nKTsKICAgIH0KCiAgICBjb25zdCBpbml0aWFsQm9va2luZ3MgPSBhd2FpdCBnZXRBcHBvaW50bWVudHNGb3JDdXN0b21lckRiKHVzZXIuaWQpOwoKICAgIHJldHVybiAoCiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtNCBzbTpwLTYgbWQ6cC04Ij4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImNvbnRhaW5lciBteC1hdXRvIHctZnVsbCBtYXgtdy0yeGwgc3BhY2UteS02Ij4KICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0ic20iIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj0iLz90YWI9c2VydmljZXMiPgogICAgICAgICAgICAgICAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgICAgICAgICAgICAgICBCYWNrIHRvIFNlcnZpY2VzCiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPgogICAgICAgICAgICAgICAgPC9CdXR0b24+CgogICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGcgYm9yZGVyLWJvcmRlci82MCI+CiAgICAgICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LTN4bCBmb250LWJvbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyQ2hlY2sgY2xhc3NOYW1lPSJ3LTggaC04IG1yLTMgdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTXkgQm9va2luZ3MKICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWV3IGFuZCBtYW5hZ2UgeW91ciB1cGNvbWluZyBhbmQgcGFzdCBhcHBvaW50bWVudHMgaGVyZS4KICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD4KICAgICAgICAgICAgICAgICAgICAgICAgPEJvb2tpbmdMaXN0Q2xpZW50IGluaXRpYWxCb29raW5ncz17aW5pdGlhbEJvb2tpbmdzfSAvPgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgKTsKfQo=' | base64 -d > /root/localpulse/src/app/account/my-bookings/page.tsx
mkdir -p /root/localpulse/src/app/account/my-bookings
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVRyYW5zaXRpb24sIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCB0eXBlIHsgQ3VzdG9tZXJBcHBvaW50bWVudCB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgY2FuY2VsTXlCb29raW5nIH0gZnJvbSAnLi9hY3Rpb25zJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hdmF0YXInOwppbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkRm9vdGVyLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IHsgTG9hZGVyMiwgQ2FsZW5kYXIsIENsb2NrLCBUYWcsIEJ1aWxkaW5nLCBYQ2lyY2xlLCBDaGVja0NpcmNsZSwgQXJtY2hhaXIsIE1hcFBpbiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7CiAgQWxlcnREaWFsb2csCiAgQWxlcnREaWFsb2dBY3Rpb24sCiAgQWxlcnREaWFsb2dDYW5jZWwsCiAgQWxlcnREaWFsb2dDb250ZW50LAogIEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24sCiAgQWxlcnREaWFsb2dGb290ZXIsCiAgQWxlcnREaWFsb2dIZWFkZXIsCiAgQWxlcnREaWFsb2dUaXRsZSwKICBBbGVydERpYWxvZ1RyaWdnZXIsCn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0LWRpYWxvZyc7CmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKCmNvbnN0IEFwcG9pbnRtZW50Q2FyZDogUmVhY3QuRkM8eyBhcHBvaW50bWVudDogQ3VzdG9tZXJBcHBvaW50bWVudCwgb25DYW5jZWw6IChpZDogbnVtYmVyKSA9PiB2b2lkIH0+ID0gKHsgYXBwb2ludG1lbnQsIG9uQ2FuY2VsIH0pID0+IHsKICAgIGNvbnN0IFtpc0NhbmNlbGxpbmcsIHN0YXJ0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7CiAgICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwoKICAgIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHsKICAgICAgICBzdGFydFRyYW5zaXRpb24oYXN5bmMgKCkgPT4gewogICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYW5jZWxNeUJvb2tpbmcoYXBwb2ludG1lbnQuaWQpOwogICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICJCb29raW5nIENhbmNlbGxlZCIsIGRlc2NyaXB0aW9uOiAiWW91ciBhcHBvaW50bWVudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgY2FuY2VsbGVkLiIgfSk7CiAgICAgICAgICAgICAgICBvbkNhbmNlbChhcHBvaW50bWVudC5pZCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAiQ2FuY2VsbGF0aW9uIEZhaWxlZCIsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CiAgICAKICAgIGNvbnN0IGlzVXBjb21pbmcgPSBhcHBvaW50bWVudC5zdGF0dXMgPT09ICdjb25maXJtZWQnICYmIG5ldyBEYXRlKGFwcG9pbnRtZW50LnN0YXJ0X3RpbWUpLmdldFRpbWUoKSA+IERhdGUubm93KCk7CiAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShhcHBvaW50bWVudC5zdGFydF90aW1lKTsKCiAgICByZXR1cm4gKAogICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIGJvcmRlci1ib3JkZXIvNjAiPgogICAgICAgICAgICA8Q2FyZEhlYWRlcj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBnYXAtNCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9InctMTYgaC0xNiBib3JkZXItMiBib3JkZXItcHJpbWFyeSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXthcHBvaW50bWVudC5idXNpbmVzc19hdmF0YXIgfHwgdW5kZWZpbmVkfSAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhckZhbGxiYWNrPnthcHBvaW50bWVudC5idXNpbmVzc19uYW1lLmNoYXJBdCgwKX08L0F2YXRhckZhbGxiYWNrPgogICAgICAgICAgICAgICAgICAgICAgICA8L0F2YXRhcj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJ0ZXh0LXByaW1hcnkiPnthcHBvaW50bWVudC5zZXJ2aWNlX25hbWV9PC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPndpdGggPExpbmsgaHJlZj17YC91c2Vycy8ke2FwcG9pbnRtZW50LmJ1c2luZXNzX2lkfWB9IGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCBob3Zlcjp1bmRlcmxpbmUiPnthcHBvaW50bWVudC5idXNpbmVzc19uYW1lfTwvTGluaz48L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9ewogICAgICAgICAgICAgICAgICAgICAgICBhcHBvaW50bWVudC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gJ3N1Y2Nlc3MnIDogCiAgICAgICAgICAgICAgICAgICAgICAgIGFwcG9pbnRtZW50LnN0YXR1cyA9PT0gJ2NhbmNlbGxlZCcgPyAnZGVzdHJ1Y3RpdmUnIDogJ3NlY29uZGFyeScKICAgICAgICAgICAgICAgICAgICB9IGNsYXNzTmFtZT0iY2FwaXRhbGl6ZSI+e2FwcG9pbnRtZW50LnN0YXR1c308L0JhZGdlPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0ic3BhY2UteS0zIHRleHQtc20iPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+PENhbGVuZGFyIGNsYXNzTmFtZT0idy00IGgtNCB0ZXh0LXByaW1hcnkiIC8+IDxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmQiPntmb3JtYXQoc3RhcnREYXRlLCAnRUVFRSwgTU1NTSBkLCB5eXl5Jyl9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+PENsb2NrIGNsYXNzTmFtZT0idy00IGgtNCB0ZXh0LXByaW1hcnkiIC8+IDxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmQiPntmb3JtYXQoc3RhcnREYXRlLCAnaDptbSBhJyl9PC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+PEFybWNoYWlyIGNsYXNzTmFtZT0idy00IGgtNCB0ZXh0LXByaW1hcnkiIC8+IDxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmQiPnthcHBvaW50bWVudC5yZXNvdXJjZV9uYW1lfTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LW11dGVkLWZvcmVncm91bmQiPjxUYWcgY2xhc3NOYW1lPSJ3LTQgaC00IHRleHQtcHJpbWFyeSIgLz4gPHNwYW4gY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCI+4oK5e2FwcG9pbnRtZW50LnByaWNlfTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgIHthcHBvaW50bWVudC5idXNpbmVzc19sYXRpdHVkZSAmJiBhcHBvaW50bWVudC5idXNpbmVzc19sb25naXR1ZGUgJiYgKAogICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzP3E9JHthcHBvaW50bWVudC5idXNpbmVzc19sYXRpdHVkZX0sJHthcHBvaW50bWVudC5idXNpbmVzc19sb25naXR1ZGV9YH0gdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIgbm9yZWZlcnJlciIgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LW11dGVkLWZvcmVncm91bmQgcHQtMSBncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxNYXBQaW4gY2xhc3NOYW1lPSJ3LTQgaC00IHRleHQtcHJpbWFyeSBncm91cC1ob3Zlcjp0ZXh0LWFjY2VudCIgLz4gCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmQgZ3JvdXAtaG92ZXI6dW5kZXJsaW5lIGdyb3VwLWhvdmVyOnRleHQtYWNjZW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZXcgRGlyZWN0aW9ucwogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICAgICAge2lzVXBjb21pbmcgJiYgKAogICAgICAgICAgICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT0iYmctbXV0ZWQvMzAgcC0zIj4KICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nPgogICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZGVzdHJ1Y3RpdmUiIGNsYXNzTmFtZT0idy1mdWxsIiBkaXNhYmxlZD17aXNDYW5jZWxsaW5nfT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNDYW5jZWxsaW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIi8+IDogPFhDaXJjbGUgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiLz59CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsIEJvb2tpbmcKICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dUcmlnZ2VyPgogICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dDb250ZW50PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ1RpdGxlPkFyZSB5b3Ugc3VyZT88L0FsZXJ0RGlhbG9nVGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyB3aWxsIHBlcm1hbmVudGx5IGNhbmNlbCB5b3VyIGFwcG9pbnRtZW50LiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nQ2FuY2VsPktlZXAgQXBwb2ludG1lbnQ8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydERpYWxvZ0FjdGlvbiBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9PlllcywgQ2FuY2VsPC9BbGVydERpYWxvZ0FjdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PgogICAgICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2c+CiAgICAgICAgICAgICAgICAgPC9DYXJkRm9vdGVyPgogICAgICAgICAgICApfQogICAgICAgIDwvQ2FyZD4KICAgICk7Cn07CgppbnRlcmZhY2UgQm9va2luZ0xpc3RDbGllbnRQcm9wcyB7CiAgICBpbml0aWFsQm9va2luZ3M6IEN1c3RvbWVyQXBwb2ludG1lbnRbXTsKfQoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQm9va2luZ0xpc3RDbGllbnQoeyBpbml0aWFsQm9va2luZ3MgfTogQm9va2luZ0xpc3RDbGllbnRQcm9wcykgewogICAgY29uc3QgW2Jvb2tpbmdzLCBzZXRCb29raW5nc10gPSB1c2VTdGF0ZTxDdXN0b21lckFwcG9pbnRtZW50W10+KGluaXRpYWxCb29raW5ncyk7CgogICAgY29uc3Qgb25DYW5jZWwgPSAoYXBwb2ludG1lbnRJZDogbnVtYmVyKSA9PiB7CiAgICAgICAgc2V0Qm9va2luZ3MocHJldiA9PiBwcmV2Lm1hcChiID0+IGIuaWQgPT09IGFwcG9pbnRtZW50SWQgPyB7IC4uLmIsIHN0YXR1czogJ2NhbmNlbGxlZCcgfSA6IGIpKTsKICAgIH07CgogICAgY29uc3Qgbm9ybWFsaXplZEJvb2tpbmdzID0gdXNlTWVtbygoKSA9PiAKICAgICAgICAoYm9va2luZ3MgPz8gW10pLm1hcCgoYikgPT4gKHsKICAgICAgICAgICAgLi4uYiwKICAgICAgICAgICAgX19zdGFydE1zOiBuZXcgRGF0ZShiLnN0YXJ0X3RpbWUpLmdldFRpbWUoKSwKICAgICAgICB9KSksIAogICAgW2Jvb2tpbmdzXSk7CgogICAgY29uc3QgeyB1cGNvbWluZywgcGFzdCB9ID0gdXNlTWVtbygoKSA9PiB7CiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgICBjb25zdCB1cGNvbWluZ0Jvb2tpbmdzID0gbm9ybWFsaXplZEJvb2tpbmdzCiAgICAgICAgICAgIC5maWx0ZXIoYiA9PiBiLnN0YXR1cyA9PT0gJ2NvbmZpcm1lZCcgJiYgYi5fX3N0YXJ0TXMgPj0gbm93KQogICAgICAgICAgICAuc29ydCgoYSxiKSA9PiBhLl9fc3RhcnRNcyAtIGIuX19zdGFydE1zKTsKICAgICAgICAgICAgCiAgICAgICAgY29uc3QgcGFzdEJvb2tpbmdzID0gbm9ybWFsaXplZEJvb2tpbmdzCiAgICAgICAgICAgIC5maWx0ZXIoYiA9PiBiLnN0YXR1cyAhPT0gJ2NvbmZpcm1lZCcgfHwgYi5fX3N0YXJ0TXMgPCBub3cpCiAgICAgICAgICAgIC5zb3J0KChhLGIpID0+IGIuX19zdGFydE1zIC0gYS5fX3N0YXJ0TXMpOwoKICAgICAgICByZXR1cm4geyB1cGNvbWluZzogdXBjb21pbmdCb29raW5ncywgcGFzdDogcGFzdEJvb2tpbmdzIH07CiAgICB9LCBbbm9ybWFsaXplZEJvb2tpbmdzXSk7CgoKICAgIGlmIChib29raW5ncy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgcHktMTYiPgogICAgICAgICAgICAgICAgPENhbGVuZGFyIGNsYXNzTmFtZT0ibXgtYXV0byBoLTE2IHctMTYgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzUwIG1iLTQiIC8+CiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPSJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5Zb3UgaGF2ZSBubyBib29raW5ncy48L2gzPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LW11dGVkLWZvcmVncm91bmQiPkZpbmQgbG9jYWwgc2VydmljZXMgb24gdGhlIGhvbWUgcGFnZSB0byBtYWtlIGEgYm9va2luZy48L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICk7CiAgICB9CgogICAgcmV0dXJuICgKICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS04Ij4KICAgICAgICAgICAge3VwY29taW5nLmxlbmd0aCA+IDAgJiYgKAogICAgICAgICAgICAgICAgPHNlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT0idGV4dC0yeGwgZm9udC1ib2xkIG1iLTQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPjxDaGVja0NpcmNsZSBjbGFzc05hbWU9InctNiBoLTYgdGV4dC1wcmltYXJ5Ii8+VXBjb21pbmcgQm9va2luZ3M8L2gyPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTQiPgogICAgICAgICAgICAgICAgICAgICAgICB7dXBjb21pbmcubWFwKGJvb2tpbmcgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFwcG9pbnRtZW50Q2FyZCBrZXk9e2Jvb2tpbmcuaWR9IGFwcG9pbnRtZW50PXtib29raW5nfSBvbkNhbmNlbD17b25DYW5jZWx9IC8+CiAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9zZWN0aW9uPgogICAgICAgICAgICApfQogICAgICAgICAgICAge3Bhc3QubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgICAgICAgICA8c2VjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+PENsb2NrIGNsYXNzTmFtZT0idy02IGgtNiB0ZXh0LW11dGVkLWZvcmVncm91bmQiLz5QYXN0IEJvb2tpbmdzPC9oMj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS00Ij4KICAgICAgICAgICAgICAgICAgICAgICAge3Bhc3QubWFwKGJvb2tpbmcgPT4gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFwcG9pbnRtZW50Q2FyZCBrZXk9e2Jvb2tpbmcuaWR9IGFwcG9pbnRtZW50PXtib29raW5nfSBvbkNhbmNlbD17b25DYW5jZWx9IC8+CiAgICAgICAgICAgICAgICAgICAgICAgICkpfQogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9zZWN0aW9uPgogICAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgKTsKfQo=' | base64 -d > /root/localpulse/src/app/account/my-bookings/booking-list-client.tsx
mkdir -p /root/localpulse/src/app/account/my-bookings
echo 'CgondXNlIHNlcnZlcic7CgppbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gJ25leHQvY2FjaGUnOwppbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnQC9hcHAvYXV0aC9hY3Rpb25zJzsKaW1wb3J0IHsgZ2V0QXBwb2ludG1lbnRzRm9yQ3VzdG9tZXJEYiwgdXBkYXRlQXBwb2ludG1lbnRTdGF0dXNEYiB9IGZyb20gJ0AvbGliL2RiJzsKaW1wb3J0IHR5cGUgeyBDdXN0b21lckFwcG9pbnRtZW50LCBBcHBvaW50bWVudFN0YXR1cyB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNeUJvb2tpbmdzKCk6IFByb21pc2U8Q3VzdG9tZXJBcHBvaW50bWVudFtdPiB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICAgIGlmICghdXNlcikgcmV0dXJuIFtdOwogICAgCiAgICByZXR1cm4gZ2V0QXBwb2ludG1lbnRzRm9yQ3VzdG9tZXJEYih1c2VyLmlkKTsKfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbmNlbE15Qm9va2luZyhhcHBvaW50bWVudElkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCBnZXRTZXNzaW9uKCk7CiAgICBpZiAoIXVzZXIpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZC4nIH07CiAgICB9CgogICAgdHJ5IHsKICAgICAgICAvLyBUaGUgbGFzdCBwYXJhbWV0ZXIgYGlzQ3VzdG9tZXJgIHNob3VsZCBiZSB0cnVlLgogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUFwcG9pbnRtZW50U3RhdHVzRGIoYXBwb2ludG1lbnRJZCwgJ2NhbmNlbGxlZCcsIHVzZXIuaWQsIHRydWUpOwogICAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0FwcG9pbnRtZW50IG5vdCBmb3VuZCBvciB5b3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBjYW5jZWwgaXQuJyB9OwogICAgICAgIH0KICAgICAgICByZXZhbGlkYXRlUGF0aCgnL2FjY291bnQvbXktYm9va2luZ3MnKTsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07CiAgICB9Cn0K' | base64 -d > /root/localpulse/src/app/account/my-bookings/actions.ts
mkdir -p /root/localpulse/src/app/account/delete
echo 'CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgVXNlciwgU2V0dGluZ3MsIEFsZXJ0VHJpYW5nbGUsIExpc3RPcmRlcmVkIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlbGV0ZUFjY291bnRQYWdlKCkgewogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcC00IHNtOnAtNiBtZDpwLTgiPgogICAgICA8ZGl2IGNsYXNzTmFtZT0iY29udGFpbmVyIG14LWF1dG8gdy1mdWxsIG1heC13LTJ4bCBzcGFjZS15LTYiPgogICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIGJvcmRlci1ib3JkZXIvNjAiPgogICAgICAgICAgICA8Q2FyZEhlYWRlcj4KICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LTN4bCBmb250LWJvbGQiPgogICAgICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT0idy04IGgtOCBtci0zIHRleHQtZGVzdHJ1Y3RpdmUiIC8+CiAgICAgICAgICAgICAgICAgICAgQWNjb3VudCBEZWxldGlvbiBHdWlkZQogICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgIEhvdyB0byBwZXJtYW5lbnRseSBkZWxldGUgeW91ciBMb2NhbFB1bHNlIGFjY291bnQuCiAgICAgICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSJzcGFjZS15LTYgcHQtNCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0icC00IGJvcmRlciBib3JkZXIteWVsbG93LTUwMC8zMCBiZy15ZWxsb3ctNTAwLzEwIHJvdW5kZWQtbGcgdGV4dC15ZWxsb3ctODAwIGRhcms6dGV4dC15ZWxsb3ctMzAwIj4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQiPlBsZWFzZSByZWFkIGNhcmVmdWxseSBiZWZvcmUgcHJvY2VlZGluZy4gQWNjb3VudCBkZWxldGlvbiBpcyBwZXJtYW5lbnQgYW5kIGNhbm5vdCBiZSB1bmRvbmUuPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9InRleHQteGwgZm9udC1zZW1pYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBwdC0yIj4KICAgICAgICAgICAgICAgICAgICA8TGlzdE9yZGVyZWQgY2xhc3NOYW1lPSJ3LTUgaC01IG1yLTIgdGV4dC1wcmltYXJ5Ii8+CiAgICAgICAgICAgICAgICAgICAgU3RlcHMgdG8gRGVsZXRlIFlvdXIgQWNjb3VudAogICAgICAgICAgICAgICAgPC9oMz4KCiAgICAgICAgICAgICAgICA8b2wgY2xhc3NOYW1lPSJsaXN0LWRlY2ltYWwgbGlzdC1pbnNpZGUgc3BhY2UteS00IHRleHQtZm9yZWdyb3VuZC85MCI+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPk5hdmlnYXRlIHRvIFlvdXIgUHJvZmlsZTo8L3N0cm9uZz4gTG9nIGluIHRvIHlvdXIgYWNjb3VudCBhbmQgZ28gdG8geW91ciBwcm9maWxlIHBhZ2UuIFlvdSBjYW4gZG8gdGhpcyBieSBjbGlja2luZyB0aGUgCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iaW5saW5lLWJsb2NrIG14LTEuNSBwLTEgYmctbXV0ZWQgcm91bmRlZC1tZCBhbGlnbi1taWRkbGUiPjxVc2VyIGNsYXNzTmFtZT0iaC00IHctNCIgLz48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICBQcm9maWxlIGljb24gaW4gdGhlIG5hdmlnYXRpb24gYmFyLgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkZpbmQgdGhlIFNldHRpbmdzIFNlY3Rpb246PC9zdHJvbmc+IE9uIHlvdXIgcHJvZmlsZSBwYWdlLCBzY3JvbGwgZG93biB0byBmaW5kIHRoZSAiU2V0dGluZ3MiIGNhcmQuCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJteS0yIHAtNCBiZy1tdXRlZC81MCBib3JkZXIgcm91bmRlZC1tZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzc05hbWU9InctNSBoLTUgdGV4dC1wcmltYXJ5Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5UaGlzIGlzIHdoYXQgdGhlIFNldHRpbmdzIHNlY3Rpb24gbG9va3MgbGlrZS48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkNsaWNrICJEZWxldGUgQWNjb3VudCI6PC9zdHJvbmc+IEluc2lkZSB0aGUgU2V0dGluZ3MgY2FyZCwgeW91IHdpbGwgZmluZCBhIHJlZCBidXR0b24gbGFiZWxlZCAiRGVsZXRlIEFjY291bnQuIiBDbGljayB0aGlzIGJ1dHRvbiB0byBiZWdpbiB0aGUgcHJvY2Vzcy4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5Db25maXJtIERlbGV0aW9uOjwvc3Ryb25nPiBBIGNvbmZpcm1hdGlvbiBwb3AtdXAgd2lsbCBhcHBlYXIuIFRvIGZpbmFsaXplIHRoZSBkZWxldGlvbiwgeW91IG11c3QgY2xpY2sgdGhlICJZZXMsIGRlbGV0ZSBteSBhY2NvdW50IiBidXR0b24uCiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDwvb2w+CgogICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9InRleHQteGwgZm9udC1zZW1pYm9sZCBwdC00IGJvcmRlci10IG10LTYiPldoYXQgSGFwcGVucyB0byBZb3VyIERhdGE/PC9oMz4KICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPSJsaXN0LWRpc2MgbGlzdC1pbnNpZGUgc3BhY2UteS0yIHRleHQtZm9yZWdyb3VuZC85MCI+CiAgICAgICAgICAgICAgICAgICAgPGxpPllvdXIgdXNlciBwcm9maWxlLCBpbmNsdWRpbmcgeW91ciBuYW1lLCBlbWFpbCwgYW5kIHByb2ZpbGUgcGljdHVyZSwgd2lsbCBiZSBwZXJtYW5lbnRseSBkZWxldGVkLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPkFsbCBvZiB5b3VyIGxpa2VzLCBjb21tZW50cywgYW5kIGZvbGxvd3Mgd2lsbCBiZSByZW1vdmVkLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPllvdXIgcG9zdHMgd2lsbCAqKm5vdCoqIGJlIGRlbGV0ZWQuIEluc3RlYWQsIHRoZXkgd2lsbCBiZWNvbWUgImFub255bW91cyIgYW5kIHdpbGwgbm8gbG9uZ2VyIGJlIGxpbmtlZCB0byB5b3UuPC9saT4KICAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgcHQtNCI+CiAgICAgICAgICAgICAgICAgICAgSWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucywgcGxlYXNlIGNvbnRhY3Qgb3VyIHN1cHBvcnQgdGVhbSBiZWZvcmUgZGVsZXRpbmcgeW91ciBhY2NvdW50LgogICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICA8L0NhcmQ+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/app/account/delete/page.tsx
mkdir -p /root/localpulse/src/app/auth
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnOwppbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCAqIGFzIGpvc2UgZnJvbSAnam9zZSc7CmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnOwppbXBvcnQgeyBjcmVhdGVVc2VyRGIsIGdldFVzZXJCeUVtYWlsRGIsIGdldFVzZXJCeUlkRGIsIHVwZGF0ZVVzZXJQcm9maWxlUGljdHVyZURiLCB1cGRhdGVVc2VyTmFtZURiLCBkZWxldGVVc2VyRGIsIGNyZWF0ZVBlbmRpbmdSZWdpc3RyYXRpb24sIGdldFBlbmRpbmdSZWdpc3RyYXRpb25CeU90cCwgZGVsZXRlUGVuZGluZ1JlZ2lzdHJhdGlvbiwgY3JlYXRlUGFzc3dvcmRSZXNldFRva2VuLCBnZXRQYXNzd29yZFJlc2V0VG9rZW4sIGRlbGV0ZVBhc3N3b3JkUmVzZXRUb2tlbiwgdXBkYXRlVXNlclBhc3N3b3JkRGIgfSBmcm9tICdAL2xpYi9kYic7CmltcG9ydCB0eXBlIHsgTmV3VXNlciwgVXNlciwgVXNlclN0YXR1cywgUGVuZGluZ1JlZ2lzdHJhdGlvbiB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJzsKaW1wb3J0IHsgY2FjaGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBzZ01haWwgZnJvbSAnQHNlbmRncmlkL21haWwnOwppbXBvcnQgeyBjdXN0b21BbHBoYWJldCB9IGZyb20gJ25hbm9pZCc7Cgpjb25zdCBVU0VSX0NPT0tJRV9OQU1FID0gJ3VzZXItYXV0aC10b2tlbic7CgovLyBVc2UgYSBmYWxsYmFjayBzZWNyZXQgZm9yIGRldmVsb3BtZW50IGlmIG5vdCBzZXQsIGJ1dCBsb2cgYSBzdHJvbmcgd2FybmluZy4KY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVDsKaWYgKCFzZWNyZXQgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykgewogICAgLy8gSW4gcHJvZHVjdGlvbiwgdGhlIHNlY3JldCBpcyBhYnNvbHV0ZWx5IG1hbmRhdG9yeS4KICAgIGNvbnNvbGUuZXJyb3IoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKICAgIGNvbnNvbGUuZXJyb3IoJ0ZBVEFMOiBBIHNlY3VyZSBKV1RfU0VDUkVUIGVudmlyb25tZW50IHZhcmlhYmxlIG11c3QgYmUgc2V0IGZvciBwcm9kdWN0aW9uLicpOwogICAgY29uc29sZS5lcnJvcignQXBwbGljYXRpb24gd2lsbCBub3QgZnVuY3Rpb24gY29ycmVjdGx5IHdpdGhvdXQgaXQuJyk7CiAgICBjb25zb2xlLmVycm9yKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7Cn0KY29uc3QgSldUX1NFQ1JFVCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzZWNyZXQgfHwgJ2ZhbGxiYWNrLXNlY3JldC1mb3Itand0LXRoYXQtaXMtYXQtbGVhc3QtMzItYnl0ZXMtbG9uZycpOwoKaWYgKCFwcm9jZXNzLmVudi5KV1RfU0VDUkVUICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHsKICBjb25zb2xlLndhcm4oJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IEpXVF9TRUNSRVQgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldC4gVXNpbmcgYSB0ZW1wb3JhcnksIGluc2VjdXJlIGZhbGxiYWNrIHNlY3JldC4nKTsKICBjb25zb2xlLndhcm4oJ1RISVMgSVMgTk9UIFNBRkUgRk9SIFBST0RVQ1RJT04uIFBsZWFzZSBzZXQgYSBzZWN1cmUgc2VjcmV0IGluIHlvdXIgLmVudi5sb2NhbCBmaWxlLicpOwogIGNvbnNvbGUud2FybignLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwp9CgovKioKICogQ3JlYXRlcyB0aGUgSFRNTCBjb250ZW50IGZvciB0aGUgT1RQIGVtYWlsLgogKiBAcGFyYW0gbmFtZSBUaGUgdXNlcidzIG5hbWUuCiAqIEBwYXJhbSBvdHAgVGhlIDYtZGlnaXQgb25lLXRpbWUgcGFzc3dvcmQuCiAqIEByZXR1cm5zIFRoZSBIVE1MIHN0cmluZyBmb3IgdGhlIGVtYWlsIGJvZHkuCiAqLwpmdW5jdGlvbiBjcmVhdGVPdHBFbWFpbEh0bWwobmFtZTogc3RyaW5nLCBvdHA6IHN0cmluZyk6IHN0cmluZyB7CiAgICByZXR1cm4gYAogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgY29sb3I6ICMzMzM7Ij4KICAgICAgICAgICAgPGgyIHN0eWxlPSJjb2xvcjogIzE4MDUzYzsiPldlbGNvbWUgdG8gTG9jYWxQdWxzZSE8L2gyPgogICAgICAgICAgICA8cD5IaSAke25hbWV9LDwvcD4KICAgICAgICAgICAgPHA+VGhhbmsgeW91IGZvciBzaWduaW5nIHVwLiBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgT25lLVRpbWUgUGFzc3dvcmQgKE9UUCkgdG8gdmVyaWZ5IHlvdXIgYWNjb3VudDo8L3A+CiAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBsZXR0ZXItc3BhY2luZzogMnB4OyBjb2xvcjogI2ZmNmYwMDsiPiR7b3RwfTwvcD4KICAgICAgICAgICAgPHA+VGhpcyBjb2RlIGlzIHZhbGlkIGZvciAxMCBtaW51dGVzLjwvcD4KICAgICAgICAgICAgPHA+SWYgeW91IGRpZCBub3Qgc2lnbiB1cCBmb3IgTG9jYWxQdWxzZSwgcGxlYXNlIGlnbm9yZSB0aGlzIGVtYWlsLjwvcD4KICAgICAgICAgICAgPGJyLz4KICAgICAgICAgICAgPHA+VGhhbmtzLDwvcD4KICAgICAgICAgICAgPHA+VGhlIExvY2FsUHVsc2UgVGVhbTwvcD4KICAgICAgICA8L2Rpdj4KICAgIGA7Cn0KCi8qKgogKiBDcmVhdGVzIHRoZSBIVE1MIGNvbnRlbnQgZm9yIHRoZSBwYXNzd29yZCByZXNldCBPVFAgZW1haWwuCiAqIEBwYXJhbSBuYW1lIFRoZSB1c2VyJ3MgbmFtZS4KICogQHBhcmFtIG90cCBUaGUgNi1kaWdpdCBvbmUtdGltZSBwYXNzd29yZC4KICogQHJldHVybnMgVGhlIEhUTUwgc3RyaW5nIGZvciB0aGUgZW1haWwgYm9keS4KICovCmZ1bmN0aW9uIGNyZWF0ZVBhc3N3b3JkUmVzZXRFbWFpbEh0bWwobmFtZTogc3RyaW5nLCBvdHA6IHN0cmluZyk6IHN0cmluZyB7CiAgICByZXR1cm4gYAogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgY29sb3I6ICMzMzM7Ij4KICAgICAgICAgICAgPGgyIHN0eWxlPSJjb2xvcjogIzE4MDUzYzsiPkxvY2FsUHVsc2UgUGFzc3dvcmQgUmVzZXQ8L2gyPgogICAgICAgICAgICA8cD5IaSAke25hbWV9LDwvcD4KICAgICAgICAgICAgPHA+QSBwYXNzd29yZCByZXNldCB3YXMgcmVxdWVzdGVkIGZvciB5b3VyIGFjY291bnQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBPbmUtVGltZSBQYXNzd29yZCAoT1RQKSB0byBzZXQgYSBuZXcgcGFzc3dvcmQ6PC9wPgogICAgICAgICAgICA8cCBzdHlsZT0iZm9udC1zaXplOiAyNHB4OyBmb250LXdlaWdodDogYm9sZDsgbGV0dGVyLXNwYWNpbmc6IDJweDsgY29sb3I6ICNmZjZmMDA7Ij4ke290cH08L3A+CiAgICAgICAgICAgIDxwPlRoaXMgY29kZSBpcyB2YWxpZCBmb3IgMTAgbWludXRlcy48L3A+CiAgICAgICAgICAgIDxwPklmIHlvdSBkaWQgbm90IHJlcXVlc3QgYSBwYXNzd29yZCByZXNldCwgeW91IGNhbiBzYWZlbHkgaWdub3JlIHRoaXMgZW1haWwuPC9wPgogICAgICAgICAgICA8YnIvPgogICAgICAgICAgICA8cD5UaGFua3MsPC9wPgogICAgICAgICAgICA8cD5UaGUgTG9jYWxQdWxzZSBUZWFtPC9wPgogICAgICAgIDwvZGl2PgogICAgYDsKfQoKYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHRvOiBzdHJpbmcsIHN1YmplY3Q6IHN0cmluZywgaHRtbDogc3RyaW5nKSB7CiAgICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5TRU5ER1JJRF9BUElfS0VZOwogICAgY29uc3QgZnJvbUVtYWlsID0gcHJvY2Vzcy5lbnYuU0VOREdSSURfRlJPTV9FTUFJTDsKCiAgICBpZiAoIWFwaUtleSB8fCAhZnJvbUVtYWlsKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZW5kR3JpZCBBUEkgS2V5IG9yIEZyb20gRW1haWwgaXMgbm90IGNvbmZpZ3VyZWQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzLicpOwogICAgfQogICAgc2dNYWlsLnNldEFwaUtleShhcGlLZXkpOwogICAgY29uc3QgbXNnID0geyB0bywgZnJvbTogZnJvbUVtYWlsLCBzdWJqZWN0LCBodG1sIH07CiAgICBhd2FpdCBzZ01haWwuc2VuZChtc2cpOwp9CgoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY3J5cHQocGF5bG9hZDogYW55KSB7CiAgcmV0dXJuIGF3YWl0IG5ldyBqb3NlLlNpZ25KV1QocGF5bG9hZCkKICAgIC5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBhbGc6ICdIUzI1NicgfSkKICAgIC5zZXRJc3N1ZWRBdCgpCiAgICAuc2V0RXhwaXJhdGlvblRpbWUoJzEweScpIC8vIFNldCBzZXNzaW9uIHRvIGV4cGlyZSBpbiAxMCB5ZWFycwogICAgLnNpZ24oSldUX1NFQ1JFVCk7Cn0KCmFzeW5jIGZ1bmN0aW9uIGRlY3J5cHQodG9rZW46IHN0cmluZyk6IFByb21pc2U8YW55IHwgbnVsbD4gewogIHRyeSB7CiAgICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGpvc2Uuand0VmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVULCB7CiAgICAgIGFsZ29yaXRobXM6IFsnSFMyNTYnXSwKICAgIH0pOwogICAgcmV0dXJuIHBheWxvYWQ7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vIFRoaXMgd2lsbCBoYXBwZW4gaWYgdGhlIHRva2VuIGlzIGludmFsaWQgb3IgdGhlIHNlY3JldCBpcyB3cm9uZy4KICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB2ZXJpZnkgSldUOicsIGVycm9yKTsKICAgIHJldHVybiBudWxsOwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25VcChuZXdVc2VyOiBOZXdVc2VyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICB0cnkgewogICAgY29uc3QgZW1haWxMb3dlciA9IG5ld1VzZXIuZW1haWwudG9Mb3dlckNhc2UoKTsKICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IGdldFVzZXJCeUVtYWlsRGIoZW1haWxMb3dlcik7CiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7CiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0FuIGFjY291bnQgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzLicgfTsKICAgIH0KICAgIAogICAgLy8gSGFzaCBwYXNzd29yZAogICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTsKICAgIGNvbnN0IHBhc3N3b3JkaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKG5ld1VzZXIucGFzc3dvcmRwbGFpbnRleHQsIHNhbHQpOwoKICAgIC8vIEdlbmVyYXRlIE9UUAogICAgY29uc3QgbmFub2lkID0gY3VzdG9tQWxwaGFiZXQoJzEyMzQ1Njc4OTAnLCA2KTsKICAgIGNvbnN0IG90cCA9IG5hbm9pZCgpOwoKICAgIC8vIFN0b3JlIHBlbmRpbmcgcmVnaXN0cmF0aW9uCiAgICBhd2FpdCBjcmVhdGVQZW5kaW5nUmVnaXN0cmF0aW9uKHsgLi4ubmV3VXNlciwgZW1haWw6IGVtYWlsTG93ZXIsIHBhc3N3b3JkaGFzaCB9LCBvdHApOwoKICAgIC8vIFNlbmQgT1RQIGVtYWlsCiAgICBjb25zdCBzdWJqZWN0ID0gYFlvdXIgTG9jYWxQdWxzZSBWZXJpZmljYXRpb24gQ29kZWA7CiAgICBjb25zdCBodG1sQm9keSA9IGNyZWF0ZU90cEVtYWlsSHRtbChuZXdVc2VyLm5hbWUsIG90cCk7CiAgICBhd2FpdCBzZW5kRW1haWwoZW1haWxMb3dlciwgc3ViamVjdCwgaHRtbEJvZHkpOwoKCiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CgogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ1NpZ24gdXAgZXJyb3I6JywgZXJyb3IpOwogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkIGR1cmluZyBzaWduIHVwLicgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlPdHBBbmRDcmVhdGVVc2VyKGVtYWlsOiBzdHJpbmcsIG90cDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICB0cnkgewogICAgY29uc3QgcGVuZGluZ1VzZXIgPSBhd2FpdCBnZXRQZW5kaW5nUmVnaXN0cmF0aW9uQnlPdHAoZW1haWwsIG90cCk7CgogICAgaWYgKCFwZW5kaW5nVXNlcikgewogICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIG9yIGV4cGlyZWQgT1RQLiBQbGVhc2UgdHJ5IGFnYWluLicgfTsKICAgIH0KCiAgICBjb25zdCB1c2VyRGF0YTogTmV3VXNlciA9IHsKICAgICAgICBuYW1lOiBwZW5kaW5nVXNlci5uYW1lLAogICAgICAgIGVtYWlsOiBwZW5kaW5nVXNlci5lbWFpbCwKICAgICAgICByb2xlOiBwZW5kaW5nVXNlci5yb2xlIGFzIGFueSwgLy8gQ2FzdCBiZWNhdXNlIHRoZSB0eXBlIGlzIHNsaWdodGx5IGRpZmZlcmVudAogICAgICAgIGNvdW50cnlDb2RlOiAnJywgLy8gTm90IG5lZWRlZCBmb3IgZmluYWwgY3JlYXRpb24KICAgICAgICBtb2JpbGVudW1iZXI6IHBlbmRpbmdVc2VyLm1vYmlsZW51bWJlciB8fCAnJywKICAgICAgICBidXNpbmVzc19jYXRlZ29yeTogcGVuZGluZ1VzZXIuYnVzaW5lc3NfY2F0ZWdvcnksCiAgICAgICAgYnVzaW5lc3Nfb3RoZXJfY2F0ZWdvcnk6IHBlbmRpbmdVc2VyLmJ1c2luZXNzX290aGVyX2NhdGVnb3J5LAogICAgICAgIHJlZmVycmFsX2NvZGU6IHBlbmRpbmdVc2VyLnJlZmVycmFsX2NvZGUsCiAgICAgICAgcGFzc3dvcmRwbGFpbnRleHQ6ICcnLCAvLyBOb3QgbmVlZGVkLCB3ZSBhbHJlYWR5IGhhdmUgdGhlIGhhc2gKICAgICAgICB0aW1lem9uZTogcGVuZGluZ1VzZXIudGltZXpvbmUsCiAgICB9OwogICAgCiAgICAvLyBBdXRvLWFwcHJvdmUgYWxsIHVzZXJzLCBpbmNsdWRpbmcgYnVzaW5lc3NlcywgdXBvbiBzdWNjZXNzZnVsIE9UUCB2ZXJpZmljYXRpb24uCiAgICBjb25zdCB1c2VyID0gYXdhaXQgY3JlYXRlVXNlckRiKHsgLi4udXNlckRhdGEsIHBhc3N3b3JkcGxhaW50ZXh0OiBwZW5kaW5nVXNlci5wYXNzd29yZGhhc2ggfSwgJ2FwcHJvdmVkJyk7CgogICAgaWYgKCF1c2VyKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gY3JlYXRlIHVzZXIgYWNjb3VudCBhZnRlciB2ZXJpZmljYXRpb24uIik7CiAgICB9CiAgICAKICAgIGF3YWl0IGRlbGV0ZVBlbmRpbmdSZWdpc3RyYXRpb24oZW1haWwpOwoKICAgIC8vIExvZyB0aGUgdXNlciBpbiBpbW1lZGlhdGVseQogICAgYXdhaXQgbG9naW4oZW1haWwsICcnLCB0cnVlLCBwZW5kaW5nVXNlci5wYXNzd29yZGhhc2gpOwoKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICBjb25zb2xlLmVycm9yKCdPVFAgdmVyaWZpY2F0aW9uIGVycm9yOicsIGVycm9yKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQuJyB9OwogIH0KfQoKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbihlbWFpbDogc3RyaW5nLCBwYXNzd29yZD86IHN0cmluZywgaXNWZXJpZmllZCA9IGZhbHNlLCBwYXNzd29yZEhhc2g/OiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogIHRyeSB7CiAgICBjb25zdCBlbWFpbExvd2VyID0gZW1haWwudG9Mb3dlckNhc2UoKTsKICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyQnlFbWFpbERiKGVtYWlsTG93ZXIpOwoKICAgIGlmICghdXNlcikgewogICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkLicgfTsKICAgIH0KICAgIAogICAgaWYgKHVzZXIuc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91ciBhY2NvdW50IGhhcyBiZWVuIHJlamVjdGVkLicgfTsKICAgIH0KICAgIAogICAgaWYgKHVzZXIuc3RhdHVzID09PSAncGVuZGluZycpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdZb3VyIGFjY291bnQgaXMgcGVuZGluZyBhcHByb3ZhbC4gUGxlYXNlIGNoZWNrIGJhY2sgbGF0ZXIuJyB9OwogICAgfQoKICAgIC8vIElmIGNvbWluZyBmcm9tIE9UUCB2ZXJpZmljYXRpb24sIHdlIHRydXN0IHRoZSBoYXNoLiBPdGhlcndpc2UsIGNvbXBhcmUgcGFzc3dvcmRzLgogICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gaXNWZXJpZmllZCA/ICh1c2VyLnBhc3N3b3JkaGFzaCA9PT0gcGFzc3dvcmRIYXNoKSA6IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkISwgdXNlci5wYXNzd29yZGhhc2gpOwoKICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7CiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQuJyB9OwogICAgfQoKICAgIGNvbnN0IHNlc3Npb25QYXlsb2FkID0geyB1c2VySWQ6IHVzZXIuaWQgfTsKICAgIGNvbnN0IHNlc3Npb25Ub2tlbiA9IGF3YWl0IGVuY3J5cHQoc2Vzc2lvblBheWxvYWQpOwogICAgY29uc3QgbWF4QWdlSW5TZWNvbmRzID0gMTAgKiAzNjUgKiAyNCAqIDYwICogNjA7IC8vIDEwIHllYXJzCiAgICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIG1heEFnZUluU2Vjb25kcyAqIDEwMDApOwogICAgCiAgICBjb25zdCBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nOwogICAgY29uc3QgYWxsb3dJbnNlY3VyZSA9IHByb2Nlc3MuZW52LkFMTE9XX0lOU0VDVVJFX0xPR0lOX0ZPUl9IVFRQID09PSAndHJ1ZSc7CgogICAgY29va2llcygpLnNldChVU0VSX0NPT0tJRV9OQU1FLCBzZXNzaW9uVG9rZW4sIHsKICAgICAgaHR0cE9ubHk6IHRydWUsCiAgICAgIHNlY3VyZTogaXNQcm9kdWN0aW9uICYmICFhbGxvd0luc2VjdXJlLAogICAgICBtYXhBZ2U6IG1heEFnZUluU2Vjb25kcywKICAgICAgZXhwaXJlczogZXhwaXJlcywKICAgICAgc2FtZVNpdGU6ICdsYXgnLAogICAgICBwYXRoOiAnLycsCiAgICB9KTsKCiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpOwogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLicgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dvdXQoKTogUHJvbWlzZTx2b2lkPiB7CiAgY29va2llcygpLmRlbGV0ZShVU0VSX0NPT0tJRV9OQU1FKTsKICAvLyBSZXZhbGlkYXRlIHRoZSBlbnRpcmUgbGF5b3V0IHRvIGVuc3VyZSB0aGUgc2Vzc2lvbiBpcyByZS1yZWFkIGV2ZXJ5d2hlcmUuCiAgcmV2YWxpZGF0ZVBhdGgoJy8nLCAnbGF5b3V0Jyk7Cn0KCmV4cG9ydCBjb25zdCBnZXRTZXNzaW9uID0gY2FjaGUoYXN5bmMgKCk6IFByb21pc2U8eyB1c2VyOiBVc2VyIHwgbnVsbCB9PiA9PiB7CiAgY29uc3QgdG9rZW4gPSBjb29raWVzKCkuZ2V0KFVTRVJfQ09PS0lFX05BTUUpPy52YWx1ZTsKICBpZiAoIXRva2VuKSB7CiAgICByZXR1cm4geyB1c2VyOiBudWxsIH07CiAgfQoKICBjb25zdCBwYXlsb2FkID0gYXdhaXQgZGVjcnlwdCh0b2tlbik7CiAgaWYgKCFwYXlsb2FkIHx8ICFwYXlsb2FkLnVzZXJJZCkgewogICAgcmV0dXJuIHsgdXNlcjogbnVsbCB9OwogIH0KCiAgY29uc3QgdXNlciA9IGF3YWl0IGdldFVzZXJCeUlkRGIocGF5bG9hZC51c2VySWQpOwoKICByZXR1cm4geyB1c2VyIH07Cn0pOwoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXJQcm9maWxlUGljdHVyZShpbWFnZVVybDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IGdldFNlc3Npb24oKTsKICBpZiAoIXVzZXIpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1lvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byB1cGRhdGUgeW91ciBwcm9maWxlIHBpY3R1cmUuJyB9OwogIH0KCiAgaWYgKCFpbWFnZVVybCB8fCB0eXBlb2YgaW1hZ2VVcmwgIT09ICdzdHJpbmcnKSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdObyB2YWxpZCBpbWFnZSBVUkwgcHJvdmlkZWQuJyB9OwogIH0KCiAgdHJ5IHsKICAgIGF3YWl0IHVwZGF0ZVVzZXJQcm9maWxlUGljdHVyZURiKHVzZXIuaWQsIGltYWdlVXJsKTsKICAgIHJldmFsaWRhdGVQYXRoKGAvdXNlcnMvJHt1c2VyLmlkfWApOwogICAgcmV2YWxpZGF0ZVBhdGgoJy8nLCAnbGF5b3V0Jyk7IC8vIFRvIHVwZGF0ZSB0aGUgdXNlci1uYXYgYXZhdGFyCiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgcHJvZmlsZSBwaWN0dXJlIGZvciB1c2VyICR7dXNlci5pZH06YCwgZXJyb3IpOwogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBwcm9maWxlIHBpY3R1cmUuJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXJuYW1lKG5hbWU6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZzsgdXNlcj86IFVzZXIgfT4gewogIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghdXNlcikgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91IG11c3QgYmUgbG9nZ2VkIGluIHRvIHVwZGF0ZSB5b3VyIG5hbWUuJyB9OwogIH0KCiAgaWYgKCFuYW1lIHx8IG5hbWUudHJpbSgpLmxlbmd0aCA8IDIpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMgbG9uZy4nIH07CiAgfQogIAogIGlmIChuYW1lLnRyaW0oKS5sZW5ndGggPiA1MCkgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTmFtZSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMuJyB9OwogIH0KCiAgdHJ5IHsKICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXBkYXRlVXNlck5hbWVEYih1c2VyLmlkLCBuYW1lLnRyaW0oKSk7CiAgICBpZiAodXBkYXRlZFVzZXIpIHsKICAgICAgcmV2YWxpZGF0ZVBhdGgoYC91c2Vycy8ke3VzZXIuaWR9YCk7CiAgICAgIHJldmFsaWRhdGVQYXRoKCcvJywgJ2xheW91dCcpOyAvLyBUbyB1cGRhdGUgdGhlIHVzZXItbmF2CiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHVzZXI6IHVwZGF0ZWRVc2VyIH07CiAgICB9CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHVzZXJuYW1lLicgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUN1cnJlbnRVc2VyQWNjb3VudCgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0U2Vzc2lvbigpOwogIGlmICghdXNlcikgewogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnWW91IG11c3QgYmUgbG9nZ2VkIGluIHRvIGRlbGV0ZSB5b3VyIGFjY291bnQuJyB9OwogIH0KICAKICB0cnkgewogICAgLy8gTm90ZTogVGhlIGRhdGFiYXNlIGlzIGNvbmZpZ3VyZWQgd2l0aCBPTiBERUxFVEUgU0VUIE5VTEwgZm9yIHBvc3RzLmF1dGhvcmlkCiAgICAvLyBhbmQgT04gREVMRVRFIENBU0NBREUgZm9yIHJlbGF0ZWQgZGF0YSBsaWtlIGxpa2VzLCBmb2xsb3dzLCBldGMuCiAgICBhd2FpdCBkZWxldGVVc2VyRGIodXNlci5pZCk7CiAgICAvLyBUaGUgbG9nb3V0IHdpbGwgaGFuZGxlIHRoZSByZWRpcmVjdCwgYnV0IHdlIGNhbiBwdXNoIHRvIGJlIHNhZmUKICAgIGF3YWl0IGxvZ291dCgpOwogICAgcmVkaXJlY3QoJy8nKTsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQgZm9yIHVzZXIgJHt1c2VyLmlkfTpgLCBlcnJvcik7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZCB3aGlsZSBkZWxldGluZyB5b3VyIGFjY291bnQuJyB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RQYXNzd29yZFJlc2V0KGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogIHRyeSB7CiAgICBjb25zdCBlbWFpbExvd2VyID0gZW1haWwudG9Mb3dlckNhc2UoKTsKICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyQnlFbWFpbERiKGVtYWlsTG93ZXIpOwoKICAgIGlmICghdXNlcikgewogICAgICAvLyBEb24ndCByZXZlYWwgaWYgYW4gZW1haWwgZXhpc3RzIG9yIG5vdCBmb3Igc2VjdXJpdHkgcmVhc29ucy4KICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfQoKICAgIGNvbnN0IG5hbm9pZCA9IGN1c3RvbUFscGhhYmV0KCcxMjM0NTY3ODkwJywgNik7CiAgICBjb25zdCBvdHAgPSBuYW5vaWQoKTsKCiAgICBhd2FpdCBjcmVhdGVQYXNzd29yZFJlc2V0VG9rZW4oZW1haWxMb3dlciwgb3RwKTsKCiAgICBjb25zdCBzdWJqZWN0ID0gYFlvdXIgTG9jYWxQdWxzZSBQYXNzd29yZCBSZXNldCBDb2RlYDsKICAgIGNvbnN0IGh0bWxCb2R5ID0gY3JlYXRlUGFzc3dvcmRSZXNldEVtYWlsSHRtbCh1c2VyLm5hbWUsIG90cCk7CiAgICBhd2FpdCBzZW5kRW1haWwoZW1haWxMb3dlciwgc3ViamVjdCwgaHRtbEJvZHkpOwoKICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICBjb25zb2xlLmVycm9yKCdQYXNzd29yZCByZXNldCByZXF1ZXN0IGVycm9yOicsIGVycm9yKTsKICAgIC8vIEZhaWwgc2lsZW50bHkgdG8gdGhlIHVzZXIgdG8gcHJldmVudCBlbnVtZXJhdGlvbiBhdHRhY2tzLCBidXQgbG9nIHRoZSBlcnJvci4KICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNldFBhc3N3b3JkKGVtYWlsOiBzdHJpbmcsIG90cDogc3RyaW5nLCBuZXdQYXNzd29yZDogc3RyaW5nKTpQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogICAgdHJ5IHsKICAgICAgICBjb25zdCBlbWFpbExvd2VyID0gZW1haWwudG9Mb3dlckNhc2UoKTsKICAgICAgICBjb25zdCByZXNldFRva2VuID0gYXdhaXQgZ2V0UGFzc3dvcmRSZXNldFRva2VuKGVtYWlsTG93ZXIsIG90cCk7CgogICAgICAgIGlmICghcmVzZXRUb2tlbikgewogICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIG9yIGV4cGlyZWQgT1RQLiBQbGVhc2UgcmVxdWVzdCBhIG5ldyBvbmUuJyB9OwogICAgICAgIH0KCiAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTsKICAgICAgICBjb25zdCBwYXNzd29yZGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChuZXdQYXNzd29yZCwgc2FsdCk7CgogICAgICAgIGF3YWl0IHVwZGF0ZVVzZXJQYXNzd29yZERiKGVtYWlsTG93ZXIsIHBhc3N3b3JkaGFzaCk7CiAgICAgICAgYXdhaXQgZGVsZXRlUGFzc3dvcmRSZXNldFRva2VuKGVtYWlsTG93ZXIpOwoKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgY29uc29sZS5lcnJvcignUGFzc3dvcmQgcmVzZXQgZXJyb3I6JywgZXJyb3IpOwogICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyB9OwogICAgfQp9Cg==' | base64 -d > /root/localpulse/src/app/auth/actions.ts
mkdir -p /root/localpulse/src/app/admin
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnOwppbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7Cgpjb25zdCBBRE1JTl9VU0VSTkFNRSA9IHByb2Nlc3MuZW52LkFETUlOX1VTRVJOQU1FIHx8ICdhZG1pbic7CmNvbnN0IEFETUlOX1BBU1NXT1JEID0gcHJvY2Vzcy5lbnYuQURNSU5fUEFTU1dPUkQgfHwgJ3Bhc3N3b3JkMTIzJzsgLy8gSW4gYSByZWFsIGFwcCwgdXNlIGhhc2hlZCBwYXNzd29yZHMgZnJvbSBhIERCCmNvbnN0IEFETUlOX0NPT0tJRV9OQU1FID0gJ2FkbWluLWF1dGgtdG9rZW4nOwoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkbWluTG9naW4odXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgdHJ5IHsKICAgIGlmICh1c2VybmFtZSA9PT0gQURNSU5fVVNFUk5BTUUgJiYgcGFzc3dvcmQgPT09IEFETUlOX1BBU1NXT1JEKSB7CiAgICAgIC8vIEluIGEgcmVhbCBhcHAsIGdlbmVyYXRlIGEgc2VjdXJlIHRva2VuIChlLmcuLCBKV1QpCiAgICAgIGNvbnN0IHRva2VuID0gQnVmZmVyLmZyb20oYCR7dXNlcm5hbWV9OiR7cGFzc3dvcmR9YCkudG9TdHJpbmcoJ2Jhc2U2NCcpOyAvLyBTaW1wbGUgdG9rZW4gZm9yIGRlbW8KICAgICAgY29uc3QgbWF4QWdlSW5TZWNvbmRzID0gNjAgKiA2MCAqIDI0OyAvLyAxIGRheQogICAgICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIG1heEFnZUluU2Vjb25kcyAqIDEwMDApOwoKICAgICAgY29va2llcygpLnNldCh7CiAgICAgICAgbmFtZTogQURNSU5fQ09PS0lFX05BTUUsCiAgICAgICAgdmFsdWU6IHRva2VuLAogICAgICAgIGh0dHBPbmx5OiB0cnVlLAogICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJywKICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgc2FtZVNpdGU6ICdzdHJpY3QnLAogICAgICAgIGV4cGlyZXM6IGV4cGlyZXMsCiAgICAgICAgbWF4QWdlOiBtYXhBZ2VJblNlY29uZHMsCiAgICAgIH0pOwogICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgICB9IGVsc2UgewogICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkLicgfTsKICAgIH0KICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGFkbWluTG9naW4gYWN0aW9uOicsIGVycm9yKTsKICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luLic7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBTZXJ2ZXIgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWAgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZG1pbkxvZ291dCgpOiBQcm9taXNlPHZvaWQ+IHsKICB0cnkgewogICAgY29va2llcygpLmRlbGV0ZShBRE1JTl9DT09LSUVfTkFNRSk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGFkbWluIGNvb2tpZSBkdXJpbmcgbG9nb3V0OicsIGVycm9yKTsKICAgIC8vIEV2ZW4gaWYgY29va2llIGRlbGV0aW9uIGZhaWxzLCBwcm9jZWVkIHdpdGggcmVkaXJlY3QKICB9CiAgcmVkaXJlY3QoJy9hZG1pbi9sb2dpbicpOwp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QWRtaW5BdXRoKCk6IFByb21pc2U8Ym9vbGVhbj4gewogICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7CiAgICBjb25zdCB0b2tlbiA9IGNvb2tpZVN0b3JlLmdldChBRE1JTl9DT09LSUVfTkFNRSk/LnZhbHVlOwoKICAgIGlmICghdG9rZW4pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gSW4gYSByZWFsIGFwcCwgdmVyaWZ5IHRoZSB0b2tlbiAoZS5nLiwgSldUIHZlcmlmaWNhdGlvbikKICAgIHRyeSB7CiAgICAgICAgY29uc3QgZGVjb2RlZFRva2VuID0gQnVmZmVyLmZyb20odG9rZW4sICdiYXNlNjQnKS50b1N0cmluZygnYXNjaWknKTsKICAgICAgICBjb25zdCBbYXV0aFVzZXJuYW1lLCBhdXRoUGFzc3dvcmRdID0gZGVjb2RlZFRva2VuLnNwbGl0KCc6Jyk7CiAgICAgICAgY29uc3QgaXNWYWxpZCA9IGF1dGhVc2VybmFtZSA9PT0gQURNSU5fVVNFUk5BTUUgJiYgYXV0aFBhc3N3b3JkID09PSBBRE1JTl9QQVNTV09SRDsKICAgICAgICByZXR1cm4gaXNWYWxpZDsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiQWRtaW4gYXV0aDogVG9rZW4gdmVyaWZpY2F0aW9uIGZhaWxlZDoiLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9Cg==' | base64 -d > /root/localpulse/src/app/admin/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)
echo 'CmltcG9ydCB0eXBlIHsgTWV0YWRhdGEsIEZDLCBQcm9wc1dpdGhDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IEFkbWluTmF2IGZyb20gJ0AvY29tcG9uZW50cy9hZG1pbi9hZG1pbi1uYXYnOwppbXBvcnQgeyB2ZXJpZnlBZG1pbkF1dGggfSBmcm9tICcuLi9hY3Rpb25zJzsgLy8gUGF0aCByZWxhdGl2ZSB0byBzcmMvYXBwL2FkbWluLyhhdXRoZWQpLwppbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CgpleHBvcnQgY29uc3QgbWV0YWRhdGE6IE1ldGFkYXRhID0gewogIHRpdGxlOiAnQWRtaW4gUGFuZWwgLSBMb2NhbFB1bHNlJywKICBkZXNjcmlwdGlvbjogJ01hbmFnZSBMb2NhbFB1bHNlIGFwcGxpY2F0aW9uJywKfTsKCmludGVyZmFjZSBBZG1pbkxheW91dFByb3BzIGV4dGVuZHMgUHJvcHNXaXRoQ2hpbGRyZW4ge30KCmNvbnN0IEF1dGhlZEFkbWluTGF5b3V0OiBGQzxBZG1pbkxheW91dFByb3BzPiA9IGFzeW5jICh7IGNoaWxkcmVuIH0pID0+IHsKICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSBhd2FpdCB2ZXJpZnlBZG1pbkF1dGgoKTsKICBpZiAoIWlzQXV0aGVudGljYXRlZCkgewogICAgLy8gVGhpcyBpcyBhIHNlcnZlci1zaWRlIGNoZWNrLiBNaWRkbGV3YXJlIHNob3VsZCBpZGVhbGx5IGNhdGNoIHRoaXMgZmlyc3QuCiAgICAvLyBJZiBtaWRkbGV3YXJlIHdhcyBieXBhc3NlZCBvciBpZiB0aGlzIGlzIGEgZGlyZWN0IFJTQyByZW5kZXIsIHRoaXMgd2lsbCByZWRpcmVjdC4KICAgIHJlZGlyZWN0KCcvYWRtaW4vbG9naW4nKTsgCiAgfQoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9ImZsZXggbWluLWgtc3ZoIGJnLW11dGVkLzQwIj4KICAgICAgPEFkbWluTmF2IC8+CiAgICAgIDxtYWluIGNsYXNzTmFtZT0iZmxleC0xIHAtNiBsZzpwLTggb3ZlcmZsb3ctYXV0byI+CiAgICAgICAge2NoaWxkcmVufQogICAgICA8L21haW4+CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgQXV0aGVkQWRtaW5MYXlvdXQ7Cg==' | base64 -d > /root/localpulse/src/app/admin/(authed)/layout.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IEJhckNoYXJ0LCBVc2VycywgRmlsZVRleHQsIEFjdGl2aXR5LCBUcm9waHkgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBnZXRBZG1pbkRhc2hib2FyZFN0YXRzIH0gZnJvbSAnLi9hY3Rpb25zJzsKaW1wb3J0IFRvcFBlcmZvcm1lcnNMaXN0IGZyb20gJ0AvY29tcG9uZW50cy90b3AtcGVyZm9ybWVycy1saXN0JzsKaW1wb3J0IHsgU3VzcGVuc2UgfSBmcm9tICdyZWFjdCc7Cgpjb25zdCBBZG1pbkRhc2hib2FyZFBhZ2U6IEZDID0gYXN5bmMgKCkgPT4gewogIGNvbnN0IHsgdG90YWxQb3N0cywgdG90YWxVc2VycywgZGFpbHlBY3RpdmVVc2VycyB9ID0gYXdhaXQgZ2V0QWRtaW5EYXNoYm9hcmRTdGF0cygpOwogIAogIGNvbnN0IHN0YXRzID0gWwogICAgeyB0aXRsZTogJ1RvdGFsIFBvc3RzJywgdmFsdWU6IHRvdGFsUG9zdHMudG9Mb2NhbGVTdHJpbmcoKSwgaWNvbjogRmlsZVRleHQsIGNvbG9yOiAndGV4dC1ibHVlLTUwMCcgfSwKICAgIHsgdGl0bGU6ICdUb3RhbCBVc2VycycsIHZhbHVlOiB0b3RhbFVzZXJzLnRvTG9jYWxlU3RyaW5nKCksIGljb246IFVzZXJzLCBjb2xvcjogJ3RleHQtZ3JlZW4tNTAwJyB9LAogICAgeyB0aXRsZTogJ1VzZXJzIEFjdGl2ZSBUb2RheScsIHZhbHVlOiBkYWlseUFjdGl2ZVVzZXJzLnRvTG9jYWxlU3RyaW5nKCksIGljb246IEFjdGl2aXR5LCBjb2xvcjogJ3RleHQteWVsbG93LTUwMCcgfSwKICBdOwoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktOCI+CiAgICAgIDxoZWFkZXI+CiAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC00eGwgZm9udC1ib2xkIHRyYWNraW5nLXRpZ2h0IHRleHQtZm9yZWdyb3VuZCI+QWRtaW4gRGFzaGJvYXJkPC9oMT4KICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbGcgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5XZWxjb21lIGJhY2ssIEFkbWluaXN0cmF0b3IhPC9wPgogICAgICA8L2hlYWRlcj4KCiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT0iZ3JpZCBnYXAtNiBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyI+CiAgICAgICAge3N0YXRzLm1hcCgoc3RhdCkgPT4gKAogICAgICAgICAgPENhcmQga2V5PXtzdGF0LnRpdGxlfSBjbGFzc05hbWU9InNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1zaGFkb3ciPgogICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9ImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzcGFjZS15LTAgcGItMiI+CiAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9InRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAgICAgIHtzdGF0LnRpdGxlfQogICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPgogICAgICAgICAgICAgIDxzdGF0Lmljb24gY2xhc3NOYW1lPXtgaC01IHctNSAke3N0YXQuY29sb3J9YH0gLz4KICAgICAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWZvcmVncm91bmQiPntzdGF0LnZhbHVlfTwvZGl2PgogICAgICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICAgICAgPC9DYXJkPgogICAgICAgICkpfQogICAgICA8L3NlY3Rpb24+CgogICAgICA8c2VjdGlvbiBjbGFzc05hbWU9ImdyaWQgZ2FwLTYgbGc6Z3JpZC1jb2xzLTIiPgogICAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIj4KICAgICAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICAgIDxUcm9waHkgY2xhc3NOYW1lPSJtci0yIGgtNiB3LTYgdGV4dC15ZWxsb3ctNTAwIiAvPgogICAgICAgICAgICAgIFRvcCBMUCBQb2ludCBFYXJuZXJzCiAgICAgICAgICAgIDwvQ2FyZFRpdGxlPgogICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPlRoZSB0b3AgMTAgcGVyZm9ybWVycyBvbiB0aGUgcGxhdGZvcm0uPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PFRvcFBlcmZvcm1lcnNMaXN0LlNrZWxldG9uIC8+fT4KICAgICAgICAgICAgICA8VG9wUGVyZm9ybWVyc0xpc3QgLz4KICAgICAgICAgICAgPC9TdXNwZW5zZT4KICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgPC9DYXJkPgoKICAgICAgICA8Q2FyZCBjbGFzc05hbWU9InNoYWRvdy1sZyI+CiAgICAgICAgICA8Q2FyZEhlYWRlcj4KICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPSJtci0yIGgtNiB3LTYgdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgICAgIFF1aWNrIExpbmtzCiAgICAgICAgICAgIDwvQ2FyZFRpdGxlPgogICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPkZyZXF1ZW50bHkgYWNjZXNzZWQgYWRtaW4gdGFza3MuPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSJzcGFjZS15LTMiPgogICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Imdob3N0IiBhc0NoaWxkIGNsYXNzTmFtZT0idy1mdWxsIGp1c3RpZnktc3RhcnQgcC0zIGgtYXV0byB0ZXh0LWJhc2UiPgogICAgICAgICAgICAgICAgPExpbmsgaHJlZj0iL2FkbWluL3Bvc3RzIj5NYW5hZ2UgUG9zdHM8L0xpbms+CiAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJnaG9zdCIgYXNDaGlsZCBjbGFzc05hbWU9InctZnVsbCBqdXN0aWZ5LXN0YXJ0IHAtMyBoLWF1dG8gdGV4dC1iYXNlIj4KICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9Ii9hZG1pbi91c2VycyI+TWFuYWdlIFVzZXJzPC9MaW5rPgogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIGFzQ2hpbGQgY2xhc3NOYW1lPSJ3LWZ1bGwganVzdGlmeS1zdGFydCBwLTMgaC1hdXRvIHRleHQtYmFzZSIgZGlzYWJsZWQ+CiAgICAgICAgICAgICAgICA8TGluayBocmVmPSIjIj5WaWV3IFN5c3RlbSBMb2dzPC9MaW5rPgogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgPC9DYXJkPgogICAgICA8L3NlY3Rpb24+CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgQWRtaW5EYXNoYm9hcmRQYWdlOwo=' | base64 -d > /root/localpulse/src/app/admin/(authed)/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGdldEFkbWluRGFzaGJvYXJkU3RhdHNEYiB9IGZyb20gJ0AvbGliL2RiJzsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBZG1pbkRhc2hib2FyZFN0YXRzKCkgewogICAgdHJ5IHsKICAgICAgICByZXR1cm4gYXdhaXQgZ2V0QWRtaW5EYXNoYm9hcmRTdGF0c0RiKCk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgYWRtaW4gZGFzaGJvYXJkIHN0YXRzOicsIGVycm9yKTsKICAgICAgICAvLyBSZXR1cm4gemVyb2VkIHN0YXRzIG9uIGVycm9yIHRvIHByZXZlbnQgY3Jhc2hpbmcgdGhlIGRhc2hib2FyZAogICAgICAgIHJldHVybiB7IHRvdGFsVXNlcnM6IDAsIHRvdGFsUG9zdHM6IDAsIGRhaWx5QWN0aXZlVXNlcnM6IDAgfTsKICAgIH0KfQo=' | base64 -d > /root/localpulse/src/app/admin/(authed)/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)/users
echo 'CgppbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBVc2VycywgUGx1c0NpcmNsZSwgQ2hlY2tDaXJjbGUsIFhDaXJjbGUsIENsb2NrLCBCYWRnZUNoZWNrIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgZ2V0UGFnaW5hdGVkVXNlcnMgfSBmcm9tICcuL2FjdGlvbnMnOwppbXBvcnQgeyBCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9iYWRnZSc7CmltcG9ydCBVc2VyQWN0aW9ucyBmcm9tICdAL2NvbXBvbmVudHMvYWRtaW4vdXNlci1hY3Rpb25zJzsKaW1wb3J0IHR5cGUgeyBVc2VyU3RhdHVzIH0gZnJvbSAnQC9saWIvZGItdHlwZXMnOwppbXBvcnQgQWRtaW5UYWJsZUNvbnRyb2xzIGZyb20gJ0AvY29tcG9uZW50cy9hZG1pbi9hZG1pbi10YWJsZS1jb250cm9scyc7CgpleHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJzsKCmludGVyZmFjZSBQYWdlUHJvcHMgewogIHNlYXJjaFBhcmFtcz86IHsKICAgIHF1ZXJ5Pzogc3RyaW5nOwogICAgcGFnZT86IHN0cmluZzsKICB9Owp9Cgpjb25zdCBBZG1pbk1hbmFnZVVzZXJzUGFnZTogRkM8UGFnZVByb3BzPiA9IGFzeW5jICh7IHNlYXJjaFBhcmFtcyB9KSA9PiB7CiAgY29uc3QgcXVlcnkgPSBzZWFyY2hQYXJhbXM/LnF1ZXJ5IHx8ICcnOwogIGNvbnN0IGN1cnJlbnRQYWdlID0gTnVtYmVyKHNlYXJjaFBhcmFtcz8ucGFnZSkgfHwgMTsKICBjb25zdCBsaW1pdCA9IDEwOwoKICBjb25zdCB7IHVzZXJzLCB0b3RhbENvdW50IH0gPSBhd2FpdCBnZXRQYWdpbmF0ZWRVc2VycyhjdXJyZW50UGFnZSwgbGltaXQsIHF1ZXJ5KTsKICAKICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBsaW1pdCk7CgogIGNvbnN0IGdldFN0YXR1c1ZhcmlhbnQgPSAoc3RhdHVzOiBVc2VyU3RhdHVzKTogImRlZmF1bHQiIHwgInNlY29uZGFyeSIgfCAiZGVzdHJ1Y3RpdmUiIHwgInN1Y2Nlc3MiID0+IHsKICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgY2FzZSAndmVyaWZpZWQnOiByZXR1cm4gJ3N1Y2Nlc3MnOwogICAgICAgIGNhc2UgJ2FwcHJvdmVkJzogcmV0dXJuICdkZWZhdWx0JzsKICAgICAgICBjYXNlICdwZW5kaW5nX3ZlcmlmaWNhdGlvbic6IHJldHVybiAnc2Vjb25kYXJ5JzsKICAgICAgICBjYXNlICdwZW5kaW5nJzogcmV0dXJuICdzZWNvbmRhcnknOwogICAgICAgIGNhc2UgJ3JlamVjdGVkJzogcmV0dXJuICdkZXN0cnVjdGl2ZSc7CiAgICAgICAgZGVmYXVsdDogcmV0dXJuICdzZWNvbmRhcnknOwogICAgfQogIH0KCiAgY29uc3QgZ2V0U3RhdHVzSWNvbiA9IChzdGF0dXM6IFVzZXJTdGF0dXMpID0+IHsKICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgY2FzZSAndmVyaWZpZWQnOiByZXR1cm4gPEJhZGdlQ2hlY2sgY2xhc3NOYW1lPSJ3LTMgaC0zIG1yLTEgdGV4dC1ncmVlbi01MDAiIC8+OwogICAgICAgIGNhc2UgJ2FwcHJvdmVkJzogcmV0dXJuIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9InctMyBoLTMgbXItMSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCIgLz47CiAgICAgICAgY2FzZSAncGVuZGluZ192ZXJpZmljYXRpb24nOiByZXR1cm4gPENsb2NrIGNsYXNzTmFtZT0idy0zIGgtMyBtci0xIHRleHQteWVsbG93LTUwMCIgLz47CiAgICAgICAgY2FzZSAncGVuZGluZyc6IHJldHVybiA8Q2xvY2sgY2xhc3NOYW1lPSJ3LTMgaC0zIG1yLTEgdGV4dC15ZWxsb3ctNTAwIiAvPjsKICAgICAgICBjYXNlICdyZWplY3RlZCc6IHJldHVybiA8WENpcmNsZSBjbGFzc05hbWU9InctMyBoLTMgbXItMSB0ZXh0LXJlZC01MDAiIC8+OwogICAgICAgIGRlZmF1bHQ6IHJldHVybiBudWxsOwogICAgfQogIH0KCgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS04Ij4KICAgICAgPGhlYWRlciBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgbWQ6ZmxleC1yb3cgbWQ6aXRlbXMtY2VudGVyIG1kOmp1c3RpZnktYmV0d2VlbiBnYXAtNCI+CiAgICAgICAgPGRpdj4KICAgICAgICAgIDxoMSBjbGFzc05hbWU9InRleHQtNHhsIGZvbnQtYm9sZCB0cmFja2luZy10aWdodCB0ZXh0LWZvcmVncm91bmQiPk1hbmFnZSBVc2VyczwvaDE+CiAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbGcgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5WaWV3LCBzZWFyY2gsIG9yIG1hbmFnZSB1c2VyIGFjY291bnRzLjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8QnV0dG9uIGRpc2FibGVkPgogICAgICAgICAgPFBsdXNDaXJjbGUgY2xhc3NOYW1lPSJtci0yIGgtNSB3LTUiIC8+CiAgICAgICAgICBBZGQgTmV3IFVzZXIKICAgICAgICA8L0J1dHRvbj4KICAgICAgPC9oZWFkZXI+CgogICAgICA8Q2FyZCBjbGFzc05hbWU9InNoYWRvdy1sZyI+CiAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICA8Q2FyZFRpdGxlPkFsbCBVc2VycyAoe3RvdGFsQ291bnR9KTwvQ2FyZFRpdGxlPgogICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5BIGxpc3Qgb2YgYWxsIHJlZ2lzdGVyZWQgdXNlcnMgb24gdGhlIHBsYXRmb3JtLjwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwdC0yIj4KICAgICAgICAgICAgPEFkbWluVGFibGVDb250cm9scwogICAgICAgICAgICAgIHNlYXJjaFBsYWNlaG9sZGVyPSJTZWFyY2ggdXNlcnMgYnkgbmFtZSBvciBlbWFpbC4uLiIKICAgICAgICAgICAgICBjcmVhdGVBY3Rpb249e251bGx9CiAgICAgICAgICAgIC8+CiAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgIDxDYXJkQ29udGVudD4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJvdmVyZmxvdy14LWF1dG8iPgogICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPSJ3LWZ1bGwgdGV4dC1sZWZ0Ij4KICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPSJib3JkZXItYiI+CiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9InAtMyBmb250LXNlbWlib2xkIj5OYW1lPC90aD4KICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT0icC0zIGZvbnQtc2VtaWJvbGQiPkVtYWlsPC90aD4KICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT0icC0zIGZvbnQtc2VtaWJvbGQiPlJvbGU8L3RoPgogICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPSJwLTMgZm9udC1zZW1pYm9sZCI+U3RhdHVzPC90aD4KICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT0icC0zIGZvbnQtc2VtaWJvbGQiPkpvaW5lZCBBdDwvdGg+CiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9InAtMyBmb250LXNlbWlib2xkIHRleHQtcmlnaHQiPkFjdGlvbnM8L3RoPgogICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgIHt1c2Vycy5tYXAoKHVzZXIpID0+ICgKICAgICAgICAgICAgICAgICAgPHRyIGtleT17dXNlci5pZH0gY2xhc3NOYW1lPSJib3JkZXItYiBob3ZlcjpiZy1tdXRlZC81MCI+CiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT0icC0zIGZvbnQtbWVkaXVtIj57dXNlci5uYW1lfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT0icC0zIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+e3VzZXIuZW1haWx9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSJwLTMiPgogICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9e3VzZXIucm9sZSA9PT0gJ0FkbWluJyA/ICdkZWZhdWx0JyA6IHVzZXIucm9sZSA9PT0gJ0J1c2luZXNzJyA/ICdzZWNvbmRhcnknIDogJ291dGxpbmUnfT4KICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIucm9sZX0KICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+CiAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSJwLTMiPgogICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD17Z2V0U3RhdHVzVmFyaWFudCh1c2VyLnN0YXR1cyl9IGNsYXNzTmFtZT0iY2FwaXRhbGl6ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0U3RhdHVzSWNvbih1c2VyLnN0YXR1cyl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5zdGF0dXMucmVwbGFjZSgnXycsICcgJyl9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+CiAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSJwLTMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj57bmV3IERhdGUodXNlci5jcmVhdGVkYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT0icC0zIHRleHQtcmlnaHQiPgogICAgICAgICAgICAgICAgICAgICAgIDxVc2VyQWN0aW9ucyB1c2VyPXt1c2VyfSAvPgogICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICAgIHt1c2Vycy5sZW5ndGggPT09IDAgJiYgKAogICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgPHRkIGNvbFNwYW49ezZ9IGNsYXNzTmFtZT0icC02IHRleHQtY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPSJteC1hdXRvIGgtMTIgdy0xMiBtYi0yIiAvPgogICAgICAgICAgICAgICAgICAgICAgTm8gdXNlcnMgZm91bmQuCiAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAge3RvdGFsUGFnZXMgPiAxICYmICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1lbmQgbXQtNiI+CiAgICAgICAgICAgICAgICA8QWRtaW5UYWJsZUNvbnRyb2xzCiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U9e2N1cnJlbnRQYWdlfQogICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM9e3RvdGFsUGFnZXN9CiAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaD17ZmFsc2V9CiAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICApfQogICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgIDwvQ2FyZD4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBZG1pbk1hbmFnZVVzZXJzUGFnZTsK' | base64 -d > /root/localpulse/src/app/admin/(authed)/users/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/users
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGRlbGV0ZVVzZXJEYiwgZ2V0UGFnaW5hdGVkVXNlcnNEYiB9IGZyb20gJ0AvbGliL2RiJzsKaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJzsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYWdpbmF0ZWRVc2VycyhwYWdlOiBudW1iZXIsIGxpbWl0OiBudW1iZXIsIHF1ZXJ5Pzogc3RyaW5nKSB7CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBnZXRQYWdpbmF0ZWRVc2Vyc0RiKHsgcGFnZSwgbGltaXQsIHF1ZXJ5IH0pOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHBhZ2luYXRlZCB1c2VyczonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIHsgdXNlcnM6IFtdLCB0b3RhbENvdW50OiAwIH07CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVVc2VyKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICB0cnkgewogICAgYXdhaXQgZGVsZXRlVXNlckRiKHVzZXJJZCk7CiAgICByZXZhbGlkYXRlUGF0aCgnL2FkbWluL3VzZXJzJyk7CiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07CiAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgY29uc29sZS5lcnJvcihgRXJyb3IgZGVsZXRpbmcgdXNlciAke3VzZXJJZH06YCwgZXJyb3IpOwogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIHVzZXIuJyB9OwogIH0KfQo=' | base64 -d > /root/localpulse/src/app/admin/(authed)/users/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)/users/[userId]/edit
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IG5vdEZvdW5kIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gJ0AvYXBwL2FjdGlvbnMnOwppbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnOwppbXBvcnQgeyBBcnJvd0xlZnQsIFVzZXJDb2cgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgVXNlckVkaXRGb3JtIGZyb20gJy4vZWRpdC1mb3JtLWNsaWVudCc7CgpleHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJzsKCmludGVyZmFjZSBFZGl0VXNlclBhZ2VQcm9wcyB7CiAgcGFyYW1zOiB7IHVzZXJJZDogc3RyaW5nIH07Cn0KCmNvbnN0IEVkaXRVc2VyUGFnZTogRkM8RWRpdFVzZXJQYWdlUHJvcHM+ID0gYXN5bmMgKHsgcGFyYW1zIH0pID0+IHsKICBjb25zdCB1c2VySWQgPSBwYXJzZUludChwYXJhbXMudXNlcklkLCAxMCk7CiAgaWYgKGlzTmFOKHVzZXJJZCkpIHsKICAgIG5vdEZvdW5kKCk7CiAgfQoKICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0VXNlcih1c2VySWQpOwoKICBpZiAoIXVzZXIpIHsKICAgIG5vdEZvdW5kKCk7CiAgfQoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktOCBtYXgtdy0yeGwgbXgtYXV0byI+CiAgICAgIDxoZWFkZXI+CiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIiBzaXplPSJzbSIgYXNDaGlsZD4KICAgICAgICAgIDxMaW5rIGhyZWY9Ii9hZG1pbi91c2VycyI+CiAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiIC8+CiAgICAgICAgICAgIEJhY2sgdG8gQWxsIFVzZXJzCiAgICAgICAgICA8L0xpbms+CiAgICAgICAgPC9CdXR0b24+CiAgICAgIDwvaGVhZGVyPgogICAgICA8Q2FyZCBjbGFzc05hbWU9InNoYWRvdy1sZyI+CiAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICA8VXNlckNvZyBjbGFzc05hbWU9Im1yLTIgaC02IHctNiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgIEVkaXQgVXNlcgogICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICBNb2RpZnkgZGV0YWlscyBmb3IgPHNwYW4gY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCI+e3VzZXIubmFtZX08L3NwYW4+LgogICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgIDxDYXJkQ29udGVudD4KICAgICAgICAgIDxVc2VyRWRpdEZvcm0gdXNlcj17dXNlcn0gLz4KICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICA8L0NhcmQ+CiAgICA8L2Rpdj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgRWRpdFVzZXJQYWdlOwo=' | base64 -d > /root/localpulse/src/app/admin/(authed)/users/[userId]/edit/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/users/[userId]/edit
echo 'CgondXNlIGNsaWVudCc7CgppbXBvcnQgdHlwZSB7IEZDIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlRm9ybSwgdHlwZSBTdWJtaXRIYW5kbGVyIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJzsKaW1wb3J0IHsgem9kUmVzb2x2ZXIgfSBmcm9tICdAaG9va2Zvcm0vcmVzb2x2ZXJzL3pvZCc7CmltcG9ydCAqIGFzIHogZnJvbSAnem9kJzsKCmltcG9ydCB0eXBlIHsgVXNlciwgVXNlclJvbGUsIFVzZXJTdGF0dXMgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IHVwZGF0ZVVzZXIgfSBmcm9tICcuL2FjdGlvbnMnOwoKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JzsKaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnOwppbXBvcnQgeyBTZWxlY3QsIFNlbGVjdENvbnRlbnQsIFNlbGVjdEl0ZW0sIFNlbGVjdFRyaWdnZXIsIFNlbGVjdFZhbHVlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NlbGVjdCc7CmltcG9ydCB7IEZvcm0sIEZvcm1Db250cm9sLCBGb3JtRmllbGQsIEZvcm1JdGVtLCBGb3JtTWVzc2FnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9mb3JtJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IExvYWRlcjIsIFNhdmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwoKY29uc3QgdXNlclVwZGF0ZVNjaGVtYSA9IHoub2JqZWN0KHsKICBuYW1lOiB6LnN0cmluZygpLm1pbigyLCAnTmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycy4nKSwKICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4nKSwKICByb2xlOiB6LmVudW0oWydCdXNpbmVzcycsICdHb3Jha3NoYWsnLCAnUHVibGljKOCknOCkqOCkpOCkviknLCAnQWRtaW4nLCAnR29yYWtzaGFrIEFkbWluJ10pLAogIHN0YXR1czogei5lbnVtKFsncGVuZGluZycsICdhcHByb3ZlZCcsICdyZWplY3RlZCcsICd2ZXJpZmllZCcsICdwZW5kaW5nX3ZlcmlmaWNhdGlvbiddKSwKfSk7Cgp0eXBlIFVzZXJVcGRhdGVGb3JtSW5wdXRzID0gei5pbmZlcjx0eXBlb2YgdXNlclVwZGF0ZVNjaGVtYT47CgppbnRlcmZhY2UgVXNlckVkaXRGb3JtUHJvcHMgewogIHVzZXI6IFVzZXI7Cn0KCmNvbnN0IFVzZXJFZGl0Rm9ybTogRkM8VXNlckVkaXRGb3JtUHJvcHM+ID0gKHsgdXNlciB9KSA9PiB7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBmb3JtID0gdXNlRm9ybTxVc2VyVXBkYXRlRm9ybUlucHV0cz4oewogICAgcmVzb2x2ZXI6IHpvZFJlc29sdmVyKHVzZXJVcGRhdGVTY2hlbWEpLAogICAgZGVmYXVsdFZhbHVlczogewogICAgICBuYW1lOiB1c2VyLm5hbWUsCiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICByb2xlOiB1c2VyLnJvbGUsCiAgICAgIHN0YXR1czogdXNlci5zdGF0dXMsCiAgICB9LAogIH0pOwoKICBjb25zdCBvblN1Ym1pdDogU3VibWl0SGFuZGxlcjxVc2VyVXBkYXRlRm9ybUlucHV0cz4gPSBhc3luYyAoZGF0YSkgPT4gewogICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpOwogICAgLy8gVGhlIGFjdGlvbiB3aWxsIHJlZGlyZWN0IG9uIHN1Y2Nlc3MsIHNvIHdlIG9ubHkgbmVlZCB0byBoYW5kbGUgdGhlIGVycm9yIGNhc2UuCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGRhdGVVc2VyKHVzZXIuaWQsIGRhdGEpOwogICAgCiAgICBpZiAocmVzdWx0Py5lcnJvcikgewogICAgICB0b2FzdCh7CiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICB0aXRsZTogJ1VwZGF0ZSBGYWlsZWQnLAogICAgICAgIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IsCiAgICAgIH0pOwogICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpOwogICAgfSBlbHNlIHsKICAgICAgIHRvYXN0KHsKICAgICAgICB0aXRsZTogJ1VzZXIgVXBkYXRlZCEnLAogICAgICAgIGRlc2NyaXB0aW9uOiBgRGV0YWlscyBmb3IgJHtkYXRhLm5hbWV9IGhhdmUgYmVlbiBzYXZlZC5gLAogICAgICB9KTsKICAgIH0KICB9OwoKICBjb25zdCBpc0J1c2luZXNzVXNlciA9IHVzZXIucm9sZSA9PT0gJ0J1c2luZXNzJzsKCiAgcmV0dXJuICgKICAgIDxGb3JtIHsuLi5mb3JtfT4KICAgICAgPGZvcm0gb25TdWJtaXQ9e2Zvcm0uaGFuZGxlU3VibWl0KG9uU3VibWl0KX0gY2xhc3NOYW1lPSJzcGFjZS15LTYiPgogICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgIG5hbWU9Im5hbWUiCiAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgIDxMYWJlbD5GdWxsIE5hbWU8L0xhYmVsPgogICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgIDxJbnB1dCB7Li4uZmllbGR9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9IC8+CiAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD4KICAgICAgICAgICAgICA8Rm9ybU1lc3NhZ2UgLz4KICAgICAgICAgICAgPC9Gb3JtSXRlbT4KICAgICAgICAgICl9CiAgICAgICAgLz4KICAgICAgICA8Rm9ybUZpZWxkCiAgICAgICAgICBjb250cm9sPXtmb3JtLmNvbnRyb2x9CiAgICAgICAgICBuYW1lPSJlbWFpbCIKICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgICAgPExhYmVsPkVtYWlsPC9MYWJlbD4KICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICA8SW5wdXQgdHlwZT0iZW1haWwiIHsuLi5maWVsZH0gZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30gLz4KICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgKX0KICAgICAgICAvPgogICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgIG5hbWU9InJvbGUiCiAgICAgICAgICByZW5kZXI9eyh7IGZpZWxkIH0pID0+ICgKICAgICAgICAgICAgPEZvcm1JdGVtPgogICAgICAgICAgICAgIDxMYWJlbD5Sb2xlPC9MYWJlbD4KICAgICAgICAgICAgICA8U2VsZWN0IG9uVmFsdWVDaGFuZ2U9e2ZpZWxkLm9uQ2hhbmdlfSBkZWZhdWx0VmFsdWU9e2ZpZWxkLnZhbHVlIGFzIFVzZXJSb2xlfSBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT4KICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSJTZWxlY3QgYSByb2xlIiAvPgogICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+CiAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPgogICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+CiAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSJQdWJsaWMo4KSc4KSo4KSk4KS+KSI+UHVibGljKOCknOCkqOCkpOCkvik8L1NlbGVjdEl0ZW0+CiAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPSJHb3Jha3NoYWsiPkdvcmFrc2hhazwvU2VsZWN0SXRlbT4KICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9IkdvcmFrc2hhayBBZG1pbiI+R29yYWtzaGFrIEFkbWluPC9TZWxlY3RJdGVtPgogICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0iQnVzaW5lc3MiPkJ1c2luZXNzPC9TZWxlY3RJdGVtPgogICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0iQWRtaW4iPkFkbWluPC9TZWxlY3RJdGVtPgogICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PgogICAgICAgICAgICAgIDwvU2VsZWN0PgogICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgKX0KICAgICAgICAvPgogICAgICAgIDxGb3JtRmllbGQKICAgICAgICAgIGNvbnRyb2w9e2Zvcm0uY29udHJvbH0KICAgICAgICAgIG5hbWU9InN0YXR1cyIKICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfSkgPT4gKAogICAgICAgICAgICA8Rm9ybUl0ZW0+CiAgICAgICAgICAgICAgPExhYmVsPlN0YXR1czwvTGFiZWw+CiAgICAgICAgICAgICAgPFNlbGVjdCBvblZhbHVlQ2hhbmdlPXtmaWVsZC5vbkNoYW5nZX0gZGVmYXVsdFZhbHVlPXtmaWVsZC52YWx1ZSBhcyBVc2VyU3RhdHVzfSBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT4KICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD4KICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+CiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPSJTZWxlY3QgYSBzdGF0dXMiIC8+CiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj4KICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+CiAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD4KICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9InBlbmRpbmciPlBlbmRpbmc8L1NlbGVjdEl0ZW0+CiAgICAgICAgICAgICAgICAgIHtpc0J1c2luZXNzVXNlciAmJiA8U2VsZWN0SXRlbSB2YWx1ZT0icGVuZGluZ192ZXJpZmljYXRpb24iPlBlbmRpbmcgVmVyaWZpY2F0aW9uPC9TZWxlY3RJdGVtPn0KICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9ImFwcHJvdmVkIj5BcHByb3ZlZDwvU2VsZWN0SXRlbT4KICAgICAgICAgICAgICAgICAge2lzQnVzaW5lc3NVc2VyICYmIDxTZWxlY3RJdGVtIHZhbHVlPSJ2ZXJpZmllZCI+VmVyaWZpZWQ8L1NlbGVjdEl0ZW0+fQogICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT0icmVqZWN0ZWQiPlJlamVjdGVkPC9TZWxlY3RJdGVtPgogICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PgogICAgICAgICAgICAgIDwvU2VsZWN0PgogICAgICAgICAgICAgIDxGb3JtTWVzc2FnZSAvPgogICAgICAgICAgICA8L0Zvcm1JdGVtPgogICAgICAgICAgKX0KICAgICAgICAvPgogICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBjbGFzc05hbWU9InctZnVsbCBzbTp3LWF1dG8iIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmcgfHwgIWZvcm0uZm9ybVN0YXRlLmlzRGlydHl9PgogICAgICAgICAge2lzU3VibWl0dGluZyA/IDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpbiIgLz4gOiA8U2F2ZSBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz59CiAgICAgICAgICBTYXZlIENoYW5nZXMKICAgICAgICA8L0J1dHRvbj4KICAgICAgPC9mb3JtPgogICAgPC9Gb3JtPgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBVc2VyRWRpdEZvcm07Cg==' | base64 -d > /root/localpulse/src/app/admin/(authed)/users/[userId]/edit/edit-form-client.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/users/[userId]/edit
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSAnbmV4dC9jYWNoZSc7CmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHsgdXBkYXRlVXNlckRiIH0gZnJvbSAnQC9saWIvZGInOwppbXBvcnQgdHlwZSB7IFVwZGF0YWJsZVVzZXJGaWVsZHMgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlcih1c2VySWQ6IG51bWJlciwgdXNlckRhdGE6IFVwZGF0YWJsZVVzZXJGaWVsZHMpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfSB8IHZvaWQ+IHsKICB0cnkgewogICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1cGRhdGVVc2VyRGIodXNlcklkLCB1c2VyRGF0YSk7CiAgICBpZiAoIXVwZGF0ZWRVc2VyKSB7CiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VzZXIgbm90IGZvdW5kIG9yIGZhaWxlZCB0byB1cGRhdGUuJyB9OwogICAgfQogICAgcmV2YWxpZGF0ZVBhdGgoJy9hZG1pbi91c2VycycpOwogICAgcmV2YWxpZGF0ZVBhdGgoYC9hZG1pbi91c2Vycy8ke3VzZXJJZH0vZWRpdGApOwogICAgcmV2YWxpZGF0ZVBhdGgoJy9hZG1pbi9hcHByb3ZhbHMnKTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTsKICB9CiAgCiAgLy8gT24gc3VjY2VzcywgcmVkaXJlY3QgYmFjayB0byB0aGUgdXNlcnMgbGlzdAogIHJlZGlyZWN0KCcvYWRtaW4vdXNlcnMnKTsKfQo=' | base64 -d > /root/localpulse/src/app/admin/(authed)/users/[userId]/edit/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)/verification
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQmFkZ2VDaGVjaywgVXNlciwgQnVpbGRpbmcsIFBob25lIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgZ2V0VmVyaWZpY2F0aW9uUmVxdWVzdHMgfSBmcm9tICcuL2FjdGlvbnMnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IFZlcmlmaWNhdGlvbkFjdGlvbnMgZnJvbSAnLi92ZXJpZmljYXRpb24tYWN0aW9ucyc7CgpleHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJzsKCmNvbnN0IEFkbWluVmVyaWZpY2F0aW9uUGFnZTogRkMgPSBhc3luYyAoKSA9PiB7CiAgY29uc3QgcmVxdWVzdHMgPSBhd2FpdCBnZXRWZXJpZmljYXRpb25SZXF1ZXN0cygpOwoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktOCI+CiAgICAgIDxoZWFkZXI+CiAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC00eGwgZm9udC1ib2xkIHRyYWNraW5nLXRpZ2h0IHRleHQtZm9yZWdyb3VuZCI+QnVzaW5lc3MgVmVyaWZpY2F0aW9uPC9oMT4KICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbGcgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5SZXZpZXcgYW5kIGFwcHJvdmUgYnVzaW5lc3NlcyB0byBncmFudCB0aGVtIGEgdmVyaWZpZWQgYmFkZ2UuPC9wPgogICAgICA8L2hlYWRlcj4KICAgICAgCiAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIj4KICAgICAgICA8Q2FyZEhlYWRlcj4KICAgICAgICAgIDxDYXJkVGl0bGU+UGVuZGluZyBWZXJpZmljYXRpb25zICh7cmVxdWVzdHMubGVuZ3RofSk8L0NhcmRUaXRsZT4KICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgIFRoZXNlIGJ1c2luZXNzZXMgaGF2ZSByZXF1ZXN0ZWQgdmVyaWZpY2F0aW9uLiBSZXZpZXcgdGhlaXIgZGV0YWlscyBiZWZvcmUgYXBwcm92aW5nLgogICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgIDxDYXJkQ29udGVudD4KICAgICAgICAgICAge3JlcXVlc3RzLmxlbmd0aCA+IDAgPyAoCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS00Ij4KICAgICAgICAgICAgICAgICAgICB7cmVxdWVzdHMubWFwKCh1c2VyKSA9PiAoCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXt1c2VyLmlkfSBjbGFzc05hbWU9InAtNCBib3JkZXIgcm91bmRlZC1sZyBmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydCBzbTppdGVtcy1jZW50ZXIgZ2FwLTQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSBzcGFjZS15LTIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtbGcgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnVpbGRpbmcgY2xhc3NOYW1lPSJ3LTUgaC01IHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIubmFtZX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVc2VyIGNsYXNzTmFtZT0idy00IGgtNCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJsaW5rIiBhc0NoaWxkIGNsYXNzTmFtZT0icC0wIGgtYXV0byI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL3VzZXJzLyR7dXNlci5pZH1gfSB0YXJnZXQ9Il9ibGFuayI+VmlldyBQcm9maWxlPC9MaW5rPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQaG9uZSBjbGFzc05hbWU9InctNCBoLTQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyLm1vYmlsZW51bWJlciB8fCAnTm90IHByb3ZpZGVkJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWZXJpZmljYXRpb25BY3Rpb25zIHVzZXJJZD17dXNlci5pZH0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgKSA6ICgKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS0xMiB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgICAgIDxCYWRnZUNoZWNrIGNsYXNzTmFtZT0ibXgtYXV0byBoLTE2IHctMTYgbWItNCBvcGFjaXR5LTUwIiAvPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1sZyI+QWxsIGNsZWFyISBObyBwZW5kaW5nIHZlcmlmaWNhdGlvbnMuPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICl9CiAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgPC9DYXJkPgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEFkbWluVmVyaWZpY2F0aW9uUGFnZTsK' | base64 -d > /root/localpulse/src/app/admin/(authed)/verification/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/verification
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IGFwcHJvdmVWZXJpZmljYXRpb24sIHJlamVjdFZlcmlmaWNhdGlvbiB9IGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCB7IExvYWRlcjIsIENoZWNrQ2lyY2xlLCBYQ2lyY2xlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsKICBBbGVydERpYWxvZywKICBBbGVydERpYWxvZ0FjdGlvbiwKICBBbGVydERpYWxvZ0NhbmNlbCwKICBBbGVydERpYWxvZ0NvbnRlbnQsCiAgQWxlcnREaWFsb2dEZXNjcmlwdGlvbiwKICBBbGVydERpYWxvZ0Zvb3RlciwKICBBbGVydERpYWxvZ0hlYWRlciwKICBBbGVydERpYWxvZ1RpdGxlLAogIEFsZXJ0RGlhbG9nVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQtZGlhbG9nJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZlcmlmaWNhdGlvbkFjdGlvbnMoeyB1c2VySWQgfTogeyB1c2VySWQ6IG51bWJlciB9KSB7CiAgY29uc3QgW2lzQXBwcm92aW5nLCBzdGFydEFwcHJvdmVUcmFuc2l0aW9uXSA9IHVzZVRyYW5zaXRpb24oKTsKICBjb25zdCBbaXNSZWplY3RpbmcsIHN0YXJ0UmVqZWN0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlQXBwcm92ZSA9ICgpID0+IHsKICAgIHN0YXJ0QXBwcm92ZVRyYW5zaXRpb24oYXN5bmMgKCkgPT4gewogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcHByb3ZlVmVyaWZpY2F0aW9uKHVzZXJJZCk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgIHRvYXN0KHsgdGl0bGU6ICdWZXJpZmljYXRpb24gQXBwcm92ZWQnLCBkZXNjcmlwdGlvbjogJ1RoZSB1c2VyIGhhcyBiZWVuIGdyYW50ZWQgYSB2ZXJpZmllZCBiYWRnZS4nIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdFcnJvcicsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIGNvbnN0IGhhbmRsZVJlamVjdCA9ICgpID0+IHsKICAgIHN0YXJ0UmVqZWN0VHJhbnNpdGlvbihhc3luYyAoKSA9PiB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlamVjdFZlcmlmaWNhdGlvbih1c2VySWQpOwogICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICB0b2FzdCh7IHRpdGxlOiAnVmVyaWZpY2F0aW9uIFJlamVjdGVkJywgZGVzY3JpcHRpb246ICJUaGUgdXNlcidzIHN0YXR1cyBoYXMgYmVlbiByZXZlcnRlZCB0byBhcHByb3ZlZC4iIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdFcnJvcicsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBnYXAtMiBmbGV4LXNocmluay0wIj4KICAgICAgPEJ1dHRvbgogICAgICAgIHZhcmlhbnQ9ImRlZmF1bHQiCiAgICAgICAgc2l6ZT0ic20iCiAgICAgICAgb25DbGljaz17aGFuZGxlQXBwcm92ZX0KICAgICAgICBkaXNhYmxlZD17aXNBcHByb3ZpbmcgfHwgaXNSZWplY3Rpbmd9CiAgICAgICAgY2xhc3NOYW1lPSJiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwIgogICAgICA+CiAgICAgICAge2lzQXBwcm92aW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiA6IDxDaGVja0NpcmNsZSBjbGFzc05hbWU9Im1yLTIgaC00IHctNCIgLz59CiAgICAgICAgQXBwcm92ZQogICAgICA8L0J1dHRvbj4KICAgICAgCiAgICAgIDxBbGVydERpYWxvZz4KICAgICAgICA8QWxlcnREaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9ImRlc3RydWN0aXZlIiBzaXplPSJzbSIgZGlzYWJsZWQ9e2lzQXBwcm92aW5nIHx8IGlzUmVqZWN0aW5nfT4KICAgICAgICAgICAge2lzUmVqZWN0aW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiA6IDxYQ2lyY2xlIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPn0KICAgICAgICAgICAgUmVqZWN0CiAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICA8L0FsZXJ0RGlhbG9nVHJpZ2dlcj4KICAgICAgICA8QWxlcnREaWFsb2dDb250ZW50PgogICAgICAgICAgICA8QWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dUaXRsZT5BcmUgeW91IHN1cmU/PC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICAgICAgVGhpcyB3aWxsIHJlamVjdCB0aGUgdmVyaWZpY2F0aW9uIHJlcXVlc3QuIFRoZSB1c2VyIHdpbGwgc3RpbGwgYmUgYWJsZSB0byB1c2UgdGhlIGFwcCBhcyBhbiAnYXBwcm92ZWQnIChidXQgbm90ICd2ZXJpZmllZCcpIGJ1c2luZXNzLiBUaGlzIGFjdGlvbiBjYW4gYmUgcmV2ZXJzZWQgbGF0ZXIgaWYgdGhleSByZS1hcHBseS4KICAgICAgICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgPC9BbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICAgICAgPEFsZXJ0RGlhbG9nRm9vdGVyPgogICAgICAgICAgICAgICAgPEFsZXJ0RGlhbG9nQ2FuY2VsPkNhbmNlbDwvQWxlcnREaWFsb2dDYW5jZWw+CiAgICAgICAgICAgICAgICA8QWxlcnREaWFsb2dBY3Rpb24gb25DbGljaz17aGFuZGxlUmVqZWN0fT5ZZXMsIFJlamVjdDwvQWxlcnREaWFsb2dBY3Rpb24+CiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgPC9BbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgIDwvQWxlcnREaWFsb2c+CiAgICA8L2Rpdj4KICApOwp9Cg==' | base64 -d > /root/localpulse/src/app/admin/(authed)/verification/verification-actions.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/verification
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGdldFBlbmRpbmdWZXJpZmljYXRpb25EYiwgdXBkYXRlVXNlclN0YXR1c0RiIH0gZnJvbSAnQC9saWIvZGInOwppbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSAnbmV4dC9jYWNoZSc7CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VmVyaWZpY2F0aW9uUmVxdWVzdHMoKTogUHJvbWlzZTxVc2VyW10+IHsKICB0cnkgewogICAgcmV0dXJuIGF3YWl0IGdldFBlbmRpbmdWZXJpZmljYXRpb25EYigpOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwZW5kaW5nIHZlcmlmaWNhdGlvbnM6JywgZXJyb3IpOwogICAgcmV0dXJuIFtdOwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcHJvdmVWZXJpZmljYXRpb24odXNlcklkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4gewogIHRyeSB7CiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVwZGF0ZVVzZXJTdGF0dXNEYih1c2VySWQsICd2ZXJpZmllZCcpOwogICAgaWYgKHVwZGF0ZWRVc2VyKSB7CiAgICAgIHJldmFsaWRhdGVQYXRoKCcvYWRtaW4vdmVyaWZpY2F0aW9uJyk7CiAgICAgIHJldmFsaWRhdGVQYXRoKCcvYWRtaW4vdXNlcnMnKTsKICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfQogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVXNlciBub3QgZm91bmQuJyB9OwogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9OwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlamVjdFZlcmlmaWNhdGlvbih1c2VySWQ6IG51bWJlcik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgLy8gSWYgdmVyaWZpY2F0aW9uIGlzIHJlamVjdGVkLCB3ZSByZXZlcnQgdGhlbSB0byAnYXBwcm92ZWQnIHN0YXR1cywKICAvLyBzbyB0aGV5IGNhbiBjb250aW51ZSB0byB1c2UgdGhlIGFwcCBhcyBhIG5vcm1hbCBidXNpbmVzcy4KICB0cnkgewogICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1cGRhdGVVc2VyU3RhdHVzRGIodXNlcklkLCAnYXBwcm92ZWQnKTsKICAgIGlmICh1cGRhdGVkVXNlcikgewogICAgICByZXZhbGlkYXRlUGF0aCgnL2FkbWluL3ZlcmlmaWNhdGlvbicpOwogICAgICByZXZhbGlkYXRlUGF0aCgnL2FkbWluL3VzZXJzJyk7CiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgIH0KICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VzZXIgbm90IGZvdW5kLicgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTsKICB9Cn0K' | base64 -d > /root/localpulse/src/app/admin/(authed)/verification/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)/seeding
echo 'J3VzZSBjbGllbnQnOwoKaW1wb3J0IHR5cGUgeyBGQyB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJzsKaW1wb3J0IHsgdXNlUGF0aG5hbWUsIHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nOwppbXBvcnQgeyBhZG1pbkxvZ291dCB9IGZyb20gJ0AvYXBwL2FkbWluL2FjdGlvbnMnOwppbXBvcnQgeyBMYXlvdXREYXNoYm9hcmQsIEZpbGVUZXh0LCBVc2VycywgTG9nT3V0LCBTZXR0aW5ncywgU2hpZWxkQ2hlY2ssIEJlbGwsIEJhZGdlQ2hlY2ssIFVzZXJDaGVjayBhcyBVc2VyQ2hlY2tJY29uIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwoKY29uc3QgbmF2SXRlbXMgPSBbCiAgeyBocmVmOiAnL2FkbWluJywgbGFiZWw6ICdEYXNoYm9hcmQnLCBpY29uOiBMYXlvdXREYXNoYm9hcmQgfSwKICB7IGhyZWY6ICcvYWRtaW4vcG9zdHMnLCBsYWJlbDogJ01hbmFnZSBQb3N0cycsIGljb246IEZpbGVUZXh0IH0sCiAgeyBocmVmOiAnL2FkbWluL3VzZXJzJywgbGFiZWw6ICdNYW5hZ2UgVXNlcnMnLCBpY29uOiBVc2VycyB9LAogIHsgaHJlZjogJy9hZG1pbi9hcHByb3ZhbHMnLCBsYWJlbDogJ01hbnVhbCBBcHByb3ZhbHMnLCBpY29uOiBVc2VyQ2hlY2tJY29uIH0sCiAgeyBocmVmOiAnL2FkbWluL3ZlcmlmaWNhdGlvbicsIGxhYmVsOiAnQnVzaW5lc3MgVmVyaWZpY2F0aW9uJywgaWNvbjogQmFkZ2VDaGVjayB9LAogIHsgaHJlZjogJy9hZG1pbi9ub3RpZmljYXRpb25zJywgbGFiZWw6ICdOb3RpZmljYXRpb25zJywgaWNvbjogQmVsbCB9LAogIHsgaHJlZjogJy9hZG1pbi9zZXR0aW5ncycsIGxhYmVsOiAnU2V0dGluZ3MnLCBpY29uOiBTZXR0aW5ncyB9LApdOwoKZXhwb3J0IGNvbnN0IEFkbWluTmF2OiBGQyA9ICgpID0+IHsKICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gYXN5bmMgKCkgPT4gewogICAgdHJ5IHsKICAgICAgYXdhaXQgYWRtaW5Mb2dvdXQoKTsKICAgICAgdG9hc3QoewogICAgICAgIHRpdGxlOiAnTG9nZ2VkIE91dCcsCiAgICAgICAgZGVzY3JpcHRpb246ICdZb3UgaGF2ZSBiZWVuIHN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LicsCiAgICAgIH0pOwogICAgICByb3V0ZXIucmVmcmVzaCgpOyAKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBmYWlsZWQ6JywgZXJyb3IpOwogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdMb2dvdXQgRmFpbGVkJywKICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyBsb2dvdXQuIFBsZWFzZSB0cnkgYWdhaW4uJywKICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICB9KTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPGFzaWRlIGNsYXNzTmFtZT0idy02NCBiZy1jYXJkIGJvcmRlci1yIGJvcmRlci1ib3JkZXIgZmxleCBmbGV4LWNvbCB0ZXh0LWNhcmQtZm9yZWdyb3VuZCI+CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgYm9yZGVyLWIgYm9yZGVyLWJvcmRlciI+CiAgICAgICAgPExpbmsgaHJlZj0iL2FkbWluIiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KICAgICAgICAgIDxTaGllbGRDaGVjayBjbGFzc05hbWU9ImgtOCB3LTggdGV4dC1wcmltYXJ5IiAvPgogICAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC0yeGwgZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnkiPkFkbWluIFBhbmVsPC9oMT4KICAgICAgICA8L0xpbms+CiAgICAgIDwvZGl2PgogICAgICA8bmF2IGNsYXNzTmFtZT0iZmxleC1ncm93IHAtNCBzcGFjZS15LTIiPgogICAgICAgIHtuYXZJdGVtcy5tYXAoKGl0ZW0pID0+ICgKICAgICAgICAgIDxCdXR0b24KICAgICAgICAgICAga2V5PXtpdGVtLmhyZWZ9CiAgICAgICAgICAgIHZhcmlhbnQ9e3BhdGhuYW1lLnN0YXJ0c1dpdGgoaXRlbS5ocmVmKSAmJiBpdGVtLmhyZWYgIT09ICcvYWRtaW4nIHx8IHBhdGhuYW1lID09PSAnL2FkbWluJyAmJiBpdGVtLmhyZWYgPT09ICcvYWRtaW4nID8gJ2RlZmF1bHQnIDogJ2dob3N0J30KICAgICAgICAgICAgY2xhc3NOYW1lPXtjbigKICAgICAgICAgICAgICAidy1mdWxsIGp1c3RpZnktc3RhcnQgdGV4dC1iYXNlIiwKICAgICAgICAgICAgICAgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoaXRlbS5ocmVmKSAmJiBpdGVtLmhyZWYgIT09ICcvYWRtaW4nIHx8IHBhdGhuYW1lID09PSAnL2FkbWluJyAmJiBpdGVtLmhyZWYgPT09ICcvYWRtaW4nKSA/ICJiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIiA6ICJob3ZlcjpiZy1tdXRlZCIKICAgICAgICAgICAgKX0KICAgICAgICAgICAgYXNDaGlsZAogICAgICAgICAgPgogICAgICAgICAgICA8TGluayBocmVmPXtpdGVtLmhyZWZ9PgogICAgICAgICAgICAgIDxpdGVtLmljb24gY2xhc3NOYW1lPSJtci0zIGgtNSB3LTUiIC8+CiAgICAgICAgICAgICAge2l0ZW0ubGFiZWx9CiAgICAgICAgICAgIDwvTGluaz4KICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICkpfQogICAgICA8L25hdj4KICAgICAgPGRpdiBjbGFzc05hbWU9InAtNCBtdC1hdXRvIGJvcmRlci10IGJvcmRlci1ib3JkZXIiPgogICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgY2xhc3NOYW1lPSJ3LWZ1bGwiIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0+CiAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT0ibXItMiBoLTUgdy01IiAvPgogICAgICAgICAgTG9nb3V0CiAgICAgICAgPC9CdXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9hc2lkZT4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgQWRtaW5OYXY7' | base64 -d > /root/localpulse/src/app/admin/(authed)/seeding/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/seeding
echo 'J3VzZSBjbGllbnQnOwoKaW1wb3J0IFJlYWN0LCB7IHR5cGUgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcywgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsKaW1wb3J0IHR5cGUgeyBQb3N0LCBVc2VyLCBTb3J0T3B0aW9uLCBCdXNpbmVzc1VzZXIgfSBmcm9tICdAL2xpYi9kYi10eXBlcyc7CmltcG9ydCB7IGdldFBvc3RzLCBnZXRGYW1pbHlQb3N0cywgZ2V0TmVhcmJ5QnVzaW5lc3NlcywgcmVnaXN0ZXJEZXZpY2VUb2tlbiwgdXBkYXRlVXNlckxvY2F0aW9uLCBnZXRVbnJlYWRGYW1pbHlQb3N0Q291bnQsIG1hcmtGYW1pbHlGZWVkQXNSZWFkIH0gZnJvbSAnQC9hcHAvYWN0aW9ucyc7CmltcG9ydCB7IFBvc3RDYXJkIH0gZnJvbSAnQC9jb21wb25lbnRzL3Bvc3QtY2FyZCc7CmltcG9ydCB7IFBvc3RGZWVkU2tlbGV0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvcG9zdC1mZWVkLXNrZWxldG9uJzsKaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7CmltcG9ydCB7IFphcCwgTG9hZGVyMiwgQmVsbCwgQmVsbE9mZiwgQmVsbFJpbmcsIEFsZXJ0VHJpYW5nbGUsIFVzZXJzLCBSc3MsIEZpbHRlciwgQnJpZWZjYXNlLCBQYXJ0eVBvcHBlciwgTG9jYXRlRml4ZWQsIEhhbmRQbGF0dGVyLCBBcnJvd0xlZnQsIFdpbmQsIFNjaXNzb3JzLCBNYXAsIExpc3QsIENhbGVuZGFyQ2hlY2sgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gIkAvaG9va3MvdXNlLXRvYXN0IjsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2J1dHRvbiI7CmltcG9ydCB7IHVzZVN3aXBlYWJsZSB9IGZyb20gJ3JlYWN0LXN3aXBlYWJsZSc7CmltcG9ydCB7CiAgQWxlcnREaWFsb2csCiAgQWxlcnREaWFsb2dBY3Rpb24sCiAgQWxlcnREaWFsb2dDYW5jZWwsCiAgQWxlcnREaWFsb2dDb250ZW50LAogIEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24sCiAgQWxlcnREaWFsb2dGb290ZXIsCiAgQWxlcnREaWFsb2dIZWFkZXIsCiAgQWxlcnREaWFsb2dUaXRsZSwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQtZGlhbG9nJzsKaW1wb3J0IEVxdWFsV2lkdGhUYWJzIGZyb20gJ0AvY29tcG9uZW50cy9FcXVhbFdpZHRoVGFicyc7CmltcG9ydCB7CiAgRHJvcGRvd25NZW51LAogIERyb3Bkb3duTWVudUNvbnRlbnQsCiAgRHJvcGRvd25NZW51TGFiZWwsCiAgRHJvcGRvd25NZW51U2VwYXJhdG9yLAogIERyb3Bkb3duTWVudVRyaWdnZXIsCiAgRHJvcGRvd25NZW51UmFkaW9Hcm91cCwKICBEcm9wZG93bk1lbnVSYWRpb0l0ZW0KfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZHJvcGRvd24tbWVudSc7CmltcG9ydCBCdXNpbmVzc0NhcmQgZnJvbSAnLi9idXNpbmVzcy1jYXJkJzsKaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYSc7CmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnOwppbXBvcnQgeyBnZXRNZXNzYWdpbmcsIGdldFRva2VuIH0gZnJvbSAnZmlyZWJhc2UvbWVzc2FnaW5nJzsKaW1wb3J0IHsgZ2V0QXBwLCBnZXRBcHBzLCBpbml0aWFsaXplQXBwIH0gZnJvbSAnZmlyZWJhc2UvYXBwJzsKaW1wb3J0IE1hbmRhbExpc3QgZnJvbSAnLi9tYW5kYWwtbGlzdCc7CmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7CgoKaW50ZXJmYWNlIEFuZHJvaWRJbnRlcmZhY2UgewogIGdldEZDTVRva2VuPzogKCkgPT4gc3RyaW5nIHwgbnVsbDsKfQoKZGVjbGFyZSBnbG9iYWwgewogIGludGVyZmFjZSBXaW5kb3cgewogICAgQW5kcm9pZD86IEFuZHJvaWRJbnRlcmZhY2U7CiAgfQp9Cgpjb25zdCBQT1NUU19QRVJfUEFHRSA9IDU7Cgp0eXBlIEZlZWRUeXBlID0gJ25lYXJieScgfCAnZmFtaWx5JyB8ICdzZXJ2aWNlcycgfCAnZmVzdGl2YWwnOwoKdHlwZSBGZWVkU3RhdGUgPSB7CiAgICBwb3N0czogUG9zdFtdOwogICAgcGFnZTogbnVtYmVyOwogICAgaGFzTW9yZTogYm9vbGVhbjsKICAgIGlzTG9hZGluZzogYm9vbGVhbjsKfTsKCnR5cGUgQnVzaW5lc3NGZWVkU3RhdGUgPSB7CiAgICBidXNpbmVzc2VzOiBCdXNpbmVzc1VzZXJbXTsKICAgIHBhZ2U6IG51bWJlcjsKICAgIGhhc01vcmU6IGJvb2xlYW47CiAgICBpc0xvYWRpbmc6IGJvb2xlYW47CiAgICBjYXRlZ29yeT86IHN0cmluZzsKfTsKCmNvbnN0IGluaXRpYWxGZWVkU3RhdGU6IEZlZWRTdGF0ZSA9IHsKICAgIHBvc3RzOiBbXSwKICAgIHBhZ2U6IDEsCiAgICBoYXNNb3JlOiB0cnVlLAogICAgaXNMb2FkaW5nOiB0cnVlLAp9OwoKY29uc3QgaW5pdGlhbEJ1c2luZXNzRmVlZFN0YXRlOiBCdXNpbmVzc0ZlZWRTdGF0ZSA9IHsKICAgIGJ1c2luZXNzZXM6IFtdLAogICAgcGFnZTogMSwKICAgIGhhc01vcmU6IHRydWUsCiAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgY2F0ZWdvcnk6IHVuZGVmaW5lZCwKfTsKCmZ1bmN0aW9uIE5vdGlmaWNhdGlvbkJ1dHRvbkNvbnRlbnQoewogIG5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXMsCn06IHsKICBub3RpZmljYXRpb25QZXJtaXNzaW9uU3RhdHVzOiAnZGVmYXVsdCcgfCAnbG9hZGluZycgfCAnZ3JhbnRlZCcgfCAnZGVuaWVkJzsKfSkgewogIHN3aXRjaCAobm90aWZpY2F0aW9uUGVybWlzc2lvblN0YXR1cykgewogICAgY2FzZSAnbG9hZGluZyc6CiAgICAgIHJldHVybiA8PjxMb2FkZXIyIGNsYXNzTmFtZT0idy01IGgtNSBtci0yIGFuaW1hdGUtc3BpbiIgLz4gPHNwYW4gY2xhc3NOYW1lPSJoaWRkZW4gc206aW5saW5lIj5DaGVja2luZy4uLjwvc3Bhbj48Lz47CiAgICBjYXNlICdncmFudGVkJzoKICAgICAgcmV0dXJuIDw+PEJlbGxSaW5nIGNsYXNzTmFtZT0idy01IGgtNSBtci0yIHRleHQtZ3JlZW4tNTAwIiAvPiA8c3BhbiBjbGFzc05hbWU9ImhpZGRlbiBzbTppbmxpbmUiPlN1YnNjcmliZWQ8L3NwYW4+PC8+OwogICAgY2FzZSAnZGVuaWVkJzoKICAgICAgcmV0dXJuIDw+PEJlbGxPZmYgY2xhc3NOYW1lPSJ3LTUgaC01IG1yLTIgdGV4dC1kZXN0cnVjdGl2ZSIgLz4gPHNwYW4gY2xhc3NOYW1lPSJoaWRkZW4gc206aW5saW5lIj5TZXR1cCBGYWlsZWQ8L3NwYW4+PC8+OwogICAgY2FzZSAnZGVmYXVsdCc6CiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gPD48QmVsbCBjbGFzc05hbWU9InctNSBoLTUgbXItMiIgLz4gPHNwYW4gY2xhc3NOYW1lPSJoaWRkZW4gc206aW5saW5lIj5Ob3RpZmljYXRpb25zPC9zcGFuPjwvPjsKICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiBOb1Bvc3RzQ29udGVudCh7IGZlZWRUeXBlLCByYWRpdXNLbSwgb25SYWRpdXNDaGFuZ2UsIGNhdGVnb3J5IH06IHsgZmVlZFR5cGU6IEZlZWRUeXBlOyByYWRpdXNLbT86IG51bWJlcjsgb25SYWRpdXNDaGFuZ2U/OiAocmFkaXVzOiBudW1iZXIpID0+IHZvaWQ7IGNhdGVnb3J5Pzogc3RyaW5nIH0pIHsKICBjb25zdCBtZXNzYWdlcyA9IHsKICAgIG5lYXJieTogewogICAgICB0aXRsZTogJ1RoZSBhaXIgaXMgcXVpZXQgaGVyZS4uLicsCiAgICAgIGRlc2NyaXB0aW9uOiAnTm8gcHVsc2VzIGZvdW5kIG5lYXJieS4gQmUgdGhlIGZpcnN0IHRvIHBvc3QhJwogICAgfSwKICAgIGZhbWlseTogewogICAgICB0aXRsZTogJ05vIEZhbWlseSBQdWxzZXMgWWV0JywKICAgICAgZGVzY3JpcHRpb246ICdZb3VyIGZhbWlseSBtZW1iZXJzIGhhdmUgbm90IHBvc3RlZCBhbnl0aGluZyB5ZXQuIFNoYXJlIGEgZmFtaWx5IHBvc3QgdG8gZ2V0IHN0YXJ0ZWQhJwogICAgfSwKICAgIHNlcnZpY2VzOiB7CiAgICAgIHRpdGxlOiBgTm8gJHtjYXRlZ29yeSB8fCAnQnVzaW5lc3Nlcyd9IEZvdW5kYCwKICAgICAgZGVzY3JpcHRpb246IHJhZGl1c0ttID8gYFdlIGxvb2tlZCB3aXRoaW4gJHtyYWRpdXNLbX0ga20uIFdhbnQgdG8gdHJ5IGEgd2lkZXIgcmFkaXVzP2AgOiAnTm8gYnVzaW5lc3NlcyBmb3VuZCBpbiB5b3VyIGFyZWEgZm9yIHRoZSBzZWxlY3RlZCBjYXRlZ29yeS4gVHJ5IGEgZGlmZmVyZW50IGZpbHRlciEnCiAgICB9LAogICAgZmVzdGl2YWw6IHsKICAgICAgICB0aXRsZTogJ1RoZSBGZXN0aXZpdGllcyBBd2FpdCEnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnTm8gbWFuZGFscyBoYXZlIGJlZW4gcmVnaXN0ZXJlZCBmb3IgdGhlIHNlbGVjdGVkIGNpdHkgeWV0LicKICAgIH0KICB9CiAgY29uc3QgY3VycmVudE1lc3NhZ2UgPSBtZXNzYWdlc1tmZWVkVHlwZV07CgogIHJldHVybiAoCiAgICA8Q2FyZCBjbGFzc05hbWU9InRleHQtY2VudGVyIHB5LTE2IHJvdW5kZWQteGwgc2hhZG93LXhsIGJvcmRlciBib3JkZXItYm9yZGVyLzQwIGJnLWNhcmQvODAgYmFja2Ryb3AtYmx1ci1zbSI+CiAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIj4KICAgICAgICB7ZmVlZFR5cGUgPT09ICdzZXJ2aWNlcycgPyA8QnJpZWZjYXNlIGNsYXNzTmFtZT0ibXgtYXV0byBoLTIwIHctMjAgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzMwIG1iLTYiIC8+IDogZmVlZFR5cGUgPT09ICdmZXN0aXZhbCcgPyA8UGFydHlQb3BwZXIgY2xhc3NOYW1lPSJteC1hdXRvIGgtMjAgdy0yMCB0ZXh0LW11dGVkLWZvcmVncm91bmQvMzAgbWItNiIgLz4gOiA8WmFwIGNsYXNzTmFtZT0ibXgtYXV0byBoLTIwIHctMjAgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzMwIG1iLTYiIC8+fQogICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC0yeGwgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZvbnQtc2VtaWJvbGQiPntjdXJyZW50TWVzc2FnZS50aXRsZX08L3A+CiAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LW1kIHRleHQtbXV0ZWQtZm9yZWdyb3VuZC84MCBtdC0yIj57Y3VycmVudE1lc3NhZ2UuZGVzY3JpcHRpb259PC9wPgogICAgICAgIHtmZWVkVHlwZSA9PT0gJ3NlcnZpY2VzJyAmJiBvblJhZGl1c0NoYW5nZSAmJiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGdhcC0yIG10LTQiPgogICAgICAgICAgICAgIHtbMTAsIDE1LCAyNV0ubWFwKHIgPT4gKAogICAgICAgICAgICAgICAgPEJ1dHRvbiBrZXk9e3J9IHZhcmlhbnQ9Im91dGxpbmUiIHNpemU9InNtIiBvbkNsaWNrPXsoKSA9PiBvblJhZGl1c0NoYW5nZShyKX0+CiAgICAgICAgICAgICAgICAgIHtyfSBrbQogICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgKSl9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICl9CiAgICAgICAge2ZlZWRUeXBlICE9PSAnc2VydmljZXMnICYmICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9Im10LTYiPgogICAgICAgICAgICA8YQogICAgICAgICAgICAgICAgaHJlZj0iIyIKICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogInNtb290aCIgfSk7IH19CiAgICAgICAgICAgICAgICBjbGFzc05hbWU9ImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLW1kIGJvcmRlciBweC0zIHB5LTIgdGV4dC1zbSBiZy1iYWNrZ3JvdW5kIGhvdmVyOmJnLW11dGVkIgogICAgICAgICAgICA+CiAgICAgICAgICAgICAgICBTaGFyZSB5b3VyIGZpcnN0IFB1bHNlCiAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KICAgICAgPC9DYXJkQ29udGVudD4KICAgIDwvQ2FyZD4KICApOwp9CgoKLy8gLS0tIE1haW4gQ29tcG9uZW50IC0tLQoKaW50ZXJmYWNlIFBvc3RGZWVkQ2xpZW50UHJvcHMgewogIHNlc3Npb25Vc2VyOiBVc2VyIHwgbnVsbDsKICBpbml0aWFsUG9zdHM6IFBvc3RbXTsKfQoKY29uc3QgUG9zdEZlZWRDbGllbnQ6IEZDPFBvc3RGZWVkQ2xpZW50UHJvcHM+ID0gKHsgc2Vzc2lvblVzZXIsIGluaXRpYWxQb3N0cyB9KSA9PiB7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTsKICBjb25zdCBhY3RpdmVUYWIgPSAoc2VhcmNoUGFyYW1zLmdldCgndGFiJykgYXMgRmVlZFR5cGUpIHx8ICduZWFyYnknOwogIAogIGNvbnN0IFtmZWVkcywgc2V0RmVlZHNdID0gdXNlU3RhdGU8eyBba2V5IGluICduZWFyYnknIHwgJ2ZhbWlseSddOiBGZWVkU3RhdGUgfT4oewogICAgbmVhcmJ5OiB7IC4uLmluaXRpYWxGZWVkU3RhdGUsIHBvc3RzOiBpbml0aWFsUG9zdHMsIGlzTG9hZGluZzogaW5pdGlhbFBvc3RzLmxlbmd0aCA9PT0gMCwgaGFzTW9yZTogaW5pdGlhbFBvc3RzLmxlbmd0aCA9PT0gUE9TVFNfUEVSX1BBR0UgfSwKICAgIGZhbWlseTogeyAuLi5pbml0aWFsRmVlZFN0YXRlLCBpc0xvYWRpbmc6IGZhbHNlIH0sIC8vIEZhbWlseSBmZWVkIGRvZXNuJ3QgbG9hZCBpbml0aWFsbHkKICB9KTsKICBjb25zdCBbYnVzaW5lc3NGZWVkLCBzZXRCdXNpbmVzc0ZlZWRdID0gdXNlU3RhdGU8QnVzaW5lc3NGZWVkU3RhdGU+KGluaXRpYWxCdXNpbmVzc0ZlZWRTdGF0ZSk7CgogIGNvbnN0IFtzb3J0QnksIHNldFNvcnRCeV0gPSB1c2VTdGF0ZTxTb3J0T3B0aW9uPignbmVhcmJ5Jyk7CiAgY29uc3QgW3JhZGl1c0ttLCBzZXRSYWRpdXNLbV0gPSB1c2VTdGF0ZSg1KTsKICAKICBjb25zdCBbbG9jYXRpb24sIHNldExvY2F0aW9uXSA9IHVzZVN0YXRlPHsgbGF0aXR1ZGU6IG51bWJlcjsgbG9uZ2l0dWRlOiBudW1iZXIgfSB8IG51bGw+KG51bGwpOwogIGNvbnN0IFtpc1JlZnJlc2hpbmcsIHNldElzUmVmcmVzaGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW25vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXMsIHNldE5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXNdID0gdXNlU3RhdGU8J2RlZmF1bHQnIHwgJ2xvYWRpbmcnIHwgJ2dyYW50ZWQnIHwgJ2RlbmllZCc+KCdkZWZhdWx0Jyk7CiAgY29uc3QgW3Nob3dUcm91Ymxlc2hvb3RpbmdEaWFsb2csIHNldFNob3dUcm91Ymxlc2hvb3RpbmdEaWFsb2ddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFt1bnJlYWRGYW1pbHlQb3N0Q291bnQsIHNldFVucmVhZEZhbWlseVBvc3RDb3VudF0gPSB1c2VTdGF0ZSgwKTsKICBjb25zdCBbbG9jYXRpb25Qcm9tcHRWaXNpYmxlLCBzZXRMb2NhdGlvblByb21wdFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtpc0ZldGNoaW5nTG9jYXRpb24sIHNldElzRmV0Y2hpbmdMb2NhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgCiAgY29uc3QgW3NlbGVjdGVkU2VydmljZSwgc2V0U2VsZWN0ZWRTZXJ2aWNlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpOwogIAoKICBjb25zdCBidXNpbmVzc0luaXRpYWxMb2FkID0gdXNlUmVmKGZhbHNlKTsKCgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSB7CiAgICAgIHNldE5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXMoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24pOwogICAgfQogIH0sIFtdKTsKICAKICAvLyBUaGlzIGVmZmVjdCB3aWxsIG9ubHkgcG9sbCBmb3IgdGhlIHVucmVhZCBmYW1pbHkgY291bnQuCiAgLy8gSXQgd2lsbCBOT1QgY2F1c2UgYSByZS1yZW5kZXIgdGhhdCByZXNldHMgdGhlIGJ1c2luZXNzIGZlZWQuCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGlmICghc2Vzc2lvblVzZXIpIHsKICAgICAgc2V0VW5yZWFkRmFtaWx5UG9zdENvdW50KDApOwogICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCBmZXRjaENvdW50ID0gKCkgPT4gewogICAgICBnZXRVbnJlYWRGYW1pbHlQb3N0Q291bnQoKS50aGVuKHNldFVucmVhZEZhbWlseVBvc3RDb3VudCk7CiAgICB9OwogICAgZmV0Y2hDb3VudCgpOyAvLyBJbml0aWFsIGZldGNoCiAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZmV0Y2hDb3VudCwgMzAwMDApOwogICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgfSwgW3Nlc3Npb25Vc2VyXSk7CgoKICBjb25zdCBmZXRjaFBvc3RzID0gdXNlQ2FsbGJhY2soYXN5bmMgKGZlZWQ6ICduZWFyYnknIHwgJ2ZhbWlseScsIHBhZ2U6IG51bWJlciwgc29ydDogU29ydE9wdGlvbiwgY3VycmVudExvYzogeyBsYXRpdHVkZTogbnVtYmVyOyBsb25naXR1ZGU6IG51bWJlciB9IHwgbnVsbCkgPT4gewogICAgc2V0RmVlZHMocHJldiA9PiAoeyAuLi5wcmV2LCBbZmVlZF06IHsgLi4ucHJldltmZWVkXSwgaXNMb2FkaW5nOiB0cnVlIH0gfSkpOwoKICAgIHRyeSB7CiAgICAgICAgY29uc3QgZmV0Y2hlciA9IGZlZWQgPT09ICduZWFyYnknCiAgICAgICAgICAgID8gZ2V0UG9zdHMoeyBwYWdlLCBsaW1pdDogUE9TVFNfUEVSX1BBR0UsIGxhdGl0dWRlOiBjdXJyZW50TG9jPy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBjdXJyZW50TG9jPy5sb25naXR1ZGUsIHNvcnRCeTogc29ydCB9KQogICAgICAgICAgICA6IGdldEZhbWlseVBvc3RzKHsgcGFnZSwgbGltaXQ6IFBPU1RTX1BFUl9QQUdFLCBzb3J0Qnk6IHNvcnQgfSk7CgogICAgICAgIGNvbnN0IG5ld1Bvc3RzID0gYXdhaXQgZmV0Y2hlcjsKICAgICAgCiAgICAgICAgc2V0RmVlZHMocHJldiA9PiB7CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGZWVkID0gcHJldltmZWVkXTsKICAgICAgICAgICAgY29uc3QgYWxsUG9zdHMgPSBwYWdlID09PSAxID8gbmV3UG9zdHMgOiBbLi4uY3VycmVudEZlZWQucG9zdHMsIC4uLm5ld1Bvc3RzLmZpbHRlcihwID0+ICFjdXJyZW50RmVlZC5wb3N0cy5zb21lKGVwID0+IGVwLmlkID09PSBwLmlkKSldOwogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIC4uLnByZXYsCiAgICAgICAgICAgICAgICBbZmVlZF06IHsKICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50RmVlZCwKICAgICAgICAgICAgICAgICAgICBwb3N0czogYWxsUG9zdHMsCiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICAgICAgICAgICAgICBoYXNNb3JlOiBuZXdQb3N0cy5sZW5ndGggPT09IFBPU1RTX1BFUl9QQUdFLAogICAgICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nICR7ZmVlZH0gcG9zdHM6YCwgZXJyb3IpOwogICAgICAgIHNldEZlZWRzKHByZXYgPT4gKHsgLi4ucHJldiwgW2ZlZWRdOiB7IC4uLnByZXZbZmVlZF0sIGlzTG9hZGluZzogZmFsc2UgfSB9KSk7CiAgICB9CiAgfSwgW10pOwoKICBjb25zdCBmZXRjaEJ1c2luZXNzZXMgPSB1c2VDYWxsYmFjayhhc3luYyAocGFnZTogbnVtYmVyLCBjYXRlZ29yeT86IHN0cmluZykgPT4gewogICAgaWYgKCFsb2NhdGlvbikgewogICAgICAgIHNldExvY2F0aW9uUHJvbXB0VmlzaWJsZSh0cnVlKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBzZXRMb2NhdGlvblByb21wdFZpc2libGUoZmFsc2UpOwogICAgc2V0QnVzaW5lc3NGZWVkKHByZXYgPT4gKHsgLi4ucHJldiwgaXNMb2FkaW5nOiB0cnVlLCBjYXRlZ29yeTogY2F0ZWdvcnkgfHwgcHJldi5jYXRlZ29yeSB9KSk7CgogICAgdHJ5IHsKICAgICAgY29uc3QgbmV3QnVzaW5lc3NlcyA9IGF3YWl0IGdldE5lYXJieUJ1c2luZXNzZXMoeyBwYWdlLCBsaW1pdDogUE9TVFNfUEVSX1BBR0UsIGxhdGl0dWRlOiBsb2NhdGlvbi5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUsIGNhdGVnb3J5LCByYWRpdXNLbSB9KTsKICAgICAgCiAgICAgIHNldEJ1c2luZXNzRmVlZChwcmV2ID0+IHsKICAgICAgICBjb25zdCBhbGxCdXNpbmVzc2VzID0gcGFnZSA9PT0gMSA/IG5ld0J1c2luZXNzZXMgOiBbLi4ucHJldi5idXNpbmVzc2VzLCAuLi5uZXdCdXNpbmVzc2VzLmZpbHRlcihiID0+ICFwcmV2LmJ1c2luZXNzZXMuc29tZShlYiA9PiBlYi5pZCA9PT0gYi5pZCkpXTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgLi4ucHJldiwKICAgICAgICAgIGJ1c2luZXNzZXM6IGFsbEJ1c2luZXNzZXMsCiAgICAgICAgICBwYWdlOiBwYWdlLAogICAgICAgICAgaGFzTW9yZTogbmV3QnVzaW5lc3Nlcy5sZW5ndGggPT09IFBPU1RTX1BFUl9QQUdFLAogICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYnVzaW5lc3NlczonLCBlcnJvcik7CiAgICAgIHNldEJ1c2luZXNzRmVlZChwcmV2ID0+ICh7IC4uLnByZXYsIGlzTG9hZGluZzogZmFsc2UgfSkpOwogICAgfQogIH0sIFtsb2NhdGlvbiwgcmFkaXVzS21dKTsKCiAgY29uc3QgcmVxdWVzdExvY2F0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4gewogICAgaWYgKCFuYXZpZ2F0b3IuZ2VvbG9jYXRpb24gfHwgaXNGZXRjaGluZ0xvY2F0aW9uKSByZXR1cm47CiAgICAKICAgIHNldElzRmV0Y2hpbmdMb2NhdGlvbih0cnVlKTsKICAgIHNldExvY2F0aW9uUHJvbXB0VmlzaWJsZShmYWxzZSk7CiAgICAKICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oCiAgICAgIChwb3NpdGlvbikgPT4gewogICAgICAgIGNvbnN0IG5ld0xvY2F0aW9uID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfTsKICAgICAgICBzZXRMb2NhdGlvbihuZXdMb2NhdGlvbik7CiAgICAgICAgc2V0SXNGZXRjaGluZ0xvY2F0aW9uKGZhbHNlKTsKICAgICAgICAKICAgICAgICBpZiAoc2Vzc2lvblVzZXIpIHsKICAgICAgICAgIHVwZGF0ZVVzZXJMb2NhdGlvbihuZXdMb2NhdGlvbi5sYXRpdHVkZSwgbmV3TG9jYXRpb24ubG9uZ2l0dWRlKS5jYXRjaChlcnIgPT4gY29uc29sZS53YXJuKCJTaWxlbnQgbG9jYXRpb24gdXBkYXRlIGZhaWxlZDoiLCBlcnIpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZmV0Y2hQb3N0cygnbmVhcmJ5JywgMSwgc29ydEJ5LCBuZXdMb2NhdGlvbik7CiAgICAgIH0sCiAgICAgIChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLndhcm4oIkNvdWxkIG5vdCBnZXQgdXNlciBsb2NhdGlvbjoiLCBlcnIubWVzc2FnZSk7CiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0xvY2F0aW9uIEVycm9yJywgZGVzY3JpcHRpb246ICdDb3VsZCBub3QgYWNjZXNzIHlvdXIgbG9jYXRpb24uIFBsZWFzZSBjaGVjayB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuJyB9KTsKICAgICAgICBzZXRMb2NhdGlvblByb21wdFZpc2libGUodHJ1ZSk7CiAgICAgICAgc2V0SXNGZXRjaGluZ0xvY2F0aW9uKGZhbHNlKTsKICAgICAgfSwKICAgICAgeyBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsIHRpbWVvdXQ6IDEwMDAwLCBtYXhpbXVtQWdlOiAwIH0KICAgICk7CiAgfSwgW2lzRmV0Y2hpbmdMb2NhdGlvbiwgc2Vzc2lvblVzZXIsIHRvYXN0LCBmZXRjaFBvc3RzLCBzb3J0QnldKTsKICAKICB1c2VFZmZlY3QoKCkgPT4gewogICAgcmVxdWVzdExvY2F0aW9uKCk7CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcwogIH0sIFtdKTsKICAKICBjb25zdCBoYW5kbGVUYWJDaGFuZ2UgPSB1c2VDYWxsYmFjaygobmV3VGFiOiBGZWVkVHlwZSkgPT4gewogICAgaWYgKG5ld1RhYiA9PT0gJ2ZhbWlseScpIHsKICAgICAgaWYgKHVucmVhZEZhbWlseVBvc3RDb3VudCA+IDApIHsKICAgICAgICBtYXJrRmFtaWx5RmVlZEFzUmVhZCgpOwogICAgICAgIHNldFVucmVhZEZhbWlseVBvc3RDb3VudCgwKTsKICAgICAgfQogICAgICBpZiAoZmVlZHMuZmFtaWx5LnBvc3RzLmxlbmd0aCA9PT0gMCAmJiAhZmVlZHMuZmFtaWx5LmlzTG9hZGluZykgewogICAgICAgIGZldGNoUG9zdHMoJ2ZhbWlseScsIDEsIHNvcnRCeSwgbG9jYXRpb24pOwogICAgICB9CiAgICB9IGVsc2UgaWYgKG5ld1RhYiA9PT0gJ3NlcnZpY2VzJykgewogICAgICAgIHNldFNlbGVjdGVkU2VydmljZShudWxsKTsKICAgICAgICBzZXRCdXNpbmVzc0ZlZWQoaW5pdGlhbEJ1c2luZXNzRmVlZFN0YXRlKTsgCiAgICAgICAgaWYgKCFsb2NhdGlvbikgewogICAgICAgICAgICBzZXRMb2NhdGlvblByb21wdFZpc2libGUodHJ1ZSk7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChuZXdUYWIgPT09ICdmZXN0aXZhbCcpIHsKICAgICAgICBzZXRMb2NhdGlvblByb21wdFZpc2libGUoZmFsc2UpOwogICAgfSBlbHNlIHsgCiAgICAgICAgc2V0TG9jYXRpb25Qcm9tcHRWaXNpYmxlKGZhbHNlKTsKICAgICAgICBpZiAoZmVlZHMubmVhcmJ5LnBvc3RzLmxlbmd0aCA9PT0gMCAmJiAhZmVlZHMubmVhcmJ5LmlzTG9hZGluZykgewogICAgICAgICAgICBmZXRjaFBvc3RzKCduZWFyYnknLCAxLCBzb3J0QnksIGxvY2F0aW9uKTsKICAgICAgICB9CiAgICB9CiAgfSwgW3VucmVhZEZhbWlseVBvc3RDb3VudCwgZmVlZHMuZmFtaWx5LnBvc3RzLmxlbmd0aCwgZmVlZHMuZmFtaWx5LmlzTG9hZGluZywgZmV0Y2hQb3N0cywgc29ydEJ5LCBsb2NhdGlvbiwgZmVlZHMubmVhcmJ5LnBvc3RzLmxlbmd0aCwgZmVlZHMubmVhcmJ5LmlzTG9hZGluZ10pOwoKICAvLyBUaGlzIGVmZmVjdCBub3cgb25seSBydW5zIHdoZW4gdGhlIGFjdGl2ZSB0YWIgY2hhbmdlcyBmcm9tIHRoZSBVUkwKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaGFuZGxlVGFiQ2hhbmdlKGFjdGl2ZVRhYik7CiAgfSwgW2FjdGl2ZVRhYiwgaGFuZGxlVGFiQ2hhbmdlXSk7CgogIGNvbnN0IGhhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbiA9IGFzeW5jICgpID0+IHsKICAgIGlmIChub3RpZmljYXRpb25QZXJtaXNzaW9uU3RhdHVzID09PSAnZ3JhbnRlZCcpIHsKICAgICAgdG9hc3QoeyB0aXRsZTogIk5vdGlmaWNhdGlvbnMgRW5hYmxlZCIsIGRlc2NyaXB0aW9uOiAiWW91IGFyZSBhbHJlYWR5IHNldCB1cCB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnMuIiB9KTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKG5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXMgPT09ICdkZW5pZWQnKSB7CiAgICAgICBzZXRTaG93VHJvdWJsZXNob290aW5nRGlhbG9nKHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgc2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvblN0YXR1cygnbG9hZGluZycpOwogICAgCiAgICAvLyBUaGlzIGlzIHRoZSBjb25zb2xpZGF0ZWQgbG9naWMgZm9yIGdldHRpbmcgYSB0b2tlbiBmcm9tIGVpdGhlciB0aGUgV2ViVmlldyBvciBXZWIgUHVzaCBBUEkKICAgIGNvbnN0IGZpcmViYXNlQ29uZmlnID0gewogICAgICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVksCiAgICAgIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLAogICAgICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQsCiAgICAgIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULAogICAgICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCwKICAgICAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCwKICAgIH07CgogICAgY29uc3QgdmFwaWRLZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9WQVBJRF9LRVk7CgogICAgdHJ5IHsKICAgICAgbGV0IHRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDsKICAgICAgLy8gMS4gRmlyc3QsIHRyeSB0aGUgQW5kcm9pZCBXZWJWaWV3IHBhdGgKICAgICAgaWYgKHdpbmRvdy5BbmRyb2lkICYmIHR5cGVvZiB3aW5kb3cuQW5kcm9pZC5nZXRGQ01Ub2tlbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIGNvbnNvbGUubG9nKCJBdHRlbXB0aW5nIHRvIGdldCB0b2tlbiBmcm9tIEFuZHJvaWQgV2ViVmlldy4uLiIpOwogICAgICAgIHRva2VuID0gd2luZG93LkFuZHJvaWQuZ2V0RkNNVG9rZW4oKTsKICAgICAgfQoKICAgICAgLy8gMi4gSWYgbm90IGluIFdlYlZpZXcgb3IgdG9rZW4gaXMgbnVsbCwgZmFsbCBiYWNrIHRvIFdlYiBQdXNoIEFQSQogICAgICBpZiAoIXRva2VuKSB7CiAgICAgICAgY29uc29sZS5sb2coIk5vdCBpbiBXZWJWaWV3IG9yIHRva2VuIG5vdCBmb3VuZCwgZmFsbGluZyBiYWNrIHRvIFdlYiBQdXNoIEFQSS4iKTsKICAgICAgICBpZiAoIXZhcGlkS2V5KSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIldlYiBub3RpZmljYXRpb24ga2V5IGlzIG5vdCBjb25maWd1cmVkIG9uIHRoZSBzZXJ2ZXIuIik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IHBlcm1pc3Npb24gPSBhd2FpdCBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTsKICAgICAgICBpZiAocGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7CiAgICAgICAgICAgIGNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPT09IDAgPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKSA6IGdldEFwcCgpOwogICAgICAgICAgICBjb25zdCBtZXNzYWdpbmcgPSBnZXRNZXNzYWdpbmcoYXBwKTsKICAgICAgICAgICAgdG9rZW4gPSBhd2FpdCBnZXRUb2tlbihtZXNzYWdpbmcsIHsgdmFwaWRLZXkgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJOb3RpZmljYXRpb24gcGVybWlzc2lvbiB3YXMgZGVuaWVkLiIpOwogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgLy8gMy4gSWYgd2UgaGF2ZSBhIHRva2VuIChmcm9tIGVpdGhlciBzb3VyY2UpLCByZWdpc3RlciBpdC4KICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVnaXN0ZXJEZXZpY2VUb2tlbih0b2tlbiwgbG9jYXRpb24/LmxhdGl0dWRlLCBsb2NhdGlvbj8ubG9uZ2l0dWRlKTsKICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICAgIHNldE5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXMoJ2dyYW50ZWQnKTsKICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICJTdWNjZXNzISIsIGRlc2NyaXB0aW9uOiAiWW91IGFyZSBub3cgc2V0IHVwIGZvciBub3RpZmljYXRpb25zLiJ9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAiRmFpbGVkIHRvIHJlZ2lzdGVyIHRva2VuIHdpdGggc2VydmVyLiIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBnZXQgYSBub3RpZmljYXRpb24gdG9rZW4uIFBsZWFzZSB0cnkgYWdhaW4uIik7CiAgICAgIH0KCiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZHVyaW5nIG5vdGlmaWNhdGlvbiByZWdpc3RyYXRpb246IiwgZXJyb3IpOwogICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICJSZWdpc3RyYXRpb24gRmFpbGVkIiwgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfSk7CiAgICAgICAgc2V0U2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZyh0cnVlKTsKICAgICAgICBzZXROb3RpZmljYXRpb25QZXJtaXNzaW9uU3RhdHVzKCdkZW5pZWQnKTsKICAgIH0KICB9OwoKICBjb25zdCByZWZyZXNoRmVlZCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHsKICAgIHNldElzUmVmcmVzaGluZyh0cnVlKTsKICAgIGlmKGFjdGl2ZVRhYiA9PT0gJ3NlcnZpY2VzJykgewogICAgICAgIGF3YWl0IGZldGNoQnVzaW5lc3NlcygxLCBidXNpbmVzc0ZlZWQuY2F0ZWdvcnkpOwogICAgfSBlbHNlIGlmIChhY3RpdmVUYWIgPT09ICdmZXN0aXZhbCcpIHsKICAgICAgICAvLyBNYW5kYWxMaXN0IHdpbGwgaGFuZGxlIGl0cyBvd24gcmVmcmVzaAogICAgfQogICAgIGVsc2UgewogICAgICAgIGlmIChhY3RpdmVUYWIgPT09ICdmYW1pbHknKSB7CiAgICAgICAgICAgIHNldFVucmVhZEZhbWlseVBvc3RDb3VudCgwKTsKICAgICAgICAgICAgbWFya0ZhbWlseUZlZWRBc1JlYWQoKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgZmV0Y2hQb3N0cyhhY3RpdmVUYWIsIDEsIHNvcnRCeSwgbG9jYXRpb24pOwogICAgfQogICAgc2V0SXNSZWZyZXNoaW5nKGZhbHNlKTsKICAgIGlmICh3aW5kb3cpIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pOwogIH0sIFthY3RpdmVUYWIsIGZldGNoUG9zdHMsIHNvcnRCeSwgZmV0Y2hCdXNpbmVzc2VzLCBidXNpbmVzc0ZlZWQuY2F0ZWdvcnksIGxvY2F0aW9uXSk7CiAgCiAgY29uc3QgaGFuZGxlTG9hZE1vcmUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7CiAgICBpZiAoYWN0aXZlVGFiID09PSAnc2VydmljZXMnKSB7CiAgICAgICAgaWYgKGJ1c2luZXNzRmVlZC5pc0xvYWRpbmcgfHwgIWJ1c2luZXNzRmVlZC5oYXNNb3JlKSByZXR1cm47CiAgICAgICAgZmV0Y2hCdXNpbmVzc2VzKGJ1c2luZXNzRmVlZC5wYWdlICsgMSwgYnVzaW5lc3NGZWVkLmNhdGVnb3J5KTsKICAgIH0gZWxzZSBpZiAoYWN0aXZlVGFiID09PSAnZmVzdGl2YWwnKSB7CiAgICAgICAgLy8gTWFuZGFsTGlzdCBoYW5kbGVzIGl0cyBvd24gbG9hZGluZwogICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBjdXJyZW50RmVlZCA9IGZlZWRzW2FjdGl2ZVRhYl07CiAgICAgICAgaWYgKGN1cnJlbnRGZWVkLmlzTG9hZGluZyB8fCAhY3VycmVudEZlZWQuaGFzTW9yZSkgcmV0dXJuOwogICAgICAgIGZldGNoUG9zdHMoYWN0aXZlVGFiLCBjdXJyZW50RmVlZC5wYWdlICsgMSwgc29ydEJ5LCBsb2NhdGlvbik7CiAgICB9CiAgfSwgW2ZlZWRzLCBhY3RpdmVUYWIsIGZldGNoUG9zdHMsIHNvcnRCeSwgYnVzaW5lc3NGZWVkLCBmZXRjaEJ1c2luZXNzZXMsIGxvY2F0aW9uXSk7CgogIGNvbnN0IG9ic2VydmVyID0gdXNlUmVmPEludGVyc2VjdGlvbk9ic2VydmVyPigpOwogIGNvbnN0IGxvYWRlclJlZiA9IHVzZUNhbGxiYWNrKChub2RlOiBIVE1MRGl2RWxlbWVudCB8IG51bGwpID0+IHsKICAgIGxldCBpc0xvYWRpbmcgPSBmYWxzZTsKICAgIGxldCBoYXNNb3JlID0gZmFsc2U7CgogICAgaWYgKGFjdGl2ZVRhYiA9PT0gJ3NlcnZpY2VzJykgewogICAgICAgIGlzTG9hZGluZyA9IGJ1c2luZXNzRmVlZC5pc0xvYWRpbmc7CiAgICAgICAgaGFzTW9yZSA9IGJ1c2luZXNzRmVlZC5oYXNNb3JlOwogICAgfSBlbHNlIGlmIChhY3RpdmVUYWIgIT09ICdmZXN0aXZhbCcpIHsKICAgICAgICBpc0xvYWRpbmcgPSBmZWVkc1thY3RpdmVUYWJdLmlzTG9hZGluZzsKICAgICAgICBoYXNNb3JlID0gZmVlZHNbYWN0aXZlVGFiXS5oYXNNb3JlOwogICAgfQogICAgCiAgICBpZiAoaXNMb2FkaW5nKSByZXR1cm47CiAgICBpZiAob2JzZXJ2ZXIuY3VycmVudCkgb2JzZXJ2ZXIuY3VycmVudC5kaXNjb25uZWN0KCk7CgogICAgb2JzZXJ2ZXIuY3VycmVudCA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHsKICAgICAgaWYgKGVudHJpZXNbMF0uaXNJbnRlcnNlY3RpbmcgJiYgaGFzTW9yZSkgewogICAgICAgIGhhbmRsZUxvYWRNb3JlKCk7CiAgICAgIH0KICAgIH0pOwoKICAgIGlmIChub2RlKSBvYnNlcnZlci5jdXJyZW50Lm9ic2VydmUobm9kZSk7CiAgfSwgW2FjdGl2ZVRhYiwgYnVzaW5lc3NGZWVkLmlzTG9hZGluZywgYnVzaW5lc3NGZWVkLmhhc01vcmUsIGZlZWRzLCBoYW5kbGVMb2FkTW9yZV0pOwoKICBjb25zdCBzd2lwZUhhbmRsZXJzID0gdXNlU3dpcGVhYmxlKHsKICAgIG9uU3dpcGVkRG93bjogKCkgPT4gewogICAgICBpZiAod2luZG93LnNjcm9sbFkgPT09IDApIHJlZnJlc2hGZWVkKCk7CiAgICB9LAogICAgdHJhY2tNb3VzZTogdHJ1ZSwKICB9KTsKCiAgY29uc3QgaGFuZGxlU29ydENoYW5nZSA9IChuZXdTb3J0Qnk6IFNvcnRPcHRpb24pID0+IHsKICAgIGlmIChuZXdTb3J0QnkgPT09IHNvcnRCeSkgcmV0dXJuOwogICAgc2V0U29ydEJ5KG5ld1NvcnRCeSk7CiAgICBpZihhY3RpdmVUYWIgIT09ICdzZXJ2aWNlcycgJiYgYWN0aXZlVGFiICE9PSAnZmVzdGl2YWwnKSB7CiAgICAgICAgZmV0Y2hQb3N0cyhhY3RpdmVUYWIsIDEsIG5ld1NvcnRCeSwgbG9jYXRpb24pOwogICAgfQogIH07CiAgCiAgY29uc3QgaGFuZGxlUmFkaXVzQ2hhbmdlID0gKG5ld1JhZGl1czogbnVtYmVyKSA9PiB7CiAgICBzZXRSYWRpdXNLbShuZXdSYWRpdXMpOwogICAgZmV0Y2hCdXNpbmVzc2VzKDEsIGJ1c2luZXNzRmVlZC5jYXRlZ29yeSk7CiAgfQoKICBjb25zdCByZW5kZXJTZXJ2aWNlQ2F0ZWdvcmllcyA9ICgpID0+ICgKICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTYiPgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1wcmltYXJ5IHRyYWNraW5nLXRpZ2h0Ij5TZWxlY3QgYSBTZXJ2aWNlPC9oMj4KICAgICAgICAgICAge3Nlc3Npb25Vc2VyICYmICgKICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPSIvYWNjb3VudC9teS1ib29raW5ncyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhckNoZWNrIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPiBNeSBCb29raW5ncwogICAgICAgICAgICAgICAgICAgIDwvTGluaz4KICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJncmlkIGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0yIGdhcC00Ij4KICAgICAgICAgICAgPENhcmQgb25DbGljaz17KCkgPT4geyBzZXRTZWxlY3RlZFNlcnZpY2UoJ1NhbG9vbiAvIEJhcmJlciBTaG9wJyk7IGZldGNoQnVzaW5lc3NlcygxLCAnU2Fsb29uIC8gQmFyYmVyIFNob3AnKTsgfX0gY2xhc3NOYW1lPSJwLTYgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1jZW50ZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6c2hhZG93LXByaW1hcnkvMjAgaG92ZXI6Ym9yZGVyLXByaW1hcnkvNTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIj4KICAgICAgICAgICAgICAgIDxTY2lzc29ycyBjbGFzc05hbWU9ImgtMTIgdy0xMiB0ZXh0LWFjY2VudCBtYi0zIi8+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1sZyI+U2Fsb29uPC9wPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+SGFpcmN1dHMsIFNoYXZpbmcsIFN0eWxpbmc8L3A+CiAgICAgICAgICAgIDwvQ2FyZD4KICAgICAgICAgICAgPENhcmQgb25DbGljaz17KCkgPT4geyBzZXRTZWxlY3RlZFNlcnZpY2UoJ0Nhci9CaWtlIFdhc2hpbmcnKTsgZmV0Y2hCdXNpbmVzc2VzKDEsICdDYXIvQmlrZSBXYXNoaW5nJyk7IH19IGNsYXNzTmFtZT0icC02IGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtY2VudGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOnNoYWRvdy1wcmltYXJ5LzIwIGhvdmVyOmJvcmRlci1wcmltYXJ5LzUwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCI+CiAgICAgICAgICAgICAgICA8V2luZCBjbGFzc05hbWU9ImgtMTIgdy0xMiB0ZXh0LWFjY2VudCBtYi0zIi8+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1sZyI+Q2FyL0Jpa2UgV2FzaGluZzwvcD4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPkNsZWFuaW5nLCBQb2xpc2hpbmcsIERldGFpbGluZzwvcD4KICAgICAgICAgICAgPC9DYXJkPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKCiAgY29uc3QgcmVuZGVyRmVlZENvbnRlbnQgPSAoKSA9PiB7CiAgICBpZiAoYWN0aXZlVGFiID09PSAnZmVzdGl2YWwnKSB7CiAgICAgICAgcmV0dXJuIDxNYW5kYWxMaXN0IHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0gdXNlckxvY2F0aW9uPXtsb2NhdGlvbn0gLz47CiAgICB9CgogICAgaWYgKGFjdGl2ZVRhYiA9PT0gJ3NlcnZpY2VzJykgewogICAgICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlKSB7CiAgICAgICAgICAgIHJldHVybiByZW5kZXJTZXJ2aWNlQ2F0ZWdvcmllcygpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGxvY2F0aW9uUHJvbXB0VmlzaWJsZSkgewogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS0xNiByb3VuZGVkLXhsIHNoYWRvdy14bCBib3JkZXIgYm9yZGVyLWJvcmRlci80MCBiZy1jYXJkLzgwIGJhY2tkcm9wLWJsdXItc20iPgogICAgICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9ImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPExvY2F0ZUZpeGVkIGNsYXNzTmFtZT0ibXgtYXV0byBoLTIwIHctMjAgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzMwIG1iLTYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC0yeGwgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZvbnQtc2VtaWJvbGQiPkxvY2F0aW9uIE5lZWRlZDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LW1kIHRleHQtbXV0ZWQtZm9yZWdyb3VuZC84MCBtdC0yIG1heC13LXNtIj5UbyBmaW5kIGJ1c2luZXNzZXMgbmVhciB5b3UsIHdlIG5lZWQgYWNjZXNzIHRvIHlvdXIgbG9jYXRpb24uPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3JlcXVlc3RMb2NhdGlvbn0gZGlzYWJsZWQ9e2lzRmV0Y2hpbmdMb2NhdGlvbn0gY2xhc3NOYW1lPSJtdC02Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0ZldGNoaW5nTG9jYXRpb24gPyA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+IDogPExvY2F0ZUZpeGVkIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0ZldGNoaW5nTG9jYXRpb24gPyAnRmluZGluZyBZb3UuLi4nIDogJ0dyYW50IExvY2F0aW9uIEFjY2Vzcyd9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIChidXNpbmVzc0ZlZWQuaXNMb2FkaW5nICYmIGJ1c2luZXNzRmVlZC5wYWdlID09PSAxKSB7CiAgICAgICAgICAgIHJldHVybiA8UG9zdEZlZWRTa2VsZXRvbiAvPjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNiI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTIiPgogICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0iZ2hvc3QiIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkU2VydmljZShudWxsKX0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQiLz4KICAgICAgICAgICAgICAgICAgICAgICAgQmFjayB0byBTZXJ2aWNlcwogICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0ic20iIGNsYXNzTmFtZT0iaC05IHNoYWRvdy1zbSIgYXNDaGlsZD4KICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9Ii9tYXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8TWFwIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00Ii8+IE1hcCBWaWV3CiAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+CiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICB7YnVzaW5lc3NGZWVkLmJ1c2luZXNzZXMubWFwKChidXNpbmVzcykgPT4gKAogICAgICAgICAgICAgICAgICAgIDxCdXNpbmVzc0NhcmQga2V5PXtgZGItJHtidXNpbmVzcy5pZH1gfSBidXNpbmVzcz17YnVzaW5lc3N9IHVzZXJMb2NhdGlvbj17bG9jYXRpb259IHNlc3Npb25Vc2VyPXtzZXNzaW9uVXNlcn0vPgogICAgICAgICAgICAgICAgKSl9CgogICAgICAgICAgICAgICAgeyFidXNpbmVzc0ZlZWQuaXNMb2FkaW5nICYmIGJ1c2luZXNzRmVlZC5idXNpbmVzc2VzLmxlbmd0aCA9PT0gMCAmJiAoCiAgICAgICAgICAgICAgICAgICAgPE5vUG9zdHNDb250ZW50IGZlZWRUeXBlPSdzZXJ2aWNlcycgcmFkaXVzS209e3JhZGl1c0ttfSBvblJhZGl1c0NoYW5nZT17aGFuZGxlUmFkaXVzQ2hhbmdlfSBjYXRlZ29yeT17YnVzaW5lc3NGZWVkLmNhdGVnb3J5fSAvPgogICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAge2J1c2luZXNzRmVlZC5oYXNNb3JlICYmIDxkaXYgcmVmPXtsb2FkZXJSZWZ9IGNsYXNzTmFtZT0iaC0xIHctZnVsbCIgLz59CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHtidXNpbmVzc0ZlZWQuaXNMb2FkaW5nICYmIGJ1c2luZXNzRmVlZC5wYWdlID4gMSAmJiAoCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHB5LTYiPgogICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9ImgtOCB3LTggYW5pbWF0ZS1zcGluIHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICk7CiAgICB9CiAgICAKICAgIGNvbnN0IGZlZWQgPSBmZWVkc1thY3RpdmVUYWJdOwogICAgaWYgKChmZWVkLmlzTG9hZGluZyAmJiBmZWVkLnBvc3RzLmxlbmd0aCA9PT0gMCkgfHwgaXNSZWZyZXNoaW5nKSB7CiAgICAgIHJldHVybiA8UG9zdEZlZWRTa2VsZXRvbiAvPjsKICAgIH0KICAgIAogICAgcmV0dXJuICgKICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNiI+CiAgICAgICAge2FjdGl2ZVRhYiA9PT0gJ25lYXJieScgJiYgKAogICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXByaW1hcnkvMTAgdHJhbnNpdGlvbi1zaGFkb3cgZHVyYXRpb24tMzAwIGJnLWJsdWUtNTAwLzUgYm9yZGVyLWJsdWUtNTAwLzIwIj4KICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0icC00Ij4KICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9Ii8/dGFiPXNlcnZpY2VzIiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC00Ij4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InAtMiBiZy1wcmltYXJ5LzEwIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItcHJpbWFyeS8yMCI+CiAgICAgICAgICAgICAgICAgICAgICA8SGFuZFBsYXR0ZXIgY2xhc3NOYW1lPSJoLTYgdy02IHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0iZm9udC1ib2xkIHRleHQtcHJpbWFyeSI+TG9jYWwgU2VydmljZXM8L2gzPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPk5lZWQgYSBzYWxvbiBvciBjYXIgd2FzaD8gQm9vayBub3chPC9wPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvTGluaz4KICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICAgIDwvQ2FyZD4KICAgICAgICApfQogICAgICAgIHtmZWVkLnBvc3RzLmxlbmd0aCA+IDAgPyAoCiAgICAgICAgICBmZWVkLnBvc3RzLm1hcCgocG9zdCwgaW5kZXgpID0+ICgKICAgICAgICAgICAgPFBvc3RDYXJkIGtleT17cG9zdC5pZH0gcG9zdD17cG9zdH0gdXNlckxvY2F0aW9uPXtsb2NhdGlvbn0gc2Vzc2lvblVzZXI9e3Nlc3Npb25Vc2VyfSBpc0ZpcnN0PXtpbmRleCA9PT0gMH0gLz4KICAgICAgICAgICkpCiAgICAgICAgKSA6ICgKICAgICAgICAgIDxOb1Bvc3RzQ29udGVudCBmZWVkVHlwZT17YWN0aXZlVGFifSAvPgogICAgICAgICl9CiAgICAgICAge2ZlZWQuaGFzTW9yZSAmJiA8ZGl2IHJlZj17bG9hZGVyUmVmfSBjbGFzc05hbWU9ImgtMSB3LWZ1bGwiIC8+fQogICAgICAgIHtmZWVkLmlzTG9hZGluZyAmJiBmZWVkLnBvc3RzLmxlbmd0aCA+IDAgJiYgKAogICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHB5LTYiPgogICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9ImgtOCB3LTggYW5pbWF0ZS1zcGluIHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgIDwvZGl2PgogICAgICAgICl9CiAgICAgIDwvZGl2PgogICAgKTsKICB9OwoKICBjb25zdCBUQUJTID0gWwogICAgICB7IGtleTogIm5lYXJieSIsIGxhYmVsOiAiTmVhcmJ5IiB9LAogICAgICB7IGtleTogImZlc3RpdmFsIiwgbGFiZWw6ICJGZXN0aXZhbCIgfSwKICAgICAgLi4uKHNlc3Npb25Vc2VyID8gW3sga2V5OiAiZmFtaWx5IiwgbGFiZWw6ICJGYW1pbHkiLCBiYWRnZTogdW5yZWFkRmFtaWx5UG9zdENvdW50IH1dIDogW10pLAogICAgICB7IGtleTogInNlcnZpY2VzIiwgbGFiZWw6ICJTZXJ2aWNlcyIgfSwKICBdOwoKICByZXR1cm4gKAogICAgPGRpdiB7Li4uc3dpcGVIYW5kbGVyc30+CiAgICAgICA8QWxlcnREaWFsb2cgb3Blbj17c2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZ30gb25PcGVuQ2hhbmdlPXtzZXRTaG93VHJvdWJsZXNob290aW5nRGlhbG9nfT4KICAgICAgICA8QWxlcnREaWFsb2dDb250ZW50PgogICAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgICA8QWxlcnREaWFsb2dUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9InctNSBoLTUgbXItMiB0ZXh0LWRlc3RydWN0aXZlIiAvPgogICAgICAgICAgICAgIEVuYWJsZSBCYWNrZ3JvdW5kIE5vdGlmaWNhdGlvbnMKICAgICAgICAgICAgPC9BbGVydERpYWxvZ1RpdGxlPgogICAgICAgICAgICA8QWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIHRleHQtbGVmdCBwdC0yIHRleHQtZm9yZWdyb3VuZC84MCI+CiAgICAgICAgICAgICAgICA8cD5UbyByZWNlaXZlIG5vdGlmaWNhdGlvbnMgcmVsaWFibHkgb24geW91ciBkZXZpY2UsIHBsZWFzZSBlbmFibGUgdGhlc2UgdHdvIHNldHRpbmdzIGZvciB0aGUgTG9jYWxQdWxzZSBhcHA6PC9wPgogICAgICAgICAgICAgICAgPG9sIGNsYXNzTmFtZT0ibGlzdC1kZWNpbWFsIGxpc3QtaW5zaWRlIHNwYWNlLXktMiBmb250LW1lZGl1bSBiZy1tdXRlZCBwLTMgcm91bmRlZC1tZCBib3JkZXIiPgogICAgICAgICAgICAgICAgICAgIDxsaT48c3BhbiBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQiPkVuYWJsZSAiQXV0b3N0YXJ0Ijwvc3Bhbj4gKG9yICJBdXRvLWxhdW5jaCIpLjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCI+U2V0IEJhdHRlcnkgU2F2ZXIgdG8gIk5vIHJlc3RyaWN0aW9ucyI8L3NwYW4+LjwvbGk+CiAgICAgICAgICAgICAgICA8L29sPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBwdC0xIj4KICAgICAgICAgICAgICAgICAgICBUaGVzZSBvcHRpb25zIGFyZSB1c3VhbGx5IGZvdW5kIGluIHlvdXIgcGhvbmUncyBTZXR0aW5ncyBhcHAgdW5kZXIgIkFwcHMiIG9yICJTZWN1cml0eSIuIFVuZm9ydHVuYXRlbHksIHdlIGNhbm5vdCBvcGVuIHRoaXMgcGFnZSBmb3IgeW91IGF1dG9tYXRpY2FsbHkuCiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgIDwvQWxlcnREaWFsb2dIZWFkZXI+CiAgICAgICAgICA8QWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5JJ2xsIGNoZWNrIGxhdGVyPC9BbGVydERpYWxvZ0NhbmNlbD4KICAgICAgICAgICAgPEFsZXJ0RGlhbG9nQWN0aW9uIG9uQ2xpY2s9eygpID0+IHsgc2V0U2hvd1Ryb3VibGVzaG9vdGluZ0RpYWxvZyhmYWxzZSk7IGhhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbigpOyB9fT5JJ3ZlIGNoZWNrZWQsIFRyeSBBZ2FpbjwvQWxlcnREaWFsb2dBY3Rpb24+CiAgICAgICAgICA8L0FsZXJ0RGlhbG9nRm9vdGVyPgogICAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PgogICAgICA8L0FsZXJ0RGlhbG9nPgoKICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00IGZsZXgtd3JhcCBnYXAtMiI+CiAgICAgICAgICAgIDxFcXVhbFdpZHRoVGFicwogICAgICAgICAgICAgICAgdGFicz17VEFCU30KICAgICAgICAgICAgICAgIHBhcmFtPSJ0YWIiCiAgICAgICAgICAgICAgICBhY3RpdmVLZXk9e2FjdGl2ZVRhYn0KICAgICAgICAgICAgLz4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KICAgICAgICAgICAgICB7YWN0aXZlVGFiID09PSAnc2VydmljZXMnICYmIHNlbGVjdGVkU2VydmljZSAmJiAoCiAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51PgogICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51VHJpZ2dlciBhc0NoaWxkPgogICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ib3V0bGluZSIgc2l6ZT0ic20iIGNsYXNzTmFtZT0iaC05IHNoYWRvdy1zbSI+CiAgICAgICAgICAgICAgICAgICAgICA8RmlsdGVyIGNsYXNzTmFtZT0idy00IGgtNCBtci0yIiAvPgogICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3JhZGl1c0ttfSBrbTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVUcmlnZ2VyPgogICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBhbGlnbj0iZW5kIj4KICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51TGFiZWw+U2VhcmNoIFJhZGl1czwvRHJvcGRvd25NZW51TGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVJhZGlvR3JvdXAgdmFsdWU9e1N0cmluZyhyYWRpdXNLbSl9IG9uVmFsdWVDaGFuZ2U9eyh2KSA9PiBoYW5kbGVSYWRpdXNDaGFuZ2UoTnVtYmVyKHYpKX0+CiAgICAgICAgICAgICAgICAgICAgICB7WzUsIDEwLCAxNSwgMzBdLm1hcChyID0+IDxEcm9wZG93bk1lbnVSYWRpb0l0ZW0ga2V5PXtyfSB2YWx1ZT17U3RyaW5nKHIpfT57cn0ga208L0Ryb3Bkb3duTWVudVJhZGlvSXRlbT4pfQogICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51UmFkaW9Hcm91cD4KICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PgogICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnU+CiAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICB7YWN0aXZlVGFiICE9PSAnc2VydmljZXMnICYmIGFjdGl2ZVRhYiAhPT0gJ2Zlc3RpdmFsJyA/ICgKICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnU+CiAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PSJvdXRsaW5lIiBzaXplPSJzbSIgY2xhc3NOYW1lPSJoLTkgc2hhZG93LXNtIj4KICAgICAgICAgICAgICAgICAgICAgIDxGaWx0ZXIgY2xhc3NOYW1lPSJ3LTQgaC00IG1yLTIiIC8+CiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Tb3J0PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+CiAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVDb250ZW50IGFsaWduPSJlbmQiPgogICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVMYWJlbD5Tb3J0IEJ5PC9Ecm9wZG93bk1lbnVMYWJlbD4KICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51U2VwYXJhdG9yIC8+CiAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVJhZGlvR3JvdXAgdmFsdWU9e3NvcnRCeX0gb25WYWx1ZUNoYW5nZT17KHYpID0+IGhhbmRsZVNvcnRDaGFuZ2UodiBhcyBTb3J0T3B0aW9uKX0+CiAgICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51UmFkaW9JdGVtIHZhbHVlPSJuZWFyYnkiPk5lYXJieTwvRHJvcGRvd25NZW51UmFkaW9JdGVtPgogICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVJhZGlvSXRlbSB2YWx1ZT0ibmV3ZXN0Ij5OZXdlc3Q8L0Ryb3Bkb3duTWVudVJhZGlvSXRlbT4KICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVSYWRpb0l0ZW0gdmFsdWU9Imxpa2VzIj5Nb3N0IFBvcHVsYXI8L0Ryb3Bkb3duTWVudVJhZGlvSXRlbT4KICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVSYWRpb0l0ZW0gdmFsdWU9ImNvbW1lbnRzIj5Nb3N0IERpc2N1c3NlZDwvRHJvcGRvd25NZW51UmFkaW9JdGVtPgogICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51UmFkaW9Hcm91cD4KICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PgogICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnU+CiAgICAgICAgICAgICAgKSA6IG51bGx9CgogICAgICAgICAgICAgIDxCdXR0b24KICAgICAgICAgICAgICAgICAgdmFyaWFudD0ib3V0bGluZSIKICAgICAgICAgICAgICAgICAgc2l6ZT0iaWNvbiIKICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJoLTkgdy05IHNoYWRvdy1zbSIKICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9ufQogICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bm90aWZpY2F0aW9uUGVybWlzc2lvblN0YXR1cyA9PT0gJ2xvYWRpbmcnfQogICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPSJUb2dnbGUgTm90aWZpY2F0aW9ucyIKICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgIDxOb3RpZmljYXRpb25CdXR0b25Db250ZW50IG5vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXM9e25vdGlmaWNhdGlvblBlcm1pc3Npb25TdGF0dXN9IC8+CiAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtdC00Ij4KICAgICAgICAgIHtyZW5kZXJGZWVkQ29udGVudCgpfQogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFBvc3RGZWVkQ2xpZW50Ow==' | base64 -d > /root/localpulse/src/app/admin/(authed)/seeding/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)/settings
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0JzsKaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwnOwppbXBvcnQgeyBTd2l0Y2ggfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc3dpdGNoJzsKaW1wb3J0IHsgU2F2ZSwgQmVsbCwgU2hpZWxkIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKCmNvbnN0IEFkbWluU2V0dGluZ3NQYWdlOiBGQyA9ICgpID0+IHsKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTggbWF4LXctM3hsIG14LWF1dG8iPgogICAgICA8aGVhZGVyPgogICAgICAgIDxoMSBjbGFzc05hbWU9InRleHQtNHhsIGZvbnQtYm9sZCB0cmFja2luZy10aWdodCB0ZXh0LWZvcmVncm91bmQiPkFkbWluIFNldHRpbmdzPC9oMT4KICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbGcgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5Db25maWd1cmUgZ2VuZXJhbCBhcHBsaWNhdGlvbiBzZXR0aW5ncy48L3A+CiAgICAgIDwvaGVhZGVyPgoKICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGciPgogICAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgPFNoaWVsZCBjbGFzc05hbWU9Im1yLTIgaC02IHctNiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgIEdlbmVyYWwgU2V0dGluZ3MKICAgICAgICAgIDwvQ2FyZFRpdGxlPgogICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5Nb2RpZnkgY29yZSBhcHBsaWNhdGlvbiBwYXJhbWV0ZXJzLjwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSJzcGFjZS15LTYiPgogICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMiI+CiAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPSJzaXRlTmFtZSI+U2l0ZSBOYW1lPC9MYWJlbD4KICAgICAgICAgICAgPElucHV0IGlkPSJzaXRlTmFtZSIgZGVmYXVsdFZhbHVlPSJMb2NhbFB1bHNlIiAvPgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5UaGUgcHVibGljIG5hbWUgb2YgeW91ciBhcHBsaWNhdGlvbi48L3A+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9Im1heFBvc3RMZW5ndGgiPk1heGltdW0gUG9zdCBMZW5ndGg8L0xhYmVsPgogICAgICAgICAgICA8SW5wdXQgaWQ9Im1heFBvc3RMZW5ndGgiIHR5cGU9Im51bWJlciIgZGVmYXVsdFZhbHVlPXsyODB9IC8+CiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlRoZSBtYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIGFsbG93ZWQgaW4gYSB1c2VyIHBvc3QuPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICAKICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC1sZyBib3JkZXIgcC00Ij4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMC41Ij4KICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0ibWFpbnRlbmFuY2VNb2RlIiBjbGFzc05hbWU9InRleHQtYmFzZSI+TWFpbnRlbmFuY2UgTW9kZTwvTGFiZWw+CiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICBUZW1wb3JhcmlseSBkaXNhYmxlIGFjY2VzcyB0byB0aGUgc2l0ZSBmb3IgdXNlcnMuCiAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPFN3aXRjaCBpZD0ibWFpbnRlbmFuY2VNb2RlIiAvPgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC1sZyBib3JkZXIgcC00Ij4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMC41Ij4KICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0iYWxsb3dHdWVzdENvbW1lbnRzIiBjbGFzc05hbWU9InRleHQtYmFzZSI+QWxsb3cgR3Vlc3QgQ29tbWVudHM8L0xhYmVsPgogICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgRW5hYmxlIG9yIGRpc2FibGUgY29tbWVudGluZyBmb3Igbm9uLXJlZ2lzdGVyZWQgdXNlcnMuCiAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPFN3aXRjaCBpZD0iYWxsb3dHdWVzdENvbW1lbnRzIiBkZWZhdWx0Q2hlY2tlZD17dHJ1ZX0vPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICAKICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPSJ3LWZ1bGwgc206dy1hdXRvIj4KICAgICAgICAgICAgPFNhdmUgY2xhc3NOYW1lPSJtci0yIGgtNSB3LTUiIC8+CiAgICAgICAgICAgIFNhdmUgU2V0dGluZ3MKICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgIDwvQ2FyZD4KCiAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIj4KICAgICAgICA8Q2FyZEhlYWRlcj4KICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgIDxCZWxsIGNsYXNzTmFtZT0ibXItMiBoLTYgdy02IHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgTm90aWZpY2F0aW9uIFNldHRpbmdzCiAgICAgICAgICA8L0NhcmRUaXRsZT4KICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+Q29uZmlndXJlIGFkbWluIGVtYWlsIG5vdGlmaWNhdGlvbnMgKFBsYWNlaG9sZGVyKS48L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0ic3BhY2UteS00Ij4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0iYWRtaW5FbWFpbCI+QWRtaW4gTm90aWZpY2F0aW9uIEVtYWlsPC9MYWJlbD4KICAgICAgICAgICAgPElucHV0IGlkPSJhZG1pbkVtYWlsIiB0eXBlPSJlbWFpbCIgcGxhY2Vob2xkZXI9ImFkbWluQGV4YW1wbGUuY29tIiAvPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiI+CiAgICAgICAgICAgIDxTd2l0Y2ggaWQ9Im5ld1Bvc3ROb3RpZmljYXRpb24iIC8+CiAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPSJuZXdQb3N0Tm90aWZpY2F0aW9uIj5Ob3RpZnkgb24gbmV3IHBvc3RzPC9MYWJlbD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIiPgogICAgICAgICAgICA8U3dpdGNoIGlkPSJuZXdVc2VyTm90aWZpY2F0aW9uIiAvPgogICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0ibmV3VXNlck5vdGlmaWNhdGlvbiI+Tm90aWZ5IG9uIG5ldyB1c2VyIHJlZ2lzdHJhdGlvbjwvTGFiZWw+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPSJ3LWZ1bGwgc206dy1hdXRvIiB2YXJpYW50PSJvdXRsaW5lIj4KICAgICAgICAgICAgVXBkYXRlIE5vdGlmaWNhdGlvbiBTZXR0aW5ncwogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgPC9DYXJkPgoKICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBZG1pblNldHRpbmdzUGFnZTsK' | base64 -d > /root/localpulse/src/app/admin/(authed)/settings/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/settings
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGdldEFwcFNldHRpbmdEYiwgc2V0QXBwU2V0dGluZ0RiIH0gZnJvbSAnQC9saWIvZGInOwppbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gJ25leHQvY2FjaGUnOwoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwcFNldHRpbmcoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGF3YWl0IGdldEFwcFNldHRpbmdEYihrZXkpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZ2V0IGFwcCBzZXR0aW5nIGZvciBrZXkgIiR7a2V5fSI6YCwgZXJyb3IpOwogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0QXBwU2V0dGluZyhrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgICB0cnkgewogICAgICAgIGF3YWl0IHNldEFwcFNldHRpbmdEYihrZXksIHZhbHVlKTsKICAgICAgICByZXZhbGlkYXRlUGF0aCgnL2FkbWluL3NldHRpbmdzJyk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogICAgfSBjYXRjaCAoZXJyb3I6IGFueSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBzZXQgYXBwIHNldHRpbmcgZm9yIGtleSAiJHtrZXl9IjpgLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07CiAgICB9Cn0K' | base64 -d > /root/localpulse/src/app/admin/(authed)/settings/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)/approvals
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgVXNlckNoZWNrIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKCgpjb25zdCBBZG1pbkFwcHJvdmFsc1BhZ2U6IEZDID0gYXN5bmMgKCkgPT4gewoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktOCI+CiAgICAgIDxoZWFkZXI+CiAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC00eGwgZm9udC1ib2xkIHRyYWNraW5nLXRpZ2h0IHRleHQtZm9yZWdyb3VuZCI+VXNlciBBcHByb3ZhbHM8L2gxPgogICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1sZyB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlRoaXMgcGFnZSBpcyBubyBsb25nZXIgdXNlZC4gQWxsIHVzZXJzIGFyZSBub3cgYXV0by1hcHByb3ZlZCB1cG9uIGVtYWlsIHZlcmlmaWNhdGlvbi48L3A+CiAgICAgIDwvaGVhZGVyPgogICAgICAKICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGciPgogICAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgICAgPENhcmRUaXRsZT5NYW51YWwgQXBwcm92YWxzPC9DYXJkVGl0bGU+CiAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICBUaGVyZSBhcmUgbm8gdXNlcnMgYXdhaXRpbmcgbWFudWFsIGFwcHJvdmFsLgogICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgIDxDYXJkQ29udGVudD4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtY2VudGVyIHB5LTEyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+CiAgICAgICAgICAgICAgICA8VXNlckNoZWNrIGNsYXNzTmFtZT0ibXgtYXV0byBoLTE2IHctMTYgbWItNCBvcGFjaXR5LTUwIiAvPgogICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LWxnIj5BbGwgY2xlYXIhIE5vIHBlbmRpbmcgYXBwcm92YWxzLjwvcD4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSI+TmV3IHVzZXJzIGNhbiBub3cgbG9nIGluIGltbWVkaWF0ZWx5IGFmdGVyIHZlcmlmeWluZyB0aGVpciBlbWFpbC48L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgIDwvQ2FyZD4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBZG1pbkFwcHJvdmFsc1BhZ2U7Cg==' | base64 -d > /root/localpulse/src/app/admin/(authed)/approvals/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/approvals
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGdldFBlbmRpbmdVc2Vyc0RiLCB1cGRhdGVVc2VyU3RhdHVzRGIgfSBmcm9tICdAL2xpYi9kYic7CmltcG9ydCB0eXBlIHsgVXNlciB9IGZyb20gJ0AvbGliL2RiLXR5cGVzJzsKaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJzsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQZW5kaW5nVXNlcnMoKTogUHJvbWlzZTxVc2VyW10+IHsKICB0cnkgewogICAgcmV0dXJuIGF3YWl0IGdldFBlbmRpbmdVc2Vyc0RiKCk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBlbmRpbmcgdXNlcnM6JywgZXJyb3IpOwogICAgcmV0dXJuIFtdOwogIH0KfQoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcHJvdmVVc2VyKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICB0cnkgewogICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1cGRhdGVVc2VyU3RhdHVzRGIodXNlcklkLCAnYXBwcm92ZWQnKTsKICAgIGlmICh1cGRhdGVkVXNlcikgewogICAgICByZXZhbGlkYXRlUGF0aCgnL2FkbWluL3VzZXJzJyk7CiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgIH0KICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VzZXIgbm90IGZvdW5kLicgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RVc2VyKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICB0cnkgewogICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1cGRhdGVVc2VyU3RhdHVzRGIodXNlcklkLCAncmVqZWN0ZWQnKTsKICAgIGlmICh1cGRhdGVkVXNlcikgewogICAgICByZXZhbGlkYXRlUGF0aCgnL2FkbWluL3VzZXJzJyk7CiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsKICAgIH0KICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VzZXIgbm90IGZvdW5kLicgfTsKICB9IGNhdGNoIChlcnJvcjogYW55KSB7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTsKICB9Cn0K' | base64 -d > /root/localpulse/src/app/admin/(authed)/approvals/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)/notifications
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IHNlbmRMcFBvaW50c05vdGlmaWNhdGlvbiB9IGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCB7IExvYWRlcjIsIFNlbmQgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgewogIEFsZXJ0RGlhbG9nLAogIEFsZXJ0RGlhbG9nQWN0aW9uLAogIEFsZXJ0RGlhbG9nQ2FuY2VsLAogIEFsZXJ0RGlhbG9nQ29udGVudCwKICBBbGVydERpYWxvZ0Rlc2NyaXB0aW9uLAogIEFsZXJ0RGlhbG9nRm9vdGVyLAogIEFsZXJ0RGlhbG9nSGVhZGVyLAogIEFsZXJ0RGlhbG9nVGl0bGUsCiAgQWxlcnREaWFsb2dUcmlnZ2VyLAp9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydC1kaWFsb2cnOwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VuZE5vdGlmaWNhdGlvbkJ1dHRvbigpIHsKICBjb25zdCBbaXNQZW5kaW5nLCBzdGFydFRyYW5zaXRpb25dID0gdXNlVHJhbnNpdGlvbigpOwogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CgogIGNvbnN0IGhhbmRsZVNlbmQgPSAoKSA9PiB7CiAgICBzdGFydFRyYW5zaXRpb24oYXN5bmMgKCkgPT4gewogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kTHBQb2ludHNOb3RpZmljYXRpb24oKTsKICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgdGl0bGU6ICdOb3RpZmljYXRpb25zIFNlbnQhJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiBgU3VjY2Vzc2Z1bGx5IHNlbnQgJHtyZXN1bHQuc3VjY2Vzc0NvdW50fSBub3RpZmljYXRpb25zLiAke3Jlc3VsdC5mYWlsdXJlQ291bnR9IGZhaWxlZC5gLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsCiAgICAgICAgICB0aXRsZTogJ0FjdGlvbiBGYWlsZWQnLAogICAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciwKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxBbGVydERpYWxvZz4KICAgICAgPEFsZXJ0RGlhbG9nVHJpZ2dlciBhc0NoaWxkPgogICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPSJ3LWZ1bGwgc206dy1hdXRvIiBkaXNhYmxlZD17aXNQZW5kaW5nfT4KICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgU2VuZCBMUCBQb2ludHMgTm90aWZpY2F0aW9uCiAgICAgICAgPC9CdXR0b24+CiAgICAgIDwvQWxlcnREaWFsb2dUcmlnZ2VyPgogICAgICA8QWxlcnREaWFsb2dDb250ZW50PgogICAgICAgIDxBbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICAgIDxBbGVydERpYWxvZ1RpdGxlPkFyZSB5b3Ugc3VyZT88L0FsZXJ0RGlhbG9nVGl0bGU+CiAgICAgICAgICA8QWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgVGhpcyB3aWxsIHNlbmQgYSBwdXNoIG5vdGlmaWNhdGlvbiB0byBhbGwgdXNlcnMgd2l0aCByZWdpc3RlcmVkIGRldmljZXMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuCiAgICAgICAgICA8L0FsZXJ0RGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgPC9BbGVydERpYWxvZ0hlYWRlcj4KICAgICAgICA8QWxlcnREaWFsb2dGb290ZXI+CiAgICAgICAgICA8QWxlcnREaWFsb2dDYW5jZWw+Q2FuY2VsPC9BbGVydERpYWxvZ0NhbmNlbD4KICAgICAgICAgIDxBbGVydERpYWxvZ0FjdGlvbiBvbkNsaWNrPXtoYW5kbGVTZW5kfSBkaXNhYmxlZD17aXNQZW5kaW5nfT4KICAgICAgICAgICAge2lzUGVuZGluZyAmJiA8TG9hZGVyMiBjbGFzc05hbWU9Im1yLTIgaC00IHctNCBhbmltYXRlLXNwaW4iIC8+fQogICAgICAgICAgICBZZXMsIHNlbmQgdG8gYWxsIHVzZXJzCiAgICAgICAgICA8L0FsZXJ0RGlhbG9nQWN0aW9uPgogICAgICAgIDwvQWxlcnREaWFsb2dGb290ZXI+CiAgICAgIDwvQWxlcnREaWFsb2dDb250ZW50PgogICAgPC9BbGVydERpYWxvZz4KICApOwp9Cg==' | base64 -d > /root/localpulse/src/app/admin/(authed)/notifications/send-notification-button.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/notifications
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQmVsbCwgQXdhcmQsIFVzZXJQbHVzIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgQWxlcnQsIEFsZXJ0RGVzY3JpcHRpb24sIEFsZXJ0VGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQnOwppbXBvcnQgU2VuZE5vdGlmaWNhdGlvbkJ1dHRvbiBmcm9tICcuL3NlbmQtbm90aWZpY2F0aW9uLWJ1dHRvbic7CmltcG9ydCBTZW5kUmVtaW5kZXJCdXR0b24gZnJvbSAnLi9zZW5kLXJlbWluZGVyLWJ1dHRvbic7CgpleHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJzsKCmNvbnN0IEFkbWluTm90aWZpY2F0aW9uc1BhZ2U6IEZDID0gKCkgPT4gewoKICByZXR1cm4gKAogICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktOCBtYXgtdy0yeGwgbXgtYXV0byI+CiAgICAgIDxoZWFkZXI+CiAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC00eGwgZm9udC1ib2xkIHRyYWNraW5nLXRpZ2h0IHRleHQtZm9yZWdyb3VuZCI+Tm90aWZpY2F0aW9uczwvaDE+CiAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LWxnIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+U2VuZCB0YXJnZXRlZCBwdXNoIG5vdGlmaWNhdGlvbnMgdG8geW91ciB1c2Vycy48L3A+CiAgICAgIDwvaGVhZGVyPgoKICAgICAgPENhcmQgY2xhc3NOYW1lPSJzaGFkb3ctbGciPgogICAgICAgIDxDYXJkSGVhZGVyPgogICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIj4KICAgICAgICAgICAgPEF3YXJkIGNsYXNzTmFtZT0ibXItMiBoLTYgdy02IHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgTFAgUG9pbnRzIFJlbWluZGVyCiAgICAgICAgICA8L0NhcmRUaXRsZT4KICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+CiAgICAgICAgICAgIFNlbmQgYSBub3RpZmljYXRpb24gdG8gYWxsICoqcmVnaXN0ZXJlZCB1c2VycyoqIHdpdGggdGhlaXIgY3VycmVudCBhbmQgeWVzdGVyZGF5J3MgTFAgUG9pbnRzIGJhbGFuY2UuCiAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0ic3BhY2UteS02Ij4KICAgICAgICAgIDxBbGVydD4KICAgICAgICAgICAgPEJlbGwgY2xhc3NOYW1lPSJoLTQgdy00IiAvPgogICAgICAgICAgICA8QWxlcnRUaXRsZT5Ib3cgaXQgd29ya3M8L0FsZXJ0VGl0bGU+CiAgICAgICAgICAgIDxBbGVydERlc2NyaXB0aW9uPgogICAgICAgICAgICAgIDxwPlRoaXMgd2lsbCBzZW5kIGEgcGVyc29uYWxpemVkIHB1c2ggbm90aWZpY2F0aW9uIHRvIGV2ZXJ5IHJlZ2lzdGVyZWQgdXNlciB3aG8gaGFzIGVuYWJsZWQgdGhlbS4gVGhlIG1lc3NhZ2Ugd2lsbCBiZSBkeW5hbWljIGJhc2VkIG9uIHRoZWlyIHBvaW50cyBhY3Rpdml0eS48L3A+CiAgICAgICAgICAgIDwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgIDwvQWxlcnQ+CiAgICAgICAgICA8U2VuZE5vdGlmaWNhdGlvbkJ1dHRvbiAvPgogICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgIDwvQ2FyZD4KICAgICAgCiAgICAgIDxDYXJkIGNsYXNzTmFtZT0ic2hhZG93LWxnIj4KICAgICAgICA8Q2FyZEhlYWRlcj4KICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciI+CiAgICAgICAgICAgIDxVc2VyUGx1cyBjbGFzc05hbWU9Im1yLTIgaC02IHctNiB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgIFJlZ2lzdHJhdGlvbiBSZW1pbmRlcgogICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICBFbmNvdXJhZ2UgKip1bnJlZ2lzdGVyZWQgdXNlcnMqKiB3aG8gaGF2ZSBpbnN0YWxsZWQgdGhlIGFwcCB0byBzaWduIHVwLgogICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+CiAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9InNwYWNlLXktNiI+CiAgICAgICAgICA8QWxlcnQ+CiAgICAgICAgICAgIDxCZWxsIGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgPEFsZXJ0VGl0bGU+SG93IGl0IHdvcmtzPC9BbGVydFRpdGxlPgogICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICA8cD5UaGlzIHdpbGwgc2VuZCBhIGdlbmVyaWMgcHVzaCBub3RpZmljYXRpb24gdG8gZXZlcnlvbmUgd2hvIGhhcyBpbnN0YWxsZWQgdGhlIGFwcCBhbmQgZW5hYmxlZCBub3RpZmljYXRpb25zIGJ1dCBoYXMgbm90IHlldCBjcmVhdGVkIGFuIGFjY291bnQuPC9wPgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIgbXQtMiI+CiAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJpdGFsaWMgYmctbXV0ZWQgcC0yIHJvdW5kZWQtbWQgdGV4dC1zbSI+CiAgICAgICAgICAgICAgICAgICJDb21wbGV0ZSBZb3VyIExvY2FsUHVsc2UgUHJvZmlsZSEg8J+agCBTaWduIHVwIHRvIHBvc3QsIGVhcm4gTFAgUG9pbnRzLCBhbmQgdW5sb2NrIGFsbCBmZWF0dXJlcy4gSm9pbiB0aGUgY29tbXVuaXR5IG5vdyEiCiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgIDwvQWxlcnQ+CiAgICAgICAgICA8U2VuZFJlbWluZGVyQnV0dG9uIC8+CiAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgPC9DYXJkPgoKICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBZG1pbk5vdGlmaWNhdGlvbnNQYWdlOwo=' | base64 -d > /root/localpulse/src/app/admin/(authed)/notifications/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/notifications
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlLCB1c2VUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IHNlbmRSZWdpc3RyYXRpb25SZW1pbmRlck5vdGlmaWNhdGlvbiB9IGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCB7IExvYWRlcjIsIFVzZXJQbHVzIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsKICBBbGVydERpYWxvZywKICBBbGVydERpYWxvZ0FjdGlvbiwKICBBbGVydERpYWxvZ0NhbmNlbCwKICBBbGVydERpYWxvZ0NvbnRlbnQsCiAgQWxlcnREaWFsb2dEZXNjcmlwdGlvbiwKICBBbGVydERpYWxvZ0Zvb3RlciwKICBBbGVydERpYWxvZ0hlYWRlciwKICBBbGVydERpYWxvZ1RpdGxlLAogIEFsZXJ0RGlhbG9nVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQtZGlhbG9nJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbmRSZW1pbmRlckJ1dHRvbigpIHsKICBjb25zdCBbaXNQZW5kaW5nLCBzdGFydFRyYW5zaXRpb25dID0gdXNlVHJhbnNpdGlvbigpOwogIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7CgogIGNvbnN0IGhhbmRsZVNlbmQgPSAoKSA9PiB7CiAgICBzdGFydFRyYW5zaXRpb24oYXN5bmMgKCkgPT4gewogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUmVnaXN0cmF0aW9uUmVtaW5kZXJOb3RpZmljYXRpb24oKTsKICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgdGl0bGU6ICdSZW1pbmRlcnMgU2VudCEnLAogICAgICAgICAgZGVzY3JpcHRpb246IGBTdWNjZXNzZnVsbHkgc2VudCAke3Jlc3VsdC5zdWNjZXNzQ291bnR9IG5vdGlmaWNhdGlvbnMuICR7cmVzdWx0LmZhaWx1cmVDb3VudH0gZmFpbGVkLmAsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICAgIHRpdGxlOiAnQWN0aW9uIEZhaWxlZCcsCiAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yLAogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9OwoKICByZXR1cm4gKAogICAgPEFsZXJ0RGlhbG9nPgogICAgICA8QWxlcnREaWFsb2dUcmlnZ2VyIGFzQ2hpbGQ+CiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9InctZnVsbCBzbTp3LWF1dG8iIGRpc2FibGVkPXtpc1BlbmRpbmd9PgogICAgICAgICAgPFVzZXJQbHVzIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IiAvPgogICAgICAgICAgU2VuZCBSZWdpc3RyYXRpb24gUmVtaW5kZXIKICAgICAgICA8L0J1dHRvbj4KICAgICAgPC9BbGVydERpYWxvZ1RyaWdnZXI+CiAgICAgIDxBbGVydERpYWxvZ0NvbnRlbnQ+CiAgICAgICAgPEFsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgICAgPEFsZXJ0RGlhbG9nVGl0bGU+QXJlIHlvdSBzdXJlPzwvQWxlcnREaWFsb2dUaXRsZT4KICAgICAgICAgIDxBbGVydERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICBUaGlzIHdpbGwgc2VuZCBhIHB1c2ggbm90aWZpY2F0aW9uIHRvIGFsbCB1bnJlZ2lzdGVyZWQgdXNlcnMgd2l0aCB0aGUgYXBwIGluc3RhbGxlZC4gVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZS4KICAgICAgICAgIDwvQWxlcnREaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICA8L0FsZXJ0RGlhbG9nSGVhZGVyPgogICAgICAgIDxBbGVydERpYWxvZ0Zvb3Rlcj4KICAgICAgICAgIDxBbGVydERpYWxvZ0NhbmNlbD5DYW5jZWw8L0FsZXJ0RGlhbG9nQ2FuY2VsPgogICAgICAgICAgPEFsZXJ0RGlhbG9nQWN0aW9uIG9uQ2xpY2s9e2hhbmRsZVNlbmR9IGRpc2FibGVkPXtpc1BlbmRpbmd9PgogICAgICAgICAgICB7aXNQZW5kaW5nICYmIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpbiIgLz59CiAgICAgICAgICAgIFllcywgc2VuZCByZW1pbmRlcnMKICAgICAgICAgIDwvQWxlcnREaWFsb2dBY3Rpb24+CiAgICAgICAgPC9BbGVydERpYWxvZ0Zvb3Rlcj4KICAgICAgPC9BbGVydERpYWxvZ0NvbnRlbnQ+CiAgICA8L0FsZXJ0RGlhbG9nPgogICk7Cn0K' | base64 -d > /root/localpulse/src/app/admin/(authed)/notifications/send-reminder-button.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/notifications
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGdldEFsbFVzZXJzV2l0aERldmljZVRva2Vuc0RiLCBnZXRBbm9ueW1vdXNEZXZpY2VUb2tlbnNEYiB9IGZyb20gJ0AvbGliL2RiJzsKaW1wb3J0IGFkbWluIGZyb20gJ0AvdXRpbHMvZmlyZWJhc2VBZG1pbic7CmltcG9ydCB0eXBlIHsgTXVsdGljYXN0TWVzc2FnZSB9IGZyb20gJ2ZpcmViYXNlLWFkbWluL21lc3NhZ2luZyc7CgpleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZExwUG9pbnRzTm90aWZpY2F0aW9uKCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZzsgc3VjY2Vzc0NvdW50PzogbnVtYmVyOyBmYWlsdXJlQ291bnQ/OiBudW1iZXIgfT4gewogIGlmICghYWRtaW4uYXBwcy5sZW5ndGgpIHsKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZpcmViYXNlIEFkbWluIG5vdCBjb25maWd1cmVkLiBDYW5ub3Qgc2VuZCBub3RpZmljYXRpb25zLicgfTsKICB9CiAgCiAgdHJ5IHsKICAgIGNvbnN0IHVzZXJzV2l0aFRva2VucyA9IGF3YWl0IGdldEFsbFVzZXJzV2l0aERldmljZVRva2Vuc0RiKCk7CiAgICBpZiAodXNlcnNXaXRoVG9rZW5zLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdObyB1c2VycyB3aXRoIHJlZ2lzdGVyZWQgZGV2aWNlcyBmb3VuZC4nIH07CiAgICB9CgogICAgY29uc3QgbWVzc2FnZXM6IE11bHRpY2FzdE1lc3NhZ2VbXSA9IHVzZXJzV2l0aFRva2Vucy5tYXAodXNlciA9PiB7CiAgICAgIGNvbnN0IHllc3RlcmRheVBvaW50cyA9IHVzZXIueWVzdGVyZGF5X3BvaW50cyB8fCAwOwogICAgICBjb25zdCB0aXRsZSA9IHllc3RlcmRheVBvaW50cyA+IDAgCiAgICAgICAgICA/IGBZb3UgZWFybmVkICR7eWVzdGVyZGF5UG9pbnRzfSBMUCBwb2ludHMgeWVzdGVyZGF5ISDwn46JYAogICAgICAgICAgOiAnQ2hlY2sgeW91ciBMUCBQb2ludHMhIOKcqCc7CiAgICAgIAogICAgICBjb25zdCBib2R5ID0gYFlvdXIgdG90YWwgaXMgbm93ICR7dXNlci50b3RhbF9wb2ludHN9LiBLZWVwIHB1bHNpbmcgdG8gZWFybiBtb3JlIWA7CgogICAgICByZXR1cm4gewogICAgICAgICAgdG9rZW46IHVzZXIudG9rZW4sCiAgICAgICAgICBub3RpZmljYXRpb246IHsgdGl0bGUsIGJvZHkgfSwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICB1c2VyX2F1dGhfdG9rZW46IHVzZXIudXNlcl9hdXRoX3Rva2VuIHx8ICcnCiAgICAgICAgICB9LAogICAgICAgICAgYW5kcm9pZDogeyBwcmlvcml0eTogJ2hpZ2gnIGFzIGNvbnN0IH0sCiAgICAgICAgICBhcG5zOiB7IHBheWxvYWQ6IHsgYXBzOiB7ICdjb250ZW50LWF2YWlsYWJsZSc6IDEgfSB9IH0KICAgICAgfQogICAgfSk7CgogICAgLy8gRmlyZWJhc2UgYWxsb3dzIHNlbmRpbmcgdXAgdG8gNTAwIG1lc3NhZ2VzIGF0IGEgdGltZS4KICAgIC8vIEZvciBsYXJnZXIgc2NhbGUsIHdlIHdvdWxkIG5lZWQgdG8gYmF0Y2ggdGhpcy4gRm9yIG5vdywgdGhpcyBpcyBzdWZmaWNpZW50LgogICAgY29uc3QgYmF0Y2hSZXNwb25zZSA9IGF3YWl0IGFkbWluLm1lc3NhZ2luZygpLnNlbmRFYWNoKG1lc3NhZ2VzIGFzIGFueVtdKTsKICAgIAogICAgY29uc29sZS5sb2coYE5vdGlmaWNhdGlvbnMgc2VudDogJHtiYXRjaFJlc3BvbnNlLnN1Y2Nlc3NDb3VudH0gc3VjY2VzcywgJHtiYXRjaFJlc3BvbnNlLmZhaWx1cmVDb3VudH0gZmFpbHVyZXMuYCk7CgogICAgaWYgKGJhdGNoUmVzcG9uc2UuZmFpbHVyZUNvdW50ID4gMCkgewogICAgICBiYXRjaFJlc3BvbnNlLnJlc3BvbnNlcy5mb3JFYWNoKChyZXNwLCBpZHgpID0+IHsKICAgICAgICBpZiAoIXJlc3Auc3VjY2VzcykgewogICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHNlbmQgdG8gdG9rZW4gJHt1c2Vyc1dpdGhUb2tlbnNbaWR4XS50b2tlbn06YCwgcmVzcC5lcnJvcik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzdWNjZXNzQ291bnQ6IGJhdGNoUmVzcG9uc2Uuc3VjY2Vzc0NvdW50LCBmYWlsdXJlQ291bnQ6IGJhdGNoUmVzcG9uc2UuZmFpbHVyZUNvdW50IH07CgogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgTFAgcG9pbnRzIG5vdGlmaWNhdGlvbjonLCBlcnJvcik7CiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZC4nIH07CiAgfQp9CgoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRSZWdpc3RyYXRpb25SZW1pbmRlck5vdGlmaWNhdGlvbigpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmc7IHN1Y2Nlc3NDb3VudD86IG51bWJlcjsgZmFpbHVyZUNvdW50PzogbnVtYmVyIH0+IHsKICAgIGlmICghYWRtaW4uYXBwcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGaXJlYmFzZSBBZG1pbiBub3QgY29uZmlndXJlZC4gQ2Fubm90IHNlbmQgbm90aWZpY2F0aW9ucy4nIH07CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBnZXRBbm9ueW1vdXNEZXZpY2VUb2tlbnNEYigpOwogICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05vIHVucmVnaXN0ZXJlZCB1c2VycyB3aXRoIGRldmljZXMgZm91bmQgdG8gbm90aWZ5LicgfTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogewogICAgICAgICAgICAgICAgdGl0bGU6ICdDb21wbGV0ZSBZb3VyIExvY2FsUHVsc2UgUHJvZmlsZSEg8J+agCcsCiAgICAgICAgICAgICAgICBib2R5OiAnU2lnbiB1cCB0byBwb3N0LCBlYXJuIExQIFBvaW50cywgYW5kIHVubG9jayBhbGwgZmVhdHVyZXMuIEpvaW4gdGhlIGNvbW11bml0eSBub3chJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9rZW5zOiB0b2tlbnMsCiAgICAgICAgfTsKCiAgICAgICAgY29uc3QgYmF0Y2hSZXNwb25zZSA9IGF3YWl0IGFkbWluLm1lc3NhZ2luZygpLnNlbmRFYWNoRm9yTXVsdGljYXN0KG1lc3NhZ2UpOwoKICAgICAgICBjb25zb2xlLmxvZyhgUmVnaXN0cmF0aW9uIHJlbWluZGVycyBzZW50OiAke2JhdGNoUmVzcG9uc2Uuc3VjY2Vzc0NvdW50fSBzdWNjZXNzLCAke2JhdGNoUmVzcG9uc2UuZmFpbHVyZUNvdW50fSBmYWlsdXJlcy5gKTsKCiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgc3VjY2Vzc0NvdW50OiBiYXRjaFJlc3BvbnNlLnN1Y2Nlc3NDb3VudCwgZmFpbHVyZUNvdW50OiBiYXRjaFJlc3BvbnNlLmZhaWx1cmVDb3VudCB9OwoKICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIHJlZ2lzdHJhdGlvbiByZW1pbmRlcjonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQW4gdW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQuJyB9OwogICAgfQp9Cg==' | base64 -d > /root/localpulse/src/app/admin/(authed)/notifications/actions.ts
mkdir -p /root/localpulse/src/app/admin/(authed)/posts
echo 'CmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IEZpbGVUZXh0LCBQbHVzQ2lyY2xlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IFBvc3RBY3Rpb25zIGZyb20gJ0AvY29tcG9uZW50cy9hZG1pbi9wb3N0LWFjdGlvbnMnOwppbXBvcnQgQ3JlYXRlQW5ub3VuY2VtZW50RGlhbG9nIGZyb20gJy4vY3JlYXRlLWFubm91bmNlbWVudC1kaWFsb2cnOwppbXBvcnQgQWRtaW5UYWJsZUNvbnRyb2xzIGZyb20gJ0AvY29tcG9uZW50cy9hZG1pbi9hZG1pbi10YWJsZS1jb250cm9scyc7CmltcG9ydCB7IGdldFBhZ2luYXRlZFBvc3RzIH0gZnJvbSAnLi9hY3Rpb25zJzsKCmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnOwoKaW50ZXJmYWNlIFBhZ2VQcm9wcyB7CiAgc2VhcmNoUGFyYW1zPzogewogICAgcXVlcnk/OiBzdHJpbmc7CiAgICBwYWdlPzogc3RyaW5nOwogIH07Cn0KCmNvbnN0IEFkbWluTWFuYWdlUG9zdHNQYWdlOiBGQzxQYWdlUHJvcHM+ID0gYXN5bmMgKHsgc2VhcmNoUGFyYW1zIH0pID0+IHsKICBjb25zdCBxdWVyeSA9IHNlYXJjaFBhcmFtcz8ucXVlcnkgfHwgJyc7CiAgY29uc3QgY3VycmVudFBhZ2UgPSBOdW1iZXIoc2VhcmNoUGFyYW1zPy5wYWdlKSB8fCAxOwogIGNvbnN0IGxpbWl0ID0gMTA7CgogIGNvbnN0IHsgcG9zdHMsIHRvdGFsQ291bnQgfSA9IGF3YWl0IGdldFBhZ2luYXRlZFBvc3RzKGN1cnJlbnRQYWdlLCBsaW1pdCwgcXVlcnkpOwogIAogIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWxDb3VudCAvIGxpbWl0KTsKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTgiPgogICAgICA8aGVhZGVyIGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBtZDpmbGV4LXJvdyBtZDppdGVtcy1jZW50ZXIgbWQ6anVzdGlmeS1iZXR3ZWVuIGdhcC00Ij4KICAgICAgICA8ZGl2PgogICAgICAgICAgPGgxIGNsYXNzTmFtZT0idGV4dC00eGwgZm9udC1ib2xkIHRyYWNraW5nLXRpZ2h0IHRleHQtZm9yZWdyb3VuZCI+TWFuYWdlIFBvc3RzPC9oMT4KICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1sZyB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlZpZXcsIHNlYXJjaCwgb3IgZGVsZXRlIHVzZXIgcG9zdHMuPC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIDxDcmVhdGVBbm5vdW5jZW1lbnREaWFsb2c+CiAgICAgICAgICAgIDxCdXR0b24+CiAgICAgICAgICAgICAgPFBsdXNDaXJjbGUgY2xhc3NOYW1lPSJtci0yIGgtNSB3LTUiIC8+CiAgICAgICAgICAgICAgQ3JlYXRlIEFubm91bmNlbWVudAogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICA8L0NyZWF0ZUFubm91bmNlbWVudERpYWxvZz4KICAgICAgPC9oZWFkZXI+CgogICAgICA8Q2FyZCBjbGFzc05hbWU9InNoYWRvdy1sZyI+CiAgICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgICA8Q2FyZFRpdGxlPkFsbCBQb3N0cyAoe3RvdGFsQ291bnR9KTwvQ2FyZFRpdGxlPgogICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5BIGxpc3Qgb2YgYWxsIHBvc3RzIG9uIHRoZSBwbGF0Zm9ybS48L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJwdC0yIj4KICAgICAgICAgICAgPEFkbWluVGFibGVDb250cm9scwogICAgICAgICAgICAgIHNlYXJjaFBsYWNlaG9sZGVyPSJTZWFyY2ggcG9zdHMgYnkgY29udGVudCwgYXV0aG9yLCBjaXR5Li4uIgogICAgICAgICAgICAgIGNyZWF0ZUFjdGlvbj17bnVsbH0KICAgICAgICAgICAgLz4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgICA8Q2FyZENvbnRlbnQ+CiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ib3ZlcmZsb3cteC1hdXRvIj4KICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT0idy1mdWxsIHRleHQtbGVmdCI+CiAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT0iYm9yZGVyLWIiPgogICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPSJwLTMgZm9udC1zZW1pYm9sZCI+SUQ8L3RoPgogICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPSJwLTMgZm9udC1zZW1pYm9sZCI+Q29udGVudCBTbmlwcGV0PC90aD4KICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT0icC0zIGZvbnQtc2VtaWJvbGQiPkF1dGhvcjwvdGg+CiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9InAtMyBmb250LXNlbWlib2xkIj5DaXR5PC90aD4KICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT0icC0zIGZvbnQtc2VtaWJvbGQiPkxpa2VzPC90aD4KICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT0icC0zIGZvbnQtc2VtaWJvbGQiPkNyZWF0ZWQgQXQ8L3RoPgogICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPSJwLTMgZm9udC1zZW1pYm9sZCB0ZXh0LXJpZ2h0Ij5BY3Rpb25zPC90aD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICB7cG9zdHMubWFwKChwb3N0KSA9PiAoCiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e3Bvc3QuaWR9IGNsYXNzTmFtZT0iYm9yZGVyLWIgaG92ZXI6YmctbXV0ZWQvNTAiPgogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9InAtMyI+e3Bvc3QuaWR9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSJwLTMgbWF4LXcteHMgdHJ1bmNhdGUiPntwb3N0LmNvbnRlbnR9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSJwLTMiPntwb3N0LmF1dGhvcm5hbWUgfHwgJ0Fub255bW91cyd9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSJwLTMiPntwb3N0LmNpdHkgfHwgJ04vQSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSJwLTMiPntwb3N0Lmxpa2Vjb3VudH08L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9InAtMyI+e25ldyBEYXRlKHBvc3QuY3JlYXRlZGF0KS50b0xvY2FsZURhdGVTdHJpbmcoKX08L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9InAtMyB0ZXh0LXJpZ2h0IHNwYWNlLXgtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxQb3N0QWN0aW9ucyBwb3N0PXtwb3N0fSAvPgogICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICAgICB7cG9zdHMubGVuZ3RoID09PSAwICYmICgKICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXs3fSBjbGFzc05hbWU9InAtNiB0ZXh0LWNlbnRlciB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT0ibXgtYXV0byBoLTEyIHctMTIgbWItMiIgLz4KICAgICAgICAgICAgICAgICAgICAgIE5vIHBvc3RzIGZvdW5kLgogICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIHt0b3RhbFBhZ2VzID4gMSAmJiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGp1c3RpZnktZW5kIG10LTYiPgogICAgICAgICAgICAgICAgPEFkbWluVGFibGVDb250cm9scwogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlPXtjdXJyZW50UGFnZX0KICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzPXt0b3RhbFBhZ2VzfQogICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2g9e2ZhbHNlfQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgIDwvQ2FyZD4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBZG1pbk1hbmFnZVBvc3RzUGFnZTsK' | base64 -d > /root/localpulse/src/app/admin/(authed)/posts/page.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/posts
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgewogIERpYWxvZywKICBEaWFsb2dDb250ZW50LAogIERpYWxvZ0Rlc2NyaXB0aW9uLAogIERpYWxvZ0Zvb3RlciwKICBEaWFsb2dIZWFkZXIsCiAgRGlhbG9nVGl0bGUsCiAgRGlhbG9nVHJpZ2dlciwKfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvZGlhbG9nJzsKaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7CmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RleHRhcmVhJzsKaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7CmltcG9ydCB7IGNyZWF0ZUFubm91bmNlbWVudFBvc3QgfSBmcm9tICcuL2FjdGlvbnMnOwppbXBvcnQgeyBMb2FkZXIyLCBNZWdhcGhvbmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnOwppbXBvcnQgeyBBbGVydCwgQWxlcnREZXNjcmlwdGlvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydCc7CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVBbm5vdW5jZW1lbnREaWFsb2coeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkgewogIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gdXNlU3RhdGUoJycpOwogIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTsKCiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKCkgPT4gewogICAgaWYgKCFjb250ZW50LnRyaW0oKSkgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICAgICAgdGl0bGU6ICdDb250ZW50IGlzIGVtcHR5JywKICAgICAgICAgICAgZGVzY3JpcHRpb246ICdQbGVhc2Ugd3JpdGUgYSBtZXNzYWdlIGZvciB0aGUgYW5ub3VuY2VtZW50LicsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpOwogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlQW5ub3VuY2VtZW50UG9zdChjb250ZW50KTsKICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdBbm5vdW5jZW1lbnQgUHVibGlzaGVkIScsCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgYW5ub3VuY2VtZW50IHdpbGwgbm93IGFwcGVhciBhdCB0aGUgdG9wIG9mIHRoZSBmZWVkLicsCiAgICAgIH0pOwogICAgICBzZXRJc09wZW4oZmFsc2UpOwogICAgICBzZXRDb250ZW50KCcnKTsKICAgIH0gZWxzZSB7CiAgICAgIHRvYXN0KHsKICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IsCiAgICAgIH0pOwogICAgfQogICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTsKICB9OwoKICByZXR1cm4gKAogICAgPERpYWxvZyBvcGVuPXtpc09wZW59IG9uT3BlbkNoYW5nZT17c2V0SXNPcGVufT4KICAgICAgPERpYWxvZ1RyaWdnZXIgYXNDaGlsZD57Y2hpbGRyZW59PC9EaWFsb2dUcmlnZ2VyPgogICAgICA8RGlhbG9nQ29udGVudD4KICAgICAgICA8RGlhbG9nSGVhZGVyPgogICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIiPgogICAgICAgICAgICA8TWVnYXBob25lIGNsYXNzTmFtZT0ibXItMiBoLTYgdy02IHRleHQtcHJpbWFyeSIgLz4KICAgICAgICAgICAgQ3JlYXRlIE9mZmljaWFsIEFubm91bmNlbWVudAogICAgICAgICAgPC9EaWFsb2dUaXRsZT4KICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICAgICAgVGhpcyBwb3N0IHdpbGwgYXBwZWFyIGF0IHRoZSB0b3Agb2YgZXZlcnkgdXNlcidzIGZlZWQuIEl0IHdpbGwgYmUgcG9zdGVkIGJ5ICJMb2NhbFB1bHNlIE9mZmljaWFsIi4KICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+CiAgICAgICAgPC9EaWFsb2dIZWFkZXI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9InB5LTQgc3BhY2UteS00Ij4KICAgICAgICAgICAgPFRleHRhcmVhCiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0iV3JpdGUgeW91ciBhbm5vdW5jZW1lbnQgaGVyZS4uLiIKICAgICAgICAgICAgICAgIHZhbHVlPXtjb250ZW50fQogICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDb250ZW50KGUudGFyZ2V0LnZhbHVlKX0KICAgICAgICAgICAgICAgIHJvd3M9ezZ9CiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfQogICAgICAgICAgICAvPgogICAgICAgICAgICA8QWxlcnQ+CiAgICAgICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICAgICAgICBUaGUgaGFzaHRhZ3MgI2Fubm91bmNlbWVudCBhbmQgI2xvY2FscHVsc2Ugd2lsbCBiZSBhZGRlZCBhdXRvbWF0aWNhbGx5LgogICAgICAgICAgICAgICAgPC9BbGVydERlc2NyaXB0aW9uPgogICAgICAgICAgICA8L0FsZXJ0PgogICAgICAgIDwvZGl2PgogICAgICAgIDxEaWFsb2dGb290ZXI+CiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9Im91dGxpbmUiIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbihmYWxzZSl9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PkNhbmNlbDwvQnV0dG9uPgogICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PgogICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPSJtci0yIGgtNCB3LTQgYW5pbWF0ZS1zcGluIiAvPiA6IG51bGx9CiAgICAgICAgICAgIFB1Ymxpc2gKICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgIDwvRGlhbG9nRm9vdGVyPgogICAgICA8L0RpYWxvZ0NvbnRlbnQ+CiAgICA8L0RpYWxvZz4KICApOwp9Cg==' | base64 -d > /root/localpulse/src/app/admin/(authed)/posts/create-announcement-dialog.tsx
mkdir -p /root/localpulse/src/app/admin/(authed)/posts
echo 'Cid1c2Ugc2VydmVyJzsKCmltcG9ydCB7IGRlbGV0ZVBvc3REYiwgYWRkUG9zdERiLCBnZXRVc2VyQnlFbWFpbERiLCBnZXRQYWdpbmF0ZWRQb3N0c0RiIH0gZnJvbSAnQC9saWIvZGInOwppbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gJ25leHQvY2FjaGUnOwoKY29uc3QgT0ZGSUNJQUxfVVNFUl9FTUFJTCA9ICdvZmZpY2lhbEBsb2NhbHB1bHNlLmluJzsKCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYWdpbmF0ZWRQb3N0cyhwYWdlOiBudW1iZXIsIGxpbWl0OiBudW1iZXIsIHF1ZXJ5Pzogc3RyaW5nKSB7CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBnZXRQYWdpbmF0ZWRQb3N0c0RiKHsgcGFnZSwgbGltaXQsIHF1ZXJ5IH0pOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHBhZ2luYXRlZCBwb3N0czonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIHsgcG9zdHM6IFtdLCB0b3RhbENvdW50OiAwIH07CiAgICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQb3N0KHBvc3RJZDogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHsKICB0cnkgewogICAgYXdhaXQgZGVsZXRlUG9zdERiKHBvc3RJZCk7CiAgICByZXZhbGlkYXRlUGF0aCgnL2FkbWluL3Bvc3RzJyk7CiAgICByZXZhbGlkYXRlUGF0aCgnLycpOwogICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwogIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHBvc3Q6JywgZXJyb3IpOwogICAgLy8gUHJvdmlkZSBtb3JlIHNwZWNpZmljIGVycm9yIGRldGFpbHMgaWYgYXZhaWxhYmxlIGZyb20gdGhlIGRhdGFiYXNlIGRyaXZlcgogICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IuZGV0YWlsIHx8IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBkZWxldGUgcG9zdC4nOwogICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTsKICB9Cn0KCmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBbm5vdW5jZW1lbnRQb3N0KGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7CiAgICB0cnkgewogICAgICAgIGNvbnN0IG9mZmljaWFsVXNlciA9IGF3YWl0IGdldFVzZXJCeUVtYWlsRGIoT0ZGSUNJQUxfVVNFUl9FTUFJTCk7CiAgICAgICAgaWYgKCFvZmZpY2lhbFVzZXIpIHsKICAgICAgICAgICAgLy8gVGhpcyBzaG91bGQgaWRlYWxseSBuZXZlciBoYXBwZW4gaWYgdGhlIERCIGluaXRpYWxpemF0aW9uIHdvcmtzIGNvcnJlY3RseS4KICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPZmZpY2lhbCB1c2VyIGFjY291bnQgbm90IGZvdW5kLiBDYW5ub3QgY3JlYXRlIGFubm91bmNlbWVudC4nKTsKICAgICAgICB9CgogICAgICAgIGF3YWl0IGFkZFBvc3REYih7CiAgICAgICAgICAgIGNvbnRlbnQsCiAgICAgICAgICAgIGF1dGhvcmlkOiBvZmZpY2lhbFVzZXIuaWQsCiAgICAgICAgICAgIGxhdGl0dWRlOiAwLCAvLyBOb3QgcmVsZXZhbnQgZm9yIGFubm91bmNlbWVudHMKICAgICAgICAgICAgbG9uZ2l0dWRlOiAwLCAvLyBOb3QgcmVsZXZhbnQgZm9yIGFubm91bmNlbWVudHMKICAgICAgICAgICAgaXNfZmFtaWx5X3Bvc3Q6IGZhbHNlLAogICAgICAgICAgICBoaWRlX2xvY2F0aW9uOiB0cnVlLCAvLyBBbHdheXMgaGlkZSBsb2NhdGlvbiBmb3IgYW5ub3VuY2VtZW50cwogICAgICAgICAgICBoYXNodGFnczogWycjYW5ub3VuY2VtZW50JywgJyNsb2NhbHB1bHNlJ10sCiAgICAgICAgfSk7CiAgICAgICAgcmV2YWxpZGF0ZVBhdGgoJy9hZG1pbi9wb3N0cycpOwogICAgICAgIHJldmFsaWRhdGVQYXRoKCcvJyk7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OwoKICAgIH0gY2F0Y2goZXJyb3I6IGFueSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGNyZWF0aW5nIGFubm91bmNlbWVudDoiLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIGFubm91bmNlbWVudC4nIH07CiAgICB9Cn0K' | base64 -d > /root/localpulse/src/app/admin/(authed)/posts/actions.ts
mkdir -p /root/localpulse/src/app/admin/login
echo 'Cid1c2UgY2xpZW50JzsKCmltcG9ydCB0eXBlIHsgRkMgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VGb3JtLCB0eXBlIFN1Ym1pdEhhbmRsZXIgfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nOwppbXBvcnQgeyB6b2RSZXNvbHZlciB9IGZyb20gJ0Bob29rZm9ybS9yZXNvbHZlcnMvem9kJzsKaW1wb3J0ICogYXMgeiBmcm9tICd6b2QnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJzsKaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnOwppbXBvcnQgeyBMYWJlbCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9sYWJlbCc7CmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRGb290ZXIsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJzsKaW1wb3J0IHsgQWxlcnQsIEFsZXJ0RGVzY3JpcHRpb24sIEFsZXJ0VGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYWxlcnQnOwppbXBvcnQgeyBhZG1pbkxvZ2luIH0gZnJvbSAnLi4vYWN0aW9ucyc7CmltcG9ydCB7IExvYWRlcjIsIExvZ0luLCBTaGllbGRBbGVydCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnOwoKY29uc3QgbG9naW5TY2hlbWEgPSB6Lm9iamVjdCh7CiAgdXNlcm5hbWU6IHouc3RyaW5nKCkubWluKDEsICdVc2VybmFtZSBpcyByZXF1aXJlZCcpLAogIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKSwKfSk7Cgp0eXBlIExvZ2luRm9ybUlucHV0cyA9IHouaW5mZXI8dHlwZW9mIGxvZ2luU2NoZW1hPjsKCmNvbnN0IEFkbWluTG9naW5QYWdlOiBGQyA9ICgpID0+IHsKICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpOwogIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgY29uc3QgeyByZWdpc3RlciwgaGFuZGxlU3VibWl0LCBmb3JtU3RhdGU6IHsgZXJyb3JzIH0gfSA9IHVzZUZvcm08TG9naW5Gb3JtSW5wdXRzPih7CiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIobG9naW5TY2hlbWEpLAogIH0pOwoKICBjb25zdCBvblN1Ym1pdDogU3VibWl0SGFuZGxlcjxMb2dpbkZvcm1JbnB1dHM+ID0gYXN5bmMgKGRhdGEpID0+IHsKICAgIHNldElzU3VibWl0dGluZyh0cnVlKTsKICAgIHNldEVycm9yKG51bGwpOwogICAgdHJ5IHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRtaW5Mb2dpbihkYXRhLnVzZXJuYW1lLCBkYXRhLnBhc3N3b3JkKTsKICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgdGl0bGU6ICdMb2dpbiBTdWNjZXNzZnVsJywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmVkaXJlY3RpbmcgdG8gYWRtaW4gZGFzaGJvYXJkLi4uJywKICAgICAgICAgIHZhcmlhbnQ6ICdkZWZhdWx0JywKICAgICAgICB9KTsKICAgICAgICByb3V0ZXIucHVzaCgnL2FkbWluJyk7CiAgICAgICAgcm91dGVyLnJlZnJlc2goKTsgLy8gRW5zdXJlIG1pZGRsZXdhcmUgcmUtZXZhbHVhdGVzCiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yIHx8ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyk7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgdGl0bGU6ICdMb2dpbiBGYWlsZWQnLAogICAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5lcnJvciB8fCAnSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZC4nLAogICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywKICAgICAgICB9KTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycik7CiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4nOwogICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpOwogICAgICB0b2FzdCh7CiAgICAgICAgdGl0bGU6ICdMb2dpbiBFcnJvcicsCiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSwKICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLAogICAgICB9KTsKICAgIH0gZmluYWxseSB7CiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7CiAgICB9CiAgfTsKCiAgcmV0dXJuICgKICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IG1pbi1oLXN2aCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmFja2dyb3VuZCBwLTQiPgogICAgICA8Q2FyZCBjbGFzc05hbWU9InctZnVsbCBtYXgtdy1tZCBzaGFkb3ctMnhsIj4KICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9InRleHQtY2VudGVyIj4KICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1wcmltYXJ5IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIj4KICAgICAgICAgICAgPExvZ0luIGNsYXNzTmFtZT0ibXItMiBoLTggdy04IiAvPgogICAgICAgICAgICBBZG1pbiBMb2dpbgogICAgICAgICAgPC9DYXJkVGl0bGU+CiAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uPkVudGVyIHlvdXIgYWRtaW5pc3RyYXRvciBjcmVkZW50aWFscy48L0NhcmREZXNjcmlwdGlvbj4KICAgICAgICA8L0NhcmRIZWFkZXI+CiAgICAgICAgPENhcmRDb250ZW50PgogICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdChvblN1Ym1pdCl9IGNsYXNzTmFtZT0ic3BhY2UteS02Ij4KICAgICAgICAgICAge2Vycm9yICYmICgKICAgICAgICAgICAgICA8QWxlcnQgdmFyaWFudD0iZGVzdHJ1Y3RpdmUiPgogICAgICAgICAgICAgICAgPFNoaWVsZEFsZXJ0IGNsYXNzTmFtZT0iaC00IHctNCIgLz4KICAgICAgICAgICAgICAgIDxBbGVydFRpdGxlPkVycm9yPC9BbGVydFRpdGxlPgogICAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+e2Vycm9yfTwvQWxlcnREZXNjcmlwdGlvbj4KICAgICAgICAgICAgICA8L0FsZXJ0PgogICAgICAgICAgICApfQogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0idXNlcm5hbWUiPlVzZXJuYW1lPC9MYWJlbD4KICAgICAgICAgICAgICA8SW5wdXQKICAgICAgICAgICAgICAgIGlkPSJ1c2VybmFtZSIKICAgICAgICAgICAgICAgIHR5cGU9InRleHQiCiAgICAgICAgICAgICAgICB7Li4ucmVnaXN0ZXIoJ3VzZXJuYW1lJyl9CiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0iYWRtaW4iCiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Vycm9ycy51c2VybmFtZSA/ICdib3JkZXItZGVzdHJ1Y3RpdmUnIDogJyd9CiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfQogICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAge2Vycm9ycy51c2VybmFtZSAmJiA8cCBjbGFzc05hbWU9InRleHQtc20gdGV4dC1kZXN0cnVjdGl2ZSI+e2Vycm9ycy51c2VybmFtZS5tZXNzYWdlfTwvcD59CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj0icGFzc3dvcmQiPlBhc3N3b3JkPC9MYWJlbD4KICAgICAgICAgICAgICA8SW5wdXQKICAgICAgICAgICAgICAgIGlkPSJwYXNzd29yZCIKICAgICAgICAgICAgICAgIHR5cGU9InBhc3N3b3JkIgogICAgICAgICAgICAgICAgey4uLnJlZ2lzdGVyKCdwYXNzd29yZCcpfQogICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9IuKAouKAouKAouKAouKAouKAouKAouKAoiIKICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17ZXJyb3JzLnBhc3N3b3JkID8gJ2JvcmRlci1kZXN0cnVjdGl2ZScgOiAnJ30KICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9CiAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICB7ZXJyb3JzLnBhc3N3b3JkICYmIDxwIGNsYXNzTmFtZT0idGV4dC1zbSB0ZXh0LWRlc3RydWN0aXZlIj57ZXJyb3JzLnBhc3N3b3JkLm1lc3NhZ2V9PC9wPn0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxCdXR0b24gdHlwZT0ic3VibWl0IiBjbGFzc05hbWU9InctZnVsbCIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+CiAgICAgICAgICAgICAge2lzU3VibWl0dGluZyA/ICgKICAgICAgICAgICAgICAgIDw+CiAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT0ibXItMiBoLTQgdy00IGFuaW1hdGUtc3BpbiIgLz4KICAgICAgICAgICAgICAgICAgTG9nZ2luZyBJbi4uLgogICAgICAgICAgICAgICAgPC8+CiAgICAgICAgICAgICAgKSA6ICgKICAgICAgICAgICAgICAgICdMb2dpbicKICAgICAgICAgICAgICApfQogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgIDwvZm9ybT4KICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT0idGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgPHA+QWNjZXNzIHRvIHRoaXMgYXJlYSBpcyByZXN0cmljdGVkIHRvIGF1dGhvcml6ZWQgcGVyc29ubmVsIG9ubHkuPC9wPgogICAgICAgIDwvQ2FyZEZvb3Rlcj4KICAgICAgPC9DYXJkPgogICAgPC9kaXY+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEFkbWluTG9naW5QYWdlOwo=' | base64 -d > /root/localpulse/src/app/admin/login/page.tsx
mkdir -p /root/localpulse/src/app/chat
echo 'CgppbXBvcnQgUmVhY3QsIHsgdHlwZSBGQywgdHlwZSBQcm9wc1dpdGhDaGlsZHJlbiwgU3VzcGVuc2UgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBDaGF0U2lkZWJhciBmcm9tICdAL2NvbXBvbmVudHMvY2hhdC1zaWRlYmFyJzsKaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2tlbGV0b24nOwoKY29uc3QgQ2hhdFNpZGViYXJTa2VsZXRvbiA9ICgpID0+ICgKICAgIDxkaXYgY2xhc3NOYW1lPSJwLTQgc3BhY2UteS0zIj4KICAgICAgICB7Wy4uLkFycmF5KDUpXS5tYXAoKF8sIGkpID0+ICgKICAgICAgICAgICAgPGRpdiBrZXk9e2l9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zIj4KICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMTIgdy0xMiByb3VuZGVkLWZ1bGwiIC8+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIGZsZXgtMSI+CiAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0iaC00IHctMy80IiAvPgogICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9ImgtMyB3LTEvMiIgLz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICApKX0KICAgIDwvZGl2PgopOwoKY29uc3QgQ2hhdExheW91dDogRkM8UHJvcHNXaXRoQ2hpbGRyZW4+ID0gKHsgY2hpbGRyZW4gfSkgPT4gewogIHJldHVybiAoCiAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LTEgYm9yZGVyLXQgaC1mdWxsIG1heC1oLVtjYWxjKDEwMHN2aF8tX3ZhcigtLWhlYWRlci1oZWlnaHQsOC41cmVtKSldIj4KICAgICAgPGFzaWRlIGNsYXNzTmFtZT0idy1mdWxsIG1kOnctODAgbGc6dy05NiBib3JkZXItciBmbGV4LWNvbCBoaWRkZW4gbWQ6ZmxleCBvdmVyZmxvdy15LWF1dG8iPgogICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PENoYXRTaWRlYmFyU2tlbGV0b24gLz59PgogICAgICAgICAgIDxDaGF0U2lkZWJhciAvPgogICAgICAgIDwvU3VzcGVuc2U+CiAgICAgIDwvYXNpZGU+CiAgICAgIDxtYWluIGNsYXNzTmFtZT0iZmxleC0xIGZsZXggZmxleC1jb2wgaC1mdWxsIj4KICAgICAgICB7Y2hpbGRyZW59CiAgICAgIDwvbWFpbj4KICAgIDwvZGl2PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBDaGF0TGF5b3V0Owo=' | base64 -d > /root/localpulse/src/app/chat/layout.tsx
mkdir -p /root/localpulse/src/app/chat
echo 'aW1wb3J0IENoYXRTaWRlYmFyIGZyb20gJ0AvY29tcG9uZW50cy9jaGF0LXNpZGViYXInOwppbXBvcnQgeyBNZXNzYWdlU3F1YXJlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkgewogIHJldHVybiAoCiAgICA8PgogICAgICB7LyogVmlldyBmb3IgbW9iaWxlOiBTaG93IHRoZSBmdWxsIHNpZGViYXIgdG8gZW5hYmxlIHNlYXJjaGluZyBhbmQgc3RhcnRpbmcgY2hhdHMgKi99CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJoLWZ1bGwgbWQ6aGlkZGVuIj4KICAgICAgICA8Q2hhdFNpZGViYXIgLz4KICAgICAgPC9kaXY+CgogICAgICB7LyogVmlldyBmb3IgZGVza3RvcDogU2hvdyB0aGUgcGxhY2Vob2xkZXIgbWVzc2FnZSBpbiB0aGUgbWFpbiBjb250ZW50IGFyZWEgKi99CiAgICAgIDxkaXYgY2xhc3NOYW1lPSJoLWZ1bGwgZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLW11dGVkLzMwIGhpZGRlbiBtZDpmbGV4Ij4KICAgICAgICA8TWVzc2FnZVNxdWFyZSBjbGFzc05hbWU9InctMTYgaC0xNiB0ZXh0LW11dGVkLWZvcmVncm91bmQvNTAgbWItNCIgLz4KICAgICAgICA8aDIgY2xhc3NOYW1lPSJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+U2VsZWN0IGEgY29udmVyc2F0aW9uPC9oMj4KICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+Q2hvb3NlIGEgY2hhdCBmcm9tIHRoZSBzaWRlYmFyIHRvIHN0YXJ0IG1lc3NhZ2luZy48L3A+CiAgICAgIDwvZGl2PgogICAgPC8+CiAgKTsKfQo=' | base64 -d > /root/localpulse/src/app/chat/page.tsx
cd /root/localpulse && npm install || echo 'npm install failed'
cd /root/localpulse && pm2 start ecosystem.config.js || echo 'pm2 start failed'
pm2 save

mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPUZpcm13YXJlIHVwZGF0ZSBkYWVtb24KRG9jdW1lbnRhdGlvbj1odHRwczovL2Z3dXBkLm9yZy8KQWZ0ZXI9ZGJ1cy5zZXJ2aWNlCkJlZm9yZT1kaXNwbGF5LW1hbmFnZXIuc2VydmljZQpDb25kaXRpb25WaXJ0dWFsaXphdGlvbj0hY29udGFpbmVyCgpbU2VydmljZV0KVHlwZT1kYnVzClRpbWVvdXRTZWM9MTgwClJ1bnRpbWVEaXJlY3Rvcnk9bW90ZC5kClJ1bnRpbWVEaXJlY3RvcnlQcmVzZXJ2ZT15ZXMKQnVzTmFtZT1vcmcuZnJlZWRlc2t0b3AuZnd1cGQKRXhlY1N0YXJ0PS91c3IvbGliZXhlYy9md3VwZC9md3VwZApQcml2YXRlVG1wPXllcwpQcm90ZWN0SG9tZT15ZXMKUHJvdGVjdFN5c3RlbT1mdWxsClN5c3RlbUNhbGxGaWx0ZXI9fkBtb3VudApFbnZpcm9ubWVudD0iR0xJQkNfVFVOQUJMRVM9Z2xpYmMuY3B1Lmh3Y2Fwcz1TSFNUSyIKUHJvdGVjdENvbnRyb2xHcm91cHM9eWVzClByb3RlY3RLZXJuZWxNb2R1bGVzPXllcwpSZXN0cmljdFJlYWx0aW1lPXllcwpSZWFkV3JpdGVQYXRocz0tL2Jvb3QvZWZpIC0vZWZpL0VGSSAtL2Jvb3QvRUZJIC0vYm9vdC9ncnViCkNvbmZpZ3VyYXRpb25EaXJlY3Rvcnk9Znd1cGQKU3RhdGVEaXJlY3Rvcnk9Znd1cGQKQ2FjaGVEaXJlY3Rvcnk9Znd1cGQKUmVzdHJpY3RBZGRyZXNzRmFtaWxpZXM9QUZfTkVUTElOSyBBRl9VTklYIEFGX0lORVQgQUZfSU5FVDYK' | base64 -d > /usr/lib/systemd/system/fwupd.service
systemctl daemon-reload
systemctl enable fwupd.service || true
systemctl restart fwupd.service || true
mkdir -p /usr/lib/systemd/system
echo 'IyAgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMi4xLW9yLWxhdGVyCiMKIyAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygc3lzdGVtZC4KIwojICBzeXN0ZW1kIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQKIyAgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CiMgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwgb3IKIyAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KCltVbml0XQpEZXNjcmlwdGlvbj1HZXR0eSBvbiAlSQpEb2N1bWVudGF0aW9uPW1hbjphZ2V0dHkoOCkgbWFuOnN5c3RlbWQtZ2V0dHktZ2VuZXJhdG9yKDgpCkRvY3VtZW50YXRpb249aHR0cHM6Ly8wcG9pbnRlci5kZS9ibG9nL3Byb2plY3RzL3NlcmlhbC1jb25zb2xlLmh0bWwKQWZ0ZXI9c3lzdGVtZC11c2VyLXNlc3Npb25zLnNlcnZpY2UgcGx5bW91dGgtcXVpdC13YWl0LnNlcnZpY2UgZ2V0dHktcHJlLnRhcmdldApBZnRlcj1yYy1sb2NhbC5zZXJ2aWNlCgojIElmIGFkZGl0aW9uYWwgZ2V0dHlzIGFyZSBzcGF3bmVkIGR1cmluZyBib290IHRoZW4gd2Ugc2hvdWxkIG1ha2UKIyBzdXJlIHRoYXQgdGhpcyBpcyBzeW5jaHJvbml6ZWQgYmVmb3JlIGdldHR5LnRhcmdldCwgZXZlbiB0aG91Z2gKIyBnZXR0eS50YXJnZXQgZGlkbid0IGFjdHVhbGx5IHB1bGwgaXQgaW4uCkJlZm9yZT1nZXR0eS50YXJnZXQKSWdub3JlT25Jc29sYXRlPXllcwoKIyBJZ25vcmVPbklzb2xhdGUgY2F1c2VzIGlzc3VlcyB3aXRoIHN1bG9naW4sIGlmIHNvbWVvbmUgaXNvbGF0ZXMKIyByZXNjdWUudGFyZ2V0IG9yIHN0YXJ0cyByZXNjdWUuc2VydmljZSBmcm9tIG11bHRpLXVzZXIudGFyZ2V0IG9yCiMgZ3JhcGhpY2FsLnRhcmdldC4KQ29uZmxpY3RzPXJlc2N1ZS5zZXJ2aWNlCkJlZm9yZT1yZXNjdWUuc2VydmljZQoKIyBPbiBzeXN0ZW1zIHdpdGhvdXQgdmlydHVhbCBjb25zb2xlcywgZG9uJ3Qgc3RhcnQgYW55IGdldHR5LiBOb3RlCiMgdGhhdCBzZXJpYWwgZ2V0dHlzIGFyZSBjb3ZlcmVkIGJ5IHNlcmlhbC1nZXR0eUAuc2VydmljZSwgbm90IHRoaXMKIyB1bml0LgpDb25kaXRpb25QYXRoRXhpc3RzPS9kZXYvdHR5MAoKW1NlcnZpY2VdCiMgdGhlIFZUIGlzIGNsZWFyZWQgYnkgVFRZVlREaXNhbGxvY2F0ZQojIFRoZSAnLW8nIG9wdGlvbiB2YWx1ZSB0ZWxscyBhZ2V0dHkgdG8gcmVwbGFjZSAnbG9naW4nIGFyZ3VtZW50cyB3aXRoIGFuCiMgb3B0aW9uIHRvIHByZXNlcnZlIGVudmlyb25tZW50ICgtcCksIGZvbGxvd2VkIGJ5ICctLScgZm9yIHNhZmV0eSwgYW5kIHRoZW4KIyB0aGUgZW50ZXJlZCB1c2VybmFtZS4KRXhlY1N0YXJ0PS0vc2Jpbi9hZ2V0dHkgLW8gJy1wIC0tIFxcdScgLS1ub2NsZWFyIC0gJFRFUk0KVHlwZT1pZGxlClJlc3RhcnQ9YWx3YXlzClJlc3RhcnRTZWM9MApVdG1wSWRlbnRpZmllcj0lSQpTdGFuZGFyZElucHV0PXR0eQpTdGFuZGFyZE91dHB1dD10dHkKVFRZUGF0aD0vZGV2LyVJClRUWVJlc2V0PXllcwpUVFlWSGFuZ3VwPXllcwpUVFlWVERpc2FsbG9jYXRlPXllcwpJZ25vcmVTSUdQSVBFPW5vClNlbmRTSUdIVVA9eWVzCkltcG9ydENyZWRlbnRpYWw9YWdldHR5LioKSW1wb3J0Q3JlZGVudGlhbD1sb2dpbi4qCgojIFVuc2V0IGxvY2FsZSBmb3IgdGhlIGNvbnNvbGUgZ2V0dHkgc2luY2UgdGhlIGNvbnNvbGUgaGFzIHByb2JsZW1zCiMgZGlzcGxheWluZyBzb21lIGludGVybmF0aW9uYWxpemVkIG1lc3NhZ2VzLgpVbnNldEVudmlyb25tZW50PUxBTkcgTEFOR1VBR0UgTENfQ1RZUEUgTENfTlVNRVJJQyBMQ19USU1FIExDX0NPTExBVEUgTENfTU9ORVRBUlkgTENfTUVTU0FHRVMgTENfUEFQRVIgTENfTkFNRSBMQ19BRERSRVNTIExDX1RFTEVQSE9ORSBMQ19NRUFTVVJFTUVOVCBMQ19JREVOVElGSUNBVElPTgoKW0luc3RhbGxdCldhbnRlZEJ5PWdldHR5LnRhcmdldApEZWZhdWx0SW5zdGFuY2U9dHR5MQo=' | base64 -d > /usr/lib/systemd/system/getty@.service
systemctl daemon-reload
systemctl enable getty@tty1.service || true
systemctl restart getty@tty1.service || true
mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPU1vZGVtIE1hbmFnZXIKQWZ0ZXI9cG9sa2l0LnNlcnZpY2UKUmVxdWlyZXM9cG9sa2l0LnNlcnZpY2UKQ29uZGl0aW9uVmlydHVhbGl6YXRpb249IWNvbnRhaW5lcgoKW1NlcnZpY2VdClR5cGU9ZGJ1cwpCdXNOYW1lPW9yZy5mcmVlZGVza3RvcC5Nb2RlbU1hbmFnZXIxCkV4ZWNTdGFydD0vdXNyL3NiaW4vTW9kZW1NYW5hZ2VyClN0YW5kYXJkRXJyb3I9bnVsbApSZXN0YXJ0PW9uLWFib3J0CkNhcGFiaWxpdHlCb3VuZGluZ1NldD1DQVBfU1lTX0FETUlOIENBUF9ORVRfQURNSU4KUHJvdGVjdFN5c3RlbT10cnVlClByb3RlY3RIb21lPXRydWUKUHJpdmF0ZVRtcD10cnVlClJlc3RyaWN0QWRkcmVzc0ZhbWlsaWVzPUFGX05FVExJTksgQUZfVU5JWCBBRl9RSVBDUlRSCk5vTmV3UHJpdmlsZWdlcz10cnVlClVzZXI9cm9vdAoKW0luc3RhbGxdCldhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0CkFsaWFzPWRidXMtb3JnLmZyZWVkZXNrdG9wLk1vZGVtTWFuYWdlcjEuc2VydmljZQo=' | base64 -d > /usr/lib/systemd/system/ModemManager.service
systemctl daemon-reload
systemctl enable ModemManager.service || true
systemctl restart ModemManager.service || true
mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPU1vbmFyeCBBZ2VudCAtIFNlY3VyaXR5IFNjYW5uZXIKClN0YXJ0TGltaXRJbnRlcnZhbFNlYz04NjQwMApTdGFydExpbWl0QnVyc3Q9MTQ0MAoKW1NlcnZpY2VdClR5cGU9bm90aWZ5CkV4ZWNTdGFydD0vdXNyL2Jpbi9tb25hcngtYWdlbnQKRXhlY1JlbG9hZD0vYmluL2tpbGwgLUhVUCAkTUFJTlBJRApOaWNlPTgKSU9TY2hlZHVsaW5nUHJpb3JpdHk9NgpJT1dlaWdodD0xMAoKUmVzdGFydD1vbi1mYWlsdXJlClJlc3RhcnRTZWM9NjAKUmVzdGFydEZvcmNlRXhpdFN0YXR1cz0yNTUKClRpbWVvdXRTdG9wU2VjPTE1ClN1Y2Nlc3NFeGl0U3RhdHVzPVNJR0lOVCBTSUdURVJNCgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQK' | base64 -d > /usr/lib/systemd/system/monarx-agent.service
systemctl daemon-reload
systemctl enable monarx-agent.service || true
systemctl restart monarx-agent.service || true
mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPURldmljZS1NYXBwZXIgTXVsdGlwYXRoIERldmljZSBDb250cm9sbGVyCkJlZm9yZT1sdm0yLWFjdGl2YXRpb24tZWFybHkuc2VydmljZQpCZWZvcmU9bG9jYWwtZnMtcHJlLnRhcmdldCBibGstYXZhaWxhYmlsaXR5LnNlcnZpY2Ugc2h1dGRvd24udGFyZ2V0CldhbnRzPXN5c3RlbWQtdWRldmQta2VybmVsLnNvY2tldApBZnRlcj1zeXN0ZW1kLXVkZXZkLWtlcm5lbC5zb2NrZXQKQWZ0ZXI9bXVsdGlwYXRoZC5zb2NrZXQgc3lzdGVtZC1yZW1vdW50LWZzLnNlcnZpY2UKQmVmb3JlPWluaXRyZC1jbGVhbnVwLnNlcnZpY2UKRGVmYXVsdERlcGVuZGVuY2llcz1ubwpDb25mbGljdHM9c2h1dGRvd24udGFyZ2V0CkNvbmZsaWN0cz1pbml0cmQtY2xlYW51cC5zZXJ2aWNlCkNvbmRpdGlvbktlcm5lbENvbW1hbmRMaW5lPSFub21wYXRoCkNvbmRpdGlvbktlcm5lbENvbW1hbmRMaW5lPSFtdWx0aXBhdGg9b2ZmCkNvbmRpdGlvblZpcnR1YWxpemF0aW9uPSFjb250YWluZXIKCltTZXJ2aWNlXQpUeXBlPW5vdGlmeQpOb3RpZnlBY2Nlc3M9bWFpbgpFeGVjU3RhcnRQcmU9LS9zYmluL21vZHByb2JlIGRtLW11bHRpcGF0aApFeGVjU3RhcnQ9L3NiaW4vbXVsdGlwYXRoZCAtZCAtcwpFeGVjUmVsb2FkPS9zYmluL211bHRpcGF0aGQgcmVjb25maWd1cmUKVGFza3NNYXg9aW5maW5pdHkKCltJbnN0YWxsXQpXYW50ZWRCeT1zeXNpbml0LnRhcmdldApBbHNvPW11bHRpcGF0aGQuc29ja2V0Cg==' | base64 -d > /usr/lib/systemd/system/multipathd.service
systemctl daemon-reload
systemctl enable multipathd.service || true
systemctl restart multipathd.service || true
mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPVFFTVUgR3Vlc3QgQWdlbnQKQmluZHNUbz1kZXYtdmlydGlvXHgyZHBvcnRzLW9yZy5xZW11Lmd1ZXN0X2FnZW50LjAuZGV2aWNlCkFmdGVyPWRldi12aXJ0aW9ceDJkcG9ydHMtb3JnLnFlbXUuZ3Vlc3RfYWdlbnQuMC5kZXZpY2UKCltTZXJ2aWNlXQpFeGVjU3RhcnQ9LS91c3Ivc2Jpbi9xZW11LWdhClJlc3RhcnQ9YWx3YXlzClJlc3RhcnRTZWM9MAoKW0luc3RhbGxdCg==' | base64 -d > /usr/lib/systemd/system/qemu-guest-agent.service
systemctl daemon-reload
systemctl enable qemu-guest-agent.service || true
systemctl restart qemu-guest-agent.service || true
mkdir -p /usr/lib/systemd/system
echo 'IyAgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMi4xLW9yLWxhdGVyCiMKIyAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygc3lzdGVtZC4KIwojICBzeXN0ZW1kIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQKIyAgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CiMgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwgb3IKIyAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KCltVbml0XQpEZXNjcmlwdGlvbj1TZXJpYWwgR2V0dHkgb24gJUkKRG9jdW1lbnRhdGlvbj1tYW46YWdldHR5KDgpIG1hbjpzeXN0ZW1kLWdldHR5LWdlbmVyYXRvcig4KQpEb2N1bWVudGF0aW9uPWh0dHBzOi8vMHBvaW50ZXIuZGUvYmxvZy9wcm9qZWN0cy9zZXJpYWwtY29uc29sZS5odG1sCkJpbmRzVG89ZGV2LSVpLmRldmljZQpBZnRlcj1kZXYtJWkuZGV2aWNlIHN5c3RlbWQtdXNlci1zZXNzaW9ucy5zZXJ2aWNlIHBseW1vdXRoLXF1aXQtd2FpdC5zZXJ2aWNlIGdldHR5LXByZS50YXJnZXQKQWZ0ZXI9cmMtbG9jYWwuc2VydmljZQoKIyBJZiBhZGRpdGlvbmFsIGdldHR5cyBhcmUgc3Bhd25lZCBkdXJpbmcgYm9vdCB0aGVuIHdlIHNob3VsZCBtYWtlCiMgc3VyZSB0aGF0IHRoaXMgaXMgc3luY2hyb25pemVkIGJlZm9yZSBnZXR0eS50YXJnZXQsIGV2ZW4gdGhvdWdoCiMgZ2V0dHkudGFyZ2V0IGRpZG4ndCBhY3R1YWxseSBwdWxsIGl0IGluLgpCZWZvcmU9Z2V0dHkudGFyZ2V0Cklnbm9yZU9uSXNvbGF0ZT15ZXMKCiMgSWdub3JlT25Jc29sYXRlIGNhdXNlcyBpc3N1ZXMgd2l0aCBzdWxvZ2luLCBpZiBzb21lb25lIGlzb2xhdGVzCiMgcmVzY3VlLnRhcmdldCBvciBzdGFydHMgcmVzY3VlLnNlcnZpY2UgZnJvbSBtdWx0aS11c2VyLnRhcmdldCBvcgojIGdyYXBoaWNhbC50YXJnZXQuCkNvbmZsaWN0cz1yZXNjdWUuc2VydmljZQpCZWZvcmU9cmVzY3VlLnNlcnZpY2UKCltTZXJ2aWNlXQojIFRoZSAnLW8nIG9wdGlvbiB2YWx1ZSB0ZWxscyBhZ2V0dHkgdG8gcmVwbGFjZSAnbG9naW4nIGFyZ3VtZW50cyB3aXRoIGFuCiMgb3B0aW9uIHRvIHByZXNlcnZlIGVudmlyb25tZW50ICgtcCksIGZvbGxvd2VkIGJ5ICctLScgZm9yIHNhZmV0eSwgYW5kIHRoZW4KIyB0aGUgZW50ZXJlZCB1c2VybmFtZS4KRXhlY1N0YXJ0PS0vc2Jpbi9hZ2V0dHkgLW8gJy1wIC0tIFxcdScgLS1rZWVwLWJhdWQgMTE1MjAwLDU3NjAwLDM4NDAwLDk2MDAgLSAkVEVSTQpUeXBlPWlkbGUKUmVzdGFydD1hbHdheXMKVXRtcElkZW50aWZpZXI9JUkKU3RhbmRhcmRJbnB1dD10dHkKU3RhbmRhcmRPdXRwdXQ9dHR5ClRUWVBhdGg9L2Rldi8lSQpUVFlSZXNldD15ZXMKVFRZVkhhbmd1cD15ZXMKSWdub3JlU0lHUElQRT1ubwpTZW5kU0lHSFVQPXllcwpJbXBvcnRDcmVkZW50aWFsPWFnZXR0eS4qCkltcG9ydENyZWRlbnRpYWw9bG9naW4uKgoKW0luc3RhbGxdCldhbnRlZEJ5PWdldHR5LnRhcmdldAo=' | base64 -d > /usr/lib/systemd/system/serial-getty@.service
systemctl daemon-reload
systemctl enable serial-getty@ttyS0.service || true
systemctl restart serial-getty@ttyS0.service || true
mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPVNuYXAgRGFlbW9uCkFmdGVyPXNuYXBkLnNvY2tldApBZnRlcj10aW1lLXNldC50YXJnZXQKQWZ0ZXI9c25hcGQubW91bnRzLnRhcmdldApXYW50cz10aW1lLXNldC50YXJnZXQKV2FudHM9c25hcGQubW91bnRzLnRhcmdldApSZXF1aXJlcz1zbmFwZC5zb2NrZXQKT25GYWlsdXJlPXNuYXBkLmZhaWx1cmUuc2VydmljZQojIFRoaXMgaXMgaGFuZGxlZCBieSBzbmFwZAojIFgtU25hcGQtU25hcDogZG8tbm90LXN0YXJ0CgpbU2VydmljZV0KIyBEaXNhYmxlZCBiZWNhdXNlIGl0IGJyZWFrcyBseGQKIyAoaHR0cHM6Ly9idWdzLmxhdW5jaHBhZC5uZXQvc25hcGQvK2J1Zy8xNzA5NTM2KQojTmljZT0tNQpPT01TY29yZUFkanVzdD0tOTAwCkV4ZWNTdGFydD0vdXNyL2xpYi9zbmFwZC9zbmFwZApFbnZpcm9ubWVudEZpbGU9LS9ldGMvZW52aXJvbm1lbnQKRW52aXJvbm1lbnRGaWxlPS0vdmFyL2xpYi9zbmFwZC9lbnZpcm9ubWVudC9zbmFwZC5jb25mClJlc3RhcnQ9YWx3YXlzCiMgd2l0aCBzeXN0ZW1kIHYyNTQrLCBza2lwIGdvaW5nIHRocm91Z2ggZmFpbGVkIHN0YXRlIGR1cmluZyByZXN0YXJ0ClJlc3RhcnRNb2RlPWRpcmVjdApXYXRjaGRvZ1NlYz01bQpUeXBlPW5vdGlmeQpOb3RpZnlBY2Nlc3M9YWxsClN1Y2Nlc3NFeGl0U3RhdHVzPTQyClJlc3RhcnRQcmV2ZW50RXhpdFN0YXR1cz00MgpLaWxsTW9kZT1wcm9jZXNzCgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQK' | base64 -d > /usr/lib/systemd/system/snapd.service
systemctl daemon-reload
systemctl enable snapd.service || true
systemctl restart snapd.service || true
mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPU9wZW5CU0QgU2VjdXJlIFNoZWxsIHNlcnZlcgpEb2N1bWVudGF0aW9uPW1hbjpzc2hkKDgpIG1hbjpzc2hkX2NvbmZpZyg1KQpBZnRlcj1uZXR3b3JrLnRhcmdldCBhdWRpdGQuc2VydmljZQpDb25kaXRpb25QYXRoRXhpc3RzPSEvZXRjL3NzaC9zc2hkX25vdF90b19iZV9ydW4KCltTZXJ2aWNlXQpFbnZpcm9ubWVudEZpbGU9LS9ldGMvZGVmYXVsdC9zc2gKRXhlY1N0YXJ0UHJlPS91c3Ivc2Jpbi9zc2hkIC10CkV4ZWNTdGFydD0vdXNyL3NiaW4vc3NoZCAtRCAkU1NIRF9PUFRTCkV4ZWNSZWxvYWQ9L3Vzci9zYmluL3NzaGQgLXQKRXhlY1JlbG9hZD0vYmluL2tpbGwgLUhVUCAkTUFJTlBJRApLaWxsTW9kZT1wcm9jZXNzClJlc3RhcnQ9b24tZmFpbHVyZQpSZXN0YXJ0UHJldmVudEV4aXRTdGF0dXM9MjU1ClR5cGU9bm90aWZ5ClJ1bnRpbWVEaXJlY3Rvcnk9c3NoZApSdW50aW1lRGlyZWN0b3J5TW9kZT0wNzU1CgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQKQWxpYXM9c3NoZC5zZXJ2aWNlCg==' | base64 -d > /usr/lib/systemd/system/ssh.service
systemctl daemon-reload
systemctl enable ssh.service || true
systemctl restart ssh.service || true
mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPURpc2sgTWFuYWdlcgpEb2N1bWVudGF0aW9uPW1hbjp1ZGlza3MoOCkKCltTZXJ2aWNlXQpUeXBlPWRidXMKQnVzTmFtZT1vcmcuZnJlZWRlc2t0b3AuVURpc2tzMgpFeGVjU3RhcnQ9L3Vzci9saWJleGVjL3VkaXNrczIvdWRpc2tzZApLaWxsU2lnbmFsPVNJR0lOVAoKW0luc3RhbGxdCldhbnRlZEJ5PWdyYXBoaWNhbC50YXJnZXQK' | base64 -d > /usr/lib/systemd/system/udisks2.service
systemctl daemon-reload
systemctl enable udisks2.service || true
systemctl restart udisks2.service || true
mkdir -p /usr/lib/systemd/system
echo 'W1VuaXRdCkRlc2NyaXB0aW9uPVVuYXR0ZW5kZWQgVXBncmFkZXMgU2h1dGRvd24KQWZ0ZXI9bmV0d29yay50YXJnZXQgbG9jYWwtZnMudGFyZ2V0IHN5c3RlbWQtbG9naW5kLnNlcnZpY2UKUmVxdWlyZXNNb3VudHNGb3I9L3J1biAvdmFyL2xvZyAvdmFyL3J1biAvdmFyL2xpYiAvYm9vdApEb2N1bWVudGF0aW9uPW1hbjp1bmF0dGVuZGVkLXVwZ3JhZGUoOCkKCltTZXJ2aWNlXQpFeGVjU3RhcnQ9L3Vzci9zaGFyZS91bmF0dGVuZGVkLXVwZ3JhZGVzL3VuYXR0ZW5kZWQtdXBncmFkZS1zaHV0ZG93biAtLXdhaXQtZm9yLXNpZ25hbApLaWxsTW9kZT1wcm9jZXNzClRpbWVvdXRTdG9wU2VjPTE4MDAKCltJbnN0YWxsXQpXYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldAo=' | base64 -d > /usr/lib/systemd/system/unattended-upgrades.service
systemctl daemon-reload
systemctl enable unattended-upgrades.service || true
systemctl restart unattended-upgrades.service || true
mkdir -p /usr/lib/systemd/system
echo 'IyAgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IExHUEwtMi4xLW9yLWxhdGVyCiMKIyAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygc3lzdGVtZC4KIwojICBzeXN0ZW1kIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQKIyAgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CiMgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwgb3IKIyAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KCltVbml0XQpEZXNjcmlwdGlvbj1Vc2VyIE1hbmFnZXIgZm9yIFVJRCAlaQpEb2N1bWVudGF0aW9uPW1hbjp1c2VyQC5zZXJ2aWNlKDUpCkFmdGVyPXVzZXItcnVudGltZS1kaXJAJWkuc2VydmljZSBkYnVzLnNlcnZpY2Ugc3lzdGVtZC1vb21kLnNlcnZpY2UKUmVxdWlyZXM9dXNlci1ydW50aW1lLWRpckAlaS5zZXJ2aWNlCklnbm9yZU9uSXNvbGF0ZT15ZXMKCltTZXJ2aWNlXQpVc2VyPSVpClBBTU5hbWU9c3lzdGVtZC11c2VyClR5cGU9bm90aWZ5LXJlbG9hZApFeGVjU3RhcnQ9L3Vzci9saWIvc3lzdGVtZC9zeXN0ZW1kIC0tdXNlcgpTbGljZT11c2VyLSVpLnNsaWNlCktpbGxNb2RlPW1peGVkCkRlbGVnYXRlPXBpZHMgbWVtb3J5IGNwdQpEZWxlZ2F0ZVN1Ymdyb3VwPWluaXQuc2NvcGUKVGFza3NNYXg9aW5maW5pdHkKVGltZW91dFN0b3BTZWM9MTIwcwpLZXlyaW5nTW9kZT1pbmhlcml0Ck9PTVNjb3JlQWRqdXN0PTEwMApNZW1vcnlQcmVzc3VyZVdhdGNoPXNraXAK' | base64 -d > /usr/lib/systemd/system/user@.service
systemctl daemon-reload
systemctl enable user@0.service || true
systemctl restart user@0.service || true
